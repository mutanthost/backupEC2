#! /bin/sh
#
# %W% %E%
#
unset JAVA_HOME
JAVA_HOME=/u01/app/oracle/product/19.0.0/dbhome_1/jdk/jre/
export JAVA_HOME
JAVA64FLAG=
JAVAIPV6=
if [ ! -z "$SRCHOME" ]
then
  if [ "x$ENABLETEST_IPV6" = "xtrue" ]
  then
    JAVAIPV6="-Djava.net.preferIPv4Stack=false"
  fi
fi
JRECLASSPATH=/u01/app/oracle/product/19.0.0/dbhome_1/jdk/jre//lib/rt.jar:/u01/app/oracle/product/19.0.0/dbhome_1/jdk/jre//lib/i18n.jar:$ORACLE_HOME/jdbc/lib/ojdbc8.jar:$ORACLE_HOME/javavm/lib/aurora.zip
export JRECLASSPATH
LD_LIBRARY_PATH=$ORACLE_HOME/lib:$ORACLE_HOME/lib32:$JAVA_HOME/lib
export LD_LIBRARY_PATH
#Need to pull passwords and usernames.
while [ $# -gt 0 ]
do
  if [ "$1" = "-u" ] || [ "$1" = "-user" ];  then
      DJUSER="$1"
      if [ $# -ge 2 ]; then 
        shift
        DJUSER="$DJUSER $1"
      fi
      export DJUSER;
  elif [ `echo $1|cut -c1-2` = "-P" ];  then
      DJPASS="-P"
      if [ $# -ge 2 ]; then 
        shift
        if [ "$1" = "" ]; then
          DJPASS="$DJPASS \"\""
        else
          DJPASS="$DJPASS $1"
        fi
      fi
      export DJPASS
  elif [ "$1" = "-password" ]; then
      DJPASS=$1
      if [ $# -ge 2 ]; then
        shift
        if [ "$1" = "" ]; then
            DJPASS="$DJPASS \"\""
        else
            DJPASS="$DJPASS $1"
        fi
      fi
      export DJPASS
  else
      args="$args $1" 
  fi 
shift 
done
exec $JAVA_HOME/bin/java $JAVA64FLAG  $JAVAIPV6  -classpath $JRECLASSPATH oracle.aurora.server.tools.loadjava.DropJavaMain $args
