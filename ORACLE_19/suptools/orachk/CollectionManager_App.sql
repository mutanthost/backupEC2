set define off verify off feedback off
whenever sqlerror exit sql.sqlcode rollback
--------------------------------------------------------------------------------
--
-- ORACLE Application Express (APEX) export file
--
-- You should run the script connected to SQL*Plus as the Oracle user
-- APEX_050100 or as the owner (parsing schema) of the application.
--
-- NOTE: Calls to apex_application_install override the defaults below.
--
--------------------------------------------------------------------------------
begin
wwv_flow_api.import_begin (
 p_version_yyyy_mm_dd=>'2016.08.24'
,p_release=>'5.1.1.00.08'
,p_default_workspace_id=>5698730047758115
,p_default_application_id=>2310
,p_default_owner=>'RACASSURANCEDEV1'
);
end;
/
prompt --application/set_environment
 
prompt APPLICATION 2310 - Collection Manager
--
-- Application Export:
--   Application:     2310
--   Name:            Collection Manager
--   Date and Time:   00:32 Friday October 20, 2017
--   Exported By:     SWATHI.RAJAKUMAR
--   Flashback:       0
--   Export Type:     Application Export
--   Version:         5.1.1.00.08
--   Instance ID:     69430500808074
--

-- Application Statistics:
--   Pages:                    107
--     Items:                  432
--     Computations:            49
--     Validations:             48
--     Processes:              167
--     Regions:                361
--     Buttons:                239
--     Dynamic Actions:         17
--   Shared Components:
--     Logic:
--       Items:                 12
--       Processes:             10
--       Computations:           6
--     Navigation:
--       Tab Sets:               1
--         Tabs:                11
--       Lists:                 12
--       Breadcrumbs:            4
--         Entries:             95
--       NavBar Entries:         1
--     Security:
--       Authentication:         1
--       Authorization:          5
--     User Interface:
--       Themes:                 3
--       Templates:
--         Page:                14
--         Region:              52
--         Label:               11
--         List:                12
--         Popup LOV:            3
--         Calendar:             4
--         Breadcrumb:           2
--         Button:              16
--         Report:              10
--       LOVs:                  19
--       Shortcuts:              1
--       Plug-ins:               4
--     Globalization:
--       Messages:              12
--     Reports:
--   Supporting Objects:  Included
--     Install scripts:        139

prompt --application/delete_application
begin
wwv_flow_api.remove_flow(wwv_flow.g_flow_id);
end;
/
prompt --application/ui_types
begin
null;
end;
/
prompt --application/create_application
begin
wwv_flow_api.create_flow(
 p_id=>wwv_flow.g_flow_id
,p_display_id=>nvl(wwv_flow_application_install.get_application_id,2310)
,p_owner=>nvl(wwv_flow_application_install.get_schema,'ORACHKCM')
,p_name=>nvl(wwv_flow_application_install.get_application_name,'Collection Manager')
,p_alias=>nvl(wwv_flow_application_install.get_application_alias,'F7140231023102310')
,p_page_view_logging=>'YES'
,p_page_protection_enabled_y_n=>'Y'
,p_checksum_salt_last_reset=>'20171020003139'
,p_bookmark_checksum_function=>'MD5'
,p_max_session_length_sec=>28800
,p_compatibility_mode=>'4.1'
,p_flow_language=>'en'
,p_flow_language_derived_from=>'0'
,p_direction_right_to_left=>'N'
,p_flow_image_prefix => nvl(wwv_flow_application_install.get_image_prefix,'')
,p_authentication=>'PLUGIN'
,p_authentication_id=>wwv_flow_api.id(4053494936338880317)
,p_logout_url=>'wwv_flow_custom_auth_std.logout?p_this_flow=&APP_ID.&p_next_flow_page_sess=4155:PUBLIC_PAGE'
,p_application_tab_set=>0
,p_logo_image=>'TEXT:Oracle Health Checks Collection Manager'
,p_public_user=>'APEX_PUBLIC_USER'
,p_proxy_server=> nvl(wwv_flow_application_install.get_proxy,'')
,p_flow_version=>'12.2.0.1.4'
,p_flow_status=>'AVAILABLE_W_EDIT_LINK'
,p_flow_unavailable_text=>'This application is currently unavailable at this time.'
,p_exact_substitutions_only=>'Y'
,p_browser_cache=>'N'
,p_browser_frame=>'D'
,p_deep_linking=>'Y'
,p_runtime_api_usage=>'T:O:W'
,p_security_scheme=>wwv_flow_api.id(2856539368306820579)
,p_authorize_public_pages_yn=>'Y'
,p_rejoin_existing_sessions=>'P'
,p_csv_encoding=>'Y'
,p_auto_time_zone=>'N'
,p_error_handling_function=>'rca13_intrack_fw.apex_error_handling'
,p_substitution_string_01=>'APP_NAME'
,p_substitution_value_01=>'Collection Manager'
,p_last_updated_by=>'SWATHI.RAJAKUMAR'
,p_last_upd_yyyymmddhh24miss=>'20171020003139'
,p_file_prefix => nvl(wwv_flow_application_install.get_static_app_file_prefix,'')
,p_ui_type_name => null
);
end;
/
prompt --application/shared_components/navigation/lists
begin
wwv_flow_api.create_list(
 p_id=>wwv_flow_api.id(308592348361025435)
,p_name=>'Manage Data and Other stuff'
,p_list_status=>'PUBLIC'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(308639648922439400)
,p_list_item_display_sequence=>10
,p_list_item_link_text=>'Manage &BU_NAME.'
,p_list_item_link_target=>'f?p=&APP_ID.:1016:&SESSION.::&DEBUG.::::'
,p_list_text_01=>'When Access Control is enabled, Aadmins can define the &BU_NAME. and assign users to it to control the collections.'
,p_security_scheme=>wwv_flow_api.id(312611953325942122)
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(308640336186460482)
,p_list_item_display_sequence=>15
,p_list_item_link_text=>'Manage &SYS_NAME.'
,p_list_item_link_target=>'f?p=&APP_ID.:1005:&SESSION.::&DEBUG.::::'
,p_list_item_disp_cond_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_list_item_disp_condition=>'1'
,p_list_item_disp_condition2=>'2'
,p_list_text_01=>'Where you can delete &SYS_NAME.'
,p_security_scheme=>wwv_flow_api.id(312611953325942122)
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(308639867456445969)
,p_list_item_display_sequence=>20
,p_list_item_link_text=>'Assign &SYS_NAME. to &BU_NAME.'
,p_list_item_link_target=>'f?p=&APP_ID.:1018:&SESSION.::&DEBUG.::::'
,p_list_text_01=>'Admin will have access to assign &SYS_NAME. to &BU_NAME.. A &SYS_NAME. belongs to only one &BU_NAME..'
,p_security_scheme=>wwv_flow_api.id(312611953325942122)
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(308640057752450469)
,p_list_item_display_sequence=>30
,p_list_item_link_text=>'Manage Users, User Roles and assign &SYS_NAME. to users'
,p_list_item_link_target=>'f?p=&APP_ID.:1017:&SESSION.::&DEBUG.::::'
,p_list_text_01=>wwv_flow_string.join(wwv_flow_t_varchar2(
'1. Admin can Add/Delete Admins, DBA managers and assigning DBA''s to DBA managers.<br>',
'2. Admin can assigning &BU_NAME. to DBA managers.<br>',
'3. One DBA/DBA manager can belong to more than one &BU_NAME.. One &BU_NAME. can have more than one dba/dba managers. DBA Manager will have access to whole &BU_NAME. and DBA''s will have access to only particular &SYS_NAME. of &BU_NAME..<br>',
'4. DBA Managers can add/remove DBA''s for the units they have access to.<br>',
'5. DBA''s doesn''t have access to ACL &SYS_NAME..'))
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(308592549105025445)
,p_list_item_display_sequence=>100
,p_list_item_link_text=>'Delete data'
,p_list_item_link_target=>'f?p=&APP_ID.:1004:&SESSION.::&DEBUG.::::'
,p_list_text_01=>'Where you can delete data older than certain time'
,p_security_scheme=>wwv_flow_api.id(312611953325942122)
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(310981740916828313)
,p_list_item_display_sequence=>110
,p_list_item_link_text=>'Manage Notifications'
,p_list_item_link_target=>'f?p=&APP_ID.:1029:&SESSION.::&DEBUG.::::'
,p_list_text_01=>wwv_flow_string.join(wwv_flow_t_varchar2(
'Where you can (un)register for notifications and manage notifications.<br>',
'Please make sure that email server is configured. Please check with admin.'))
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list(
 p_id=>wwv_flow_api.id(312069363267579773)
,p_name=>'Systems'
,p_list_type=>'SQL_QUERY'
,p_list_query=>'select 1,system_name,system_id from rca13_systems'
,p_list_status=>'PUBLIC'
);
wwv_flow_api.create_list(
 p_id=>wwv_flow_api.id(312513259491646231)
,p_name=>'User Role Creation'
,p_list_status=>'PUBLIC'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(312513459841646232)
,p_list_item_display_sequence=>10
,p_list_item_link_text=>'Users & Roles'
,p_list_item_link_target=>'f?p=&APP_ID.:1020:&SESSION.::&DEBUG.::::'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(312514061209646238)
,p_list_item_display_sequence=>30
,p_list_item_link_text=>'LOBs'
,p_list_item_link_target=>'f?p=&APP_ID.:1022:&SESSION.:'
,p_list_item_current_for_pages=>'1022'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(312515453607655233)
,p_list_item_display_sequence=>40
,p_list_item_link_text=>'Systems'
,p_list_item_link_target=>'f?p=&APP_ID.:1023:&SESSION.:'
,p_list_item_current_for_pages=>'1023'
);
wwv_flow_api.create_list(
 p_id=>wwv_flow_api.id(2404370092939380230)
,p_name=>'Look up values'
,p_list_status=>'PUBLIC'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2404370273300380231)
,p_list_item_display_sequence=>10
,p_list_item_link_text=>'Status Codes'
,p_list_item_link_target=>'f?p=&APP_ID.:5:&SESSION.:'
,p_list_text_02=>'reportIcon'
,p_list_item_current_for_pages=>'5'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2404673696365428628)
,p_list_item_display_sequence=>20
,p_list_item_link_text=>'Incident Severity'
,p_list_item_link_target=>'f?p=&APP_ID.:7:&SESSION.::&DEBUG.::::'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2404936579789452228)
,p_list_item_display_sequence=>40
,p_list_item_link_text=>'Urgency'
,p_list_item_link_target=>'f?p=&APP_ID.:11:&SESSION.::&DEBUG.:RP:::'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2433040497719464357)
,p_list_item_display_sequence=>110
,p_list_item_link_text=>'Preferences'
,p_list_item_link_target=>'f?p=&APP_ID.:35:&SESSION.::&DEBUG.::::'
,p_list_text_02=>'switchIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list(
 p_id=>wwv_flow_api.id(2410291989707921661)
,p_name=>'Wiz progress'
,p_list_status=>'PUBLIC'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2410292191447921662)
,p_list_item_display_sequence=>10
,p_list_item_link_text=>'Customer'
,p_list_item_link_target=>'f?p=&APP_ID.:15:&SESSION.:'
,p_list_item_current_for_pages=>'15'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2410292488788921662)
,p_list_item_display_sequence=>20
,p_list_item_link_text=>'Product'
,p_list_item_link_target=>'f?p=&APP_ID.:16:&SESSION.:'
,p_list_item_current_for_pages=>'16'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2410292775317921662)
,p_list_item_display_sequence=>30
,p_list_item_link_text=>'Problem'
,p_list_item_link_target=>'f?p=&APP_ID.:17:&SESSION.:'
,p_list_item_current_for_pages=>'17'
);
wwv_flow_api.create_list(
 p_id=>wwv_flow_api.id(2429656666116179792)
,p_name=>'incidents reports'
,p_list_status=>'PUBLIC'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2436503087112871191)
,p_list_item_display_sequence=>10
,p_list_item_link_text=>'Search'
,p_list_item_link_target=>'f?p=&APP_ID.:37:&SESSION.::&DEBUG.:RP,37:::'
,p_list_text_01=>'Search tickets, customers and customer data.'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2429656888538179804)
,p_list_item_display_sequence=>20
,p_list_item_link_text=>'New Incidents Timeline'
,p_list_item_link_target=>'f?p=&APP_ID.:29:&SESSION.:'
,p_list_text_01=>'View a timeline of new incident filed.'
,p_list_text_02=>'reportIcon'
,p_list_item_current_for_pages=>'29'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2447323981099572370)
,p_list_item_display_sequence=>30
,p_list_item_link_text=>'Tags'
,p_list_item_link_target=>'f?p=&APP_ID.:25:&SESSION.::&DEBUG.::::'
,p_list_text_01=>'View a tag cloud with drill down to components.'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2920607082147552377)
,p_list_item_display_sequence=>40
,p_list_item_link_text=>'Recently Activity'
,p_list_item_link_target=>'f?p=&APP_ID.:40:&SESSION.::&DEBUG.:RP:::'
,p_list_text_01=>'Report of recently edited projects'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2990423775040293499)
,p_list_item_display_sequence=>50
,p_list_item_link_text=>'Ticket Calendar'
,p_list_item_link_target=>'f?p=&APP_ID.:59:&SESSION.::&DEBUG.::::'
,p_list_text_01=>'Monthly calendar of ticket create / close dates.'
,p_list_text_02=>'calendarIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list(
 p_id=>wwv_flow_api.id(2525715690456426397)
,p_name=>'administration'
,p_list_status=>'PUBLIC'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2525716486726426405)
,p_list_item_display_sequence=>30
,p_list_item_link_text=>'Products'
,p_list_item_link_target=>'f?p=&APP_ID.:9:&SESSION.::&DEBUG.::::'
,p_list_text_01=>'Manage products with drill down to manage product versions'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2525717391753426406)
,p_list_item_display_sequence=>50
,p_list_item_link_text=>'Category'
,p_list_item_link_target=>'f?p=&APP_ID.:18:&SESSION.::&DEBUG.:RP:::'
,p_list_text_01=>'Manage categories which are used to classify tickets.'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2525717968603426406)
,p_list_item_display_sequence=>70
,p_list_item_link_text=>'Customers'
,p_list_item_link_target=>'f?p=&APP_ID.:22:&SESSION.::&DEBUG.::::'
,p_list_text_01=>'Manage and report on customer information.'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2525718278259426406)
,p_list_item_display_sequence=>80
,p_list_item_link_text=>'Customer Contacts'
,p_list_item_link_target=>'f?p=&APP_ID.:26:&SESSION.::&DEBUG.:RP:::'
,p_list_text_01=>'Search and locate customer contacts'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2544441666233433969)
,p_list_item_display_sequence=>90
,p_list_item_link_text=>'Notifications'
,p_list_item_link_target=>'f?p=&APP_ID.:20:&SESSION.::&DEBUG.::::'
,p_list_text_01=>'Define notifications that are displayed on the application home page.  Use notifications to alert users of important information. You will see notification in Home page.'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2856569894372095687)
,p_list_item_display_sequence=>100
,p_list_item_link_text=>'Manage Sample Data'
,p_list_item_link_target=>'f?p=&APP_ID.:46:&SESSION.::&DEBUG.::::'
,p_list_item_disp_cond_type=>'NEVER'
,p_list_text_01=>'Remove, create, or re-create sample data provided with this application.'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2964870592096128596)
,p_list_item_display_sequence=>110
,p_list_item_link_text=>'Application Error Log'
,p_list_item_link_target=>'f?p=&APP_ID.:175:&SESSION.::&DEBUG.:RP,RIR,CIR:::'
,p_list_text_01=>'Report of all internal errors encountered within the application.'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(310962051163286716)
,p_list_item_display_sequence=>120
,p_list_item_link_text=>'Manage Email Server & Job Details'
,p_list_item_link_target=>'f?p=&APP_ID.:1028:&SESSION.::&DEBUG.:1028:::'
,p_list_text_01=>'Please enter valid email server name and port values.'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list(
 p_id=>wwv_flow_api.id(2525831772017439941)
,p_name=>'Additional Reports'
,p_list_status=>'PUBLIC'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2525832877794439945)
,p_list_item_display_sequence=>40
,p_list_item_link_text=>'Distribution of Tickets by Status Codes'
,p_list_item_link_target=>'f?p=&APP_ID.:38:&SESSION.::&DEBUG.::::'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2525833194391439946)
,p_list_item_display_sequence=>50
,p_list_item_link_text=>'Distribution of Tickets by Product'
,p_list_item_link_target=>'f?p=&APP_ID.:39:&SESSION.::&DEBUG.:RP:::'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2525833474960439946)
,p_list_item_display_sequence=>51
,p_list_item_link_text=>'Distribution of Tickets by Product and Version'
,p_list_item_link_target=>'f?p=&APP_ID.:43:&SESSION.::&DEBUG.:RP:::'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2525833798717439946)
,p_list_item_display_sequence=>60
,p_list_item_link_text=>'Distribution of Tickets by Customer'
,p_list_item_link_target=>'f?p=&APP_ID.:41:&SESSION.::&DEBUG.:RP:::'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2525834088924439946)
,p_list_item_display_sequence=>65
,p_list_item_link_text=>'Distribution of Tickets by Filer'
,p_list_item_link_target=>'f?p=&APP_ID.:42:&SESSION.::&DEBUG.:RP:::'
,p_list_text_02=>'reportIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list(
 p_id=>wwv_flow_api.id(2526133097737504133)
,p_name=>'Access Control 2'
,p_list_status=>'PUBLIC'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2526135970747504156)
,p_list_item_display_sequence=>90
,p_list_item_link_text=>'Users'
,p_list_item_link_target=>'f?p=&APP_ID.:31:&SESSION.::&DEBUG.:RP:::'
,p_list_text_01=>'Define the domain of users that can use this application.  Application users can be administrators, contributors, or readers.'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list(
 p_id=>wwv_flow_api.id(2856541782915865264)
,p_name=>'Access Control'
,p_list_status=>'PUBLIC'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2856541970209865265)
,p_list_item_display_sequence=>50
,p_list_item_link_text=>'Enable'
,p_list_item_link_target=>'f?p=&APP_ID.:33:&SESSION.::&DEBUG.::::'
,p_list_item_disp_cond_type=>'FUNCTION_BODY'
,p_list_item_disp_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'    if RCA13_intrack_fw.get_preference_value(''ACCESS_CONTROL_ENABLED'') = ''N'' then',
'        return true;',
'    else',
'        return false;',
'    end if;',
'                     ',
'                    ',
'                  ',
''))
,p_list_text_01=>'Enabling Access Control allows access to the application and its features to be controlled by an Access Control List (ACL).  Until access control is enabled all authenticated users are administrators.'
,p_list_text_02=>'switchIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2856542281805865266)
,p_list_item_display_sequence=>90
,p_list_item_link_text=>'Disable'
,p_list_item_link_target=>'f?p=&APP_ID.:33:&SESSION.::&DEBUG.::::'
,p_list_item_disp_cond_type=>'FUNCTION_BODY'
,p_list_item_disp_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'    if RCA13_intrack_fw.get_preference_value(''ACCESS_CONTROL_ENABLED'') = ''Y'' then',
'        return true;',
'    else',
'        return false;',
'    end if;'))
,p_list_text_01=>'Enabling Access Control means that access to the application and its features are controlled by the current Access Control List (ACL).  Disabling Access Control makes all authenticated users administrators.'
,p_list_text_02=>'switchIcon'
,p_security_scheme=>wwv_flow_api.id(312611953325942122)
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2856542575211865267)
,p_list_item_display_sequence=>120
,p_list_item_link_text=>'Manage Access Control List'
,p_list_item_link_target=>'f?p=&APP_ID.:31:&SESSION.::&DEBUG.::::'
,p_list_item_disp_cond_type=>'PLSQL_EXPRESSION'
,p_list_item_disp_condition=>'RCA13_intrack_fw.get_preference_value(''ACCESS_CONTROL_ENABLED'') = ''Y'' and 1 = 2'
,p_list_text_01=>'When Access Control is enabled, Administrators may define the domain of users who can use the application and their roles.'
,p_list_text_02=>'userIcon'
,p_list_item_current_type=>'TARGET_PAGE'
);
wwv_flow_api.create_list(
 p_id=>wwv_flow_api.id(2918059382061759530)
,p_name=>'+ Mobile Menu'
,p_list_status=>'PUBLIC'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2918059585579759536)
,p_list_item_display_sequence=>10
,p_list_item_link_text=>'Summary'
,p_list_item_link_target=>'f?p=&APP_ID.:301:&SESSION.:::301:'
,p_list_item_current_for_pages=>'301'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2918059878411759543)
,p_list_item_display_sequence=>20
,p_list_item_link_text=>'Recent Activity'
,p_list_item_link_target=>'f?p=&APP_ID.:302:&SESSION.:::302:'
,p_list_item_current_for_pages=>'302'
);
wwv_flow_api.create_list(
 p_id=>wwv_flow_api.id(2992935393702447899)
,p_name=>'Activity Reports'
,p_list_status=>'PUBLIC'
);
wwv_flow_api.create_list_item(
 p_id=>wwv_flow_api.id(2992935596629447900)
,p_list_item_display_sequence=>10
,p_list_item_link_text=>'Activity Calendar'
,p_list_item_link_target=>'f?p=&APP_ID.:60:&SESSION.:'
,p_list_item_current_for_pages=>'60'
);
end;
/
prompt --application/shared_components/files
begin
null;
end;
/
prompt --application/plugin_settings
begin
wwv_flow_api.create_plugin_setting(
 p_id=>wwv_flow_api.id(7980376824850089)
,p_plugin_type=>'REGION TYPE'
,p_plugin=>'NATIVE_IR'
,p_attribute_01=>'LEGACY'
);
wwv_flow_api.create_plugin_setting(
 p_id=>wwv_flow_api.id(7980607042850089)
,p_plugin_type=>'REGION TYPE'
,p_plugin=>'NATIVE_IG'
);
wwv_flow_api.create_plugin_setting(
 p_id=>wwv_flow_api.id(7980893469850090)
,p_plugin_type=>'ITEM TYPE'
,p_plugin=>'NATIVE_COLOR_PICKER'
,p_attribute_01=>'classic'
);
wwv_flow_api.create_plugin_setting(
 p_id=>wwv_flow_api.id(75056858554768440)
,p_plugin_type=>'REGION TYPE'
,p_plugin=>'NATIVE_CSS_CALENDAR'
);
wwv_flow_api.create_plugin_setting(
 p_id=>wwv_flow_api.id(75056909195768440)
,p_plugin_type=>'REGION TYPE'
,p_plugin=>'NATIVE_DISPLAY_SELECTOR'
,p_attribute_01=>'N'
);
wwv_flow_api.create_plugin_setting(
 p_id=>wwv_flow_api.id(321031677050865080)
,p_plugin_type=>'ITEM TYPE'
,p_plugin=>'NATIVE_YES_NO'
,p_attribute_01=>'Y'
,p_attribute_03=>'N'
,p_attribute_05=>'SELECT_LIST'
);
wwv_flow_api.create_plugin_setting(
 p_id=>wwv_flow_api.id(321046258410865922)
,p_plugin_type=>'ITEM TYPE'
,p_plugin=>'PLUGIN_COM.ORACLE.APEX.TAGS'
,p_attribute_01=>'NONE'
);
end;
/
prompt --application/shared_components/security/authorizations
begin
wwv_flow_api.create_security_scheme(
 p_id=>wwv_flow_api.id(312611953325942122)
,p_name=>'superadmin'
,p_scheme_type=>'NATIVE_FUNCTION_BODY'
,p_attribute_01=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if rca13_manage_acl.is_superadmin(:G_USER_ID) = 1 then',
' return true;',
'else',
' return false;',
'end if;'))
,p_error_message=>'Insufficient privileges, user is not an Administrator'
,p_caching=>'BY_USER_BY_PAGE_VIEW'
);
wwv_flow_api.create_security_scheme(
 p_id=>wwv_flow_api.id(312644151692764842)
,p_name=>'dbamanager'
,p_scheme_type=>'NATIVE_FUNCTION_BODY'
,p_attribute_01=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if rca13_manage_acl.is_dbamanager(:G_USER_ID) = 1 then',
' return true;',
'else',
' return false;',
'end if;'))
,p_error_message=>'Insufficient privileges, user is not DBA Manager'
,p_caching=>'BY_USER_BY_PAGE_VIEW'
);
wwv_flow_api.create_security_scheme(
 p_id=>wwv_flow_api.id(2856539191958820577)
,p_name=>'ADMINISTRATION RIGHTS'
,p_scheme_type=>'NATIVE_FUNCTION_BODY'
,p_attribute_01=>wwv_flow_string.join(wwv_flow_t_varchar2(
'return rca13_manage_acl.is_superadmin(:G_USER_ID) = 1;',
''))
,p_error_message=>'Insufficient privileges, user is not Admin'
,p_caching=>'BY_USER_BY_PAGE_VIEW'
,p_comments=>'old scheme --return RCA13_intrack.get_authorization_level(:APP_USER) = 3;'
);
wwv_flow_api.create_security_scheme(
 p_id=>wwv_flow_api.id(2856539368306820579)
,p_name=>'APPLICATION SENTRY'
,p_scheme_type=>'NATIVE_FUNCTION_BODY'
,p_attribute_01=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin ',
'return true;',
'end;'))
,p_error_message=>'You are not authorized to view this application, either because you have not been granted access, or your account has been locked. Please contact the application administrator.'
,p_caching=>'BY_USER_BY_SESSION'
);
wwv_flow_api.create_security_scheme(
 p_id=>wwv_flow_api.id(2856539680683820579)
,p_name=>'CONTRIBUTION RIGHTS'
,p_scheme_type=>'NATIVE_FUNCTION_BODY'
,p_attribute_01=>'return RCA13_intrack.get_authorization_level(:APP_USER) >= 2;'
,p_error_message=>'Insufficient privileges, user is not a Contributor'
,p_caching=>'BY_USER_BY_SESSION'
);
end;
/
prompt --application/shared_components/navigation/navigation_bar
begin
wwv_flow_api.create_icon_bar_item(
 p_id=>wwv_flow_api.id(2911876171032859291)
,p_icon_sequence=>10
,p_icon_subtext=>'Logout'
,p_icon_target=>'&LOGOUT_URL.'
,p_nav_entry_is_feedback_yn=>'N'
,p_begins_on_new_line=>'NO'
,p_cell_colspan=>1
);
end;
/
prompt --application/shared_components/logic/application_processes
begin
wwv_flow_api.create_flow_process(
 p_id=>wwv_flow_api.id(312026864012058612)
,p_process_sequence=>1
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Reset SYS on change of BU'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'if :REQUEST = ''P0_BUSINESS_UNITS'' and :P0_BUSINESS_UNITS = ''All'' then --No need to reset values',
'  NULL;',
'elsif :REQUEST = ''P0_SYS_FILTER'' and :P0_SYS_FILTER = ''All'' then --No need to reset values',
'  NULL;',
'else -- We need to reset values',
' if :REQUEST = ''P0_BUSINESS_UNITS'' then',
'  :P0_SYS_FILTER := ''All''; ',
' end if;  ',
'end if;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when=>'P0_BUSINESS_UNITS,P0_SYS_FILTER'
,p_process_when_type=>'REQUEST_IN_CONDITION'
);
wwv_flow_api.create_flow_process(
 p_id=>wwv_flow_api.id(311995960443290997)
,p_process_sequence=>1
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Add user to table'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'uid number;',
'accessenable varchar2(3);',
'begin',
'select preference_value into accessenable from rca13_intrack_preferences where preference_name=''ACCESS_CONTROL_ENABLED'';',
'  -- Integrating rc app into inc app. 1==> Reader.',
' if ( upper(V(''APP_USER'')) != ''NOBODY''  and accessenable =''Y'') then ',
'    --Insert user into users table',
'    insert into RCA13_intrack_users(username,access_level_id) values(V(''APP_USER''),1) return id into uid;   ',
'    --If new user assign him DBA Manager role to SAMPLE Business unit',
'    insert into rca13_user_roles(user_id,role_id,lob_id,system_id,created_by)',
'    values(uid,2,''SAMPLE'',''All'',:APP_USER);',
' end if;',
' exception  ',
'   when DUP_VAL_ON_INDEX THEN NULL;',
'   when Others then null;',
'end;'))
);
wwv_flow_api.create_flow_process(
 p_id=>wwv_flow_api.id(312003850733463600)
,p_process_sequence=>1
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'calculate time'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'temp varchar2(20);',
'begin',
'-- calculate default time for first time',
'if nvl(:P0_FIRST_VISIT,1) = 1 then',
' :P0_TIME := NULL;  ',
' select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 0.0416;',
' if temp > 0 then',
'  :P0_TIME := ''0.0416'';',
'  :P0_TIME_PERIOD := 1;',
'  :P0_TIME_TYPE := ''H'';',
' end if;',
' if :P0_TIME is null then ',
'   select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 0.25;',
'  if temp > 0 then',
'   :P0_TIME := ''0.25'';',
'   :P0_TIME_PERIOD := 6;',
'   :P0_TIME_TYPE := ''H'';   ',
'  end if; ',
' end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 0.5;',
' if temp > 0 then',
'  :P0_TIME := ''0.5'';',
'  :P0_TIME_PERIOD := 12;',
'  :P0_TIME_TYPE := ''H''; ',
' end if;',
'end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 1;',
' if temp > 0 then',
'  :P0_TIME := ''1'';',
'  :P0_TIME_PERIOD := 1;',
'  :P0_TIME_TYPE := ''D''; ',
' end if;',
'end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 2;',
' if temp > 0 then',
'  :P0_TIME := ''2'';',
'  :P0_TIME_PERIOD := 2;',
'  :P0_TIME_TYPE := ''D'';',
' end if;',
'end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 7;',
' if temp > 0 then',
'  :P0_TIME := ''7'';',
'  :P0_TIME_PERIOD := 7;',
'  :P0_TIME_TYPE := ''D'';',
' end if;',
'end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 30;',
' if temp > 0 then',
'  :P0_TIME := ''30'';',
'  :P0_TIME_PERIOD := 1;',
'  :P0_TIME_TYPE := ''M'';',
' end if;',
'end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 90;',
' if temp > 0 then',
'  :P0_TIME := ''90'';',
'  :P0_TIME_PERIOD := 3;',
'  :P0_TIME_TYPE := ''M'';',
' end if;',
'end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 180;',
' if temp > 0 then',
'  :P0_TIME := ''180'';',
'  :P0_TIME_PERIOD := 6;',
'  :P0_TIME_TYPE := ''M'';',
' end if;',
'end if; ',
'if :P0_TIME is null then',
' :P0_TIME := ''All'';',
'end if; ',
' :P0_FIRST_VISIT := 0;',
'else -- Not first visit ',
' if :P0_TIME_PERIOD is not null then ',
'   if :P0_TIME_TYPE = ''H'' then ',
'     :P0_TIME := :P0_TIME_PERIOD / 24;',
'   elsif :P0_TIME_TYPE = ''D'' then ',
'     :P0_TIME := :P0_TIME_PERIOD;',
'   elsif :P0_TIME_TYPE = ''W'' then ',
'     :P0_TIME := :P0_TIME_PERIOD * 7;',
'   elsif :P0_TIME_TYPE = ''M'' then ',
'     :P0_TIME := :P0_TIME_PERIOD * 30; ',
'   elsif :P0_TIME_TYPE = ''Y'' then ',
'     :P0_TIME := :P0_TIME_PERIOD * 365;',
'   end if;',
' else ',
'   :P0_TIME := ''All'';',
' end if;',
'end if; -- End of is first',
'end;'))
);
wwv_flow_api.create_flow_process(
 p_id=>wwv_flow_api.id(312024052990562381)
,p_process_sequence=>1
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Set Prev Page No'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' if :APP_PAGE_ID != nvl(:G_PREV_PAGE,''z'') then ',
'  :G_PREV_PAGE := :G_CUR_PAGE;',
'  :G_CUR_PAGE := :APP_PAGE_ID;',
' end if;',
'end;'))
);
wwv_flow_api.create_flow_process(
 p_id=>wwv_flow_api.id(2862955388051888443)
,p_process_sequence=>1
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'set time zone'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'  c integer := 0;',
'begin',
'for c1 in (',
'   select TIMEZONE_PREFERENCE    from   RCA13_intrack_tz_pref   where  USERID = :APP_USER) loop',
'   --',
'   if c1.TIMEZONE_PREFERENCE is not null then',
'       c := c + 1;',
'       APEX_UTIL.SET_SESSION_TIME_ZONE (P_TIME_ZONE => c1.TIMEZONE_PREFERENCE ); ',
'   end if;',
'   exit;',
'end loop;',
'if c = 0 then',
'    if apex_util.get_session_time_zone is null then',
'        APEX_UTIL.SET_SESSION_TIME_ZONE (P_TIME_ZONE => ''US/Pacific''); ',
'    end if;',
'end if;',
'end;'))
,p_process_error_message=>'Unable to set time zone'
);
wwv_flow_api.create_flow_process(
 p_id=>wwv_flow_api.id(3880722093684286)
,p_process_sequence=>1
,p_process_point=>'ON_DEMAND'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'GET_FILE'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'    l_blob              blob;',
'    l_mime              varchar2(48);',
'    l_size              number;',
'    l_filename          varchar2(255);',
'begin        ',
'    for c1 in (select filename, file_mimetype, file_blob from rca13_docs where doc_id = :FILE_ID ) loop',
'        l_filename  := c1.filename;',
'        l_blob      := c1.file_blob;',
'        l_mime      := c1.file_mimetype;',
'        l_size      := dbms_lob.getlength(l_blob);',
'    end loop;',
'    owa_util.mime_header( nvl(l_mime,''application/octet''), FALSE );',
'    htp.p(''Content-length: '' || l_size);',
'    htp.p(''Content-Disposition:  attachment; filename="''||replace(replace(l_filename,chr(10),null),chr(13),null)|| ''"'');',
'    owa_util.http_header_close;',
'    wpg_docload.download_file( l_blob );',
'end;'))
,p_security_scheme=>'MUST_NOT_BE_PUBLIC_USER'
);
wwv_flow_api.create_flow_process(
 p_id=>wwv_flow_api.id(312039563587029769)
,p_process_sequence=>1
,p_process_point=>'ON_DEMAND'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'getxml'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'htp.p(''',
'<?xml version = "1.0" encoding="utf-8" standalone = "yes"?>',
'<anychart>',
'  <settings>    ',
'    <animation enabled="false"/>',
'    <no_data show_waiting_animation="False">',
'      <label>',
'        <text>NO_DATA_MESSAGE</text>',
'        <font family="Verdana" bold="yes" size="10"/>',
'      </label>',
'    </no_data>',
'  </settings>',
'  <margin left="0" top="0" right="0" bottom="0" />',
'  <charts>',
'    <chart plot_type="CategorizedVertical" name="chart_11611608863588001"> ',
'      <chart_settings>',
'        <title enabled="False" />',
'        <chart_background>',
'          <fill type="Solid" color="0xffffff" opacity="0" />',
'          <border enabled="false"/>',
'          <corners type="Square"/>',
'        </chart_background>',
'        <data_plot_background>',
'',
'        </data_plot_background>',
'        <axes>',
'          <y_axis >',
'            <scale   mode="PercentStacked"    />',
'            <title enabled="false" />',
'            <labels enabled="true" position="Outside">',
'              <font family="Tahoma" size="10" color="0x000000" />',
'              <format><![CDATA[{%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            </labels>',
'            <major_grid enabled="True" interlaced="false">',
'                <line color="Black" />',
'              </major_grid>',
'<minor_grid enabled="True">',
'              </minor_grid>',
'            ',
'          </y_axis>',
'          <x_axis>',
'            <scale  mode="PercentStacked"    />',
'            <title enabled="false"/>',
'            <labels enabled="true" rotation="0" position="Outside">',
'              <font family="verdana_embed_tf" size="12" color="0x000000" />',
'              <format><![CDATA[{%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}]]></format>',
'            </labels>',
'            <major_grid enabled="True" interlaced="false">',
'                <line color="Black" />',
'              </major_grid>',
'<minor_grid enabled="True">',
'              </minor_grid>',
'            ',
'          </x_axis>',
'          ',
'        </axes>',
'        <legend enabled="true" position="Top" align="Near" elements_layout="Horizontal">',
'          <title enabled="False"/>',
'          <icon>',
'            <marker enabled="true" />',
'          </icon>',
'          <background enabled="False"/>',
'          <font family="Tahoma" size="10" color="0x000000" />',
'        </legend>',
'',
'      </chart_settings>',
'      <data_plot_settings enable_3d_mode="false">',
'        <bar_series style="Default">',
'          <tooltip_settings enabled="true">',
'            <format><![CDATA[{%SeriesName} - {%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,} - {%YPercentOfCategory}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            <font family="Tahoma" size="10" color="0x000000" />',
'              <position anchor="Float" valign="Top" padding="10" /> ',
'          </tooltip_settings>',
'          <label_settings enabled="true" mode="Outside" multi_line_align="Center">',
'            <format><![CDATA[{%YPercentOfCategory}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            <background enabled="false"/>',
'            <position anchor="Center" valign="Center" halign="Center"/>',
'            <font family="Tahoma" size="10" color="0x000000" />',
'          </label_settings>',
'          <bar_style>',
'',
'          </bar_style>',
'          <marker_settings enabled="True" >',
'            <marker type="None" />',
'          </marker_settings>',
'        </bar_series>',
'      </data_plot_settings>',
'',
'',
'',
'      <data>',
'',
'',
'  </data>',
'    </chart>',
'  </charts>',
'</anychart> '');',
'end;'))
,p_security_scheme=>'MUST_NOT_BE_PUBLIC_USER'
);
wwv_flow_api.create_flow_process(
 p_id=>wwv_flow_api.id(312169439132874406)
,p_process_sequence=>1
,p_process_point=>'ON_DEMAND'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'dummy'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'null;',
'end;'))
);
wwv_flow_api.create_flow_process(
 p_id=>wwv_flow_api.id(312185037324114069)
,p_process_sequence=>1
,p_process_point=>'ON_DEMAND'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'GETRECO'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'  v_reco varchar2(4000);',
'begin',
'  v_reco := ''Recommendation not found for '' || :G_RATIONAL_CID;',
'  for rec in (select RECOMMENDATION from rca13_checks_info',
'              where CHECK_ID = :G_RATIONAL_CID)',
'  loop',
'    v_reco := rec.RECOMMENDATION;',
'  end loop;',
'  if trim(v_reco) is null then',
'    v_reco := ''Recommendation not found for '' || :G_RATIONAL_CID || '' in audit check system'';',
'  end if;',
'  htp.p(''<pre style="overflow-x: auto;white-space: pre-wrap;white-space: -moz-pre-wrap !important;white-space: -pre-wrap;white-space: -o-pre-wrap;width: 99%;',
'word-wrap: break-word;">'' || v_reco || ''</pre>'');',
'end'))
,p_security_scheme=>'MUST_NOT_BE_PUBLIC_USER'
);
wwv_flow_api.create_flow_process(
 p_id=>wwv_flow_api.id(311996148797296375)
,p_process_sequence=>1
,p_process_point=>'ON_SUBMIT_BEFORE_COMPUTATION'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Celar page cache'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'IF (:REQUEST = ''T_BROWSECOLLECTIONS'' and 1=2 ) THEN',
'     APEX_UTIL.CLEAR_PAGE_CACHE(1002);',
'END IF;',
'IF (:REQUEST = ''T_ADMIN'' ) THEN',
'     APEX_UTIL.CLEAR_PAGE_CACHE(1005);',
' END IF;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
);
end;
/
prompt --application/shared_components/logic/application_items
begin
wwv_flow_api.create_flow_item(
 p_id=>wwv_flow_api.id(308755666238549424)
,p_name=>'BU_NAME'
,p_protection_level=>'I'
);
wwv_flow_api.create_flow_item(
 p_id=>wwv_flow_api.id(3908608972337562)
,p_name=>'FILE_ID'
,p_protection_level=>'N'
);
wwv_flow_api.create_flow_item(
 p_id=>wwv_flow_api.id(4053497148451884747)
,p_name=>'FSP_AFTER_LOGIN_URL'
);
wwv_flow_api.create_flow_item(
 p_id=>wwv_flow_api.id(312023859041544303)
,p_name=>'G_CUR_PAGE'
,p_protection_level=>'I'
);
wwv_flow_api.create_flow_item(
 p_id=>wwv_flow_api.id(312023663354542341)
,p_name=>'G_PREV_PAGE'
,p_protection_level=>'I'
);
wwv_flow_api.create_flow_item(
 p_id=>wwv_flow_api.id(312185456290120440)
,p_name=>'G_RATIONAL_CID'
,p_protection_level=>'N'
);
wwv_flow_api.create_flow_item(
 p_id=>wwv_flow_api.id(312192467893172231)
,p_name=>'G_USER_ID'
,p_protection_level=>'I'
,p_item_comment=>'User id'
);
wwv_flow_api.create_flow_item(
 p_id=>wwv_flow_api.id(312622450608164628)
,p_name=>'IS_SUPER_ADMIN'
,p_protection_level=>'I'
);
wwv_flow_api.create_flow_item(
 p_id=>wwv_flow_api.id(307800950301944290)
,p_name=>'LAST_PAGE'
,p_protection_level=>'I'
);
wwv_flow_api.create_flow_item(
 p_id=>wwv_flow_api.id(4053808556193187597)
,p_name=>'LAST_VIEW'
,p_protection_level=>'N'
);
wwv_flow_api.create_flow_item(
 p_id=>wwv_flow_api.id(4053808353076186670)
,p_name=>'RETURN_URL'
,p_protection_level=>'N'
);
wwv_flow_api.create_flow_item(
 p_id=>wwv_flow_api.id(308760348182545347)
,p_name=>'SYS_NAME'
,p_protection_level=>'I'
);
end;
/
prompt --application/shared_components/logic/application_computations
begin
wwv_flow_api.create_flow_computation(
 p_id=>wwv_flow_api.id(308755848326572935)
,p_computation_sequence=>10
,p_computation_item=>'BU_NAME'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'QUERY'
,p_computation_processed=>'REPLACE_EXISTING'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select PREFERENCE_VALUE from RCA13_INTRACK_PREFERENCES where PREFERENCE_NAME = ''DEFAULT_BU_NAME'';',
''))
);
wwv_flow_api.create_flow_computation(
 p_id=>wwv_flow_api.id(308760663469568607)
,p_computation_sequence=>10
,p_computation_item=>'SYS_NAME'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'QUERY'
,p_computation_processed=>'REPLACE_EXISTING'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select PREFERENCE_VALUE from RCA13_INTRACK_PREFERENCES where PREFERENCE_NAME = ''DEFAULT_SYS_NAME'';',
''))
);
wwv_flow_api.create_flow_computation(
 p_id=>wwv_flow_api.id(312025464500724116)
,p_computation_sequence=>10
,p_computation_item=>'P0_BUSINESS_UNITS'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation_processed=>'REPLACE_EXISTING'
,p_computation=>'All'
,p_compute_when=>'P0_BUSINESS_UNITS'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_flow_computation(
 p_id=>wwv_flow_api.id(312025655874728111)
,p_computation_sequence=>10
,p_computation_item=>'P0_SYS_FILTER'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation_processed=>'REPLACE_EXISTING'
,p_computation=>'All'
,p_compute_when=>'P0_SYS_FILTER'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_flow_computation(
 p_id=>wwv_flow_api.id(312192743523183509)
,p_computation_sequence=>10
,p_computation_item=>'G_USER_ID'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'FUNCTION_BODY'
,p_computation_processed=>'REPLACE_EXISTING'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'userId number;',
'BEGIN',
'begin',
' select id into userId from RCA13_intrack_users where username = v(''APP_USER'');',
' exception when others then null;',
'end;',
'return userId;',
'END;'))
);
wwv_flow_api.create_flow_computation(
 p_id=>wwv_flow_api.id(312622664398173446)
,p_computation_sequence=>20
,p_computation_item=>'IS_SUPER_ADMIN'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'QUERY'
,p_computation_processed=>'REPLACE_EXISTING'
,p_computation=>'select rca13_manage_acl.is_superadmin(:G_USER_ID) from dual'
);
end;
/
prompt --application/shared_components/navigation/tabs/standard
begin
wwv_flow_api.create_tab(
 p_id=>wwv_flow_api.id(4053496650911880336)
,p_tab_set=>'TS1'
,p_tab_sequence=>10
,p_tab_name=>'T_HOME'
,p_tab_text=>'Home'
,p_tab_step=>1001
,p_tab_plsql_condition=>'select 1 from auditcheck_result'
,p_display_condition_type=>'EXISTS'
);
wwv_flow_api.create_tab(
 p_id=>wwv_flow_api.id(312240953748308675)
,p_tab_set=>'TS1'
,p_tab_sequence=>15
,p_tab_name=>'T_COLLECTIONS'
,p_tab_text=>'Collections'
,p_tab_step=>1012
);
wwv_flow_api.create_tab(
 p_id=>wwv_flow_api.id(311993066808151315)
,p_tab_set=>'TS1'
,p_tab_sequence=>20
,p_tab_name=>'T_BROWSECOLLECTIONS'
,p_tab_text=>'Browse'
,p_tab_step=>1002
,p_tab_plsql_condition=>'select 1 from auditcheck_result'
,p_display_condition_type=>'EXISTS'
);
wwv_flow_api.create_tab(
 p_id=>wwv_flow_api.id(311993253653157447)
,p_tab_set=>'TS1'
,p_tab_sequence=>30
,p_tab_name=>'T_COMPARECOLLECTIONS'
,p_tab_text=>'Compare'
,p_tab_step=>1003
,p_tab_plsql_condition=>'select 1 from auditcheck_result'
,p_display_condition_type=>'EXISTS'
);
wwv_flow_api.create_tab(
 p_id=>wwv_flow_api.id(311993542654162540)
,p_tab_set=>'TS1'
,p_tab_sequence=>40
,p_tab_name=>'T_SEARCH'
,p_tab_text=>'Search'
,p_tab_step=>1008
,p_tab_plsql_condition=>'select 1 from rca13_collections where status = ''Processed'' and 1 = 2'
,p_display_condition_type=>'EXISTS'
);
wwv_flow_api.create_tab(
 p_id=>wwv_flow_api.id(311993864639167528)
,p_tab_set=>'TS1'
,p_tab_sequence=>50
,p_tab_name=>'T_UPLOADCOLLECTIONS'
,p_tab_text=>'Uploaded Collections'
,p_tab_step=>1006
);
wwv_flow_api.create_tab(
 p_id=>wwv_flow_api.id(312091662859112798)
,p_tab_set=>'TS1'
,p_tab_sequence=>52
,p_tab_name=>'T_REPORTS'
,p_tab_text=>'Report View'
,p_tab_step=>1031
);
wwv_flow_api.create_tab(
 p_id=>wwv_flow_api.id(312049765138734836)
,p_tab_set=>'TS1'
,p_tab_sequence=>55
,p_tab_name=>'T_INCIDENTS'
,p_tab_text=>'Incidents'
,p_tab_step=>1
);
wwv_flow_api.create_tab(
 p_id=>wwv_flow_api.id(312439442894457155)
,p_tab_set=>'TS1'
,p_tab_sequence=>65
,p_tab_name=>'T_IGNOREDCHECKS'
,p_tab_text=>'Ignored Checks'
,p_tab_step=>1014
,p_tab_parent_tabset=>'TS1'
,p_tab_plsql_condition=>'select 1 from rca13_ignored_checks'
,p_display_condition_type=>'EXISTS'
);
wwv_flow_api.create_tab(
 p_id=>wwv_flow_api.id(312444237583250228)
,p_tab_set=>'TS1'
,p_tab_sequence=>75
,p_tab_name=>'T_TANALYTICS'
,p_tab_text=>'Analytics'
,p_tab_step=>1034
,p_tab_also_current_for_pages=>'1039,1040'
,p_tab_plsql_condition=>'select 1 from rca13_intrack_preferences where preference_name=''SHOW_SR_BUG_INFO'' and preference_value=''Y'''
,p_display_condition_type=>'EXISTS'
);
wwv_flow_api.create_tab(
 p_id=>wwv_flow_api.id(3450203984073580)
,p_tab_set=>'TS1'
,p_tab_sequence=>85
,p_tab_name=>'T_USERDEFINEDCHECKS'
,p_tab_text=>'User Defined Checks'
,p_tab_step=>1038
,p_tab_also_current_for_pages=>'1050'
);
end;
/
prompt --application/shared_components/navigation/tabs/parent
begin
null;
end;
/
prompt --application/shared_components/user_interface/lovs
begin
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2856544694736897027)
,p_lov_name=>'ACCESS CONTROL SCOPE'
,p_lov_query=>'.'||wwv_flow_api.id(2856544694736897027)||'.'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2856544967165897030)
,p_lov_disp_sequence=>1
,p_lov_disp_value=>'Reader access for any authenticated user'
,p_lov_return_value=>'PUBLIC_READONLY'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2856545192061897030)
,p_lov_disp_sequence=>2
,p_lov_disp_value=>'Contributor access for any authenticated user'
,p_lov_return_value=>'PUBLIC_CONTRIBUTE'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2856545375360897030)
,p_lov_disp_sequence=>3
,p_lov_disp_value=>'Defined by access control list'
,p_lov_return_value=>'ACL_ONLY'
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2856545477177897030)
,p_lov_name=>'ACCESS_LEVELS'
,p_lov_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select access_level d, id r',
'  from RCA13_intrack_access_levels',
' order by 1'))
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2987459684296427611)
,p_lov_name=>'ASSIGNEES'
,p_lov_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select assignee_name d, id r',
'from   RCA13_intrack_assignees',
'order by 1'))
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(312404745493615111)
,p_lov_name=>'ASSIGNEES_NEW'
,p_lov_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select username d, id r',
'from   RCA13_intrack_users',
'order by 1'))
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2423540977762705449)
,p_lov_name=>'CATEGORY'
,p_lov_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select CATEGORY_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_CATEGORY',
' order by display_sequence'))
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2423681287028727097)
,p_lov_name=>'CUSTOMER'
,p_lov_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select CUSTOMER_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_CUSTOMERS',
' order by 1'))
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2544288476456421313)
,p_lov_name=>'NOTIFICATION TYPE'
,p_lov_query=>'.'||wwv_flow_api.id(2544288476456421313)||'.'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2544288780106421316)
,p_lov_disp_sequence=>10
,p_lov_disp_value=>'Yellow'
,p_lov_return_value=>'YELLOW'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2544288990851421317)
,p_lov_disp_sequence=>20
,p_lov_disp_value=>'Red'
,p_lov_return_value=>'RED'
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(311957346894038252)
,p_lov_name=>'P2_Report Row Per Page'
,p_lov_query=>'.'||wwv_flow_api.id(311957346894038252)||'.'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(311957642812038252)
,p_lov_disp_sequence=>10
,p_lov_disp_value=>'10'
,p_lov_return_value=>'10'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(311957961790038253)
,p_lov_disp_sequence=>20
,p_lov_disp_value=>'15'
,p_lov_return_value=>'15'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(311958251976038253)
,p_lov_disp_sequence=>30
,p_lov_disp_value=>'20'
,p_lov_return_value=>'20'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(311958551154038253)
,p_lov_disp_sequence=>40
,p_lov_disp_value=>'30'
,p_lov_return_value=>'30'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(311958867744038253)
,p_lov_disp_sequence=>50
,p_lov_disp_value=>'50'
,p_lov_return_value=>'50'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(311959149169038253)
,p_lov_disp_sequence=>60
,p_lov_disp_value=>'100'
,p_lov_return_value=>'100'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(311959437173038253)
,p_lov_disp_sequence=>70
,p_lov_disp_value=>'200'
,p_lov_return_value=>'200'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(311959741272038254)
,p_lov_disp_sequence=>80
,p_lov_disp_value=>'500'
,p_lov_return_value=>'500'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(311960055550038254)
,p_lov_disp_sequence=>90
,p_lov_disp_value=>'1000'
,p_lov_return_value=>'1000'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(311960356105038255)
,p_lov_disp_sequence=>100
,p_lov_disp_value=>'5000'
,p_lov_return_value=>'5000'
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2423647294862719807)
,p_lov_name=>'PRODUCT VERSION'
,p_lov_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select VERSION_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_VERSION',
' order by 1'))
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2449887772225279469)
,p_lov_name=>'PRODUCTS'
,p_lov_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select product_name, id',
'from RCA13_intrack_product',
'order by 1'))
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2436261891354773745)
,p_lov_name=>'ROWS'
,p_lov_query=>'.'||wwv_flow_api.id(2436261891354773745)||'.'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2436262196415773754)
,p_lov_disp_sequence=>10
,p_lov_disp_value=>'5'
,p_lov_return_value=>'5'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2436262393876773758)
,p_lov_disp_sequence=>20
,p_lov_disp_value=>'10'
,p_lov_return_value=>'10'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2436262582448773758)
,p_lov_disp_sequence=>30
,p_lov_disp_value=>'15'
,p_lov_return_value=>'15'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2436262770021773758)
,p_lov_disp_sequence=>40
,p_lov_disp_value=>'20'
,p_lov_return_value=>'20'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2436262966895773758)
,p_lov_disp_sequence=>50
,p_lov_disp_value=>'50'
,p_lov_return_value=>'50'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2436263195331773758)
,p_lov_disp_sequence=>60
,p_lov_disp_value=>'100'
,p_lov_return_value=>'100'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2436263376015773758)
,p_lov_disp_sequence=>70
,p_lov_disp_value=>'500'
,p_lov_return_value=>'500'
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2423510169104702993)
,p_lov_name=>'SEVERITY'
,p_lov_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select severity_code||''. ''||SEVERITY_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_SEVERITY',
' order by sequence_number'))
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2437715394825280260)
,p_lov_name=>'SEVERITY WITHOUT CODE'
,p_lov_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select SEVERITY_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_SEVERITY',
' order by sequence_number'))
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2423525572221703889)
,p_lov_name=>'STATUS'
,p_lov_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select status_code||''. ''||STATUS_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_STATUS',
' order by display_sequence'))
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2758583289200604986)
,p_lov_name=>'TICKETS'
,p_lov_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select subject, id',
'from RCA13_intrack_incidents_view',
'order by 1'))
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2734090493697012082)
,p_lov_name=>'TIMEFRAME (DYNAMIC)'
,p_lov_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select ''1 hour'' d, 1/24 r from dual union all',
'select ''8 hours'' d, 8/24 r from dual union all',
'select ''1 day'' d, 1 r from dual union all',
'select ''1 week'' d, 7 r from dual union all',
'select ''2 weeks'' d, 14 r from dual union all',
'select ''3 weeks'' d, 21 r from dual union all',
'select ''4 weeks'' d, 28 r from dual ',
'order by 2'))
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2423494798409701988)
,p_lov_name=>'URGENCY'
,p_lov_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select URGENCY_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_URGENCY',
' order by display_sequence'))
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2432594877943805769)
,p_lov_name=>'USERS'
,p_lov_query=>'select username, id from RCA13_INTRACK_USERS order by 1'
);
wwv_flow_api.create_list_of_values(
 p_id=>wwv_flow_api.id(2406577278280868052)
,p_lov_name=>'YES NO'
,p_lov_query=>'.'||wwv_flow_api.id(2406577278280868052)||'.'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2406577469884868054)
,p_lov_disp_sequence=>10
,p_lov_disp_value=>'Yes'
,p_lov_return_value=>'Y'
);
wwv_flow_api.create_static_lov_data(
 p_id=>wwv_flow_api.id(2406577681003868055)
,p_lov_disp_sequence=>20
,p_lov_disp_value=>'No'
,p_lov_return_value=>'N'
);
end;
/
prompt --application/shared_components/navigation/trees
begin
null;
end;
/
prompt --application/pages/page_groups
begin
wwv_flow_api.create_page_group(
 p_id=>wwv_flow_api.id(2856540390011829470)
,p_group_name=>'Administration'
);
end;
/
prompt --application/comments
begin
null;
end;
/
prompt --application/shared_components/navigation/breadcrumbs/breadcrumbs1
begin
wwv_flow_api.create_menu(
 p_id=>wwv_flow_api.id(307799540464507608)
,p_name=>'Breadcrumbs1'
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(307799736643510038)
,p_parent_id=>0
,p_short_name=>'Compare'
,p_link=>'f?p=&APP_ID.:1003:&SESSION.::&DEBUG.:::'
,p_page_id=>1003
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(307799964235512417)
,p_parent_id=>wwv_flow_api.id(307799736643510038)
,p_short_name=>'Actual Values'
,p_link=>'f?p=&APP_ID.:1026:&SESSION.::&DEBUG.:::'
,p_page_id=>1026
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(308544449242953462)
,p_parent_id=>0
,p_short_name=>'Administration'
,p_long_name=>'Administration'
,p_link=>'f?p=&APP_ID.:4:&SESSION.::&DEBUG.:::'
,p_page_id=>4
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(308544637380959027)
,p_parent_id=>wwv_flow_api.id(308544449242953462)
,p_short_name=>'Manage User Roles'
,p_long_name=>'Manage User Roles'
,p_link=>'f?p=&APP_ID.:1017:&SESSION.::&DEBUG.:::'
,p_page_id=>1017
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(308544855052965981)
,p_parent_id=>wwv_flow_api.id(308544637380959027)
,p_short_name=>'Edit/Delete User Role'
,p_long_name=>'Edit/Delete User Role'
,p_link=>'f?p=&APP_ID.:1024:&SESSION.::&DEBUG.:::'
,p_page_id=>1024
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(308597143194192833)
,p_parent_id=>wwv_flow_api.id(308544449242953462)
,p_short_name=>'Delete Data'
,p_long_name=>'Delete Data'
,p_link=>'f?p=&APP_ID.:1004:&SESSION.::&DEBUG.:::'
,p_page_id=>1004
);
end;
/
prompt --application/shared_components/navigation/breadcrumbs/breadcrumb_2
begin
wwv_flow_api.create_menu(
 p_id=>wwv_flow_api.id(312022352115364667)
,p_name=>'Breadcrumb_2'
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312022539349371118)
,p_parent_id=>0
,p_short_name=>'Home'
,p_link=>'f?p=&APP_ID.:1001:&SESSION.::&DEBUG.:::'
,p_page_id=>1001
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312022761765375959)
,p_parent_id=>wwv_flow_api.id(312022539349371118)
,p_short_name=>'System Collections'
,p_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:::'
,p_page_id=>1025
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312022952923380088)
,p_parent_id=>wwv_flow_api.id(312022761765375959)
,p_short_name=>'Collection Checks'
,p_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:::'
,p_page_id=>1002
);
end;
/
prompt --application/shared_components/navigation/breadcrumbs/analytics
begin
wwv_flow_api.create_menu(
 p_id=>wwv_flow_api.id(312510154951204656)
,p_name=>'Analytics'
);
end;
/
prompt --application/shared_components/navigation/breadcrumbs/breadcrumb
begin
wwv_flow_api.create_menu(
 p_id=>wwv_flow_api.id(4053496353388880329)
,p_name=>' Breadcrumb'
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(307797550353351815)
,p_parent_id=>0
,p_short_name=>'Browse'
,p_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:::'
,p_page_id=>1002
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(307797768025358758)
,p_parent_id=>wwv_flow_api.id(307797550353351815)
,p_short_name=>'Actual Values'
,p_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:::'
,p_page_id=>1026
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(307799368142480221)
,p_parent_id=>0
,p_short_name=>'Compare'
,p_link=>'f?p=&APP_ID.:1003:&SESSION.::&DEBUG.:::'
,p_page_id=>1003
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(308641836352521199)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'&SYS_NAME.'
,p_long_name=>'&SYS_NAME.'
,p_link=>'f?p=&APP_ID.:1005:&SESSION.::&DEBUG.:::'
,p_page_id=>1005
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(310962768102400389)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Configure Email Server'
,p_link=>'f?p=&APP_ID.:1028:&SESSION.::&DEBUG.:::'
,p_page_id=>1028
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(310993250653473073)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Manage Notifications'
,p_link=>'f?p=&APP_ID.:1029:&SESSION.::&DEBUG.:::'
,p_page_id=>1029
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312210855134971009)
,p_parent_id=>0
,p_short_name=>'Collections'
,p_link=>'f?p=&APP_ID.:1006:&SESSION.::&DEBUG.:::'
,p_page_id=>1006
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312211045861975302)
,p_parent_id=>wwv_flow_api.id(312210855134971009)
,p_short_name=>'Log'
,p_link=>'f?p=&APP_ID.:1007:&SESSION.::&DEBUG.:::'
,p_page_id=>1007
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312214638490087730)
,p_parent_id=>wwv_flow_api.id(312210855134971009)
,p_short_name=>'Collection Files'
,p_link=>'f?p=&APP_ID.:1009:&SESSION.::&DEBUG.:::'
,p_page_id=>1009
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312215853173324046)
,p_parent_id=>wwv_flow_api.id(312214638490087730)
,p_short_name=>'File Content'
,p_link=>'f?p=&APP_ID.:1010:&SESSION.::&DEBUG.:1010::'
,p_page_id=>1010
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312227640828109087)
,p_parent_id=>0
,p_short_name=>'Home'
,p_link=>'f?p=&APP_ID.:1001:&SESSION.::&DEBUG.:::'
,p_page_id=>1001
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312227859147115872)
,p_parent_id=>wwv_flow_api.id(312227640828109087)
,p_short_name=>'Most Failed/Warned Checks'
,p_link=>'f?p=&APP_ID.:1011:&SESSION.::&DEBUG.:::'
,p_page_id=>1011
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312257748299890003)
,p_parent_id=>wwv_flow_api.id(312227640828109087)
,p_short_name=>'Recent Activity'
,p_link=>'f?p=&APP_ID.:1013:&SESSION.::&DEBUG.:::'
,p_page_id=>1013
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312426460208660411)
,p_parent_id=>wwv_flow_api.id(312227640828109087)
,p_short_name=>'Ignored Checks'
,p_link=>'f?p=&APP_ID.:1014:&SESSION.::&DEBUG.:::'
,p_page_id=>1014
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312475236824744027)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Manage &BU_NAME.'
,p_link=>'f?p=&APP_ID.:1016:&SESSION.::&DEBUG.:::'
,p_page_id=>1016
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312477257212856130)
,p_parent_id=>wwv_flow_api.id(312475236824744027)
,p_short_name=>'Create / Edit &BU_NAME.'
,p_link=>'f?p=&APP_ID.:1015:&SESSION.::&DEBUG.:::'
,p_page_id=>1015
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312484466508884923)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Manage User Roles'
,p_link=>'f?p=&APP_ID.:1017:&SESSION.::&DEBUG.:::'
,p_page_id=>1017
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312490551774158170)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Manage &SYS_NAME. & &BU_NAME.'
,p_link=>'f?p=&APP_ID.:1018:&SESSION.::&DEBUG.:::'
,p_page_id=>1018
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312490741206163068)
,p_parent_id=>wwv_flow_api.id(312490551774158170)
,p_short_name=>'Create / Edit Details'
,p_link=>'f?p=&APP_ID.:1019:&SESSION.::&DEBUG.:::'
,p_page_id=>1019
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312505659059479602)
,p_parent_id=>wwv_flow_api.id(312484466508884923)
,p_short_name=>'Create Role'
,p_link=>'f?p=&APP_ID.:1020:&SESSION.::&DEBUG.:::'
,p_page_id=>1020
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312510948422228474)
,p_parent_id=>0
,p_short_name=>'Analytics'
,p_link=>'f?p=&APP_ID.:1034:&SESSION.::&DEBUG.:::'
,p_page_id=>1034
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312511148397258862)
,p_parent_id=>wwv_flow_api.id(312510948422228474)
,p_short_name=>'Details'
,p_link=>'f?p=&APP_ID.:1036:&SESSION.::&DEBUG.:::'
,p_page_id=>1036
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312550759580459392)
,p_parent_id=>wwv_flow_api.id(312484466508884923)
,p_short_name=>'Create Role'
,p_link=>'f?p=&APP_ID.:1022:&SESSION.::&DEBUG.:::'
,p_page_id=>1022
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(312553047098523617)
,p_parent_id=>wwv_flow_api.id(312484466508884923)
,p_short_name=>'Create Role'
,p_link=>'f?p=&APP_ID.:1023:&SESSION.::&DEBUG.:::'
,p_page_id=>1023
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2404331280521377080)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Status Codes'
,p_link=>'f?p=&FLOW_ID.:5:&SESSION.'
,p_page_id=>5
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2404331581231377081)
,p_parent_id=>wwv_flow_api.id(2404331280521377080)
,p_short_name=>'Status Code'
,p_link=>'f?p=&FLOW_ID.:6:&SESSION.'
,p_page_id=>6
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2404590795757424388)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Incident Severity'
,p_link=>'f?p=&FLOW_ID.:7:&SESSION.'
,p_page_id=>7
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2404591190336424388)
,p_parent_id=>wwv_flow_api.id(2404590795757424388)
,p_short_name=>'Severity'
,p_link=>'f?p=&FLOW_ID.:8:&SESSION.'
,p_page_id=>8
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2404761277726436996)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Products'
,p_link=>'f?p=&FLOW_ID.:9:&SESSION.'
,p_page_id=>9
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2404761592187436997)
,p_parent_id=>wwv_flow_api.id(2404761277726436996)
,p_short_name=>'Product'
,p_link=>'f?p=&FLOW_ID.:10:&SESSION.'
,p_page_id=>10
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2404878970553448201)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Urgency'
,p_link=>'f?p=&FLOW_ID.:11:&SESSION.'
,p_page_id=>11
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2404879284556448201)
,p_parent_id=>wwv_flow_api.id(2404878970553448201)
,p_short_name=>'Urgency'
,p_link=>'f?p=&FLOW_ID.:12:&SESSION.'
,p_page_id=>12
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2405150576896529534)
,p_parent_id=>wwv_flow_api.id(2404761277726436996)
,p_short_name=>'Product Versions'
,p_link=>'f?p=&APP_ID.:13:&SESSION.::&DEBUG.:::'
,p_page_id=>13
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2405150869971529541)
,p_parent_id=>wwv_flow_api.id(2405150576896529534)
,p_short_name=>'Product Version'
,p_link=>'f?p=&FLOW_ID.:14:&SESSION.'
,p_page_id=>14
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2409847894577819238)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Categories'
,p_link=>'f?p=&FLOW_ID.:18:&SESSION.'
,p_page_id=>18
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2409848191741819239)
,p_parent_id=>wwv_flow_api.id(2409847894577819238)
,p_short_name=>'Category'
,p_link=>'f?p=&FLOW_ID.:19:&SESSION.'
,p_page_id=>19
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2411440596931997606)
,p_short_name=>'Preference'
,p_link=>'f?p=&FLOW_ID.:21:&SESSION.'
,p_page_id=>21
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2412900169988444726)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Customers'
,p_link=>'f?p=&FLOW_ID.:22:&SESSION.'
,p_page_id=>22
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2412900469442444727)
,p_parent_id=>wwv_flow_api.id(2412900169988444726)
,p_short_name=>'Customer'
,p_link=>'f?p=&FLOW_ID.:23:&SESSION.'
,p_page_id=>23
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2414319791893702824)
,p_parent_id=>wwv_flow_api.id(4053496854306880336)
,p_short_name=>'Create Ticket'
,p_link=>'f?p=&FLOW_ID.:15:&SESSION.'
,p_page_id=>15
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2414350888443704444)
,p_parent_id=>wwv_flow_api.id(4053496854306880336)
,p_short_name=>'Create Ticket'
,p_link=>'f?p=&FLOW_ID.:16:&SESSION.'
,p_page_id=>16
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2414404984561706217)
,p_parent_id=>wwv_flow_api.id(4053496854306880336)
,p_short_name=>'Create Ticket'
,p_link=>'f?p=&FLOW_ID.:17:&SESSION.'
,p_page_id=>17
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2415085266543907218)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Customer Contacts'
,p_link=>'f?p=&FLOW_ID.:26:&SESSION.'
,p_page_id=>26
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2415085587971907219)
,p_parent_id=>wwv_flow_api.id(2415085266543907218)
,p_short_name=>'Contact'
,p_link=>'f?p=&FLOW_ID.:27:&SESSION.'
,p_page_id=>27
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2423161788788637950)
,p_parent_id=>wwv_flow_api.id(2675049180563627178)
,p_short_name=>'Edit Ticket'
,p_link=>'f?p=&APP_ID.:28:&SESSION.::&DEBUG.:::'
,p_page_id=>28
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2429753571754101703)
,p_parent_id=>wwv_flow_api.id(4053909047868616930)
,p_short_name=>'New Incidents Time Line'
,p_link=>'f?p=&FLOW_ID.:29:&SESSION.'
,p_page_id=>29
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2430935875293506498)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Manage Access Control List'
,p_link=>'f?p=&APP_ID.:31:&SESSION.::&DEBUG.:::'
,p_page_id=>31
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2430936176030506501)
,p_parent_id=>wwv_flow_api.id(2430935875293506498)
,p_short_name=>'User Access Control'
,p_link=>'f?p=&APP_ID.:32:&SESSION.::&DEBUG.:::'
,p_page_id=>32
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2431151896713552174)
,p_short_name=>'Access Level'
,p_link=>'f?p=&FLOW_ID.:34:&SESSION.'
,p_page_id=>34
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2433020580279462512)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Preferences'
,p_link=>'f?p=&FLOW_ID.:35:&SESSION.'
,p_page_id=>35
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2433020866254462514)
,p_parent_id=>wwv_flow_api.id(2433020580279462512)
,p_short_name=>'Preference'
,p_link=>'f?p=&FLOW_ID.:36:&SESSION.'
,p_page_id=>36
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2436261583983773741)
,p_parent_id=>wwv_flow_api.id(4053496854306880336)
,p_short_name=>'Search Results'
,p_link=>'f?p=&FLOW_ID.:37:&SESSION.'
,p_page_id=>37
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2447251795415564409)
,p_parent_id=>wwv_flow_api.id(4053909047868616930)
,p_short_name=>'Tags'
,p_link=>'f?p=&FLOW_ID.:25:&SESSION.'
,p_page_id=>25
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2448307387456844389)
,p_parent_id=>wwv_flow_api.id(4053909047868616930)
,p_short_name=>'Distribution of Tickets by Status Codes'
,p_link=>'f?p=&APP_ID.:38:&SESSION.::&DEBUG.:::'
,p_page_id=>38
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2448543988378939275)
,p_parent_id=>wwv_flow_api.id(4053909047868616930)
,p_short_name=>'Distribution of Tickets by Product'
,p_link=>'f?p=&FLOW_ID.:39:&SESSION.'
,p_page_id=>39
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2448706997386968583)
,p_parent_id=>wwv_flow_api.id(4053909047868616930)
,p_short_name=>'Distribution of Tickets by Customer'
,p_link=>'f?p=&FLOW_ID.:41:&SESSION.'
,p_page_id=>41
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2448819366229989491)
,p_parent_id=>wwv_flow_api.id(4053909047868616930)
,p_short_name=>'Distribution of Tickets by Filer'
,p_link=>'f?p=&FLOW_ID.:42:&SESSION.'
,p_page_id=>42
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2449024579398038361)
,p_parent_id=>wwv_flow_api.id(4053909047868616930)
,p_short_name=>'Distribution of Tickets by Product and Version'
,p_link=>'f?p=&FLOW_ID.:43:&SESSION.'
,p_page_id=>43
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2450747269374362960)
,p_parent_id=>wwv_flow_api.id(2470386186366133003)
,p_short_name=>'Customer Contacts'
,p_link=>'f?p=&APP_ID.:45:&SESSION.::&DEBUG.:::'
,p_page_id=>45
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2451932687481640084)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Delete Sample Data'
,p_link=>'f?p=&FLOW_ID.:46:&SESSION.'
,p_page_id=>46
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2453467387630067095)
,p_parent_id=>wwv_flow_api.id(2450747269374362960)
,p_short_name=>'Contact Details'
,p_link=>'f?p=&FLOW_ID.:47:&SESSION.'
,p_page_id=>47
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2461559484863165926)
,p_parent_id=>wwv_flow_api.id(4053496854306880336)
,p_short_name=>'Assignees'
,p_link=>'f?p=&APP_ID.:48:&SESSION.'
,p_page_id=>48
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2470386186366133003)
,p_parent_id=>wwv_flow_api.id(4053496854306880336)
,p_short_name=>'Customers'
,p_link=>'f?p=&APP_ID.:30:&SESSION.::&DEBUG.:::'
,p_page_id=>30
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2544216377958415519)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Notifications'
,p_link=>'f?p=&FLOW_ID.:20:&SESSION.'
,p_page_id=>20
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2544287172259421307)
,p_parent_id=>wwv_flow_api.id(2544216377958415519)
,p_short_name=>'Notification'
,p_link=>'f?p=&FLOW_ID.:24:&SESSION.'
,p_page_id=>24
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2675049180563627178)
,p_parent_id=>wwv_flow_api.id(4053907847078611012)
,p_short_name=>'Ticket'
,p_link=>'f?p=&FLOW_ID.:50:&SESSION.'
,p_page_id=>50
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2677007666428689136)
,p_parent_id=>wwv_flow_api.id(2675049180563627178)
,p_short_name=>'Ticket Notes'
,p_link=>'f?p=&FLOW_ID.:52:&SESSION.'
,p_page_id=>52
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2758016097406545191)
,p_parent_id=>wwv_flow_api.id(2675049180563627178)
,p_short_name=>'Ticket Attachments'
,p_link=>'f?p=&FLOW_ID.:53:&SESSION.'
,p_page_id=>53
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2758016398013545192)
,p_parent_id=>wwv_flow_api.id(2758016097406545191)
,p_short_name=>'Attachment'
,p_link=>'f?p=&FLOW_ID.:54:&SESSION.'
,p_page_id=>54
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2832202174518201657)
,p_parent_id=>wwv_flow_api.id(2675049180563627178)
,p_short_name=>'Ticket Links'
,p_link=>'f?p=&FLOW_ID.:44:&SESSION.'
,p_page_id=>44
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2832202478246201659)
,p_parent_id=>wwv_flow_api.id(2832202174518201657)
,p_short_name=>'Link'
,p_link=>'f?p=&FLOW_ID.:49:&SESSION.'
,p_page_id=>49
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2856562585879058207)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Access Control Configuration'
,p_link=>'f?p=&FLOW_ID.:33:&SESSION.'
,p_page_id=>33
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2862956167293891491)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Set Preferences'
,p_link=>'f?p=&FLOW_ID.:51:&SESSION.'
,p_page_id=>51
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2866758466099280845)
,p_parent_id=>wwv_flow_api.id(312227640828109087)
,p_short_name=>'Preferences'
,p_link=>'f?p=&APP_ID.:56:&SESSION.::&DEBUG.:::'
,p_page_id=>56
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2911218073786354548)
,p_parent_id=>wwv_flow_api.id(4053496854306880336)
,p_short_name=>'Incident Tracking Mobile'
,p_link=>'f?p=&FLOW_ID.:300:&SESSION.'
,p_page_id=>300
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2911879394288864240)
,p_parent_id=>wwv_flow_api.id(4053496854306880336)
,p_short_name=>'Help'
,p_link=>'f?p=&FLOW_ID.:57:&SESSION.'
,p_page_id=>57
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2920603797065533329)
,p_parent_id=>wwv_flow_api.id(4053909047868616930)
,p_short_name=>'Recent Activity'
,p_link=>'f?p=&APP_ID.:40:&SESSION.'
,p_page_id=>40
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2958186790517712423)
,p_parent_id=>wwv_flow_api.id(2677007666428689136)
,p_short_name=>'Note'
,p_link=>'f?p=&FLOW_ID.:55:&SESSION.'
,p_page_id=>55
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2964869992833123299)
,p_parent_id=>wwv_flow_api.id(4053909939303619284)
,p_short_name=>'Error Report'
,p_link=>'f?p=&FLOW_ID.:175:&SESSION.'
,p_page_id=>175
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2987464496933443068)
,p_parent_id=>wwv_flow_api.id(2461559484863165926)
,p_short_name=>'Assignee'
,p_link=>'f?p=&FLOW_ID.:58:&SESSION.'
,p_page_id=>58
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2990423481364163389)
,p_parent_id=>wwv_flow_api.id(4053909047868616930)
,p_short_name=>'Ticket Creation Calendar'
,p_link=>'f?p=&APP_ID.:59:&SESSION.::&DEBUG.:::'
,p_page_id=>59
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(2992930670594426634)
,p_parent_id=>wwv_flow_api.id(4053909047868616930)
,p_short_name=>'Activity Calendar'
,p_link=>'f?p=&FLOW_ID.:60:&SESSION.'
,p_page_id=>60
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(4053496854306880336)
,p_parent_id=>0
,p_short_name=>'Incidents'
,p_link=>'f?p=&APP_ID.:1:&SESSION.::&DEBUG.:::'
,p_page_id=>1
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(4053907847078611012)
,p_parent_id=>wwv_flow_api.id(4053496854306880336)
,p_short_name=>'Tickets'
,p_link=>'f?p=&APP_ID.:2:&SESSION.::&DEBUG.:::'
,p_page_id=>2
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(4053909047868616930)
,p_parent_id=>wwv_flow_api.id(4053496854306880336)
,p_short_name=>'Reports'
,p_link=>'f?p=&FLOW_ID.:3:&SESSION.'
,p_page_id=>3
);
wwv_flow_api.create_menu_option(
 p_id=>wwv_flow_api.id(4053909939303619284)
,p_parent_id=>0
,p_short_name=>'Administration'
,p_link=>'f?p=&APP_ID.:4:&SESSION.::&DEBUG.:::'
,p_page_id=>4
);
end;
/
prompt --application/shared_components/user_interface/templates/page
begin
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(312092957712150462)
,p_theme_id=>101
,p_name=>'Copy of Popup'
,p_internal_name=>'COPY_OF_POPUP'
,p_is_popup=>false
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="&BROWSER_LANGUAGE." lang="&BROWSER_LANGUAGE." dir="&DIR.">',
'<head>',
'<title>#TITLE#</title>',
'#APEX_CSS#',
'#THEME_CSS#',
'#TEMPLATE_CSS#',
'#THEME_STYLE_CSS#',
'#APPLICATION_CSS#',
'#PAGE_CSS#',
'#APEX_JAVASCRIPT#',
'#THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'#APPLICATION_JAVASCRIPT#',
'#PAGE_JAVASCRIPT#',
'#HEAD#',
'<link rel="stylesheet" href="&THEME_PATH.theme/css/&UI_THEME./jquery-ui.css" type="text/css" />',
'<link rel="stylesheet" href="&THEME_PATH.theme/css/delta.core.css" type="text/css" />',
'<link rel="stylesheet" href="&THEME_PATH.theme/css/delta.style.css" type="text/css" />',
'<script type="text/javascript">',
'if(typeof jQuery == ''undefined'') {',
'document.write(''<script type="text/javascript" src="&THEME_PATH.js/jquery.js"><\/script>'');',
'document.write(''<script type="text/javascript" src="&THEME_PATH.js/jquery-ui.js"><\/script>'');',
'}',
'</script>',
'<script type="text/javascript">var THEME_PATH = ''&THEME_PATH.''; var APEX_IMAGE_PATH = ''#IMAGE_PREFIX#''; var uiDateFormat = ''&UI_DATE_FORMAT.''; var DIR = ''&DIR.'';</script>',
'<script type="text/javascript" src="&THEME_PATH.theme/js/delta.core.js"></script>',
'</head>',
'<body id="delta-page-popup" #ONLOAD#>',
'<div id="delta-overlay-pageload"></div>',
'#FORM_OPEN#'))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="delta-messages">#GLOBAL_NOTIFICATION##SUCCESS_MESSAGE##NOTIFICATION_MESSAGE#</div>',
'<div id="delta-box-body" class="delta-layout-region">#BODY#</div>'))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="delta-layout-region-7">#REGION_POSITION_07#</div>',
'<div id="delta-layout-region-8">#REGION_POSITION_08#</div>',
'#FORM_CLOSE#',
'#DEVELOPER_TOOLBAR#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</body>',
'</html>'))
,p_success_message=>'<div class="delta-message ui-state-highlight ui-corner-all" id="MESSAGE"><a class="delta-control ui-state-highlight ui-corner-all" href="#" onclick="$(''#MESSAGE'').remove();return false"><span class="delta-message-close ui-icon ui-icon-closethick"></s'
||'pan></a>#SUCCESS_MESSAGE#</div>'
,p_notification_message=>'<div class="delta-message ui-state-highlight ui-corner-all" id="MESSAGE"><a class="delta-control ui-state-highlight ui-corner-all" href="#" onclick="$(''#MESSAGE'').remove();return false"><span class="delta-message-close ui-icon ui-icon-closethick"></s'
||'pan></a>#MESSAGE#</div>'
,p_navigation_bar=>'<div id="delta-navigation-bar" class="ui-widget ui-widget-content ui-corner-all"><span id="delta-user" class="ui-widget-header ui-corner-all"><span class="ui-icon ui-icon-person"></span>&APP_USER.</span>#BAR_BODY#</div>'
,p_navbar_entry=>'<a href="#LINK#"><span>#TEXT#</span></a>'
,p_sidebar_def_reg_pos=>'REGION_POSITION_04'
,p_theme_class_id=>4
,p_grid_type=>'TABLE'
,p_translate_this_template=>'N'
,p_template_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'*',
'* APEX Themes - Themes, Templates & Skins for Oracle APEX Applications',
'* http://www.apex-themes.com',
'*',
'* Copyright (c) 2009 Creative Mode',
'* This file is protected by copyright law and provided under license.',
'* Unauthorised copying of this file is strictly prohibited.',
'* http://www.apex-themes.com/',
'*'))
);
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(773288021301916322)
,p_theme_id=>102
,p_name=>'Page'
,p_internal_name=>'PAGE'
,p_is_popup=>false
,p_css_file_urls=>'#IMAGE_PREFIX#themes/theme_50/css/4_2.css'
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!DOCTYPE html>',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<html lang="&BROWSER_LANGUAGE.">',
'<head>',
'  <meta charset="utf-8" />',
'  <meta name="apple-mobile-web-app-capable" content="yes">',
'  <meta name="viewport" content="width=device-width, initial-scale=1">',
'  <title>#TITLE#</title>',
'  #APEX_CSS#',
'  #THEME_CSS#',
'#TEMPLATE_CSS#',
'  #APEX_JAVASCRIPT#',
'  #THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'  #APPLICATION_JAVASCRIPT#',
'  #HEAD#',
'</head>',
'<body #ONLOAD#>'))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#PAGE_STATIC_ID#" data-role="page" data-theme="c" data-url="#REQUESTED_URL#">',
'#PAGE_CSS#',
'#FORM_OPEN#',
'',
'#REGION_POSITION_01#',
'',
'<div data-role="content" data-theme="c">',
'  <div id="messages">',
'    #SUCCESS_MESSAGE##NOTIFICATION_MESSAGE##GLOBAL_NOTIFICATION#',
'  </div>',
'  #BODY#',
'</div><!-- /content -->',
'',
'#REGION_POSITION_08#',
'',
'#FORM_CLOSE#',
'#PAGE_JAVASCRIPT#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</div><!-- /page -->'))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</body>',
'</html>'))
,p_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="ui-bar ui-bar-d success" id="success-message">',
'  <h4 style="display:inline-block;margin-top:5px;">#SUCCESS_MESSAGE#</h4>',
'</div>'))
,p_notification_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="ui-bar ui-bar-b notification" id="notification-message">',
'  <h4 style="display:inline-block; margin-top:5px;">#MESSAGE#</h4>',
'</div>'))
,p_theme_class_id=>17
,p_grid_type=>'VARIABLE'
,p_grid_max_columns=>5
,p_grid_always_use_max_columns=>false
,p_grid_has_column_span=>false
,p_grid_always_emit=>false
,p_grid_emit_empty_leading_cols=>true
,p_grid_emit_empty_trail_cols=>false
,p_grid_template=>'<div class="ui-grid-#USED_COLUMNS_ALPHA_MINUS# apex-grid-debug">#ROWS#</div>'
,p_grid_row_template=>'#COLUMNS#'
,p_grid_column_template=>'<div class="ui-block-#COLUMN_ALPHA#">#CONTENT#</div>'
,p_grid_javascript_debug_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'apex.jQuery(document).on("apex-devbar-grid-debug-on", function(){',
'    apex.jQuery(".apex-grid-debug > [class*=''ui-block-'']").addClass("ui-bar-e"); });',
'',
'apex.jQuery(document).on("apex-devbar-grid-debug-off", function(){',
'    apex.jQuery(".apex-grid-debug > [class*=''ui-block-'']").removeClass("ui-bar-e"); });',
''))
,p_translate_this_template=>'N'
);
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(773288212112916323)
,p_theme_id=>102
,p_name=>'Popup'
,p_internal_name=>'POPUP'
,p_is_popup=>false
,p_css_file_urls=>'#IMAGE_PREFIX#themes/theme_50/css/4_2.css'
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!DOCTYPE html>',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<html lang="&BROWSER_LANGUAGE.">',
'<head>',
'  <meta charset="utf-8" />',
'  <title>#TITLE#</title>',
'  #APEX_CSS#',
'  #THEME_CSS#',
'#TEMPLATE_CSS#',
'  #APEX_JAVASCRIPT#',
'  #THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'  #APPLICATION_JAVASCRIPT#',
'  #HEAD#',
'</head>',
'<body #ONLOAD#>'))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#PAGE_STATIC_ID#" data-role="page" data-theme="c">',
'#PAGE_CSS#',
'#FORM_OPEN#',
'',
'<div data-role="content" data-theme="b">',
'  <div id="messages">',
'    #SUCCESS_MESSAGE##NOTIFICATION_MESSAGE##GLOBAL_NOTIFICATION#',
'  </div>',
'  #BODY#',
'</div><!-- /content -->',
'#FORM_CLOSE#',
'#PAGE_JAVASCRIPT#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</div><!-- /page -->',
''))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</body>',
'</html>'))
,p_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="ui-bar ui-bar-d success" id="success-message">',
'  <h4 style="display:inline-block;margin-top:5px;">#SUCCESS_MESSAGE#</h4>',
'</div>'))
,p_notification_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="ui-bar ui-bar-b notification" id="notification-message">',
'  <h4 style="display:inline-block; margin-top:5px;">#MESSAGE#</h4>',
'</div>'))
,p_theme_class_id=>17
,p_grid_type=>'VARIABLE'
,p_grid_max_columns=>5
,p_grid_always_use_max_columns=>false
,p_grid_has_column_span=>false
,p_grid_always_emit=>false
,p_grid_emit_empty_leading_cols=>true
,p_grid_emit_empty_trail_cols=>false
,p_grid_template=>'<div class="ui-grid-#USED_COLUMNS_ALPHA_MINUS#">#ROWS#</div>'
,p_grid_row_template=>'#COLUMNS#'
,p_grid_column_template=>'<div class="ui-block-#COLUMN_ALPHA#">#CONTENT#</div>'
,p_grid_javascript_debug_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'apex.jQuery(document).on("apex-devbar-grid-debug-on", function(){',
'    apex.jQuery(".apex-grid-debug > [class*=''ui-block-'']").addClass("ui-bar-e"); });',
'',
'apex.jQuery(document).on("apex-devbar-grid-debug-off", function(){',
'    apex.jQuery(".apex-grid-debug > [class*=''ui-block-'']").removeClass("ui-bar-e"); });',
''))
,p_translate_this_template=>'N'
);
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(1474236082150185568)
,p_theme_id=>103
,p_name=>'Page'
,p_internal_name=>'PAGE'
,p_is_popup=>false
,p_css_file_urls=>'#IMAGE_PREFIX#themes/theme_50/css/4_2.css'
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!DOCTYPE html>',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<html>',
'<head>',
'  <meta charset="utf-8" />',
'  <meta name="apple-mobile-web-app-capable" content="yes">',
'  <meta name="viewport" content="width=device-width, initial-scale=1">',
'  <title>#TITLE#</title>',
'  #APEX_CSS#',
'  #THEME_CSS#',
'#TEMPLATE_CSS#',
'  #APEX_JAVASCRIPT#',
'  #THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'  #APPLICATION_JAVASCRIPT#',
'  #HEAD#',
'</head>',
'<body #ONLOAD#>'))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#PAGE_STATIC_ID#" data-role="page" data-theme="c" data-url="#REQUESTED_URL#">',
'#PAGE_CSS#',
'#FORM_OPEN#',
'',
'#REGION_POSITION_01#',
'',
'<div data-role="content" data-theme="c">',
'  <div id="messages">',
'    #SUCCESS_MESSAGE##NOTIFICATION_MESSAGE##GLOBAL_NOTIFICATION#',
'  </div>',
'  #BODY#',
'</div><!-- /content -->',
'',
'#REGION_POSITION_08#',
'',
'#FORM_CLOSE#',
'#PAGE_JAVASCRIPT#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</div><!-- /page -->'))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</body>',
'</html>'))
,p_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="ui-bar ui-bar-d success" id="success-message">',
'  <h4 style="display:inline-block;margin-top:5px;">#SUCCESS_MESSAGE#</h4>',
'</div>'))
,p_notification_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="ui-bar ui-bar-b notification" id="notification-message">',
'  <h4 style="display:inline-block; margin-top:5px;">#MESSAGE#</h4>',
'</div>'))
,p_theme_class_id=>17
,p_grid_type=>'VARIABLE'
,p_grid_max_columns=>5
,p_grid_always_use_max_columns=>false
,p_grid_has_column_span=>false
,p_grid_always_emit=>false
,p_grid_emit_empty_leading_cols=>true
,p_grid_emit_empty_trail_cols=>false
,p_grid_template=>'<div class="ui-grid-#USED_COLUMNS_ALPHA_MINUS# apex-grid-debug">#ROWS#</div>'
,p_grid_row_template=>'#COLUMNS#'
,p_grid_column_template=>'<div class="ui-block-#COLUMN_ALPHA#">#CONTENT#</div>'
,p_grid_javascript_debug_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'apex.jQuery(document).on("apex-devbar-grid-debug-on", function(){',
'    apex.jQuery(".apex-grid-debug > [class*=''ui-block-'']").addClass("ui-bar-e"); });',
'',
'apex.jQuery(document).on("apex-devbar-grid-debug-off", function(){',
'    apex.jQuery(".apex-grid-debug > [class*=''ui-block-'']").removeClass("ui-bar-e"); });',
''))
,p_translate_this_template=>'N'
);
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(1474236363192185568)
,p_theme_id=>103
,p_name=>'Popup'
,p_internal_name=>'POPUP'
,p_is_popup=>false
,p_css_file_urls=>'#IMAGE_PREFIX#themes/theme_50/css/4_2.css'
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!DOCTYPE html>',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<html>',
'<head>',
'  <meta charset="utf-8" />',
'  <title>#TITLE#</title>',
'  #APEX_CSS#',
'  #THEME_CSS#',
'#TEMPLATE_CSS#',
'  #APEX_JAVASCRIPT#',
'  #THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'  #APPLICATION_JAVASCRIPT#',
'  #HEAD#',
'</head>',
'<body #ONLOAD#>',
''))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#PAGE_STATIC_ID#" data-role="page" data-theme="c">',
'#PAGE_CSS#',
'#FORM_OPEN#',
'',
'<div data-role="content" data-theme="b">',
'  <div id="messages">',
'    #SUCCESS_MESSAGE##NOTIFICATION_MESSAGE##GLOBAL_NOTIFICATION#',
'  </div>',
'  #BODY#',
'</div><!-- /content -->',
'#FORM_CLOSE#',
'#PAGE_JAVASCRIPT#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</div><!-- /page -->',
''))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</body>',
'</html>'))
,p_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="ui-bar ui-bar-d success" id="success-message">',
'  <h4 style="display:inline-block;margin-top:5px;">#SUCCESS_MESSAGE#</h4>',
'</div>'))
,p_notification_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="ui-bar ui-bar-b notification" id="notification-message">',
'  <h4 style="display:inline-block; margin-top:5px;">#MESSAGE#</h4>',
'</div>'))
,p_theme_class_id=>17
,p_grid_type=>'VARIABLE'
,p_grid_max_columns=>5
,p_grid_always_use_max_columns=>false
,p_grid_has_column_span=>false
,p_grid_always_emit=>false
,p_grid_emit_empty_leading_cols=>true
,p_grid_emit_empty_trail_cols=>false
,p_grid_template=>'<div class="ui-grid-#USED_COLUMNS_ALPHA_MINUS#">#ROWS#</div>'
,p_grid_row_template=>'#COLUMNS#'
,p_grid_column_template=>'<div class="ui-block-#COLUMN_ALPHA#">#CONTENT#</div>'
,p_grid_javascript_debug_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'apex.jQuery(document).on("apex-devbar-grid-debug-on", function(){',
'    apex.jQuery(".apex-grid-debug > [class*=''ui-block-'']").addClass("ui-bar-e"); });',
'',
'apex.jQuery(document).on("apex-devbar-grid-debug-off", function(){',
'    apex.jQuery(".apex-grid-debug > [class*=''ui-block-'']").removeClass("ui-bar-e"); });',
''))
,p_translate_this_template=>'N'
);
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(2674750967371591026)
,p_theme_id=>101
,p_name=>'One Level Tabs - Content Frame'
,p_internal_name=>'ONE_LEVEL_TABS_CONTENT_FRAME'
,p_is_popup=>false
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!--[if HTML5]><![endif]-->',
'<!doctype html>',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<!--[if lt IE 7 ]> <html class="ie6 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 7 ]>    <html class="ie7 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 8 ]>    <html class="ie8 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 9 ]>    <html class="ie9" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if (gt IE 9)|!(IE)]><!--> <html lang="&BROWSER_LANGUAGE."> <!--<![endif]-->',
'<head>',
'<!--[if !HTML5]>',
'  ',
'<![endif]-->',
'  <meta charset="UTF-8">',
'  <title>#TITLE#</title>',
'  <link rel="icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  <link rel="shortcut icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  #APEX_CSS#',
'#THEME_CSS#',
'#TEMPLATE_CSS#',
'#THEME_STYLE_CSS#',
'#APPLICATION_CSS#',
'#PAGE_CSS#',
'#APEX_JAVASCRIPT#',
'#THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'#APPLICATION_JAVASCRIPT#',
'#PAGE_JAVASCRIPT#',
'#HEAD#',
'  <meta name="viewport" content="width=device-width, initial-scale=1.0">',
'  <link rel="stylesheet" href="#IMAGE_PREFIX#cloud/app_theme/css/4_1.css">',
'  <script src="#IMAGE_PREFIX#cloud/app_theme/js/4_1.js"></script>',
'</head>',
'<body #ONLOAD#>',
'  <!--[if lte IE 6]><div id="outdated-browser">#OUTDATED_BROWSER#</div><![endif]-->',
'  #FORM_OPEN#',
'  <div id="uBodyContainer">'))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<header id="uHeader">',
'  #REGION_POSITION_07#',
'  <hgroup>',
'    <a href="#HOME_LINK#" id="uLogo">#LOGO#</a>',
'    <div class="userBlock">',
'      <img src="#IMAGE_PREFIX#f_spacer.gif" class="navIcon user" alt="">',
'      <span>&APP_USER.</span>',
'      #NAVIGATION_BAR#',
'    </div>',
'  </hgroup>',
'  <nav>',
'    <ul>',
'      #TAB_CELLS#',
'    </ul>',
'    #REGION_POSITION_08#',
'  </nav>',
'  #REGION_POSITION_04#',
'</header>',
'#REGION_POSITION_01#',
'#SUCCESS_MESSAGE##NOTIFICATION_MESSAGE##GLOBAL_NOTIFICATION#',
'<div id="uOneCol">',
'<section class="uRegion uRegionNoPadding clearfix uRegionFrame">',
'  <div class="uRegionHeading">',
'    <h1>#TITLE#</h1>',
'    <span class="uButtonContainer">',
'		#REGION_POSITION_02#',
'    </span>',
'  </div>',
'  <div class="uFrameContent">',
'	<div class="uFrameMain">',
'		#BODY#',
'	</div>',
'	<div class="uFrameSide">',
'		#REGION_POSITION_03#',
'	</div>',
'  </div>',
'</section>',
'</div>'))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<footer id="uFooter">',
'  <div class="uFooterContent">',
'    <div id="customize">#CUSTOMIZE#</div>',
'    #REGION_POSITION_05#',
'<!--',
'    #SCREEN_READER_TOGGLE#',
'-->',
'    <span class="uFooterVersion">',
'      Collection Manager - #APP_VERSION#',
'    </span>',
'  </div>',
'  <div class="uFooterBG">',
'    <div class="uLeft"></div>',
'    <div class="uRight"></div>',
'  </div>',
'</footer>',
'</div>',
'#FORM_CLOSE#',
'#DEVELOPER_TOOLBAR#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</body>',
'</html>'))
,p_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uSuccessMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uSuccessMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uCheckmarkIcon" alt="" />',
'    <div class="uMessageText">',
'      #SUCCESS_MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_current_tab=>'<li><a href="#TAB_LINK#" class="active">#TAB_LABEL#</a>#TAB_INLINE_EDIT#</li>'
,p_non_current_tab=>'<li><a href="#TAB_LINK#">#TAB_LABEL#</a>#TAB_INLINE_EDIT#</li>'
,p_notification_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uNotificationMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uNotificationMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uWarningIcon" alt="" />',
'    <div class="uMessageText">',
'      #MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_navigation_bar=>'#BAR_BODY#'
,p_navbar_entry=>'<a href="#LINK#">#TEXT#</a>'
,p_breadcrumb_def_reg_pos=>'REGION_POSITION_01'
,p_theme_class_id=>1
,p_grid_type=>'TABLE'
,p_grid_always_use_max_columns=>false
,p_grid_has_column_span=>true
,p_grid_emit_empty_leading_cols=>true
,p_grid_emit_empty_trail_cols=>false
,p_reference_id=>2291504817881464357
,p_translate_this_template=>'N'
);
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(2915926996047955784)
,p_theme_id=>101
,p_name=>'+ Mobile Page'
,p_internal_name=>'+_MOBILE_PAGE'
,p_is_popup=>false
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!DOCTYPE html>',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<html lang="&BROWSER_LANGUAGE." xmlns="http://www.w3.org/1999/xhtml" xmlns:htmldb="http://htmldb.oracle.com" xmlns:apex="http://apex.oracle.com">',
'<head>',
'  <meta charset="utf-8">',
'  <meta name="viewport" content="width=device-width, initial-scale=1">',
'  <title>#TITLE#</title>',
'  #PAGE_JAVASCRIPT#',
'  #APEX_CSS#',
'#THEME_CSS#',
'#TEMPLATE_CSS#',
'#THEME_STYLE_CSS#',
'#APPLICATION_CSS#',
'#PAGE_CSS#',
'#APEX_JAVASCRIPT#',
'#THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'#APPLICATION_JAVASCRIPT#',
'#HEAD#',
'  <script src="#IMAGE_PREFIX#cloud/libraries/jquery-mobile/1.0.1/jquery.mobile-1.0.1.min.js"></script>',
'  <link rel="stylesheet" href="#IMAGE_PREFIX#cloud/libraries/jquery-mobile/1.0.1/jquery.mobile-1.0.1.min.css" />',
'',
'  <style type="text/css">',
'  .statusDot{',
'    float: left;',
'    width: 20px;',
'    height: 20px;',
'    margin: 10px 0 0 16px;',
'    border-radius: 10px;',
'    }',
'  .blackBg{',
'    background-color:#000;',
'    }',
'  .darkgrayBg{',
'    background-color:#555;',
'    }',
'  .grayBg{',
'    background-color:#ccc;',
'    }',
'  .greenBg{',
'    background-color:#0c0;',
'    }',
'  .redBg{',
'    background-color:#e10;',
'    }',
'  .whiteBg{',
'    background-color:#fff;',
'    }',
'  .yellowBg{',
'    background-color:#fc0;',
'    }',
'  .cPie100 {',
'    background-position: -26px -26px;',
'    }',
'  .cPie75 {',
'    background-position: -52px -26px;',
'    }',
'  .cPie50 {',
'    background-position: -52px 0;',
'    }',
'  .cPie25 {',
'    background-position: -26px 0;',
'    }',
'  .cPieDot {',
'    background-image: url("/i/cloud/img/apps/cl_sprite.png");',
'    display: block;',
'    height: 26px;',
'    margin: -14px auto 0;',
'    width: 26px;',
'    position: absolute;',
'    top: 50%;',
'    left: 10px;',
'    width: 26px;',
'    }',
'   .ui-collapsible-content {padding: 0 16px;}',
'   .ui-collaspible-content .ui-listview li:last-child {border-radius: 0 0 8px 8px;}',
'  </style>',
'</head>',
'<body #ONLOAD#>',
'#FORM_OPEN#'))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div data-role="page" id="page1">',
'',
'  <div data-role="header" data-position="fixed" data-theme="b">',
'    #REGION_POSITION_01#<h1>#TITLE#</h1>#REGION_POSITION_02#',
'  </div><!-- /header -->',
'',
'  <div data-role="content">',
'    #BODY#',
'  </div><!-- /content -->',
'',
'  <div data-role="footer" data-position="fixed" data-theme="b">',
'   <div data-role="controlgroup" data-type="horizontal" style="text-align:center;">',
'    <a href="f?p=&APP_ID.:mobile:&SESSION." rel="external" data-role="button" data-icon="home">Home</a>',
'    <a href="f?p=&APP_ID.:home:&SESSION." rel="external" data-role="button" data-icon="star">Full Site</a>',
'    <a href="&LOGOUT_URL." rel="external" data-role="button" data-icon="refresh">Logout</a>',
'   </div>',
'  </div>',
'',
'</div><!-- /page -->'))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'#FORM_CLOSE#    ',
'#DEVELOPER_TOOLBAR#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</body>',
'</html>'))
,p_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="success" id="success-message">',
'  <img src="#IMAGE_PREFIX#delete.gif" onclick="$x_Remove(''success-message'')" style="float:right;" class="remove-message" alt="" />',
'  #SUCCESS_MESSAGE#',
'</div>'))
,p_notification_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="notification" id="notification-message">',
'  <img src="#IMAGE_PREFIX#delete.gif" onclick="$x_Remove(''notification-message'')"  style="float:right;" class="remove-message" alt="" />#MESSAGE#',
'</div>'))
,p_navigation_bar=>'#BAR_BODY#'
,p_navbar_entry=>'<div class="navbar-entry"><a href="#LINK#" class="t1NavigationBar">#TEXT#</a></div>'
,p_region_table_cattributes=>'summary="" cellpadding="0" border="0" cellspacing="0" width="100%"'
,p_sidebar_def_reg_pos=>'REGION_POSITION_02'
,p_breadcrumb_def_reg_pos=>'REGION_POSITION_01'
,p_theme_class_id=>1
,p_grid_type=>'TABLE'
,p_reference_id=>2579029401921689380
,p_translate_this_template=>'N'
);
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(6040710423386910722)
,p_theme_id=>101
,p_name=>'Login'
,p_internal_name=>'LOGIN'
,p_is_popup=>false
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!--[if HTML5]><![endif]-->',
'<!doctype html>',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<!--[if lt IE 7 ]> <html class="ie6 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 7 ]>    <html class="ie7 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 8 ]>    <html class="ie8 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 9 ]>    <html class="ie9" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if (gt IE 9)|!(IE)]><!--> <html lang="&BROWSER_LANGUAGE."> <!--<![endif]-->',
'<head>',
'<!--[if !HTML5]>',
'  ',
'<![endif]-->',
'  <meta charset="UTF-8">',
'  <title>#TITLE#</title>',
'  <link rel="icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  <link rel="shortcut icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  #APEX_CSS#',
'#THEME_CSS#',
'#TEMPLATE_CSS#',
'#THEME_STYLE_CSS#',
'#APPLICATION_CSS#',
'#PAGE_CSS#',
'#APEX_JAVASCRIPT#',
'#THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'#APPLICATION_JAVASCRIPT#',
'#PAGE_JAVASCRIPT#',
'#HEAD#',
'  <meta name="viewport" content="width=device-width, initial-scale=1.0">',
'  <link rel="stylesheet" href="#IMAGE_PREFIX#cloud/app_theme/css/4_1.css">',
'  <script src="#IMAGE_PREFIX#cloud/app_theme/js/4_1.js"></script>',
'</head>',
'<body #ONLOAD# id="uLogin">',
'  <!--[if lte IE 6]><div id="outdated-browser">#OUTDATED_BROWSER#</div><![endif]-->',
'  #FORM_OPEN#',
'  <div id="uBodyContainer">'))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="uLoginContainer">',
'  #SUCCESS_MESSAGE##NOTIFICATION_MESSAGE##GLOBAL_NOTIFICATION#',
'  #REGION_POSITION_02#',
'  #BODY#',
'  #REGION_POSITION_03#',
'</div>'))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</div>',
'#FORM_CLOSE#',
'#DEVELOPER_TOOLBAR#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</body>',
'</html>'))
,p_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uSuccessMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uSuccessMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uCheckmarkIcon" alt="" />',
'    <div class="uMessageText">',
'      #SUCCESS_MESSAGE#',
'    </div>',
'  </div>',
'</section>'))
,p_notification_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uSingleAlertMessage red" id="uNotificationMessage">',
'	<p>#MESSAGE#</p>',
'	<a href="javascript:void(0)" class="closeMessage" onclick="$x_Remove(''uNotificationMessage'')"></a>',
'</section>',
''))
,p_navigation_bar=>'#BAR_BODY#'
,p_region_table_cattributes=>' summary="" cellpadding="0" border="0" cellspacing="0"'
,p_theme_class_id=>6
,p_grid_type=>'TABLE'
,p_reference_id=>1826085722570571701
,p_translate_this_template=>'N'
,p_template_comment=>'18'
);
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(6040710727146910724)
,p_theme_id=>101
,p_name=>'No Tabs - No Sidebar'
,p_internal_name=>'NO_TABS_NO_SIDEBAR'
,p_is_popup=>false
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!--[if HTML5]><![endif]-->',
'<!doctype html>',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<!--[if lt IE 7 ]> <html class="ie6 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 7 ]>    <html class="ie7 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 8 ]>    <html class="ie8 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 9 ]>    <html class="ie9" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if (gt IE 9)|!(IE)]><!--> <html lang="&BROWSER_LANGUAGE."> <!--<![endif]-->',
'<head>',
'<!--[if !HTML5]>',
'  ',
'<![endif]-->',
'  <meta charset="UTF-8">',
'  <title>#TITLE#</title>',
'  <link rel="icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  <link rel="shortcut icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  #APEX_CSS#',
'#THEME_CSS#',
'#TEMPLATE_CSS#',
'#THEME_STYLE_CSS#',
'#APPLICATION_CSS#',
'#PAGE_CSS#',
'#APEX_JAVASCRIPT#',
'#THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'#APPLICATION_JAVASCRIPT#',
'#PAGE_JAVASCRIPT#',
'#HEAD#',
'  <meta name="viewport" content="width=device-width, initial-scale=1.0">',
'  <link rel="stylesheet" href="#IMAGE_PREFIX#cloud/app_theme/css/4_1.css?v=2">',
'  <script src="#IMAGE_PREFIX#cloud/app_theme/js/4_1.js"></script>',
'</head>',
'<body #ONLOAD#>',
'  <!--[if lte IE 6]><div id="outdated-browser">#OUTDATED_BROWSER#</div><![endif]-->',
'  #FORM_OPEN#',
'  <div id="uBodyContainer">'))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<header id="uHeader">',
'  #REGION_POSITION_07#',
'  <hgroup>',
'    <a href="#HOME_LINK#" id="uLogo">#LOGO#</a>',
'    <div class="userBlock">',
'      <img src="#IMAGE_PREFIX#f_spacer.gif" class="navIcon user" alt="">',
'      <span>&APP_USER.</span>',
'      #NAVIGATION_BAR#',
'    </div>',
'  </hgroup>',
'  #REGION_POSITION_04#',
'</header>',
'#REGION_POSITION_01#',
'#SUCCESS_MESSAGE##NOTIFICATION_MESSAGE##GLOBAL_NOTIFICATION#',
'<div id="uOneCol">',
'  #REGION_POSITION_02#',
'  #BODY#',
'  #REGION_POSITION_03#',
'</div>'))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<footer id="uFooter">',
'  <div class="uFooterContent">',
'    <div id="customize">#CUSTOMIZE#</div>',
'    #REGION_POSITION_05#',
'    #SCREEN_READER_TOGGLE#',
'    <span class="uFooterVersion">',
'      #APP_VERSION#',
'    </span>',
'  </div>',
'  <div class="uFooterBG">',
'    <div class="uLeft"></div>',
'    <div class="uRight"></div>',
'  </div>',
'</footer>',
'</div>',
'#FORM_CLOSE#',
'#DEVELOPER_TOOLBAR#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</body>',
'</html>'))
,p_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uSuccessMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uSuccessMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uCheckmarkIcon" alt="" />',
'    <div class="uMessageText">',
'      #SUCCESS_MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_notification_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uNotificationMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uNotificationMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uWarningIcon" alt="" />',
'    <div class="uMessageText">',
'      #MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_navigation_bar=>'#BAR_BODY#'
,p_navbar_entry=>'<a href="#LINK#">#TEXT#</a>#EDIT#'
,p_region_table_cattributes=>' summary="" cellpadding="0" border="0" cellspacing="0" width="100%"'
,p_sidebar_def_reg_pos=>'REGION_POSITION_02'
,p_breadcrumb_def_reg_pos=>'REGION_POSITION_01'
,p_theme_class_id=>3
,p_error_page_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uNoHeading uErrorRegion">',
'  <div class="uRegionContent">',
'    <p><strong>#MESSAGE#</strong></p>',
'    <p>#ADDITIONAL_INFO#</p>',
'    <div class="uErrorTechInfo">#TECHNICAL_INFO#</div>',
'  </div>',
'  <div class="uRegionHeading">',
'    <span class="uButtonContainer">',
'      <a href="#BACK_LINK#" class="uButtonLarge uHotButton"><span>#OK#</span></a>',
'    </span>',
'  </div>',
'</section>'))
,p_grid_type=>'TABLE'
,p_reference_id=>1826086026330571703
,p_translate_this_template=>'N'
);
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(6040710906156910724)
,p_theme_id=>101
,p_name=>'One Level Tabs - Left Sidebar'
,p_internal_name=>'ONE_LEVEL_TABS_LEFT_SIDEBAR'
,p_is_popup=>false
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!--[if HTML5]><![endif]-->',
'<!doctype html>',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<!--[if lt IE 7 ]> <html class="ie6 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 7 ]>    <html class="ie7 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 8 ]>    <html class="ie8 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 9 ]>    <html class="ie9" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if (gt IE 9)|!(IE)]><!--> <html lang="&BROWSER_LANGUAGE."> <!--<![endif]-->',
'<head>',
'<!--[if !HTML5]>',
'  ',
'<![endif]-->',
'  <meta charset="UTF-8">',
'  <title>#TITLE#</title>',
'  <link rel="icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  <link rel="shortcut icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  #APEX_CSS#',
'#THEME_CSS#',
'#TEMPLATE_CSS#',
'#THEME_STYLE_CSS#',
'#APPLICATION_CSS#',
'#PAGE_CSS#',
'#APEX_JAVASCRIPT#',
'#THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'#APPLICATION_JAVASCRIPT#',
'#PAGE_JAVASCRIPT#',
'#HEAD#',
'  <meta name="viewport" content="width=device-width, initial-scale=1.0">',
'  <link rel="stylesheet" href="#IMAGE_PREFIX#cloud/app_theme/css/4_1.css?v=2">',
'  <link rel="stylesheet" href="#WORKSPACE_IMAGES#rca13_cm_ui.css">',
'  <script src="#IMAGE_PREFIX#cloud/app_theme/js/4_1.js"></script>',
'</head>',
'<body #ONLOAD#>',
'  <!--[if lte IE 6]><div id="outdated-browser">#OUTDATED_BROWSER#</div><![endif]-->',
'  #FORM_OPEN#',
'  <div id="uBodyContainer">'))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<header id="uHeader">',
'  #REGION_POSITION_07#',
'  <hgroup>',
'    <a href="#HOME_LINK#" id="uLogo">#LOGO#</a>',
'    <div class="userBlock">',
'      <img src="#IMAGE_PREFIX#f_spacer.gif" class="navIcon user" alt="">',
'      <span>&APP_USER.</span>',
'      #NAVIGATION_BAR#',
'    </div>',
'  </hgroup>',
'  <nav>',
'    <ul>',
'      #TAB_CELLS#',
'    </ul>',
'    #REGION_POSITION_08#',
'  </nav>',
'  #REGION_POSITION_04#',
'</header>',
'#REGION_POSITION_01#',
'#SUCCESS_MESSAGE##NOTIFICATION_MESSAGE##GLOBAL_NOTIFICATION#',
'<div id="uTwoColumns">',
'<table id="uPageCols" class="uTwoCol"><tr>',
'  <td id="uLeftCol">',
'    <aside>',
'    #REGION_POSITION_02#',
'    </aside>',
'  </td>',
'  <td id="uMidCol">',
'    #BODY#',
'    #REGION_POSITION_03#',
'  </td>',
'</tr></table>',
'</div>'))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<footer id="uFooter">',
'  <div class="uFooterContent">',
'    <div id="customize">#CUSTOMIZE#</div>',
'    #REGION_POSITION_05#',
'<!--',
'    #SCREEN_READER_TOGGLE#',
'-->',
'    <span class="uFooterVersion">',
'      Collection Manager - #APP_VERSION#',
'    </span>',
'  </div>',
'  <div class="uFooterBG">',
'    <div class="uLeft"></div>',
'    <div class="uRight"></div>',
'  </div>',
'</footer>',
'</div>',
'#FORM_CLOSE#',
'#DEVELOPER_TOOLBAR#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</body>',
'</html>'))
,p_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uSuccessMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uSuccessMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uCheckmarkIcon" alt="" />',
'    <div class="uMessageText">',
'      #SUCCESS_MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_current_tab=>'<li><a href="#TAB_LINK#" class="active">#TAB_LABEL#</a>#TAB_INLINE_EDIT#</li>'
,p_non_current_tab=>'<li><a href="#TAB_LINK#">#TAB_LABEL#</a>#TAB_INLINE_EDIT#</li>'
,p_notification_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uNotificationMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uNotificationMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uWarningIcon" alt="" />',
'    <div class="uMessageText">',
'      #MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_navigation_bar=>'#BAR_BODY#'
,p_navbar_entry=>'<a href="#LINK#">#TEXT#</a>#EDIT#'
,p_region_table_cattributes=>' summary="" cellpadding="0" border="0" cellspacing="0" width="100%"'
,p_sidebar_def_reg_pos=>'REGION_POSITION_02'
,p_breadcrumb_def_reg_pos=>'REGION_POSITION_01'
,p_theme_class_id=>16
,p_grid_type=>'TABLE'
,p_grid_always_use_max_columns=>false
,p_grid_has_column_span=>true
,p_grid_emit_empty_leading_cols=>true
,p_grid_emit_empty_trail_cols=>false
,p_reference_id=>1826086205340571703
,p_translate_this_template=>'N'
);
end;
/
begin
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(6040711119477910725)
,p_theme_id=>101
,p_name=>'One Level Tabs - No Sidebar'
,p_internal_name=>'ONE_LEVEL_TABS_NO_SIDEBAR'
,p_is_popup=>false
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!--[if HTML5]><![endif]-->',
'<!doctype html>',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<!--[if lt IE 7 ]> <html class="ie6 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 7 ]>    <html class="ie7 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 8 ]>    <html class="ie8 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 9 ]>    <html class="ie9" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if (gt IE 9)|!(IE)]><!--> <html lang="&BROWSER_LANGUAGE."> <!--<![endif]-->',
'<head>',
'<!--[if !HTML5]>',
'  ',
'<![endif]-->',
'  <meta charset="UTF-8">',
'  <title>#TITLE#</title>',
'  <link rel="icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  <link rel="shortcut icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  #APEX_CSS#',
'#THEME_CSS#',
'#TEMPLATE_CSS#',
'#THEME_STYLE_CSS#',
'#APPLICATION_CSS#',
'#PAGE_CSS#',
'#APEX_JAVASCRIPT#',
'#THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'#APPLICATION_JAVASCRIPT#',
'#PAGE_JAVASCRIPT#',
'#HEAD#',
'  <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;">',
'  <link rel="stylesheet" href="#IMAGE_PREFIX#cloud/app_theme/css/4_1.css">',
'  <link rel="stylesheet" href="#WORKSPACE_IMAGES#rca13_cm_ui.css">',
'  <script src="#IMAGE_PREFIX#cloud/app_theme/js/4_1.js"></script>',
'</head>',
'<body #ONLOAD#>',
'  <!--[if lte IE 6]><div id="outdated-browser">#OUTDATED_BROWSER#</div><![endif]-->',
'  #FORM_OPEN#',
'  <div id="uBodyContainer">'))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<header id="uHeader">',
'  #REGION_POSITION_07#',
'  <hgroup>',
'    <a href="#HOME_LINK#" id="uLogo">#LOGO#</a>',
'    <div class="userBlock">',
'      <img src="#IMAGE_PREFIX#f_spacer.gif" class="navIcon user" alt="">',
'      <span>&APP_USER.</span>',
'      #NAVIGATION_BAR#',
'    </div>',
'  </hgroup>',
'  <nav>',
'    <ul>',
'      #TAB_CELLS#',
'    </ul>',
'    #REGION_POSITION_08#',
'  </nav>',
'  #REGION_POSITION_04#',
'</header>',
'#REGION_POSITION_01#',
'#SUCCESS_MESSAGE##NOTIFICATION_MESSAGE##GLOBAL_NOTIFICATION#',
'<div id="uOneCol">',
'  #REGION_POSITION_02#',
'  #BODY#',
'  #REGION_POSITION_03#',
'</div>'))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<footer id="uFooter">',
'  <div class="uFooterContent">',
'    <div id="customize">#CUSTOMIZE#</div>',
'    #REGION_POSITION_05#',
'<!--',
'    #SCREEN_READER_TOGGLE#',
'-->',
'    <span class="uFooterVersion"> ',
'      Collection Manager - #APP_VERSION#',
'    </span>',
'  </div>',
'  <div class="uFooterBG">',
'    <div class="uLeft"></div>',
'    <div class="uRight"></div>',
'  </div>',
'</footer>',
'</div>',
'#FORM_CLOSE#',
'#DEVELOPER_TOOLBAR#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</body>',
'</html>'))
,p_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uSuccessMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uSuccessMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uCheckmarkIcon" alt="" />',
'    <div class="uMessageText">',
'      #SUCCESS_MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_current_tab=>'<li><a href="#TAB_LINK#" class="active">#TAB_LABEL#</a>#TAB_INLINE_EDIT#</li>'
,p_non_current_tab=>'<li><a href="#TAB_LINK#">#TAB_LABEL#</a>#TAB_INLINE_EDIT#</li>'
,p_notification_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uNotificationMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uNotificationMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uWarningIcon" alt="" />',
'    <div class="uMessageText">',
'      #MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_navigation_bar=>'#BAR_BODY#'
,p_navbar_entry=>'<a href="#LINK#">#TEXT#</a>#EDIT#'
,p_region_table_cattributes=>'class="regionColumns"'
,p_breadcrumb_def_reg_pos=>'REGION_POSITION_01'
,p_theme_class_id=>1
,p_grid_type=>'TABLE'
,p_grid_always_use_max_columns=>false
,p_grid_has_column_span=>true
,p_grid_emit_empty_leading_cols=>true
,p_grid_emit_empty_trail_cols=>false
,p_reference_id=>1826086418661571704
,p_translate_this_template=>'N'
);
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(6040711207304910725)
,p_theme_id=>101
,p_name=>'One Level Tabs - Right Sidebar'
,p_internal_name=>'ONE_LEVEL_TABS_RIGHT_SIDEBAR'
,p_is_popup=>false
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!--[if HTML5]><![endif]-->',
'<!doctype html>',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<!--[if lt IE 7 ]> <html class="ie6 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 7 ]>    <html class="ie7 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 8 ]>    <html class="ie8 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 9 ]>    <html class="ie9" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if (gt IE 9)|!(IE)]><!--> <html lang="&BROWSER_LANGUAGE."> <!--<![endif]-->',
'<head>',
'<!--[if !HTML5]>',
'  ',
'<![endif]-->',
'  <meta charset="UTF-8">',
'  <title>#TITLE#</title>',
'  <link rel="icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  <link rel="shortcut icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  #APEX_CSS#',
'#THEME_CSS#',
'#TEMPLATE_CSS#',
'#THEME_STYLE_CSS#',
'#APPLICATION_CSS#',
'#PAGE_CSS#',
'#APEX_JAVASCRIPT#',
'#THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'#APPLICATION_JAVASCRIPT#',
'#PAGE_JAVASCRIPT#',
'#HEAD#',
'  <meta name="viewport" content="width=device-width, initial-scale=1.0">',
'  <link rel="stylesheet" href="#IMAGE_PREFIX#cloud/app_theme/css/4_1.css?v=2">',
'  <script src="#IMAGE_PREFIX#cloud/app_theme/js/4_1.js"></script>',
'</head>',
'<body #ONLOAD#>',
'  <!--[if lte IE 6]><div id="outdated-browser">#OUTDATED_BROWSER#</div><![endif]-->',
'  #FORM_OPEN#',
'  <div id="uBodyContainer">'))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<header id="uHeader">',
'  #REGION_POSITION_07#',
'  <hgroup>',
'    <a href="#HOME_LINK#" id="uLogo">#LOGO#</a>',
'    <div class="userBlock">',
'      <img src="#IMAGE_PREFIX#f_spacer.gif" class="navIcon user" alt="">',
'      <span>&APP_USER.</span>',
'      #NAVIGATION_BAR#',
'    </div>',
'  </hgroup>',
'  <nav>',
'    <ul>',
'      #TAB_CELLS#',
'    </ul>',
'    #REGION_POSITION_08#',
'  </nav>',
'  #REGION_POSITION_04#',
'</header>',
'#REGION_POSITION_01#',
'#SUCCESS_MESSAGE##NOTIFICATION_MESSAGE##GLOBAL_NOTIFICATION#',
'<div id="uTwoColumns">',
'<table id="uPageCols" class="uTwoCol"><tr>',
'  <td id="uMidCol">',
'    #REGION_POSITION_02#',
'    #BODY#',
'  </td>',
'  <td id="uRightCol">',
'    <aside>',
'    #REGION_POSITION_03#',
'    </aside>',
'  </td>',
'</tr></table>',
'</div>'))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<footer id="uFooter">',
'  <div class="uFooterContent">',
'    <div id="customize">#CUSTOMIZE#</div>',
'    #REGION_POSITION_05#',
'<!--',
'    #SCREEN_READER_TOGGLE#',
'-->',
'    <span class="uFooterVersion">',
'      Collection Manager - #APP_VERSION#',
'    </span>',
'  </div>',
'  <div class="uFooterBG">',
'    <div class="uLeft"></div>',
'    <div class="uRight"></div>',
'  </div>',
'</footer>',
'</div>',
'#FORM_CLOSE#',
'#DEVELOPER_TOOLBAR#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</body>',
'</html>'))
,p_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uSuccessMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uSuccessMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uCheckmarkIcon" alt="" />',
'    <div class="uMessageText">',
'      #SUCCESS_MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_current_tab=>'<li><a href="#TAB_LINK#" class="active">#TAB_LABEL#</a>#TAB_INLINE_EDIT#</li>'
,p_non_current_tab=>'<li><a href="#TAB_LINK#">#TAB_LABEL#</a>#TAB_INLINE_EDIT#</li>'
,p_notification_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uNotificationMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uNotificationMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uWarningIcon" alt="" />',
'    <div class="uMessageText">',
'      #MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_navigation_bar=>'#BAR_BODY#'
,p_navbar_entry=>'<a href="#LINK#">#TEXT#</a>#EDIT#'
,p_breadcrumb_def_reg_pos=>'REGION_POSITION_01'
,p_theme_class_id=>16
,p_grid_type=>'TABLE'
,p_grid_always_use_max_columns=>false
,p_grid_has_column_span=>true
,p_grid_emit_empty_leading_cols=>true
,p_grid_emit_empty_trail_cols=>false
,p_reference_id=>1826086506488571704
,p_translate_this_template=>'N'
);
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(6040711306762910725)
,p_theme_id=>101
,p_name=>'One Level Tabs - Wizard Page'
,p_internal_name=>'ONE_LEVEL_TABS_WIZARD_PAGE'
,p_is_popup=>false
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!--[if HTML5]><![endif]-->',
'<!doctype html>',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<!--[if lt IE 7 ]> <html class="ie6 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 7 ]>    <html class="ie7 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 8 ]>    <html class="ie8 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 9 ]>    <html class="ie9" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if (gt IE 9)|!(IE)]><!--> <html lang="&BROWSER_LANGUAGE."> <!--<![endif]-->',
'<head>',
'<!--[if !HTML5]>',
'  ',
'<![endif]-->',
'  <meta charset="UTF-8">',
'  <title>#TITLE#</title>',
'  <link rel="icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  <link rel="shortcut icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  #APEX_CSS#',
'#THEME_CSS#',
'#TEMPLATE_CSS#',
'#THEME_STYLE_CSS#',
'#APPLICATION_CSS#',
'#PAGE_CSS#',
'#APEX_JAVASCRIPT#',
'#THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'#APPLICATION_JAVASCRIPT#',
'#PAGE_JAVASCRIPT#',
'#HEAD#',
'  <meta name="viewport" content="width=device-width, initial-scale=1.0">',
'  <link rel="stylesheet" href="#IMAGE_PREFIX#cloud/app_theme/css/4_1.css?v=2">',
'  <script src="#IMAGE_PREFIX#cloud/app_theme/js/4_1.js"></script>',
'</head>',
'<body #ONLOAD#>',
'  <!--[if lte IE 6]><div id="outdated-browser">#OUTDATED_BROWSER#</div><![endif]-->',
'  #FORM_OPEN#',
'  <div id="uBodyContainer">'))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<header id="uHeader">',
'  #REGION_POSITION_07#',
'  <hgroup>',
'    <a href="#HOME_LINK#" id="uLogo">#LOGO#</a>',
'    <div class="userBlock">',
'      <img src="#IMAGE_PREFIX#f_spacer.gif" class="navIcon user" alt="">',
'      <span>&APP_USER.</span>',
'      #NAVIGATION_BAR#',
'    </div>',
'  </hgroup>',
'  <nav>',
'    <ul>',
'      #TAB_CELLS#',
'    </ul>',
'    #REGION_POSITION_08#',
'  </nav>',
'  #REGION_POSITION_04#',
'</header>',
'#REGION_POSITION_01#',
'#SUCCESS_MESSAGE##NOTIFICATION_MESSAGE##GLOBAL_NOTIFICATION#',
'<div id="uOneCol">',
'',
'<div class="cWizard">',
'	<div class="cWizardHeader">',
'		#REGION_POSITION_02#',
'	</div>',
'    <div class="cWizardContentContainer">',
'    <div class="cWizardContent">',
'        #BODY##REGION_POSITION_03#',
'    </div>',
'    <div class="clear"></div>',
'</div>',
'',
'</div>'))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<footer id="uFooter">',
'  <div class="uFooterContent">',
'    <div id="customize">#CUSTOMIZE#</div>',
'    #REGION_POSITION_05#',
'<!--',
'    #SCREEN_READER_TOGGLE#',
'-->',
'    <span class="uFooterVersion">',
'      Collection Manager - #APP_VERSION#',
'    </span>',
'  </div>',
'  <div class="uFooterBG">',
'    <div class="uLeft"></div>',
'    <div class="uRight"></div>',
'  </div>',
'</footer>',
'</div>',
'#FORM_CLOSE#',
'#DEVELOPER_TOOLBAR#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</body>',
'</html>'))
,p_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uSuccessMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uSuccessMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uCheckmarkIcon" alt="" />',
'    <div class="uMessageText">',
'      #SUCCESS_MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_current_tab=>'<li><a href="#TAB_LINK#" class="active">#TAB_LABEL#</a>#TAB_INLINE_EDIT#</li>'
,p_non_current_tab=>'<li><a href="#TAB_LINK#">#TAB_LABEL#</a>#TAB_INLINE_EDIT#</li>'
,p_notification_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uNotificationMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uNotificationMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uWarningIcon" alt="" />',
'    <div class="uMessageText">',
'      #MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_navigation_bar=>'#BAR_BODY#'
,p_navbar_entry=>'<a href="#LINK#">#TEXT#</a>#EDIT#'
,p_breadcrumb_def_reg_pos=>'REGION_POSITION_01'
,p_theme_class_id=>1
,p_grid_type=>'TABLE'
,p_grid_always_use_max_columns=>false
,p_grid_has_column_span=>true
,p_grid_emit_empty_leading_cols=>true
,p_grid_emit_empty_trail_cols=>false
,p_reference_id=>1826086605946571704
,p_translate_this_template=>'N'
);
wwv_flow_api.create_template(
 p_id=>wwv_flow_api.id(6040711504582910725)
,p_theme_id=>101
,p_name=>'Printer Friendly'
,p_internal_name=>'PRINTER_FRIENDLY'
,p_is_popup=>false
,p_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!DOCTYPE html>',
'<meta http-equiv="x-ua-compatible" content="IE=edge" />',
'<!--[if lt IE 7 ]> <html class="ie6 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 7 ]>    <html class="ie7 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 8 ]>    <html class="ie8 no-css3" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if IE 9 ]>    <html class="ie9" lang="&BROWSER_LANGUAGE."> <![endif]-->',
'<!--[if (gt IE 9)|!(IE)]><!--> <html lang="&BROWSER_LANGUAGE."> <!--<![endif]-->',
'<head>',
'  <meta charset="UTF-8">',
'  ',
'  <title>#TITLE#</title>',
'  <link rel="icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  <link rel="shortcut icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">',
'  #APEX_CSS#',
'#THEME_CSS#',
'#TEMPLATE_CSS#',
'#THEME_STYLE_CSS#',
'#APPLICATION_CSS#',
'#PAGE_CSS#',
'#APEX_JAVASCRIPT#',
'#THEME_JAVASCRIPT#',
'#TEMPLATE_JAVASCRIPT#',
'#APPLICATION_JAVASCRIPT#',
'#PAGE_JAVASCRIPT#',
'#HEAD#',
'  <meta name="viewport" content="width=device-width, initial-scale=1.0">',
'  <link rel="stylesheet" href="#IMAGE_PREFIX#cloud/app_theme/css/4_1.css?v=2">',
'  <script src="#IMAGE_PREFIX#cloud/app_theme/js/4_1.js"></script>',
'</head>',
'<body #ONLOAD# id="uPrinterFriendly">',
'  <!--[if lte IE 6]><div id="outdated-browser">#OUTDATED_BROWSER#</div><![endif]-->',
'  #FORM_OPEN#',
'  <div id="uBodyContainer">'))
,p_box=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<header id="uHeader">',
'  #REGION_POSITION_07#',
'  <hgroup>',
'    <a href="#HOME_LINK#" id="uLogo">#LOGO#</a>',
'    <div class="uAPEXNavBar">',
'      <ul>',
'        #NAVIGATION_BAR#',
'      </ul>',
'    </div>',
'    #REGION_POSITION_08#',
'  </hgroup>',
'  #REGION_POSITION_01#',
'  #REGION_POSITION_04#',
'</header>',
'#SUCCESS_MESSAGE##NOTIFICATION_MESSAGE##GLOBAL_NOTIFICATION#',
'<div id="uOneCol">',
'  #REGION_POSITION_02#',
'  #BODY#',
'  #REGION_POSITION_03#',
'</div>'))
,p_footer_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<footer id="uFooter">',
'  <div class="uFooterContent">',
'    <div id="customize">#CUSTOMIZE#</div>',
'    #REGION_POSITION_05#',
'    #APP_VERSION#',
'  </div>',
'  <div class="uFooterBG">',
'    <div class="uLeft"></div>',
'    <div class="uRight"></div>',
'  </div>',
'</footer>',
'</div>',
'#FORM_CLOSE#',
'#DEVELOPER_TOOLBAR#',
'#GENERATED_CSS#',
'#GENERATED_JAVASCRIPT#',
'</body>',
'</html>'))
,p_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uSuccessMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uSuccessMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uCheckmarkIcon" alt="" />',
'    <div class="uMessageText">',
'      #SUCCESS_MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_current_tab=>'<li><a href="#TAB_LINK#" class="active">#TAB_LABEL#</a>#TAB_INLINE_EDIT#</li>'
,p_non_current_tab=>'<li><a href="#TAB_LINK#">#TAB_LABEL#</a>#TAB_INLINE_EDIT#</li>'
,p_notification_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uMessageRegion clearfix" id="uNotificationMessage">',
'  <div class="uRegionContent clearfix">',
'    <a href="javascript:void(0)" onclick="$x_Remove(''uNotificationMessage'')" class="uCloseMessage"></a>',
'    <img src="#IMAGE_PREFIX#f_spacer.gif" class="uWarningIcon" alt="" />',
'    <div class="uMessageText">',
'      #MESSAGE#',
'    </div>',
'  </div>',
'</section>',
''))
,p_navigation_bar=>'#BAR_BODY#'
,p_navbar_entry=>'<li><a href="#LINK#">#TEXT#</a>#EDIT#</li>'
,p_region_table_cattributes=>' summary="" cellpadding="0" border="0" cellspacing="0" width="100%"'
,p_theme_class_id=>5
,p_grid_type=>'TABLE'
,p_reference_id=>1826086803766571704
,p_translate_this_template=>'N'
,p_template_comment=>'3'
);
end;
/
prompt --application/shared_components/user_interface/templates/button
begin
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(75057493070768462)
,p_template_name=>'HTML button (legacy - APEX 5 migration)'
,p_internal_name=>'HTML_BUTTON_LEGACY_APEX_5_MIGRATION'
,p_template=>' <input type="button" value="#LABEL#" onclick="#JAVASCRIPT#" id="#BUTTON_ID#" class="#BUTTON_CSS_CLASSES#" #BUTTON_ATTRIBUTES#/>'
,p_hot_template=>' <input type="button" value="#LABEL#" onclick="#JAVASCRIPT#" id="#BUTTON_ID#" class="#BUTTON_CSS_CLASSES#" #BUTTON_ATTRIBUTES#/>'
,p_translate_this_template=>'N'
,p_theme_class_id=>13
,p_theme_id=>101
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(773295130024916327)
,p_template_name=>'100% Button'
,p_internal_name=>'100%_BUTTON'
,p_template=>'<button id="#BUTTON_ID#" type="button" onclick="#JAVASCRIPT#" class="#BUTTON_CSS_CLASSES#" #BUTTON_ATTRIBUTES#>#LABEL#</button>'
,p_hot_template=>'<button id="#BUTTON_ID#" type="button" data-theme="b" onclick="#JAVASCRIPT#" class="#BUTTON_CSS_CLASSES#" #BUTTON_ATTRIBUTES#>#LABEL#</button>'
,p_translate_this_template=>'N'
,p_theme_class_id=>1
,p_theme_id=>102
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(773295331902916327)
,p_template_name=>'Header Button'
,p_internal_name=>'HEADER_BUTTON'
,p_template=>'<a href="#LINK#" id="#BUTTON_ID#" class="#BUTTON_CSS_CLASSES#" #BUTTON_ATTRIBUTES#>#LABEL#</a>'
,p_hot_template=>'<a href="#LINK#" id="#BUTTON_ID#" class="#BUTTON_CSS_CLASSES#" data-theme="b" #BUTTON_ATTRIBUTES#>#LABEL#</a>'
,p_translate_this_template=>'N'
,p_theme_class_id=>1
,p_template_comment=>'It looks like that the <button> tag when used in the header creates a bigger header bar! Have to investigate that'
,p_theme_id=>102
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(773295521565916327)
,p_template_name=>'Inline Button'
,p_internal_name=>'INLINE_BUTTON'
,p_template=>'<button id="#BUTTON_ID#" type="button" data-inline="true" onclick="#JAVASCRIPT#" class="#BUTTON_CSS_CLASSES#" #BUTTON_ATTRIBUTES#>#LABEL#</button>'
,p_hot_template=>'<button id="#BUTTON_ID#" type="button" data-inline="true" data-theme="b" onclick="#JAVASCRIPT#" class="#BUTTON_CSS_CLASSES#" #BUTTON_ATTRIBUTES#>#LABEL#</button>'
,p_translate_this_template=>'N'
,p_theme_class_id=>1
,p_theme_id=>102
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(1474242973541185573)
,p_template_name=>'100% Button'
,p_internal_name=>'100%_BUTTON'
,p_template=>'<button id="#BUTTON_ID#" type="button" onclick="#JAVASCRIPT#" class="#BUTTON_CSS_CLASSES#" #BUTTON_ATTRIBUTES#>#LABEL#</button>'
,p_hot_template=>'<button id="#BUTTON_ID#" type="button" data-theme="b" onclick="#JAVASCRIPT#" class="#BUTTON_CSS_CLASSES#" #BUTTON_ATTRIBUTES#>#LABEL#</button>'
,p_translate_this_template=>'N'
,p_theme_class_id=>1
,p_theme_id=>103
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(1474243185278185573)
,p_template_name=>'Header Button'
,p_internal_name=>'HEADER_BUTTON'
,p_template=>'<a href="#LINK#" id="#BUTTON_ID#" class="#BUTTON_CSS_CLASSES#" #BUTTON_ATTRIBUTES#>#LABEL#</a>'
,p_hot_template=>'<a href="#LINK#" id="#BUTTON_ID#" class="#BUTTON_CSS_CLASSES#" data-theme="b" #BUTTON_ATTRIBUTES#>#LABEL#</a>'
,p_translate_this_template=>'N'
,p_theme_class_id=>1
,p_theme_id=>103
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(1474243383880185573)
,p_template_name=>'Inline Button'
,p_internal_name=>'INLINE_BUTTON'
,p_template=>'<button id="#BUTTON_ID#" type="button" data-inline="true" onclick="#JAVASCRIPT#" class="#BUTTON_CSS_CLASSES#" #BUTTON_ATTRIBUTES#>#LABEL#</button>'
,p_hot_template=>'<button id="#BUTTON_ID#" type="button" data-inline="true" data-theme="b" onclick="#JAVASCRIPT#" class="#BUTTON_CSS_CLASSES#" #BUTTON_ATTRIBUTES#>#LABEL#</button>'
,p_translate_this_template=>'N'
,p_theme_class_id=>1
,p_theme_id=>103
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(1479567185101245687)
,p_template_name=>'Footer Button'
,p_internal_name=>'FOOTER_BUTTON'
,p_template=>'<a href="f?p=&APP_ID.:1:&SESSION." rel="external" data-role="button" id="#BUTTON_ID#" class="#BUTTON_CSS_CLASSES#" #BUTTON_ATTRIBUTES#>#LABEL#</a>'
,p_hot_template=>'<a href="#LINK#" rel="external" data-role="button" id="#BUTTON_ID#" class="#BUTTON_CSS_CLASSES#" data-theme="b" #BUTTON_ATTRIBUTES#>#LABEL#</a>'
,p_translate_this_template=>'N'
,p_theme_class_id=>1
,p_theme_id=>103
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(2674714476264585861)
,p_template_name=>'[ + ] Add Button'
,p_internal_name=>'[_+_]_ADD_BUTTON'
,p_template=>'<a href="#LINK#" class="uIconButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# title="#LABEL#" role="button"><img src="#IMAGE_PREFIX#f_spacer.gif" alt="#LABEL#" class="addIcon" /></a>'
,p_hot_template=>'<a href="#LINK#" class="uIconButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# title="#LABEL#" role="button"><img src="#IMAGE_PREFIX#f_spacer.gif" alt="#LABEL#"  class="addIcon"/></a>'
,p_reference_id=>2293089607080631579
,p_translate_this_template=>'N'
,p_theme_class_id=>1
,p_theme_id=>101
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(2674714674026585862)
,p_template_name=>'[ > ] Go To Button'
,p_internal_name=>'[_>_]_GO_TO_BUTTON'
,p_template=>'<a href="#LINK#" class="uIconButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# title="#LABEL#" role="button"><img src="#IMAGE_PREFIX#f_spacer.gif" alt="#LABEL#" class="gotoIcon" /></a>'
,p_hot_template=>'<a href="#LINK#" class="uIconButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# title="#LABEL#" role="button"><img src="#IMAGE_PREFIX#f_spacer.gif" alt="#LABEL#" class="gotoIcon"/></a>'
,p_reference_id=>2293014411451623370
,p_translate_this_template=>'N'
,p_theme_class_id=>1
,p_theme_id=>101
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(2955204383161343979)
,p_template_name=>'Button (Next)'
,p_internal_name=>'BUTTON_NEXT'
,p_template=>'<a href="#LINK#" class="uButtonLarge nextButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# role="button"><span>#LABEL#<img src="#IMAGE_PREFIX#f_spacer.gif" class="uButtonIcon nextIcon" alt=""></span></a> '
,p_hot_template=>'<a href="#LINK#" class="uButtonLarge uHotButton nextButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# role="button"><span>#LABEL#<img src="#IMAGE_PREFIX#f_spacer.gif" class="uButtonIcon nextIcon" alt=""></span></a> '
,p_reference_id=>2617404610575945338
,p_translate_this_template=>'N'
,p_theme_class_id=>5
,p_template_comment=>'Standard Button'
,p_theme_id=>101
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(2955204585164343995)
,p_template_name=>'Button (Previous)'
,p_internal_name=>'BUTTON_PREVIOUS'
,p_template=>'<a href="#LINK#" class="uButtonLarge prevButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# role="button" title="#LABEL#"><span><img src="#IMAGE_PREFIX#f_spacer.gif" class="uButtonIcon prevIcon" alt="#LABEL#"></span></a> '
,p_hot_template=>'<a href="#LINK#" class="uButtonLarge utHotButton prevButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# role="button" title="#LABEL#"><span><img src="#IMAGE_PREFIX#f_spacer.gif" class="uButtonIcon prevIcon" alt="#LABEL#"></span></a> '
,p_reference_id=>2617404703434952775
,p_translate_this_template=>'N'
,p_theme_class_id=>5
,p_template_comment=>'Standard Button'
,p_theme_id=>101
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(2955206389689345171)
,p_template_name=>'Interactive Report Button (Next)'
,p_internal_name=>'INTERACTIVE_REPORT_BUTTON_NEXT'
,p_template=>'<a href="#LINK#" class="uButtonIR nextButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# role="button"><span>#LABEL#<img src="#IMAGE_PREFIX#f_spacer.gif" class="uButtonIcon nextIcon" alt=""></span></a> '
,p_hot_template=>'<a href="#LINK#" class="uButtonIR uHotButton nextButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# role="button"><span>#LABEL#<img src="#IMAGE_PREFIX#f_spacer.gif" class="uButtonIcon nextIcon" alt=""></span></a> '
,p_reference_id=>2617406929322979204
,p_translate_this_template=>'N'
,p_theme_class_id=>5
,p_template_comment=>'Standard Button'
,p_theme_id=>101
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(6040717727700910742)
,p_template_name=>'Button'
,p_internal_name=>'BUTTON'
,p_template=>'<a href="#LINK#" class="uButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# role="button"><span>#LABEL#</span></a> '
,p_hot_template=>'<a href="#LINK#" class="uButton uHotButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# role="button"><span>#LABEL#</span></a> '
,p_reference_id=>1826093026884571721
,p_translate_this_template=>'N'
,p_theme_class_id=>1
,p_theme_id=>101
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(6040717814537910745)
,p_template_name=>'Interactive Report Button'
,p_internal_name=>'INTERACTIVE_REPORT_BUTTON'
,p_template=>'<a href="#LINK#" class="uButtonIR" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# role="button"><span>#LABEL#</span></a> '
,p_hot_template=>'<a href="#LINK#" class="uButtonIR uHotButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# role="button"><span>#LABEL#</span></a> '
,p_reference_id=>1826093113721571724
,p_translate_this_template=>'N'
,p_theme_class_id=>2
,p_theme_id=>101
);
wwv_flow_api.create_button_templates(
 p_id=>wwv_flow_api.id(6040717906070910745)
,p_template_name=>'Large Button'
,p_internal_name=>'LARGE_BUTTON'
,p_template=>'<a href="#LINK#" class="uButtonLarge" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# role="button"><span>#LABEL#</span></a> '
,p_hot_template=>'<a href="#LINK#" class="uButtonLarge uHotButton" id="#BUTTON_ID#" #BUTTON_ATTRIBUTES# role="button"><span>#LABEL#</span></a> '
,p_reference_id=>1826093205254571724
,p_translate_this_template=>'N'
,p_theme_class_id=>5
,p_template_comment=>'Standard Button'
,p_theme_id=>101
);
end;
/
prompt --application/shared_components/user_interface/templates/region
begin
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773288518038916323)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="controlgroup" data-type="horizontal" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'#CLOSE#',
'#DELETE#',
'#CREATE#',
'#EDIT#',
'#CHANGE#',
'#BODY#',
'</div>'))
,p_page_plug_template_name=>'Button Group (Horizontal)'
,p_internal_name=>'BUTTON_GROUP_HORIZONTAL'
,p_theme_id=>102
,p_theme_class_id=>17
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773288829891916323)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="controlgroup" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'#CLOSE#',
'#DELETE#',
'#CREATE#',
'#EDIT#',
'#CHANGE#',
'#BODY#',
'</div>'))
,p_page_plug_template_name=>'Button Group (Vertical)'
,p_internal_name=>'BUTTON_GROUP_VERTICAL'
,p_theme_id=>102
,p_theme_class_id=>17
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773289114915916323)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="collapsible-set" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'#SUB_REGIONS#',
'</div>'))
,p_page_plug_template_name=>'Collapsible Set-Normal'
,p_internal_name=>'COLLAPSIBLE_SETNORMAL'
,p_theme_id=>102
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773289427083916323)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="collapsible-set" data-mini="true" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'#SUB_REGIONS#',
'</div>'))
,p_page_plug_template_name=>'Collapsible Set-Smaller'
,p_internal_name=>'COLLAPSIBLE_SETSMALLER'
,p_theme_id=>102
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773289735650916324)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="collapsible" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'<h3>#TITLE#</h3>',
'#BODY#',
'</div>'))
,p_page_plug_template_name=>'Collapsible-Normal (Closed)'
,p_internal_name=>'COLLAPSIBLENORMAL_CLOSED'
,p_theme_id=>102
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773290022335916324)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="collapsible" data-collapsed="false" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'<h3>#TITLE#</h3>',
'#BODY#',
'</div>'))
,p_page_plug_template_name=>'Collapsible-Normal (Open)'
,p_internal_name=>'COLLAPSIBLENORMAL_OPEN'
,p_theme_id=>102
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773290316007916325)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="collapsible" data-mini="true" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'<h3>#TITLE#</h3>',
'#BODY#',
'</div>'))
,p_page_plug_template_name=>'Collapsible-Smaller (Closed)'
,p_internal_name=>'COLLAPSIBLESMALLER_CLOSED'
,p_theme_id=>102
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773290608914916325)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="collapsible" data-collapsed="false" data-mini="true" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'<h3>#TITLE#</h3>',
'#BODY#',
'</div>'))
,p_page_plug_template_name=>'Collapsible-Smaller (Open)'
,p_internal_name=>'COLLAPSIBLESMALLER_OPEN'
,p_theme_id=>102
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773290922616916325)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="footer" data-theme="b" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'  #CHANGE#',
'  #BODY#',
'</div> <!-- /footer -->'))
,p_page_plug_template_name=>'Footer Toolbar (Displays at Bottom of Page)'
,p_internal_name=>'FOOTER_TOOLBAR_DISPLAYS_AT_BOTTOM_OF_PAGE'
,p_theme_id=>102
,p_theme_class_id=>22
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773291217897916325)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-id="#REGION_STATIC_ID#" data-role="footer" data-theme="b" data-position="fixed" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'  #CHANGE#',
'  #BODY#',
'</div> <!-- /footer -->'))
,p_page_plug_template_name=>'Footer Toolbar (Fixed)'
,p_internal_name=>'FOOTER_TOOLBAR_FIXED'
,p_theme_id=>102
,p_theme_class_id=>22
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773291538282916325)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-id="#REGION_STATIC_ID#" data-role="footer" data-theme="b" data-position="fixed" data-fullscreen="true" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'  #CHANGE#',
'  #BODY#',
'</div> <!-- /footer -->'))
,p_page_plug_template_name=>'Footer Toolbar (Fullscreen)'
,p_internal_name=>'FOOTER_TOOLBAR_FULLSCREEN'
,p_theme_id=>102
,p_theme_class_id=>22
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773291829949916326)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-id="#REGION_STATIC_ID#" data-role="header" data-theme="b" data-position="fixed" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'  #PREVIOUS#',
'  <h1>#PAGE_TITLE#</h1>',
'  #NEXT#',
'  #BODY#',
'</div> <!-- /header -->'))
,p_page_plug_template_name=>'Header Toolbar (Fixed)'
,p_internal_name=>'HEADER_TOOLBAR_FIXED'
,p_theme_id=>102
,p_theme_class_id=>21
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773292113702916326)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-id="#REGION_STATIC_ID#" data-role="header" data-theme="b" data-position="fixed" data-fullscreen="true" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'  #PREVIOUS#',
'  <h1>#TITLE#</h1>',
'  #NEXT#',
'  #BODY#',
'</div> <!-- /header -->'))
,p_page_plug_template_name=>'Header Toolbar (Fullscreen)'
,p_internal_name=>'HEADER_TOOLBAR_FULLSCREEN'
,p_theme_id=>102
,p_theme_class_id=>21
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773292411032916326)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#">',
'#BODY#',
'#SUB_REGIONS#',
'#CLOSE#',
'#DELETE#',
'#CREATE#',
'#EDIT#',
'#CHANGE#',
'</div>'))
,p_page_plug_template_name=>'Plain (No Title)'
,p_internal_name=>'PLAIN_NO_TITLE'
,p_theme_id=>102
,p_theme_class_id=>7
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773292712002916326)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" class="ui-collapsible #REGION_CSS_CLASSES#" data-theme="b" #REGION_ATTRIBUTES#>',
'  <h3 class="ui-collapsible-heading ui-btn ui-corner-top ui-btn-up-a">',
'    <span class="ui-btn-inner ui-corner-top ui-corner-bottom">',
'      <span lass="ui-btn-text">#TITLE#</span>',
'    </span>',
'  </h3>',
'  <div class="ui-collapsible-content ui-body-c ui-corner-bottom">',
'    #BODY#',
'    #SUB_REGIONS#',
'    #EDIT#',
'  </div>',
'</div>'))
,p_page_plug_template_name=>'Region (With Title Bar)'
,p_internal_name=>'REGION_WITH_TITLE_BAR'
,p_theme_id=>102
,p_theme_class_id=>8
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(773293013866916326)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" class="#REGION_CSS_CLASSES#" data-theme="b" #REGION_ATTRIBUTES#>',
'<h3>#TITLE#</h3>',
'#BODY#',
'#SUB_REGIONS#',
'#EDIT#',
'</div>'))
,p_page_plug_template_name=>'Region (With Title)'
,p_internal_name=>'REGION_WITH_TITLE'
,p_theme_id=>102
,p_theme_class_id=>7
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1111422642120156583)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#">',
'#BODY#',
'#SUB_REGIONS#',
'#CLOSE#',
'#DELETE#',
'#CREATE#',
'#EDIT#',
'#CHANGE#',
'</div>'))
,p_page_plug_template_name=>'Plain (No Title)'
,p_internal_name=>'PLAIN_NO_TITLE'
,p_theme_id=>103
,p_theme_class_id=>7
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474236683895185569)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="controlgroup" data-type="horizontal" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'#CLOSE#',
'#DELETE#',
'#CREATE#',
'#EDIT#',
'#CHANGE#',
'#BODY#',
'</div>'))
,p_page_plug_template_name=>'Button Group (Horizontal)'
,p_internal_name=>'BUTTON_GROUP_HORIZONTAL'
,p_theme_id=>103
,p_theme_class_id=>17
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474236971863185569)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="controlgroup" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'#CLOSE#',
'#DELETE#',
'#CREATE#',
'#EDIT#',
'#CHANGE#',
'#BODY#',
'</div>'))
,p_page_plug_template_name=>'Button Group (Vertical)'
,p_internal_name=>'BUTTON_GROUP_VERTICAL'
,p_theme_id=>103
,p_theme_class_id=>17
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474237287370185569)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="collapsible-set" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'#SUB_REGIONS#',
'</div>'))
,p_page_plug_template_name=>'Collapsible Set-Normal'
,p_internal_name=>'COLLAPSIBLE_SETNORMAL'
,p_theme_id=>103
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474237576457185569)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="collapsible-set" data-mini="true" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'#SUB_REGIONS#',
'</div>'))
,p_page_plug_template_name=>'Collapsible Set-Smaller'
,p_internal_name=>'COLLAPSIBLE_SETSMALLER'
,p_theme_id=>103
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474237876698185569)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="collapsible" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'<h3>#TITLE#</h3>',
'#BODY#',
'</div>'))
,p_page_plug_template_name=>'Collapsible-Normal (Closed)'
,p_internal_name=>'COLLAPSIBLENORMAL_CLOSED'
,p_theme_id=>103
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474238179350185569)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="collapsible" data-collapsed="false" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'<h3>#TITLE#</h3>',
'#BODY#',
'</div>'))
,p_page_plug_template_name=>'Collapsible-Normal (Open)'
,p_internal_name=>'COLLAPSIBLENORMAL_OPEN'
,p_theme_id=>103
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474238476087185569)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="collapsible" data-mini="true" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'<h3>#TITLE#</h3>',
'#BODY#',
'</div>'))
,p_page_plug_template_name=>'Collapsible-Smaller (Closed)'
,p_internal_name=>'COLLAPSIBLESMALLER_CLOSED'
,p_theme_id=>103
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474238758803185570)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="collapsible" data-collapsed="false" data-mini="true" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'<h3>#TITLE#</h3>',
'#BODY#',
'</div>'))
,p_page_plug_template_name=>'Collapsible-Smaller (Open)'
,p_internal_name=>'COLLAPSIBLESMALLER_OPEN'
,p_theme_id=>103
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474239059657185570)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-role="footer" data-theme="b" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'  #CHANGE#',
'  #BODY#',
'</div> <!-- /footer -->'))
,p_page_plug_template_name=>'Footer Toolbar (Displays at Bottom of Page)'
,p_internal_name=>'FOOTER_TOOLBAR_DISPLAYS_AT_BOTTOM_OF_PAGE'
,p_theme_id=>103
,p_theme_class_id=>22
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474239365166185570)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-id="#REGION_STATIC_ID#" data-role="footer" data-theme="b" data-position="fixed" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'  #CHANGE#',
'  #BODY#',
'</div> <!-- /footer -->'))
,p_page_plug_template_name=>'Footer Toolbar (Fixed)'
,p_internal_name=>'FOOTER_TOOLBAR_FIXED'
,p_theme_id=>103
,p_theme_class_id=>22
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474239664987185570)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-id="#REGION_STATIC_ID#" data-role="footer" data-theme="b" data-position="fixed" data-fullscreen="true" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'  #CHANGE#',
'  #BODY#',
'</div> <!-- /footer -->'))
,p_page_plug_template_name=>'Footer Toolbar (Fullscreen)'
,p_internal_name=>'FOOTER_TOOLBAR_FULLSCREEN'
,p_theme_id=>103
,p_theme_class_id=>22
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474239981177185570)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-id="#REGION_STATIC_ID#" data-role="header" data-theme="b" data-position="fixed" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'  #PREVIOUS#',
'  <h1>#PAGE_TITLE#</h1>',
'  #NEXT#',
'  #BODY#',
'</div> <!-- /header -->'))
,p_page_plug_template_name=>'Header Toolbar (Fixed)'
,p_internal_name=>'HEADER_TOOLBAR_FIXED'
,p_theme_id=>103
,p_theme_class_id=>21
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474240266026185570)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" data-id="#REGION_STATIC_ID#" data-role="header" data-theme="b" data-position="fixed" data-fullscreen="true" class="#REGION_CSS_CLASSES#" #REGION_ATTRIBUTES#>',
'  #PREVIOUS#',
'  <h1>#TITLE#</h1>',
'  #NEXT#',
'  #BODY#',
'</div> <!-- /header -->'))
,p_page_plug_template_name=>'Header Toolbar (Fullscreen)'
,p_internal_name=>'HEADER_TOOLBAR_FULLSCREEN'
,p_theme_id=>103
,p_theme_class_id=>21
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474240864015185571)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" class="ui-collapsible #REGION_CSS_CLASSES#" data-theme="b" #REGION_ATTRIBUTES#>',
'  <h3 class="ui-collapsible-heading ui-btn ui-corner-top ui-btn-up-a">',
'    <span class="ui-btn-inner ui-corner-top ui-corner-bottom">',
'      <span lass="ui-btn-text">#TITLE#</span>',
'    </span>',
'  </h3>',
'  <div class="ui-collapsible-content ui-body-c ui-corner-bottom">',
'    #BODY#',
'    #SUB_REGIONS#',
'    #EDIT#',
'  </div>',
'</div>'))
,p_page_plug_template_name=>'Region (With Title Bar)'
,p_internal_name=>'REGION_WITH_TITLE_BAR'
,p_theme_id=>103
,p_theme_class_id=>8
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1474241178808185571)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" class="#REGION_CSS_CLASSES#" data-theme="b" #REGION_ATTRIBUTES#>',
'<h3>#TITLE#</h3>',
'#BODY#',
'#SUB_REGIONS#',
'#EDIT#',
'</div>'))
,p_page_plug_template_name=>'Region (With Title)'
,p_internal_name=>'REGION_WITH_TITLE'
,p_theme_id=>103
,p_theme_class_id=>7
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(1479440783977087563)
,p_layout=>'TABLE'
,p_template=>'<div data-role="controlgroup" data-type="horizontal" style="margin: 0 auto;">#BODY#</div>'
,p_page_plug_template_name=>'Control Group'
,p_internal_name=>'CONTROL_GROUP'
,p_theme_id=>103
,p_theme_class_id=>17
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(2674547298698564458)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#_parent">',
'<section class="uRegion uWhiteRegion uModalRegion uAlertRegion clearfix" id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <div class="uRegionHeading">',
'    <h1 class="modal_title">#TITLE#</h1>',
'  </div>',
'  <div class="uRegionContent clearfix">',
'    #BODY#',
'  </div>',
'    <span class="uButtonContainer">',
'      #CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'    </span>',
'</section>',
'</div>'))
,p_page_plug_template_name=>'Modal Region'
,p_internal_name=>'MODAL_REGION'
,p_plug_table_bgcolor=>'#ffffff'
,p_theme_id=>101
,p_theme_class_id=>9
,p_plug_heading_bgcolor=>'#ffffff'
,p_plug_font_size=>'-1'
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>2251213317615150948
,p_translate_this_template=>'N'
,p_template_comment=>'Red Theme'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(2674554283312565687)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uBorderlessRegion uHideShowRegion clearfix" id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <div class="uRegionHeading">',
'    <h1>',
'      <a href="javascript:void(0)" class="uRegionControl uRegionCollapsed"><img src="#IMAGE_PREFIX#f_spacer.gif" alt="Hide/Show"/></a>',
'      #TITLE#',
'    </h1>',
'    <span class="uButtonContainer">',
'      #CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'    </span>',
'  </div>',
'  <div class="uRegionContent clearfix" style="display: none;">',
'    #BODY#',
'  </div>',
'</section>'))
,p_page_plug_template_name=>'Hide and Show Region (Hidden First) - Borderless'
,p_internal_name=>'HIDE_AND_SHOW_REGION_HIDDEN_FIRST_BORDERLESS'
,p_theme_id=>101
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>2285517502860750312
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(2674561286370567975)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#> ',
'#BODY#',
'#CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'</div>'))
,p_page_plug_template_name=>'DIV Region with ID'
,p_internal_name=>'DIV_REGION_WITH_ID'
,p_theme_id=>101
,p_theme_class_id=>22
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>2255170731297892950
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(2674974881923618883)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'#SUB_REGION_HEADERS#',
'#BODY#',
'<div class="uFrameContainer">',
'#SUB_REGIONS#',
'</div>'))
,p_sub_plug_header_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="uFrameRegionSelector clearfix">',
'  <ul>',
'    <li><a href="javascript:void(0);" class="showAllLink active"><span>Show All</span></a></li>',
'    #ENTRIES#',
'  </ul>',
'</div>'))
,p_sub_plug_header_entry_templ=>'<li><a href="javascript:void(0);" id="sub_#SUB_REGION_ID#"><span>#SUB_REGION_TITLE#</span></a></li>'
,p_page_plug_template_name=>'Content Frame Body Container'
,p_internal_name=>'CONTENT_FRAME_BODY_CONTAINER'
,p_theme_id=>101
,p_theme_class_id=>7
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>2293805019818729835
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(2803122468068211582)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uRegionNoPadding clearfix uLoginRegion" id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <div class="uLoginHeading">',
'    <span class="bgArrow"></span>',
'    <div class="appIcon">',
'      <img src="#IMAGE_PREFIX#f_spacer.gif" class="appIcon #REGION_STATIC_ID#" alt=""/>',
'    </div> ',
'    <h1>#TITLE#</h1>',
'  </div>',
'  <div class="uLoginBody clearfix">',
'    #BODY#',
'    <span class="uButtonContainer">',
'      #CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'    </span>',
'  </div>',
'</section>'))
,p_page_plug_template_name=>'Login Region'
,p_internal_name=>'LOGIN_REGION'
,p_plug_table_bgcolor=>'#ffffff'
,p_theme_id=>101
,p_theme_class_id=>9
,p_plug_heading_bgcolor=>'#ffffff'
,p_plug_font_size=>'-1'
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>2465570310818904157
,p_translate_this_template=>'N'
,p_template_comment=>'Red Theme'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(2918061190793017545)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div data-role="collapsible" data-theme="b" data-content-theme="b" #REGION_ATTRIBUTES# id="#REGION_STATIC_ID#">',
'  <h3>#TITLE#</h3>',
'  <p>#BODY#</p>',
'</div>'))
,p_page_plug_template_name=>'+ Mobile Collapsible Region'
,p_internal_name=>'+_MOBILE_COLLAPSIBLE_REGION'
,p_theme_id=>101
,p_theme_class_id=>21
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>2589831515797740870
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(2988795774295578526)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uFilterRegion clearfix" id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <div class="uRegionHeading">',
'    <h1>#TITLE#</h1>',
'  </div>',
'  <div class="uRegionContent clearfix">',
'    #BODY#',
'    <span class="uButtonContainer">#CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'    </span>',
'  </div>',
'</section>'))
,p_page_plug_template_name=>'Search Filter Region'
,p_internal_name=>'SEARCH_FILTER_REGION'
,p_plug_table_bgcolor=>'#ffffff'
,p_theme_id=>101
,p_theme_class_id=>9
,p_plug_heading_bgcolor=>'#ffffff'
,p_plug_font_size=>'-1'
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>2407973829273317447
,p_translate_this_template=>'N'
,p_template_comment=>'Red Theme'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(4363033908831479553)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uWhiteRegion uAlertRegion clearfix" id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <div class="uRegionHeading">',
'    <h1>#TITLE#</h1>',
'  </div>',
'  <div class="uRegionContent clearfix">',
'    #BODY#',
'  </div>',
'    <span class="uButtonContainer">',
'      #CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'    </span>',
'</section>'))
,p_page_plug_template_name=>'Alert Region'
,p_internal_name=>'ALERT_REGION'
,p_plug_table_bgcolor=>'#ffffff'
,p_theme_id=>101
,p_theme_class_id=>10
,p_plug_heading_bgcolor=>'#ffffff'
,p_plug_font_size=>'-1'
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>1979409308828842473
,p_translate_this_template=>'N'
,p_template_comment=>'Used for alerts and confirmations.  Please use a region image for the success/warning icon'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(6040712028632910726)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uBorderlessRegion clearfix" id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <div class="uRegionHeading">',
'    <h1>#TITLE#</h1>',
'    <span class="uButtonContainer">',
'      #CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'    </span>',
'  </div>',
'  <div class="uRegionContent clearfix">',
'    #BODY#',
'  </div>',
'</section>'))
,p_page_plug_template_name=>'Borderless Region'
,p_internal_name=>'BORDERLESS_REGION'
,p_theme_id=>101
,p_theme_class_id=>7
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>1826087327816571705
,p_translate_this_template=>'N'
,p_template_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'Use this region template when you want to contain content without a border.',
'',
'TITLE=YES',
'BUTTONS=YES',
'100% WIDTH=NO'))
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(6040712204958910730)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="uBreadcrumbs" #REGION_ATTRIBUTES#>',
'  #BODY#',
'  <div class="uBreadcrumbsBG">',
'    <div class="uLeft"></div>',
'    <div class="uRight"></div>',
'  </div>',
'</div>'))
,p_page_plug_template_name=>'Breadcrumb Region'
,p_internal_name=>'BREADCRUMB_REGION'
,p_theme_id=>101
,p_theme_class_id=>6
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>1826087504142571709
,p_translate_this_template=>'N'
,p_template_comment=>'Use this region template to contain breadcrumb menus.  Breadcrumb menus are implemented using breadcrumbs.  Breadcrumb menus are designed to displayed in #REGION_POSITION_01#'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(6040712432812910730)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uButtonRegion clearfix" id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <div class="uButtonRegionContentContainer">',
'    <div class="uButtonRegionContent">#BODY#</div>',
'    <span class="uButtonContainer">',
'      #CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'    </span>',
'  </div>',
'</section>',
''))
,p_page_plug_template_name=>'Button Region without Title'
,p_internal_name=>'BUTTON_REGION_WITHOUT_TITLE'
,p_theme_id=>101
,p_theme_class_id=>17
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>1826087731996571709
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(6040712710992910731)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion clearfix" id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <div class="uRegionHeading">',
'    <h1>#TITLE#</h1>',
'    <span class="uButtonContainer">',
'      #CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'    </span>',
'  </div>',
'  <div class="uRegionContent clearfix">',
'    #BODY#',
'  </div>',
'</section>'))
,p_page_plug_template_name=>'Form Region'
,p_internal_name=>'FORM_REGION'
,p_plug_table_bgcolor=>'#f7f7e7'
,p_theme_id=>101
,p_theme_class_id=>8
,p_plug_heading_bgcolor=>'#f7f7e7'
,p_plug_font_size=>'-1'
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>1826088010176571710
,p_translate_this_template=>'N'
,p_template_comment=>'Red Theme'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(6040712922645910731)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uBorderlessRegion uHideShowRegion clearfix" id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <div class="uRegionHeading">',
'    <h1>',
'      <a href="javascript:void(0)" class="uRegionControl"><img src="#IMAGE_PREFIX#f_spacer.gif" alt="Hide/Show"/></a>',
'      #TITLE#',
'    </h1>',
'    <span class="uButtonContainer">',
'      #CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'    </span>',
'  </div>',
'  <div class="uRegionContent clearfix">',
'    #BODY#',
'  </div>',
'</section>'))
,p_page_plug_template_name=>'Hide and Show Region - Borderless'
,p_internal_name=>'HIDE_AND_SHOW_REGION_BORDERLESS'
,p_theme_id=>101
,p_theme_class_id=>1
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>1826088221829571710
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(6040713028018910731)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uIRRegion" id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <h1 class="visuallyhidden">#TITLE#</h1>',
'  #BODY#',
'</section>'))
,p_page_plug_template_name=>'IRR Region Template'
,p_internal_name=>'IRR_REGION_TEMPLATE'
,p_theme_id=>101
,p_theme_class_id=>21
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>1826088327202571710
,p_translate_this_template=>'N'
);
end;
/
begin
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(6040713433409910731)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uNoHeading clearfix #REGION_CSS_CLASSES# " id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <div class="uRegionHeading">',
'    <span class="uButtonContainer">',
'      #CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'    </span>',
'  </div>',
'  <div class="uRegionContent clearfix">',
'    #BODY#',
'  </div>',
'</section>'))
,p_page_plug_template_name=>'Region without Title'
,p_internal_name=>'REGION_WITHOUT_TITLE'
,p_theme_id=>101
,p_theme_class_id=>11
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>1826088732593571710
,p_translate_this_template=>'N'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(6040713703191910732)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion clearfix" id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <div class="uRegionHeading">',
'    <h1>#TITLE#</h1>',
'    <span class="uButtonContainer">',
'      #CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'    </span>',
'  </div>',
'  <div class="uRegionContent clearfix">',
'    #BODY#',
'  </div>',
'</section>'))
,p_page_plug_template_name=>'Reports Region'
,p_internal_name=>'REPORTS_REGION'
,p_plug_table_bgcolor=>'#ffffff'
,p_theme_id=>101
,p_theme_class_id=>9
,p_plug_heading_bgcolor=>'#ffffff'
,p_plug_font_size=>'-1'
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>1826089002375571711
,p_translate_this_template=>'N'
,p_template_comment=>'Red Theme'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(6040713810066910732)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion uRegionNoPadding clearfix" id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <div class="uRegionHeading">',
'    <h1>#TITLE#</h1>',
'    <span class="uButtonContainer">',
'      #CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'    </span>',
'  </div>',
'  <div class="uRegionContent clearfix">',
'    #BODY#',
'  </div>',
'</section>'))
,p_page_plug_template_name=>'Reports Region - 100% Width'
,p_internal_name=>'REPORTS_REGION_100%_WIDTH'
,p_plug_table_bgcolor=>'#ffffff'
,p_theme_id=>101
,p_theme_class_id=>13
,p_plug_heading_bgcolor=>'#ffffff'
,p_plug_font_size=>'-1'
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>1826089109250571711
,p_translate_this_template=>'N'
,p_template_comment=>'Red Theme'
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(6040714015349910735)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<section class="uRegion clearfix" id="#REGION_STATIC_ID#" #REGION_ATTRIBUTES#>',
'  <div class="uRegionHeading">',
'    <h1>#TITLE#</h1>',
'    <span class="uButtonContainer">',
'      #CLOSE##PREVIOUS##NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'    </span>',
'  </div>',
'  <div class="uRegionContent clearfix">',
'    #BODY#',
'  </div>',
'</section>'))
,p_page_plug_template_name=>'Sidebar Region'
,p_internal_name=>'SIDEBAR_REGION'
,p_plug_table_bgcolor=>'#f7f7e7'
,p_theme_id=>101
,p_theme_class_id=>2
,p_plug_heading_bgcolor=>'#f7f7e7'
,p_plug_font_size=>'-1'
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>1826089314533571714
,p_translate_this_template=>'N'
,p_template_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<table border="0" cellpadding="0" cellspacing="0">',
'        <tr>',
'          <td rowspan="2" valign="top" width="4" bgcolor="#FF0000"><img src="#IMAGE_PREFIX#tl_img.gif" border="0" width="4" height="18" alt="" /></td>',
'          <td bgcolor="#000000" height="1"><img src="#IMAGE_PREFIX#stretch.gif" width="142" height="1" border="0" alt="" /></td>',
'          <td rowspan="2" valign="top" width="4" bgcolor="#FF0000"><img src="#IMAGE_PREFIX#tr_img.gif" border="0" width="4" height="18" alt="" /></td>',
'        </tr>',
'        <tr>',
'          <td bgcolor="#FF0000" height="16">',
'            <table border="0" cellpadding="0" cellspacing="0" width="100%">',
'              <tr>',
'                <td align=middle valign="top">',
'                  <div align="center">',
'                     <font color="#ffffff" face="Arial, Helvetica, sans-serif" size="1">',
'                      <b>#TITLE# </b></font></div>',
'                </td>',
'              </tr>',
'            </table>',
'          </td>',
'        </tr>',
'</table>',
'<table border="0" cellpadding="0" cellspacing="0">',
'   <tr>',
'   <td bgcolor="#000000" width="1" height="96"><img src="#IMAGE_PREFIX#stretch.gif" width="1" height="1" border="0" alt="" /></td>',
'   <td valign="top" height="96"><img src="#IMAGE_PREFIX#stretch.gif" width="146" height="1" border="0" alt="" /><br />',
'            <table border="0" cellpadding="1" cellspacing="0" width="146" summary="">',
'              <tr>',
'                <td colspan="2">',
'                  <table border="0" cellpadding="2" cellspacing="0" width="124" summary="">',
'                    <tr>',
'                      <td>&nbsp;</td>',
'                      <td valign="top" width="106">',
'                        <P><FONT face="arial, helvetica" size="1">',
'                            #BODY#',
'                           </font>',
'                        </P>',
'                      </td>',
'                    </tr>',
'                  </table>',
'            </table>',
'          </td>',
'          <td bgcolor="#000000" width="1" height="96"><img src="#IMAGE_PREFIX#stretch.gif" width="1" height="1" border="0" alt="" /></td>',
'          <td bgcolor="#9a9c9a" width="1" height="96"><img src="#IMAGE_PREFIX#stretch.gif" width="1" height="1" border="0" alt="" /></td>',
'          <td bgcolor="#b3b4b3" width="1" height="96"><img src="#IMAGE_PREFIX#stretch.gif" width="1" height="1" border="0" alt="" /></td>',
'        </tr>',
'      </table>',
'      <table border="0" cellpadding="0" cellspacing="0">',
'        <tr>',
'          <td rowspan="4" valign="top" width="4"><img src="#IMAGE_PREFIX#bl_img.gif" border="0" width="4" height="6" alt="" /></td>',
'          <td bgcolor="#ffffff" height="2"><img src="#IMAGE_PREFIX#stretch.gif" width="142" height="1" border="0" alt="" /></td>',
'          <td rowspan="4" valign="top" width="4"><img src="#IMAGE_PREFIX#br_img.gif" border="0" width="4" height="6" alt="" /></td>',
'        </tr>',
'        <tr>',
'          <td bgcolor="#000000" width="1"><img src="#IMAGE_PREFIX#stretch.gif" width="1" height="1" border="0" alt="" /></td>',
'        </tr>',
'        <tr>',
'          <td bgcolor="#9a9c9a" width="1"><img src="#IMAGE_PREFIX#stretch.gif" width="1" height="1" border="0" alt="" /></td>',
'        </tr>',
'        <tr>',
'          <td bgcolor="#b3b4b3" width="1" height="2"><img src="#IMAGE_PREFIX#stretch.gif" width="1" height="1" border="0" alt="" /></td>',
'        </tr>',
'</table>',
''))
);
wwv_flow_api.create_plug_template(
 p_id=>wwv_flow_api.id(6040714228547910735)
,p_layout=>'TABLE'
,p_template=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="cWizardButtons cWizardButtonsLeft">',
'#PREVIOUS##CLOSE#',
'</div>',
'<div class="cWizardButtons cWizardButtonsRight">',
'#NEXT##DELETE##EDIT##CHANGE##CREATE##CREATE2##EXPAND##COPY##HELP#',
'</div>'))
,p_page_plug_template_name=>'Wizard Buttons'
,p_internal_name=>'WIZARD_BUTTONS'
,p_theme_id=>101
,p_theme_class_id=>21
,p_default_label_alignment=>'RIGHT'
,p_default_field_alignment=>'LEFT'
,p_reference_id=>1826089527731571714
,p_translate_this_template=>'N'
);
end;
/
prompt --application/shared_components/user_interface/templates/list
begin
wwv_flow_api.create_list_template(
 p_id=>wwv_flow_api.id(773293607234916327)
,p_list_template_current=>'<a href="#LINK#" rel="external" data-role="button" data-icon="#A01#">#TEXT_ESC_SC#</a>'
,p_list_template_noncurrent=>'<a href="#LINK#" rel="external" data-role="button" data-icon="#A01#">#TEXT_ESC_SC#</a>'
,p_list_template_name=>'Button Control Group'
,p_internal_name=>'BUTTON_CONTROL_GROUP'
,p_theme_id=>102
,p_theme_class_id=>9
,p_list_template_before_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="navgroup">',
'   <div data-role="controlgroup" data-type="horizontal">'))
,p_list_template_after_rows=>'</div></div>'
);
wwv_flow_api.create_list_template(
 p_id=>wwv_flow_api.id(773293913548916327)
,p_list_template_current=>'<li data-theme="b"><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_list_template_noncurrent=>'<li><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_list_template_name=>'List View'
,p_internal_name=>'LIST_VIEW'
,p_theme_id=>102
,p_theme_class_id=>9
,p_list_template_before_rows=>'<ul data-role="listview">'
,p_list_template_after_rows=>'</ul>'
,p_before_sub_list=>'<ul>'
,p_after_sub_list=>'</ul>'
,p_sub_list_item_current=>'<li data-theme="b"><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_sub_list_item_noncurrent=>'<li><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_item_templ_curr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li data-theme="b">',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
,p_item_templ_noncurr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li>',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
,p_sub_templ_curr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li data-theme="b">',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
,p_sub_templ_noncurr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li>',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
);
wwv_flow_api.create_list_template(
 p_id=>wwv_flow_api.id(773294236600916327)
,p_list_template_current=>'<li data-theme="b"><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_list_template_noncurrent=>'<li><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_list_template_name=>'List View (Inset)'
,p_internal_name=>'LIST_VIEW_INSET'
,p_theme_id=>102
,p_theme_class_id=>10
,p_list_template_before_rows=>'<ul data-role="listview" data-inset="true">'
,p_list_template_after_rows=>'</ul>'
,p_before_sub_list=>'<ul data-inset="true">'
,p_after_sub_list=>'</ul>'
,p_sub_list_item_current=>'<li data-theme="b"><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_sub_list_item_noncurrent=>'<li><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_item_templ_curr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li data-theme="b">',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
,p_item_templ_noncurr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li>',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
,p_sub_templ_curr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li data-theme="b">',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
,p_sub_templ_noncurr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li>',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
);
wwv_flow_api.create_list_template(
 p_id=>wwv_flow_api.id(773294517592916327)
,p_list_template_current=>'<li><a href="#LINK#" class="ui-btn-active" data-transition="flow" data-icon="#IMAGE#">#TEXT_ESC_SC#</a></li>'
,p_list_template_noncurrent=>'<li><a href="#LINK#" data-transition="flow" data-icon="#IMAGE#">#TEXT_ESC_SC#</a></li>'
,p_list_template_name=>'Navigation Bar'
,p_internal_name=>'NAVIGATION_BAR'
,p_theme_id=>102
,p_theme_class_id=>11
,p_list_template_before_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div data-role="navbar">',
'  <ul>',
''))
,p_list_template_after_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'  </ul>',
'</div><!-- /navbar -->'))
);
wwv_flow_api.create_list_template(
 p_id=>wwv_flow_api.id(1474241769452185571)
,p_list_template_current=>'<li data-theme="b"><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_list_template_noncurrent=>'<li><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_list_template_name=>'List View'
,p_internal_name=>'LIST_VIEW'
,p_theme_id=>103
,p_theme_class_id=>9
,p_list_template_before_rows=>'<ul data-role="listview">'
,p_list_template_after_rows=>'</ul>'
,p_before_sub_list=>'<ul>'
,p_after_sub_list=>'</ul>'
,p_sub_list_item_current=>'<li data-theme="b"><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_sub_list_item_noncurrent=>'<li><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_item_templ_curr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li data-theme="b">',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
,p_item_templ_noncurr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li>',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
,p_sub_templ_curr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li data-theme="b">',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
,p_sub_templ_noncurr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li>',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
);
wwv_flow_api.create_list_template(
 p_id=>wwv_flow_api.id(1474242060580185572)
,p_list_template_current=>'<li data-theme="b"><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_list_template_noncurrent=>'<li><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_list_template_name=>'List View (Inset)'
,p_internal_name=>'LIST_VIEW_INSET'
,p_theme_id=>103
,p_theme_class_id=>10
,p_list_template_before_rows=>'<ul data-role="listview" data-inset="true">'
,p_list_template_after_rows=>'</ul>'
,p_before_sub_list=>'<ul data-inset="true">'
,p_after_sub_list=>'</ul>'
,p_sub_list_item_current=>'<li data-theme="b"><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_sub_list_item_noncurrent=>'<li><a href="#LINK#">#TEXT_ESC_SC#</a></li>'
,p_item_templ_curr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li data-theme="b">',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
,p_item_templ_noncurr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li>',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
,p_sub_templ_curr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li data-theme="b">',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
,p_sub_templ_noncurr_w_child=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li>',
'<a href="#LINK#">#TEXT_ESC_SC#</a>',
'#SUB_LISTS#',
'</li>'))
);
wwv_flow_api.create_list_template(
 p_id=>wwv_flow_api.id(1474242361201185572)
,p_list_template_current=>'<li><a href="#LINK#" class="ui-btn-active" data-transition="flow" data-icon="#IMAGE#">#TEXT_ESC_SC#</a></li>'
,p_list_template_noncurrent=>'<li><a href="#LINK#" data-transition="flow" data-icon="#IMAGE#">#TEXT_ESC_SC#</a></li>'
,p_list_template_name=>'Navigation Bar'
,p_internal_name=>'NAVIGATION_BAR'
,p_theme_id=>103
,p_theme_class_id=>11
,p_list_template_before_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div data-role="navbar">',
'  <ul>',
''))
,p_list_template_after_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'  </ul>',
'</div><!-- /navbar -->'))
);
wwv_flow_api.create_list_template(
 p_id=>wwv_flow_api.id(1479622467205448719)
,p_list_template_current=>'<a href="#LINK#" rel="external" data-role="button" data-icon="#A01#">#TEXT_ESC_SC#</a>'
,p_list_template_noncurrent=>'<a href="#LINK#" rel="external" data-role="button" data-icon="#A01#">#TEXT_ESC_SC#</a>'
,p_list_template_name=>'Button Control Group'
,p_internal_name=>'BUTTON_CONTROL_GROUP'
,p_theme_id=>103
,p_theme_class_id=>9
,p_list_template_before_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="navgroup">',
'    <div data-role="controlgroup" data-type="horizontal">'))
,p_list_template_after_rows=>'</div></div>'
);
wwv_flow_api.create_list_template(
 p_id=>wwv_flow_api.id(2524667866659887570)
,p_list_template_current=>wwv_flow_string.join(wwv_flow_t_varchar2(
'  <li>',
'    <a href="#LINK#">',
'      <img src="#IMAGE_PREFIX#f_spacer.gif" class="#A02#" alt="#LIST_LABEL#"/>',
'      <h3>#TEXT#</h3>',
'      <h4>#A01#</h4>',
'    </a>',
'  </li>'))
,p_list_template_noncurrent=>wwv_flow_string.join(wwv_flow_t_varchar2(
'  <li>',
'    <a href="#LINK#">',
'      <img src="#IMAGE_PREFIX#f_spacer.gif" class="#A02#" alt="#LIST_LABEL#"/>',
'      <h3>#TEXT#</h3>',
'      <h4>#A01#</h4>',
'    </a>',
'  </li>'))
,p_list_template_name=>'Vertical List with Subtext and Icon'
,p_internal_name=>'VERTICAL_LIST_WITH_SUBTEXT_AND_ICON'
,p_theme_id=>101
,p_theme_class_id=>1
,p_list_template_before_rows=>'<ul class="largeLinkList">'
,p_list_template_after_rows=>'</ul>'
,p_reference_id=>2193445119328205706
);
wwv_flow_api.create_list_template(
 p_id=>wwv_flow_api.id(2915929882398958515)
,p_list_template_current=>'<li><a href="#LINK#"#IMAGE_ATTR#>#TEXT#</a><span class="ui-icon ui-icon-arrow-r ui-icon-shadow"></span></li>'
,p_list_template_noncurrent=>'<li><a href="#LINK#"#IMAGE_ATTR#>#TEXT#</a><span class="ui-icon ui-icon-arrow-r ui-icon-shadow"></span></li>'
,p_list_template_name=>'+ Mobile Navigation List'
,p_internal_name=>'+_MOBILE_NAVIGATION_LIST'
,p_theme_id=>101
,p_theme_class_id=>1
,p_list_template_before_rows=>'<ul data-role="listview" data-inset="false">'
,p_list_template_after_rows=>'</ul>'
,p_sub_list_item_current=>'<li><a href="#LINK#"#IMAGE_ATTR#>#TEXT#</a><span class="ui-icon ui-icon-arrow-r ui-icon-shadow"></span></li>'
,p_sub_list_item_noncurrent=>'<li><a href="#LINK#"#IMAGE_ATTR#>#TEXT#</a><span class="ui-icon ui-icon-arrow-r ui-icon-shadow"></span></li>'
,p_f_list_template_noncurrent=>'<li><a href="#LINK#"#IMAGE_ATTR#>#TEXT#</a><span class="ui-icon ui-icon-arrow-r ui-icon-shadow"></span></li>'
,p_f_list_template_current=>'<li><a href="#LINK#"#IMAGE_ATTR#>#TEXT#</a><span class="ui-icon ui-icon-arrow-r ui-icon-shadow"></span></li>'
,p_reference_id=>2585131114682022247
);
wwv_flow_api.create_list_template(
 p_id=>wwv_flow_api.id(6040716020337910738)
,p_list_template_current=>wwv_flow_string.join(wwv_flow_t_varchar2(
'    <li class="#LIST_STATUS#">',
'      <span>#TEXT#</span>',
'    </li>'))
,p_list_template_noncurrent=>wwv_flow_string.join(wwv_flow_t_varchar2(
'    <li class="#LIST_STATUS#">',
'      <span>#TEXT#</span>',
'    </li>'))
,p_list_template_name=>'Horizontal Wizard Progress List'
,p_internal_name=>'HORIZONTAL_WIZARD_PROGRESS_LIST'
,p_theme_id=>101
,p_theme_class_id=>17
,p_list_template_before_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="uHorizontalProgressList">',
'  <ul>'))
,p_list_template_after_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'  </ul>',
'</div>'))
,p_reference_id=>1826091319521571717
);
wwv_flow_api.create_list_template(
 p_id=>wwv_flow_api.id(6040716910150910739)
,p_list_template_current=>'<li class="active"><a href="#LINK#">#TEXT#</a></li>'
,p_list_template_noncurrent=>'<li><a href="#LINK#">#TEXT#</a></li>'
,p_list_template_name=>'Vertical Unordered List with Bullets'
,p_internal_name=>'VERTICAL_UNORDERED_LIST_WITH_BULLETS'
,p_theme_id=>101
,p_theme_class_id=>1
,p_list_template_before_rows=>'<ul class="uVerticalList">'
,p_list_template_after_rows=>'</ul>'
,p_reference_id=>1826092209334571718
);
end;
/
prompt --application/shared_components/user_interface/templates/report
begin
wwv_flow_api.create_row_template(
 p_id=>wwv_flow_api.id(773293324752916327)
,p_row_template_name=>'Standard Report'
,p_internal_name=>'STANDARD_REPORT'
,p_row_template1=>'<div class="list-view-cell" style="width:#COLUMN_WIDTH_VAL#%">#COLUMN_VALUE#</div>'
,p_row_template_before_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div #REPORT_ATTRIBUTES# id="report_#REGION_STATIC_ID#">',
'<ul data-role="listview">'))
,p_row_template_after_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</ul>',
'</div>'))
,p_row_template_type=>'GENERIC_COLUMNS'
,p_before_column_heading=>'<li data-role="list-divider">'
,p_column_heading_template=>'<div class="list-view-cell" id="#COLUMN_HEADER_NAME#" style="width:#COLUMN_WIDTH_VAL#%">#COLUMN_HEADER#</div>'
,p_after_column_heading=>'</li>'
,p_row_template_display_cond1=>'0'
,p_row_template_display_cond2=>'0'
,p_row_template_display_cond3=>'0'
,p_row_template_display_cond4=>'0'
,p_next_page_template=>'<a href="#LINK#" data-role="button" data-icon="arrow-r" data-iconpos="right" data-transition="slide">#PAGINATION_NEXT#</a>'
,p_previous_page_template=>'<a href="#LINK#" data-role="button" data-icon="arrow-l" data-iconpos="left" data-transition="slide" data-direction="reverse">#PAGINATION_PREVIOUS#</a>'
,p_next_set_template=>'<a href="#LINK#" data-role="button" data-icon="arrow-r" data-iconpos="right" data-transition="slide">#PAGINATION_NEXT_SET#</a>'
,p_previous_set_template=>'<a href="#LINK#" data-role="button" data-icon="arrow-l" data-iconpos="left" data-transition="slide" data-direction="reverse">#PAGINATION_PREVIOUS_SET#</a>'
,p_row_style_checked=>'#ccc'
,p_theme_id=>102
,p_theme_class_id=>4
,p_translate_this_template=>'N'
);
begin
wwv_flow_api.create_row_template_patch(
 p_id=>wwv_flow_api.id(773293324752916327)
,p_row_template_before_first=>'<li>'
,p_row_template_after_last=>'</li>'
);
exception when others then null;
end;
wwv_flow_api.create_row_template(
 p_id=>wwv_flow_api.id(1474241487369185571)
,p_row_template_name=>'Standard Report'
,p_internal_name=>'STANDARD_REPORT'
,p_row_template1=>'<div class="list-view-cell" style="width:#COLUMN_WIDTH_VAL#%">#COLUMN_VALUE#</div>'
,p_row_template_before_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div #REPORT_ATTRIBUTES# id="report_#REGION_STATIC_ID#">',
'<ul data-role="listview">'))
,p_row_template_after_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</ul>',
'</div>'))
,p_row_template_type=>'GENERIC_COLUMNS'
,p_before_column_heading=>'<li data-role="list-divider">'
,p_column_heading_template=>'<div class="list-view-cell" id="#COLUMN_HEADER_NAME#" style="width:#COLUMN_WIDTH_VAL#%">#COLUMN_HEADER#</div>'
,p_after_column_heading=>'</li>'
,p_row_template_display_cond1=>'0'
,p_row_template_display_cond2=>'0'
,p_row_template_display_cond3=>'0'
,p_row_template_display_cond4=>'0'
,p_next_page_template=>'<a href="#LINK#" data-role="button" data-icon="arrow-r" data-iconpos="right" data-transition="slide">#PAGINATION_NEXT#</a>'
,p_previous_page_template=>'<a href="#LINK#" data-role="button" data-icon="arrow-l" data-iconpos="left" data-transition="slide" data-direction="reverse">#PAGINATION_PREVIOUS#</a>'
,p_next_set_template=>'<a href="#LINK#" data-role="button" data-icon="arrow-r" data-iconpos="right" data-transition="slide">#PAGINATION_NEXT_SET#</a>'
,p_previous_set_template=>'<a href="#LINK#" data-role="button" data-icon="arrow-l" data-iconpos="left" data-transition="slide" data-direction="reverse">#PAGINATION_PREVIOUS_SET#</a>'
,p_row_style_checked=>'#ccc'
,p_theme_id=>103
,p_theme_class_id=>4
,p_translate_this_template=>'N'
);
begin
wwv_flow_api.create_row_template_patch(
 p_id=>wwv_flow_api.id(1474241487369185571)
,p_row_template_before_first=>'<li>'
,p_row_template_after_last=>'</li>'
);
exception when others then null;
end;
wwv_flow_api.create_row_template(
 p_id=>wwv_flow_api.id(2674800768777595033)
,p_row_template_name=>'Value Attribute Pairs - Left Aligned'
,p_internal_name=>'VALUE_ATTRIBUTE_PAIRS_LEFT_ALIGNED'
,p_row_template1=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li>',
'  <label>',
'    #COLUMN_HEADER#',
'  </label>',
'  <span>',
'    #COLUMN_VALUE#',
'  </span>',
'</li>'))
,p_row_template_before_rows=>'<ul class="vapList tableBased" #REPORT_ATTRIBUTES# id="report_#REPORT_STATIC_ID#">'
,p_row_template_after_rows=>'</ul>'
,p_row_template_type=>'GENERIC_COLUMNS'
,p_row_template_display_cond1=>'0'
,p_row_template_display_cond2=>'0'
,p_row_template_display_cond3=>'0'
,p_row_template_display_cond4=>'0'
,p_theme_id=>101
,p_theme_class_id=>6
,p_reference_id=>2305287814988297816
,p_translate_this_template=>'N'
,p_row_template_comment=>'shrahman 03/12/2012 Making table based '
);
wwv_flow_api.create_row_template(
 p_id=>wwv_flow_api.id(2674805188332596178)
,p_row_template_name=>'Comment Bubbles'
,p_internal_name=>'COMMENT_BUBBLES'
,p_row_template1=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li class="#1#">',
'<div>',
'	<em>#2#</em>',
'	#3##4##5##6##7#',
'</div>',
'<span>',
'	#8# (#9#) #10#',
'</span>',
'</li>'))
,p_row_template_before_rows=>'<ul class="commentBubbles">'
,p_row_template_after_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</ul>',
'<table class="uPaginationTable">',
'#PAGINATION#',
'</table>'))
,p_row_template_type=>'NAMED_COLUMNS'
,p_row_template_display_cond1=>'0'
,p_row_template_display_cond2=>'0'
,p_row_template_display_cond3=>'0'
,p_row_template_display_cond4=>'0'
,p_next_page_template=>'<a href="#LINK#" class="sPaginationNext">#PAGINATION_NEXT#</a>'
,p_previous_page_template=>'<a href="#LINK#" class="sPaginationPrev">#PAGINATION_PREVIOUS#</a>'
,p_next_set_template=>'<a href="#LINK#" class="sPaginationNext">#PAGINATION_NEXT_SET#</a>'
,p_previous_set_template=>'<a href="#LINK#" class="sPaginationPrev">#PAGINATION_PREVIOUS_SET#</a>'
,p_theme_id=>101
,p_theme_class_id=>1
,p_reference_id=>2315688322755511177
,p_translate_this_template=>'N'
);
wwv_flow_api.create_row_template(
 p_id=>wwv_flow_api.id(2920671482959814591)
,p_row_template_name=>'+ Mobile Reports with Count'
,p_internal_name=>'+_MOBILE_REPORTS_WITH_COUNT'
,p_row_template1=>'  <li>#1#<span class="ui-li-count">#2#</span></li>'
,p_row_template_before_rows=>'<ul data-role="listview" data-inset="false" data-theme="c" data-dividertheme="b">'
,p_row_template_after_rows=>'</ul>'
,p_row_template_type=>'NAMED_COLUMNS'
,p_row_template_display_cond1=>'0'
,p_row_template_display_cond2=>'0'
,p_row_template_display_cond3=>'0'
,p_row_template_display_cond4=>'0'
,p_theme_id=>101
,p_theme_class_id=>14
,p_reference_id=>2598809218071596679
,p_translate_this_template=>'N'
);
wwv_flow_api.create_row_template(
 p_id=>wwv_flow_api.id(2920672092583814595)
,p_row_template_name=>'+ Mobile Value Attribute Pairs'
,p_internal_name=>'+_MOBILE_VALUE_ATTRIBUTE_PAIRS'
,p_row_template1=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<tr>',
'  <th class="mValueHeading" align="left" valign="top">',
'    #COLUMN_HEADER#',
'  </th>',
'  <td class="mValue">',
'    #COLUMN_VALUE#',
'  </td>',
'</tr>'))
,p_row_template_before_rows=>'<table class="mobile-value-attribute-pairs" cellspacing="6" cellpadding="0" border="0" summary="0" #REPORT_ATTRIBUTES# id="report_#REPORT_STATIC_ID#">'
,p_row_template_after_rows=>'</table>'
,p_row_template_type=>'GENERIC_COLUMNS'
,p_row_template_display_cond1=>'0'
,p_row_template_display_cond2=>'0'
,p_row_template_display_cond3=>'0'
,p_row_template_display_cond4=>'0'
,p_theme_id=>101
,p_theme_class_id=>6
,p_reference_id=>2598799916851548060
,p_translate_this_template=>'N'
);
wwv_flow_api.create_row_template(
 p_id=>wwv_flow_api.id(2920731597684874613)
,p_row_template_name=>'+ Mobile Reports (Updates,Links,Attachments)'
,p_internal_name=>'+_MOBILE_REPORTS_UPDATES,LINKS,ATTACHMENTS'
,p_row_template1=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li>',
'<strong>#1# #2#</strong><br />',
'<small>#3#/#4#</small><br />',
'#5#',
'</li>'))
,p_row_template_before_rows=>'<ul data-role="listview" class="ui-listview">'
,p_row_template_after_rows=>'</ul> '
,p_row_template_type=>'NAMED_COLUMNS'
,p_row_template_display_cond1=>'0'
,p_row_template_display_cond2=>'0'
,p_row_template_display_cond3=>'0'
,p_row_template_display_cond4=>'0'
,p_theme_id=>101
,p_theme_class_id=>11
,p_reference_id=>2598822012348687495
,p_translate_this_template=>'N'
);
wwv_flow_api.create_row_template(
 p_id=>wwv_flow_api.id(6040715120978910736)
,p_row_template_name=>'Standard'
,p_internal_name=>'STANDARD'
,p_row_template1=>'<td #ALIGNMENT# headers="#COLUMN_HEADER_NAME#">#COLUMN_VALUE#</td>'
,p_row_template_before_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<table class="uReportContainer" #REPORT_ATTRIBUTES# id="report_#REGION_STATIC_ID#" summary="">',
'<tbody class="uReportPagination">',
'#TOP_PAGINATION#',
'</tbody>',
'<tbody class="uReportBody">',
'<tr><td>',
'<table summary="#REGION_TITLE#" class="uReport uReportStandard">'))
,p_row_template_after_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'<tbody class="uReportPagination">',
'#PAGINATION#',
'</tbody>',
'</table>',
'<div class="uReportDownloadLinks">#EXTERNAL_LINK##CSV_LINK#</div>'))
,p_row_template_type=>'GENERIC_COLUMNS'
,p_before_column_heading=>'<thead>'
,p_column_heading_template=>'<th #ALIGNMENT# id="#COLUMN_HEADER_NAME#" #COLUMN_WIDTH#>#COLUMN_HEADER#</th>'
,p_after_column_heading=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</thead>',
'<tbody>'))
,p_row_template_display_cond1=>'0'
,p_row_template_display_cond2=>'0'
,p_row_template_display_cond3=>'0'
,p_row_template_display_cond4=>'0'
,p_next_page_template=>'<a href="#LINK#" class="uPaginationNext">#PAGINATION_NEXT# <img src="#IMAGE_PREFIX#f_spacer.gif" alt="" /></a>'
,p_previous_page_template=>'<a href="#LINK#" class="uPaginationPrev"><img src="#IMAGE_PREFIX#f_spacer.gif" alt="" /> #PAGINATION_PREVIOUS#</a>'
,p_next_set_template=>'<a href="#LINK#" class="uPaginationNext">#PAGINATION_NEXT_SET# <img src="#IMAGE_PREFIX#f_spacer.gif" alt="" /></a>'
,p_previous_set_template=>'<a href="#LINK#" class="uPaginationPrev"><img src="#IMAGE_PREFIX#f_spacer.gif" alt="" /> #PAGINATION_PREVIOUS_SET#</a>'
,p_row_style_mouse_over=>'#F0F0F0'
,p_row_style_checked=>'#E8E8E8'
,p_theme_id=>101
,p_theme_class_id=>4
,p_reference_id=>1826090420162571715
,p_translate_this_template=>'N'
);
begin
wwv_flow_api.create_row_template_patch(
 p_id=>wwv_flow_api.id(6040715120978910736)
,p_row_template_before_first=>'<tr>'
,p_row_template_after_last=>'</tr>'
);
exception when others then null;
end;
wwv_flow_api.create_row_template(
 p_id=>wwv_flow_api.id(6040715214521910736)
,p_row_template_name=>'Standard - Alternative'
,p_internal_name=>'STANDARD_ALTERNATIVE'
,p_row_template1=>'<td #ALIGNMENT# headers="#COLUMN_HEADER_NAME#">#COLUMN_VALUE#</td>'
,p_row_template3=>'<td #ALIGNMENT# headers="#COLUMN_HEADER_NAME#" class="uOddRow">#COLUMN_VALUE#</td>'
,p_row_template_before_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<table class="uReportContainer" #REPORT_ATTRIBUTES# id="report_#REGION_STATIC_ID#" summary="">',
'<tbody class="uReportPagination">',
'#TOP_PAGINATION#',
'</tbody>',
'<tbody class="uReportBody">',
'<tr><td>',
'<table summary="#REGION_TITLE#" class="uReport uReportAlternative">'))
,p_row_template_after_rows=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'<tbody class="uReportPagination">',
'#PAGINATION#',
'</tbody>',
'</table>',
'<div class="uReportDownloadLinks">#EXTERNAL_LINK##CSV_LINK#</div>'))
,p_row_template_table_attr=>'OMIT'
,p_row_template_type=>'GENERIC_COLUMNS'
,p_before_column_heading=>'<thead>'
,p_column_heading_template=>'<th #ALIGNMENT# id="#COLUMN_HEADER_NAME#" #COLUMN_WIDTH#>#COLUMN_HEADER#</th>'
,p_after_column_heading=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</thead>',
'<tbody>'))
,p_row_template_display_cond1=>'0'
,p_row_template_display_cond2=>'ODD_ROW_NUMBERS'
,p_row_template_display_cond3=>'0'
,p_row_template_display_cond4=>'0'
,p_next_page_template=>'<a href="#LINK#" class="uPaginationNext">#PAGINATION_NEXT# <img src="#IMAGE_PREFIX#f_spacer.gif" alt="" /></a>'
,p_previous_page_template=>'<a href="#LINK#" class="uPaginationPrev"><img src="#IMAGE_PREFIX#f_spacer.gif" alt="" /> #PAGINATION_PREVIOUS#</a>'
,p_next_set_template=>'<a href="#LINK#" class="uPaginationNext">#PAGINATION_NEXT_SET# <img src="#IMAGE_PREFIX#f_spacer.gif" alt="" /></a>'
,p_previous_set_template=>'<a href="#LINK#" class="uPaginationPrev"><img src="#IMAGE_PREFIX#f_spacer.gif" alt="" /> #PAGINATION_PREVIOUS_SET#</a>'
,p_theme_id=>101
,p_theme_class_id=>5
,p_reference_id=>1826090513705571715
,p_translate_this_template=>'N'
);
begin
wwv_flow_api.create_row_template_patch(
 p_id=>wwv_flow_api.id(6040715214521910736)
,p_row_template_before_first=>'<tr>'
,p_row_template_after_last=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</tr>',
''))
);
exception when others then null;
end;
wwv_flow_api.create_row_template(
 p_id=>wwv_flow_api.id(6040715317748910736)
,p_row_template_name=>'Two Column Portlet'
,p_internal_name=>'TWO_COLUMN_PORTLET'
,p_row_template1=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li>',
'  <span class="uValueHeading">',
'    #1#',
'  </span>',
'  <span class="uValue">',
'    #2#',
'  </span>',
'</li>'))
,p_row_template_before_rows=>'<ul class="uValuePairs" #REPORT_ATTRIBUTES# id="report_#REGION_STATIC_ID#">'
,p_row_template_after_rows=>'</ul>'
,p_row_template_type=>'NAMED_COLUMNS'
,p_row_template_display_cond1=>'0'
,p_row_template_display_cond2=>'0'
,p_row_template_display_cond3=>'0'
,p_row_template_display_cond4=>'0'
,p_theme_id=>101
,p_theme_class_id=>7
,p_reference_id=>1826090616932571715
,p_translate_this_template=>'N'
);
end;
/
prompt --application/shared_components/user_interface/templates/label
begin
wwv_flow_api.create_field_template(
 p_id=>wwv_flow_api.id(52726708281169559)
,p_template_name=>'Required with help'
,p_internal_name=>'REQUIRED_WITH_HELP'
,p_template_body1=>'<a href= "style="color:black" <label for="#CURRENT_ITEM_NAME#" id="#LABEL_ID#"><a  href="javascript:popupFieldHelp(''#CURRENT_ITEM_ID#'',''&SESSION.'')" tabindex="999"><font color="#000000"> '
,p_template_body2=>'</a></label></a><img src="#IMAGE_PREFIX#requiredicon_status2.gif" alt="Required" />'
,p_on_error_after_label=>'<span class="uLabelError">#ERROR_MESSAGE#</span>'
,p_theme_id=>101
,p_theme_class_id=>2
,p_reference_id=>1826092823493571721
,p_translate_this_template=>'N'
);
wwv_flow_api.create_field_template(
 p_id=>wwv_flow_api.id(52727411791198868)
,p_template_name=>'Optional with help'
,p_internal_name=>'OPTIONAL_WITH_HELP'
,p_template_body1=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<a href= "<label for="#CURRENT_ITEM_NAME#" id="#LABEL_ID#">',
'<a class="t3requiredwithhelp" href="javascript:popupFieldHelp(''#CURRENT_ITEM_ID#'',''&SESSION.'')" tabindex="999"><font color="#000000"> '))
,p_template_body2=>'</a></label>'
,p_on_error_after_label=>'<span class="uLabelError">#ERROR_MESSAGE#</span>'
,p_theme_id=>101
,p_theme_class_id=>2
,p_reference_id=>1826092823493571721
,p_translate_this_template=>'N'
);
wwv_flow_api.create_field_template(
 p_id=>wwv_flow_api.id(773294829066916327)
,p_template_name=>'No Label (For Screenreaders)'
,p_internal_name=>'NO_LABEL_FOR_SCREENREADERS'
,p_template_body1=>'<label for="#CURRENT_ITEM_NAME#" id="#LABEL_ID#">'
,p_template_body2=>'</label>'
,p_before_item=>'<div class="ui-field-contain" class="ui-hide-label">'
,p_after_item=>'</div>'
,p_theme_id=>102
,p_theme_class_id=>13
,p_translate_this_template=>'N'
);
wwv_flow_api.create_field_template(
 p_id=>wwv_flow_api.id(773294930529916327)
,p_template_name=>'Optional'
,p_internal_name=>'OPTIONAL'
,p_template_body1=>'<label for="#CURRENT_ITEM_NAME#" id="#LABEL_ID#">'
,p_template_body2=>'</label>'
,p_before_item=>'<div class="ui-field-contain">'
,p_after_item=>'</div>'
,p_theme_id=>102
,p_theme_class_id=>3
,p_translate_this_template=>'N'
);
wwv_flow_api.create_field_template(
 p_id=>wwv_flow_api.id(773295032956916327)
,p_template_name=>'Required'
,p_internal_name=>'REQUIRED'
,p_template_body1=>'<label for="#CURRENT_ITEM_NAME#" id="#LABEL_ID#"><img src="#IMAGE_PREFIX#themes/theme_21/images/required.png" alt="#VALUE_REQUIRED#">'
,p_template_body2=>'</label>'
,p_before_item=>'<div class="ui-field-contain">'
,p_after_item=>'</div>'
,p_theme_id=>102
,p_theme_class_id=>4
,p_translate_this_template=>'N'
);
wwv_flow_api.create_field_template(
 p_id=>wwv_flow_api.id(1474242674962185572)
,p_template_name=>'No Label (For Screenreaders)'
,p_internal_name=>'NO_LABEL_FOR_SCREENREADERS'
,p_template_body1=>'<label for="#CURRENT_ITEM_NAME#" id="#LABEL_ID#">'
,p_template_body2=>'</label>'
,p_before_item=>'<div class="ui-field-contain" class="ui-hide-label">'
,p_after_item=>'</div>'
,p_theme_id=>103
,p_theme_class_id=>13
,p_translate_this_template=>'N'
);
wwv_flow_api.create_field_template(
 p_id=>wwv_flow_api.id(1474242785934185573)
,p_template_name=>'Optional'
,p_internal_name=>'OPTIONAL'
,p_template_body1=>'<label for="#CURRENT_ITEM_NAME#" id="#LABEL_ID#">'
,p_template_body2=>'</label>'
,p_before_item=>'<div class="ui-field-contain">'
,p_after_item=>'</div>'
,p_theme_id=>103
,p_theme_class_id=>3
,p_translate_this_template=>'N'
);
wwv_flow_api.create_field_template(
 p_id=>wwv_flow_api.id(1474242860663185573)
,p_template_name=>'Required'
,p_internal_name=>'REQUIRED'
,p_template_body1=>'<label for="#CURRENT_ITEM_NAME#" id="#LABEL_ID#"><img src="#IMAGE_PREFIX#themes/theme_21/images/required.png" alt="#VALUE_REQUIRED#">'
,p_template_body2=>'</label>'
,p_before_item=>'<div class="ui-field-contain">'
,p_after_item=>'</div>'
,p_theme_id=>103
,p_theme_class_id=>4
,p_translate_this_template=>'N'
);
wwv_flow_api.create_field_template(
 p_id=>wwv_flow_api.id(6040717204815910739)
,p_template_name=>'No Label'
,p_internal_name=>'NO_LABEL'
,p_template_body1=>'<span class="uNoLabel">'
,p_template_body2=>'</span>'
,p_on_error_after_label=>'<span class="uLabelError">#ERROR_MESSAGE#</span>'
,p_theme_id=>101
,p_theme_class_id=>13
,p_reference_id=>1826092503999571718
,p_translate_this_template=>'N'
);
wwv_flow_api.create_field_template(
 p_id=>wwv_flow_api.id(6040717307241910742)
,p_template_name=>'Optional'
,p_internal_name=>'OPTIONAL'
,p_template_body1=>'<label for="#CURRENT_ITEM_NAME#" id="#LABEL_ID#" class="uOptional">'
,p_template_body2=>'</label>'
,p_on_error_after_label=>'<span class="uLabelError">#ERROR_MESSAGE#</span>'
,p_theme_id=>101
,p_theme_class_id=>3
,p_reference_id=>1826092606425571721
,p_translate_this_template=>'N'
);
wwv_flow_api.create_field_template(
 p_id=>wwv_flow_api.id(6040717524309910742)
,p_template_name=>'Required'
,p_internal_name=>'REQUIRED'
,p_template_body1=>'<label for="#CURRENT_ITEM_NAME#" id="#LABEL_ID#" class="uRequired">'
,p_template_body2=>' <img src="#IMAGE_PREFIX#f_spacer.gif" alt="#VALUE_REQUIRED#" class="uAsterisk" /></label>'
,p_on_error_after_label=>'<span class="uLabelError">#ERROR_MESSAGE#</span>'
,p_theme_id=>101
,p_theme_class_id=>4
,p_reference_id=>1826092823493571721
,p_translate_this_template=>'N'
);
end;
/
prompt --application/shared_components/user_interface/templates/breadcrumb
begin
wwv_flow_api.create_menu_template(
 p_id=>wwv_flow_api.id(773295717568916328)
,p_name=>'Breadcrumb'
,p_internal_name=>'BREADCRUMB'
,p_current_page_option=>'#NAME#'
,p_non_current_page_option=>'<a href="#LINK#">#NAME#</a>'
,p_between_levels=>'&nbsp;&gt;&nbsp;'
,p_max_levels=>12
,p_start_with_node=>'PARENT_TO_LEAF'
,p_theme_id=>102
,p_theme_class_id=>1
,p_translate_this_template=>'N'
);
wwv_flow_api.create_menu_template(
 p_id=>wwv_flow_api.id(6040718112235910745)
,p_name=>'Breadcrumb Menu'
,p_internal_name=>'BREADCRUMB_MENU'
,p_before_first=>'<ul>'
,p_current_page_option=>'<li class="active"><span>#NAME#</span></li> '
,p_non_current_page_option=>'<li><a href="#LINK#">#NAME#</a></li> '
,p_between_levels=>'<li class="uSeparator"><img src="#IMAGE_PREFIX#f_spacer.gif" class="uBreadcrumbSeparator" alt="" /></li> '
,p_after_last=>'</ul>'
,p_max_levels=>12
,p_start_with_node=>'PARENT_TO_LEAF'
,p_theme_id=>101
,p_theme_class_id=>1
,p_reference_id=>1826093411419571724
,p_translate_this_template=>'N'
);
end;
/
prompt --application/shared_components/user_interface/templates/popuplov
begin
wwv_flow_api.create_popup_lov_template(
 p_id=>wwv_flow_api.id(773295935076916328)
,p_popup_icon=>'#IMAGE_PREFIX#list.gif'
,p_popup_icon_attr=>'width=13 height=13 alt="#LIST_OF_VALUES#" title="#LIST_OF_VALUES#"'
,p_page_name=>'winlov'
,p_page_title=>'Search Dialog'
,p_page_html_head=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<html lang="&BROWSER_LANGUAGE.">',
'<head>',
'<title>#TITLE#</title>',
'#APEX_CSS#',
'#THEME_CSS#',
'#THEME_STYLE_CSS#',
'#APEX_JAVASCRIPT#',
'<link rel=stylesheet href=#IMAGE_PREFIX#platform2.css type=text/css>',
'',
'</head>'))
,p_page_body_attr=>'bgcolor=white OnLoad=first_field()'
,p_before_field_text=>' '
,p_page_heading_text=>'<link rel=stylesheet href=#IMAGE_PREFIX#platform2.css type=text/css><style>a:link { color:#336699; text-decoration:none; padding:2px;} a:visited { color:#336699; text-decoration:none;} a:hover { color:red; text-decoration:underline;} body { font-fami'
||'ly:arial; background-color:#ffffff;} </style>'
,p_page_footer_text=>'</center></td></tr></table>'
,p_filter_width=>'20'
,p_filter_max_width=>'100'
,p_find_button_text=>'Search'
,p_close_button_text=>'Close'
,p_next_button_text=>'Next'
,p_prev_button_text=>'Previous'
,p_after_field_text=>'</div><br />'
,p_scrollbars=>'1'
,p_resizable=>'1'
,p_width=>'400'
,p_height=>'450'
,p_result_row_x_of_y=>'Row(s) #FIRST_ROW# - #LAST_ROW#'
,p_result_rows_per_pg=>10
,p_theme_id=>102
,p_theme_class_id=>1
,p_translate_this_template=>'N'
);
wwv_flow_api.create_popup_lov_template(
 p_id=>wwv_flow_api.id(1474243682220185573)
,p_popup_icon=>'#IMAGE_PREFIX#list.gif'
,p_popup_icon_attr=>'width=13 height=13 alt="#LIST_OF_VALUES#" title="#LIST_OF_VALUES#"'
,p_page_name=>'winlov'
,p_page_title=>'Search Dialog'
,p_page_html_head=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<html lang="&BROWSER_LANGUAGE.">',
'<head>',
'<title>#TITLE#</title>',
'#APEX_CSS#',
'#THEME_CSS#',
'#THEME_STYLE_CSS#',
'#APEX_JAVASCRIPT#',
'<link rel=stylesheet href=#IMAGE_PREFIX#platform2.css type=text/css>',
'',
'</head>'))
,p_page_body_attr=>'bgcolor=white OnLoad=first_field()'
,p_before_field_text=>' '
,p_page_heading_text=>'<link rel=stylesheet href=#IMAGE_PREFIX#platform2.css type=text/css><style>a:link { color:#336699; text-decoration:none; padding:2px;} a:visited { color:#336699; text-decoration:none;} a:hover { color:red; text-decoration:underline;} body { font-fami'
||'ly:arial; background-color:#ffffff;} </style>'
,p_page_footer_text=>'</center></td></tr></table>'
,p_filter_width=>'20'
,p_filter_max_width=>'100'
,p_find_button_text=>'Search'
,p_close_button_text=>'Close'
,p_next_button_text=>'Next'
,p_prev_button_text=>'Previous'
,p_after_field_text=>'</div><br />'
,p_scrollbars=>'1'
,p_resizable=>'1'
,p_width=>'400'
,p_height=>'450'
,p_result_row_x_of_y=>'Row(s) #FIRST_ROW# - #LAST_ROW#'
,p_result_rows_per_pg=>10
,p_theme_id=>103
,p_theme_class_id=>1
,p_translate_this_template=>'N'
);
wwv_flow_api.create_popup_lov_template(
 p_id=>wwv_flow_api.id(6040718605937910766)
,p_popup_icon=>'#IMAGE_PREFIX#f_spacer.gif'
,p_popup_icon_attr=>'alt="#LIST_OF_VALUES#" title="#LIST_OF_VALUES#" class="uPopupLOVIcon"'
,p_page_name=>'winlov'
,p_page_title=>'Search Dialog'
,p_page_html_head=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<html lang="&BROWSER_LANGUAGE.">',
'<head>',
'<title>#TITLE#</title>',
'#APEX_CSS#',
'#THEME_CSS#',
'#THEME_STYLE_CSS#',
'#APEX_JAVASCRIPT#',
'<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge" /><![endif]-->',
'<link rel="shortcut icon" href="#IMAGE_PREFIX#favicon.ico" type="image/x-icon">  <link rel="stylesheet" href="#IMAGE_PREFIX#cloud/app_theme/css/4_1.css" type="text/css" media="all"/>',
'',
'</head>'))
,p_page_body_attr=>'class="uPopUpLOV"'
,p_before_field_text=>'<div class="uActionBar">'
,p_filter_width=>'20'
,p_filter_max_width=>'100'
,p_filter_text_attr=>'class="searchField"'
,p_find_button_text=>'Search'
,p_find_button_attr=>'class="smallButton"'
,p_close_button_text=>'Close'
,p_close_button_attr=>'class="smallButton hotButton"'
,p_next_button_text=>'Next >'
,p_next_button_attr=>'class="smallButton"'
,p_prev_button_text=>'< Previous'
,p_prev_button_attr=>'class="smallButton"'
,p_after_field_text=>'</div>'
,p_scrollbars=>'1'
,p_resizable=>'1'
,p_width=>'400'
,p_height=>'450'
,p_result_row_x_of_y=>'<div class="lovPagination">Row(s) #FIRST_ROW# - #LAST_ROW#</div>'
,p_result_rows_per_pg=>500
,p_before_result_set=>'<div class="lovLinks">'
,p_theme_id=>101
,p_theme_class_id=>1
,p_reference_id=>1826093905121571745
,p_translate_this_template=>'N'
,p_after_result_set=>'</div>'
);
end;
/
prompt --application/shared_components/user_interface/templates/calendar
begin
wwv_flow_api.create_calendar_template(
 p_id=>wwv_flow_api.id(773295834466916328)
,p_cal_template_name=>'Basic Calendar'
,p_internal_name=>'BASIC_CALENDAR'
,p_day_of_week_format=>'<th scope="col" class="m-DayOfWeek">#IDY#</th>'
,p_month_title_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<table summary="#CALENDAR_TITLE# #IMONTH# #YYYY#" class="m-Calendar" id="calendar_month_#REGION_STATIC_ID#" data-enhance=false>',
'<tr><th scope="colgroup" class="m-MonthTitle" colspan="7" >#IMONTH# #YYYY#</th></tr>',
''))
,p_month_close_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<tr><td colspan="7">',
'<div id="calendar_day_details_#REGION_STATIC_ID#"></div>',
'</td>',
'</tr>',
'</table>',
'<script>',
'apex.jQuery( "##PAGE_STATIC_ID#" ).on( "pageinit", function() {',
'',
'    // Initialize calendar data as list view as soon as that section has been refreshed',
'    // Use Swipe Left and Right to go to the next or previous month',
'    apex.jQuery( "##REGION_STATIC_ID#", apex.gPageContext$ )',
'        .on( "apexafterrefresh", function() {',
'            apex.jQuery( "#calendar_month_#REGION_STATIC_ID#", apex.gPageContext$ )',
'                .find( "[data-role=''listview'']")',
'                .listview(); })',
'        .on( "swipeleft", function() {',
'            apex.widget.calendar.ajax_calendar(''S'', ''next''); } )',
'        .on( "swiperight", function() {',
'            apex.widget.calendar.ajax_calendar(''S'', ''previous''); } );',
'',
'    // Load calendar data of date if it''s tapped',
'    apex.jQuery( "##REGION_STATIC_ID#", apex.gPageContext$ ).on( "tap", "#calendar_month_#REGION_STATIC_ID# td[class*=m-]", function () {',
'        var lDate     = apex.jQuery( this ).data( "date" ),',
'            lDetails$ = apex.jQuery( "#calendar_day_details_#REGION_STATIC_ID#", apex.gPageContext$ );',
'        apex.jQuery(".apex-calendar-today-has-data")',
'            .addClass(''apex-calendar-has-data'')',
'            .removeClass("apex-calendar-today-has-data");',
'        apex.jQuery( ".m-Today" )',
'            .addClass("m-Day")',
'            .removeClass( "m-Today" );',
'        apex.jQuery( this ).addClass( "m-Today" );',
'',
'        apex.widget.calendar.getDayData( "#REGION_STATIC_ID#", lDate, {',
'            clear: function() {',
'                lDetails$.empty();',
'            },',
'            success: function( pData ) {',
'                lDetails$.html( pData );',
'            }',
'        });',
'    });',
'',
'    // New calendar entries can be added with tab and hold',
'    apex.jQuery( "##REGION_STATIC_ID#", apex.gPageContext$ ).on( "taphold", "#calendar_month_#REGION_STATIC_ID# td[class*=m-]", function (e) {',
'       apex.widget.calendar.ajaxAddData(e);',
'    });',
'',
'    // Get the data of the current day as soon as the page gets displayed',
'    apex.jQuery( "##PAGE_STATIC_ID#" ).on( "pageshow", function() {',
'        var lDetails$ = apex.jQuery( "#calendar_day_details_#REGION_STATIC_ID#", apex.gPageContext$ );',
'        apex.jQuery( ".m-Today", apex.gPageContext$ )',
'            .addClass( "m-Day" )',
'            .removeClass( "m-Today" );',
'        apex.jQuery( "#calendar_month_#REGION_STATIC_ID#", apex.gPageContext$ )',
'            .find( "td[data-date=#CURRENT_DATE#]" )',
'            .addClass( "m-Today" );',
'        apex.widget.calendar.getDayData( "#REGION_STATIC_ID#", "#CURRENT_DATE#", {',
'            clear: function() {',
'                lDetails$.empty();',
'            },',
'            success: function( pData ) {',
'                lDetails$.html( pData );',
'            }',
'        });',
'    });',
'',
'});',
'</script>'))
,p_day_title_format=>'<div class="content-primary" class="m-DayTitle">#DD#</div>'
,p_day_open_format=>'<td class="m-Day #HAS_DATA#" data-date="#CANONICAL_DATE#">#TITLE_FORMAT#'
,p_day_close_format=>'</td>'
,p_today_open_format=>'<td class="m-Today #HAS_DATA#" data-date="#CANONICAL_DATE#">#TITLE_FORMAT#'
,p_weekend_title_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="content-primary" class="m-WeekendDayTitle">#DD#</div>',
''))
,p_weekend_open_format=>'<td class="m-WeekendDay #HAS_DATA#"  data-date="#CANONICAL_DATE#">#TITLE_FORMAT#'
,p_weekend_close_format=>'</td>'
,p_nonday_title_format=>'<div class="content-primary" class="m-NonDayTitle">#DD#</div>'
,p_nonday_open_format=>'<td class="m-NonDay"  data-date="#CANONICAL_DATE#">'
,p_nonday_close_format=>'</td>'
,p_week_open_format=>'<tr>'
,p_week_close_format=>'</tr> '
,p_weekly_title_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<table summary="#CALENDAR_TITLE# #START_DL# - #END_DL#" class="m-WeekCalendar">',
'	<tr>',
'        <th scope="colgroup" class="m-monthTitle" colspan="7" >#WTITLE#</th>',
'	</tr>'))
,p_weekly_day_of_week_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<th scope="col" class="m-DayOfWeek" >#IDY# #MM#/#DD#</th>',
''))
,p_weekly_month_close_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</table>',
'<script>',
'    // register a delegated event on the table listening for all taphold in TD''s',
'    apex.jQuery( "##REGION_STATIC_ID#" ).on( "taphold", "td[class^=m-]", function (e) {',
'        apex.widget.calendar.ajaxAddData(e);',
'    });',
'</script>'))
,p_weekly_day_open_format=>'<td class="m-Day">'
,p_weekly_day_close_format=>'</td>'
,p_weekly_today_open_format=>'<td class="m-Today">'
,p_weekly_weekend_open_format=>'<td class="m-NonDay">'
,p_weekly_weekend_close_format=>'</td>'
,p_weekly_time_open_format=>'<th scope="row" class="m-hour">'
,p_weekly_time_close_format=>'</th>'
,p_weekly_time_title_format=>'#TIME#'
,p_weekly_hour_open_format=>'<tr rowspan="2">'
,p_weekly_hour_close_format=>'</tr>'
,p_daily_day_of_week_format=>'<th scope="col" class="m-DayOfWeek">#IDAY# #DD# #IMONTH# #YYYY#</th>'
,p_daily_month_title_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<table summary="#CALENDAR_TITLE# #START_DL#" class="m-DayCalendar"><tr>',
''))
,p_daily_month_close_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</table>',
'<script>',
'    // register a delegated event on the table listening for all taphold in TD''s',
'    apex.jQuery( "##REGION_STATIC_ID#" ).on( "taphold", "td[class^=m-]", function (e) {',
'        apex.widget.calendar.ajaxAddData(e);',
'    });',
'</script>'))
,p_daily_day_open_format=>'<td class="m-Day">'
,p_daily_day_close_format=>'</td>'
,p_daily_today_open_format=>'<td class="m-ToDay">'
,p_daily_time_open_format=>'<th scope="row" class="m-hour">'
,p_daily_time_close_format=>'</th>'
,p_daily_time_title_format=>'#TIME#'
,p_daily_hour_open_format=>'<tr rowspan="2" >'
,p_daily_hour_close_format=>'</tr>'
,p_agenda_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<ul data-role="listview">',
'#DAYS#',
'</ul>',
''))
,p_agenda_past_day_format=>'<li data-role="list-divider" data-theme="d">#IDAY# #IMONTH# #DD# #YYYY#</li>'
,p_agenda_today_day_format=>'<li data-role="list-divider" data-theme="b">#IDAY# #IMONTH# #DD# #YYYY#</li>'
,p_agenda_future_day_format=>'<li  data-role="list-divider" >#IDAY# #IMONTH# #DD# #YYYY#</li>'
,p_agenda_past_entry_format=>'<li >#DATA#<p class="ui-li-aside">#TIME#</p></li>'
,p_agenda_today_entry_format=>'<li >#DATA#<p class="ui-li-aside">#TIME#</p></li>'
,p_agenda_future_entry_format=>'<li >#DATA#<p class="ui-li-aside">#TIME#</p></li>'
,p_month_data_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<ul id="listview_#REGION_STATIC_ID#" data-role="listview" data-inset="true" data-theme="c">#DAYS#</ul>',
''))
,p_month_data_entry_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li align="left" >#LINK##DATA#<p class="ui-li-aside">#TIME#</p></li>',
' '))
,p_theme_id=>102
,p_theme_class_id=>1
);
wwv_flow_api.create_calendar_template(
 p_id=>wwv_flow_api.id(1474243574892185573)
,p_cal_template_name=>'Basic Calendar'
,p_internal_name=>'BASIC_CALENDAR'
,p_day_of_week_format=>'<th scope="col" class="m-DayOfWeek">#IDY#</th>'
,p_month_title_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<table summary="" role="presentation" class="m-Calendar" id="calendar_month_#REGION_STATIC_ID#" data-enhance=false>',
'<tr><th class="m-MonthTitle" colspan="7" >#IMONTH# #YYYY#</th></tr>',
'<tr>',
''))
,p_month_open_format=>'<tr>'
,p_month_close_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<tr><td colspan="7">',
'<div id="calendar_day_details_#REGION_STATIC_ID#"></div>',
'</td>',
'</tr>',
'</table>',
'<script>',
'    apex.jQuery( this) .on("pageshow", function() {',
'           lDetails$ = apex.jQuery( "#calendar_day_details_#REGION_STATIC_ID#" );',
'     apex.jQuery( ".m-Today" ).addClass("m-Day");',
'        apex.jQuery( ".m-Today" ).removeClass( "m-Today" );',
'     apex.jQuery("#calendar_month_#REGION_STATIC_ID#").find("td[data-date=#CURRENT_DATE#]").addClass( "m-Today" );',
'     apex.widget.calendar.getDayData( "#REGION_STATIC_ID#", ''#CURRENT_DATE#'', {',
'            clear:   function() {',
'                         lDetails$.empty();',
'                     },',
'            success: function( pData ) {',
'                lDetails$.html( pData );',
'            }',
'        });',
'    });',
'    // register a delegated event on the table listening for all clicks in TD''s',
'    apex.jQuery( "##REGION_STATIC_ID#" )',
'        .on( "apexafterrefresh", function() {',
'            apex.jQuery( "#calendar_month_#REGION_STATIC_ID#" ).find( "[data-role=''listview'']").listview(); })',
'        .on( "swipeleft", function() {',
'            apex.widget.calendar.ajax_calendar(''S'', ''next''); } )',
'        .on( "swiperight", function() {',
'            apex.widget.calendar.ajax_calendar(''S'', ''previous''); } );',
'',
'    apex.jQuery( window ).on( "orientationchange", function (pEvent) {',
'        if ( pEvent.orientation === "landscape" ) {',
'            if ( $v( "p_calendar_type" ) === "M" || $v( "p_calendar_type" ) === "D" || $v( "p_calendar_type" ) === "A") {',
'                apex.widget.calendar.ajax_calendar( "W", "same");',
'            }',
'        } else {',
'            if ( $v( "p_calendar_type" ) == "W" ) {',
'                apex.widget.calendar.ajax_calendar( "M", "same" ); ',
'            }',
'        }',
'        return false;',
'    });',
'',
'    apex.jQuery( "#calendar_month_#REGION_STATIC_ID#" ).on( "tap", "td[class^=m-]", function () {',
'        var lDate     = apex.jQuery( this ).data( "date" ),',
'            lDetails$ = apex.jQuery( "#calendar_day_details_#REGION_STATIC_ID#" );',
'        apex.jQuery(".apex-calendar-today-has-data").addClass(''apex-calendar-has-data'');',
'        apex.jQuery(".apex-calendar-today-has-data").removeClass("apex-calendar-today-has-data");',
'        apex.jQuery( ".m-Today" ).addClass("m-Day");',
'        apex.jQuery( ".m-Today" ).removeClass( "m-Today" );',
'        apex.jQuery( this ).addClass( "m-Today" );',
'',
'        apex.widget.calendar.getDayData( "#REGION_STATIC_ID#", lDate, {',
'            clear:   function() {',
'                         lDetails$.empty();',
'                     },',
'            success: function( pData ) {',
'                lDetails$.html( pData );',
'            }',
'        });',
'    });',
'    apex.jQuery( "#calendar_month_#REGION_STATIC_ID#" ).on( "taphold", "td[class^=m-]", function (e) {',
'       apex.widget.calendar.ajaxAddData(e);',
'    });',
'</script>'))
,p_day_title_format=>'<div class="content-primary" class="m-DayTitle">#DD#</div>'
,p_day_open_format=>'<td class="m-Day #HAS_DATA#" data-date="#CANONICAL_DATE#">#TITLE_FORMAT#'
,p_day_close_format=>'</td>'
,p_today_open_format=>'<td class="m-Today #HAS_DATA#" data-date="#CANONICAL_DATE#">#TITLE_FORMAT#'
,p_weekend_title_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div class="content-primary" class="m-WeekendDayTitle">#DD#</div>',
''))
,p_weekend_open_format=>'<td class="m-WeekendDay #HAS_DATA#"  data-date="#CANONICAL_DATE#">#TITLE_FORMAT#'
,p_weekend_close_format=>'</td>'
,p_nonday_title_format=>'<div class="content-primary" class="m-NonDayTitle">#DD#</div>'
,p_nonday_open_format=>'<td class="m-NonDay"  data-date="#CANONICAL_DATE#">'
,p_nonday_close_format=>'</td>'
,p_week_open_format=>'<tr>'
,p_week_close_format=>'</tr> '
,p_weekly_title_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<table summary="" role="presentation" class="m-WeekCalendar">',
'	<tr>',
'        <th class="m-monthTitle" colspan="7" >#WTITLE#</th>',
'	</tr>'))
,p_weekly_day_of_week_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<th scope="col" class="m-DayOfWeek" >#IDY# #MM#/#DD#</th>',
''))
,p_weekly_month_close_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</table>',
'<script>',
'    // register a delegated event on the table listening for all taphold in TD''s',
'    apex.jQuery( "##REGION_STATIC_ID#" ).on( "taphold", "td[class^=m-]", function (e) {',
'        apex.widget.calendar.ajaxAddData(e);',
'    });',
'</script>'))
,p_weekly_day_open_format=>'<td class="m-Day">'
,p_weekly_day_close_format=>'</td>'
,p_weekly_today_open_format=>'<td class="m-Today">'
,p_weekly_weekend_open_format=>'<td class="m-NonDay">'
,p_weekly_weekend_close_format=>'</td>'
,p_weekly_time_open_format=>'<th scope="row" class="m-hour">'
,p_weekly_time_close_format=>'</th>'
,p_weekly_time_title_format=>'#TIME#'
,p_weekly_hour_open_format=>'<tr rowspan="2">'
,p_weekly_hour_close_format=>'</tr>'
,p_daily_day_of_week_format=>'<th scope="col" class="m-DayOfWeek">#IDAY# #DD# #IMONTH# #YYYY#</th>'
,p_daily_month_title_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<table summary="" role="presentation" class="m-DayCalendar"><tr>',
''))
,p_daily_month_close_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</table>',
'<script>',
'    // register a delegated event on the table listening for all taphold in TD''s',
'    apex.jQuery( "##REGION_STATIC_ID#" ).on( "taphold", "td[class^=m-]", function (e) {',
'        apex.widget.calendar.ajaxAddData(e);',
'    });',
'</script>'))
,p_daily_day_open_format=>'<td class="m-Day">'
,p_daily_day_close_format=>'</td>'
,p_daily_today_open_format=>'<td class="m-ToDay">'
,p_daily_time_open_format=>'<th scope="row" class="m-hour">'
,p_daily_time_close_format=>'</th>'
,p_daily_time_title_format=>'#TIME#'
,p_daily_hour_open_format=>'<tr rowspan="2" >'
,p_daily_hour_close_format=>'</tr>'
,p_agenda_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<ul data-role="listview">',
'#DAYS#',
'</ul>',
''))
,p_agenda_past_day_format=>'<li data-role="list-divider" data-theme="d">#IDAY# #IMONTH# #DD# #YYYY#</li>'
,p_agenda_today_day_format=>'<li data-role="list-divider" data-theme="b">#IDAY# #IMONTH# #DD# #YYYY#</li>'
,p_agenda_future_day_format=>'<li  data-role="list-divider" >#IDAY# #IMONTH# #DD# #YYYY#</li>'
,p_agenda_past_entry_format=>'<li >#DATA#<p class="ui-li-aside">#TIME#</p></li>'
,p_agenda_today_entry_format=>'<li >#DATA#<p class="ui-li-aside">#TIME#</p></li>'
,p_agenda_future_entry_format=>'<li >#DATA#<p class="ui-li-aside">#TIME#</p></li>'
,p_month_data_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<ul id="listview_#REGION_STATIC_ID#" data-role="listview" data-inset="true" data-theme="c">#DAYS#</ul>',
''))
,p_month_data_entry_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<li align="left" >#LINK##DATA#<p class="ui-li-aside">#TIME#</p></li>',
' '))
,p_theme_id=>103
,p_theme_class_id=>1
);
wwv_flow_api.create_calendar_template(
 p_id=>wwv_flow_api.id(2992930791016428192)
,p_cal_template_name=>'Basic Calendar'
,p_internal_name=>'BASIC_CALENDAR'
,p_day_of_week_format=>'<th>#IDAY#</th>'
,p_month_title_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<table cellspacing="0" cellpadding="0" border="0" summary="">',
' <tr>',
'   <td align="center" style="font-weight:bold;">#IMONTH# #YYYY#</td>',
' </tr>',
' <tr>',
' <td>'))
,p_month_open_format=>'<table border="1" cellpadding="1" cellspacing="1" summary="0">'
,p_month_close_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</table></td>',
'</tr>',
'</table>',
''))
,p_day_title_format=>'<div>#DD#</div><br />'
,p_day_open_format=>'<td valign="top">#TITLE_FORMAT##DATA#'
,p_day_close_format=>'</td>'
,p_today_open_format=>'<td valign="top" bgcolor="#d3d3d3">#TITLE_FORMAT##DATA#'
,p_weekend_title_format=>'<div>#DD#</div>'
,p_weekend_open_format=>'<td valign="top">#TITLE_FORMAT##DATA#'
,p_weekend_close_format=>'</td>'
,p_nonday_title_format=>'<div>#DD#</div>'
,p_nonday_open_format=>'<td valign="top">'
,p_nonday_close_format=>'</td>'
,p_week_open_format=>'<tr>'
,p_week_close_format=>'</tr> '
,p_month_data_format=>'#DAYS#'
,p_month_data_entry_format=>'#DATA#'
,p_theme_id=>101
);
wwv_flow_api.create_calendar_template(
 p_id=>wwv_flow_api.id(2992934873270441981)
,p_cal_template_name=>'Calendar'
,p_internal_name=>'CALENDAR'
,p_day_of_week_format=>'<th valign="bottom" class="DayOfWeek">#IDAY#</th>'
,p_month_title_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<table cellspacing="0" cellpadding="0" border="0" summary="" class="CalendarAlternative1Holder"> ',
' <tr>',
'   <td class="MonthTitle">#IMONTH# #YYYY#</td>',
' </tr>',
' <tr>',
' <td>'))
,p_month_open_format=>'<table border="0" cellpadding="0" cellspacing="0" summary="0" class="CalendarAlternative1">'
,p_month_close_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'</table></td>',
'</tr>',
'</table>',
''))
,p_day_title_format=>'<div class="DayTitle">#DD#</div>'
,p_day_open_format=>'<td class="Day" valign="top" height="100" height="100">#TITLE_FORMAT##DATA#'
,p_day_close_format=>'</td>'
,p_today_open_format=>'<td valign="top" class="Today">#TITLE_FORMAT##DATA#'
,p_weekend_title_format=>'<div class="WeekendDayTitle">#DD#</div>'
,p_weekend_open_format=>'<td valign="top" class="WeekendDay">#TITLE_FORMAT##DATA#'
,p_weekend_close_format=>'</td>'
,p_nonday_title_format=>'<div class="NonDayTitle">#DD#</div>'
,p_nonday_open_format=>'<td class="NonDay" valign="top">'
,p_nonday_close_format=>'</td>'
,p_week_open_format=>'<tr>'
,p_week_close_format=>'</tr> '
,p_daily_title_format=>'<table cellspacing="0" cellpadding="0" border="0" summary="" class="t1DayCalendarHolder"> <tr> <td class="t1MonthTitle">#IMONTH# #DD#, #YYYY#</td> </tr> <tr> <td>'
,p_daily_open_format=>'<tr>'
,p_daily_close_format=>'</tr>'
,p_weekly_title_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<table cellspacing="0" cellpadding="0" border="0" summary="" class="WeekCalendarAlternative1Holder">',
'<tr>',
'<td class="MonthTitle">#WTITLE#</td>',
'</tr>',
'<tr>',
'<td>'))
,p_weekly_day_of_week_format=>'<th class="DayOfWeek">#IDAY#<br>#MM#/#DD#</th>'
,p_weekly_month_open_format=>'<table border="0" cellpadding="0" cellspacing="0" summary="0" class="WeekCalendarAlternative1">'
,p_weekly_month_close_format=>'</table></td></tr></table>'
,p_weekly_day_open_format=>'<td class="Day" valign="top">'
,p_weekly_day_close_format=>'<br /></td>'
,p_weekly_today_open_format=>'<td class="Today" valign="top">'
,p_weekly_weekend_open_format=>'<td valign="top" class="NonDay">'
,p_weekly_weekend_close_format=>'<br /></td>'
,p_weekly_time_open_format=>'<th class="Hour">'
,p_weekly_time_close_format=>'<br /></th>'
,p_weekly_time_title_format=>'#TIME#'
,p_weekly_hour_open_format=>'<tr>'
,p_weekly_hour_close_format=>'</tr>'
,p_daily_day_of_week_format=>'<th class="DayOfWeek">#IDAY# #DD#/#MM#</th>'
,p_daily_month_title_format=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<table cellspacing="0" cellpadding="0" border="0" summary="" class="DayCalendarAlternative1Holder"> <tr><td class="MonthTitle">#IMONTH# #DD#, #YYYY#</td></tr><tr><td>',
''))
,p_daily_month_open_format=>'<table border="0" cellpadding="0" cellspacing="0" summary="0" class="DayCalendarAlternative1">'
,p_daily_month_close_format=>'</table></td> </tr> </table>'
,p_daily_day_open_format=>'<td valign="top" class="Day">'
,p_daily_day_close_format=>'<br /></td>'
,p_daily_today_open_format=>'<td valign="top" class="Today">'
,p_daily_time_open_format=>'<th class="Hour">'
,p_daily_time_close_format=>'<br /></th>'
,p_daily_time_title_format=>'#TIME#'
,p_daily_hour_open_format=>'<tr>'
,p_daily_hour_close_format=>'</tr>'
,p_month_data_format=>'#DAYS#'
,p_month_data_entry_format=>'#DATA#'
,p_theme_id=>101
,p_theme_class_id=>1
,p_reference_id=>1826093616828571725
);
end;
/
prompt --application/shared_components/user_interface/themes
begin
wwv_flow_api.create_theme(
 p_id=>wwv_flow_api.id(773296136833916328)
,p_theme_id=>102
,p_theme_name=>'jQuery Mobile Smartphone'
,p_theme_internal_name=>'JQUERY_MOBILE_SMARTPHONE'
,p_ui_type_name=>'JQM_SMARTPHONE'
,p_navigation_type=>'T'
,p_nav_bar_type=>'NAVBAR'
,p_is_locked=>false
,p_default_page_template=>wwv_flow_api.id(773288021301916322)
,p_error_template=>wwv_flow_api.id(773288021301916322)
,p_printer_friendly_template=>wwv_flow_api.id(773288021301916322)
,p_default_button_template=>wwv_flow_api.id(773295521565916327)
,p_default_region_template=>wwv_flow_api.id(773292411032916326)
,p_default_chart_template=>wwv_flow_api.id(773292411032916326)
,p_default_form_template=>wwv_flow_api.id(773292411032916326)
,p_default_reportr_template=>wwv_flow_api.id(773293013866916326)
,p_default_tabform_template=>wwv_flow_api.id(773292411032916326)
,p_default_wizard_template=>wwv_flow_api.id(773292411032916326)
,p_default_irr_template=>wwv_flow_api.id(773292411032916326)
,p_default_report_template=>wwv_flow_api.id(773293324752916327)
,p_default_label_template=>wwv_flow_api.id(773294930529916327)
,p_default_calendar_template=>wwv_flow_api.id(773295834466916328)
,p_default_list_template=>wwv_flow_api.id(773294236600916327)
,p_default_option_label=>wwv_flow_api.id(773294930529916327)
,p_default_header_template=>wwv_flow_api.id(773291829949916326)
,p_default_footer_template=>wwv_flow_api.id(773291217897916325)
,p_default_required_label=>wwv_flow_api.id(773295032956916327)
,p_default_page_transition=>'SLIDE'
,p_default_popup_transition=>'POP'
,p_file_prefix => nvl(wwv_flow_application_install.get_static_theme_file_prefix(102),'')
);
wwv_flow_api.create_theme(
 p_id=>wwv_flow_api.id(1474243861314185574)
,p_theme_id=>103
,p_theme_name=>'jQuery Mobile Smartphone'
,p_theme_internal_name=>'JQUERY_MOBILE_SMARTPHONE'
,p_ui_type_name=>'JQM_SMARTPHONE'
,p_navigation_type=>'T'
,p_nav_bar_type=>'NAVBAR'
,p_is_locked=>false
,p_default_page_template=>wwv_flow_api.id(1474236082150185568)
,p_error_template=>wwv_flow_api.id(1474236082150185568)
,p_printer_friendly_template=>wwv_flow_api.id(1474236082150185568)
,p_default_button_template=>wwv_flow_api.id(1474243383880185573)
,p_default_region_template=>wwv_flow_api.id(1474240586593185571)
,p_default_chart_template=>wwv_flow_api.id(1474240586593185571)
,p_default_form_template=>wwv_flow_api.id(1474240586593185571)
,p_default_reportr_template=>wwv_flow_api.id(1474241178808185571)
,p_default_tabform_template=>wwv_flow_api.id(1474240586593185571)
,p_default_wizard_template=>wwv_flow_api.id(1474240586593185571)
,p_default_irr_template=>wwv_flow_api.id(1474240586593185571)
,p_default_report_template=>wwv_flow_api.id(1474241487369185571)
,p_default_label_template=>wwv_flow_api.id(1474242785934185573)
,p_default_calendar_template=>wwv_flow_api.id(1474243574892185573)
,p_default_list_template=>wwv_flow_api.id(1474242060580185572)
,p_default_option_label=>wwv_flow_api.id(1474242785934185573)
,p_default_header_template=>wwv_flow_api.id(1474239981177185570)
,p_default_footer_template=>wwv_flow_api.id(1474239365166185570)
,p_default_required_label=>wwv_flow_api.id(1474242860663185573)
,p_default_page_transition=>'SLIDEFADE'
,p_default_popup_transition=>'POP'
,p_file_prefix => nvl(wwv_flow_application_install.get_static_theme_file_prefix(103),'')
);
wwv_flow_api.create_theme(
 p_id=>wwv_flow_api.id(6040718704078910770)
,p_theme_id=>101
,p_theme_name=>'Cloud Apps'
,p_theme_internal_name=>'CLOUD_APPS'
,p_ui_type_name=>'DESKTOP'
,p_navigation_type=>'T'
,p_nav_bar_type=>'NAVBAR'
,p_is_locked=>false
,p_default_page_template=>wwv_flow_api.id(6040711119477910725)
,p_error_template=>wwv_flow_api.id(6040710727146910724)
,p_printer_friendly_template=>wwv_flow_api.id(6040711504582910725)
,p_breadcrumb_display_point=>'REGION_POSITION_01'
,p_sidebar_display_point=>'REGION_POSITION_02'
,p_login_template=>wwv_flow_api.id(6040710423386910722)
,p_default_button_template=>wwv_flow_api.id(6040717727700910742)
,p_default_region_template=>wwv_flow_api.id(6040713703191910732)
,p_default_form_template=>wwv_flow_api.id(6040712710992910731)
,p_default_reportr_template=>wwv_flow_api.id(6040713703191910732)
,p_default_tabform_template=>wwv_flow_api.id(6040713703191910732)
,p_default_menur_template=>wwv_flow_api.id(6040712204958910730)
,p_default_irr_template=>wwv_flow_api.id(6040713028018910731)
,p_default_report_template=>wwv_flow_api.id(6040715120978910736)
,p_default_label_template=>wwv_flow_api.id(6040717307241910742)
,p_default_menu_template=>wwv_flow_api.id(6040718112235910745)
,p_default_calendar_template=>wwv_flow_api.id(2992934873270441981)
,p_default_list_template=>wwv_flow_api.id(6040716910150910739)
,p_default_option_label=>wwv_flow_api.id(6040717419700910742)
,p_default_required_label=>wwv_flow_api.id(6040717628245910742)
,p_default_page_transition=>'NONE'
,p_default_popup_transition=>'NONE'
,p_file_prefix => nvl(wwv_flow_application_install.get_static_theme_file_prefix(101),'')
,p_css_file_urls=>'#IMAGE_PREFIX#legacy_ui/css/5.0#MIN#.css?v=#APEX_VERSION#'
);
end;
/
prompt --application/shared_components/user_interface/theme_style
begin
null;
end;
/
prompt --application/shared_components/user_interface/theme_files
begin
null;
end;
/
prompt --application/shared_components/user_interface/theme_display_points
begin
null;
end;
/
prompt --application/shared_components/user_interface/template_opt_groups
begin
null;
end;
/
prompt --application/shared_components/user_interface/template_options
begin
null;
end;
/
prompt --application/shared_components/logic/build_options
begin
null;
end;
/
prompt --application/shared_components/globalization/language
begin
null;
end;
/
prompt --application/shared_components/globalization/translations
begin
null;
end;
/
prompt --application/shared_components/globalization/messages
begin
wwv_flow_api.create_message(
 p_id=>wwv_flow_api.id(2389062476191096942)
,p_name=>'HELP'
,p_message_text=>'Help'
);
wwv_flow_api.create_message(
 p_id=>wwv_flow_api.id(2389070478962097771)
,p_name=>'ADMINISTRATION'
,p_message_text=>'Administration'
);
wwv_flow_api.create_message(
 p_id=>wwv_flow_api.id(2389074581386098463)
,p_name=>'LOGIN'
,p_message_text=>'Login'
);
wwv_flow_api.create_message(
 p_id=>wwv_flow_api.id(2389078683810099199)
,p_name=>'LOGOUT'
,p_message_text=>'Logout'
);
wwv_flow_api.create_message(
 p_id=>wwv_flow_api.id(2854817370379387440)
,p_name=>'USER'
,p_message_text=>'User'
);
wwv_flow_api.create_message(
 p_id=>wwv_flow_api.id(2856545979630902110)
,p_name=>'ACCESS_CONTROL_INFO'
,p_message_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<p>When Access Control is enabled, Administrators have the ability to restrict access to certain application features, for authenticated users. ',
'Incident Tracking supports the following 3 access levels; Reader, Contributor and Administrator.</p>',
'<p><img src="#IMAGE_PREFIX#htmldb/icons/user_green_20.gif" height="20" width="20" alt="" align="left" /><b>Reader''s</b> have read-only access and can also view reports.</p>',
'<p><img src="#IMAGE_PREFIX#htmldb/icons/user_yellow_20.gif" height="20" width="20" alt="" align="left"/><b>Contributor''s</b> can create, edit, delete and view reports.</p>',
'<p><img src="#IMAGE_PREFIX#htmldb/icons/user_red_20.gif" height="20" width="20" alt="" align="left" /><b>Administrator''s</b>, in addition to Contributor''s capability, can also perform ',
'Incident Tracking administration, including configuration of access control, managing application look-up data and installing or uninstalling sample data.</p> '))
);
wwv_flow_api.create_message(
 p_id=>wwv_flow_api.id(2856546184478903507)
,p_name=>'AC_CONFIGURATION_INFO'
,p_message_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<p><b>Enabling Access Control</b> means that access to the application and its features are controlled by the current <b>Access Control List</b>, as defined by the application administrator. ',
'Incident Tracking has 3 access levels available that can be granted to a user; Administrator, Contributor and Reader. Please see the ',
'Manage Access Control List page for further details on what each level provides.</p>',
'<p>In addition, if you don''t want to have to define every ''Reader'' of your application, you can select <b>Any Authenticated User</b> from the <b>Reader Access</b> configuration option. This opens read-only access to any user who can authenticate into'
||' your application.</p>',
'<br />',
'<p><b>Disabling Access Control</b> means that access to the application and all of its features including Administration are open to any user who can authenticate to the application.</p>',
'<br />',
'<p>Note: Irrespective of whether Access Control is enabled or disabled, a user still has to authenticate successfully into the application.</p>'))
);
wwv_flow_api.create_message(
 p_id=>wwv_flow_api.id(2867600991065216187)
,p_name=>'MOBILE'
,p_message_text=>'Mobile'
);
wwv_flow_api.create_message(
 p_id=>wwv_flow_api.id(2919956988619827557)
,p_name=>'ADDITIONAL_INFORMATION'
,p_message_text=>'Additional Information'
);
wwv_flow_api.create_message(
 p_id=>wwv_flow_api.id(2919957191389828422)
,p_name=>'FEATURES'
,p_message_text=>'Features'
);
wwv_flow_api.create_message(
 p_id=>wwv_flow_api.id(2919957494852829414)
,p_name=>'GETTING_STARTED'
,p_message_text=>'Getting Started'
);
wwv_flow_api.create_message(
 p_id=>wwv_flow_api.id(2919957697969830295)
,p_name=>'ABOUT_THIS_APPLICATION'
,p_message_text=>'About this Application'
);
end;
/
prompt --application/shared_components/globalization/dyntranslations
begin
null;
end;
/
prompt --application/shared_components/user_interface/shortcuts
begin
wwv_flow_api.create_shortcut(
 p_id=>wwv_flow_api.id(2404325777133377049)
,p_shortcut_name=>'DELETE_CONFIRM_MSG'
,p_shortcut_type=>'TEXT_ESCAPE_JS'
,p_shortcut=>'Would you like to perform this delete action?'
);
end;
/
prompt --application/shared_components/security/authentications
begin
wwv_flow_api.create_authentication(
 p_id=>wwv_flow_api.id(4053494936338880317)
,p_name=>'Application Express'
,p_scheme_type=>'NATIVE_APEX_ACCOUNTS'
,p_attribute_15=>'2297298339862737865'
,p_invalid_session_type=>'LOGIN'
,p_logout_url=>'f?p=&APP_ID.:1'
,p_use_secure_cookie_yn=>'N'
,p_ras_mode=>0
,p_comments=>'Use internal Application Express account credentials and login page in this application.'
);
end;
/
prompt --application/ui_types
begin
null;
end;
/
prompt --application/shared_components/plugins/region_type/com_oracle_apex_tag_cloud
begin
wwv_flow_api.create_plugin(
 p_id=>wwv_flow_api.id(7085452360794031233)
,p_plugin_type=>'REGION TYPE'
,p_name=>'COM.ORACLE.APEX.TAG_CLOUD'
,p_display_name=>'Tag Cloud'
,p_supported_ui_types=>'DESKTOP'
,p_image_prefix => nvl(wwv_flow_application_install.get_static_plugin_file_prefix('REGION TYPE','COM.ORACLE.APEX.TAG_CLOUD'),'')
,p_plsql_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function render (',
'    p_region              in apex_plugin.t_region,',
'    p_plugin              in apex_plugin.t_plugin,',
'    p_is_printer_friendly in boolean )',
'    return apex_plugin.t_region_render_result',
'is',
'    -- Constants for the columns of our region source query',
'    c_tag_col   constant pls_integer := 1;',
'    c_count_col constant pls_integer := 2;',
'',
'    -- attributes of the plug-in',
'    l_target_url           varchar2(4000)  := p_region.attribute_01;',
'    l_max_display_tags     number          := to_number(p_region.attribute_02);',
'    l_show_count           boolean         := nvl(p_region.attribute_03,''Y'') = ''Y'';',
'',
'',
'    l_valid_data_type_list wwv_flow_global.vc_arr2;',
'    l_column_value_list    apex_plugin_util.t_column_value_list2;',
'    l_max                  number;',
'    l_min                  number;',
'    l_cnts                 number;',
'    l_tag                  varchar2(4000);',
'    l_class_size           number;',
'    l_class                varchar2(30);',
'begin',
'    apex_css.add_file (',
'        p_name      => ''tag_cloud'',',
'        p_directory => p_plugin.file_prefix,',
'        p_version   => null );',
'',
'    -- define the valid column data types for the region query',
'    l_valid_data_type_list(c_tag_col)   := apex_plugin_util.c_data_type_varchar2;',
'    l_valid_data_type_list(c_count_col) := apex_plugin_util.c_data_type_number;',
'',
'    -- get the data to be displayed',
'    l_column_value_list := apex_plugin_util.get_data2 (',
'                               p_sql_statement  => p_region.source,',
'                               p_min_columns    => 2,',
'                               p_max_columns    => 2,',
'                               p_data_type_list => l_valid_data_type_list,',
'                               p_component_name => p_region.name,',
'                               p_max_rows       => l_max_display_tags );',
'',
'   -- Determine maximum tag counts',
'   l_max := 0;',
'   l_min := 1000;',
'   for i in 1 .. l_column_value_list(c_count_col).value_list.count',
'   loop',
'      l_cnts  := l_column_value_list(c_count_col).value_list(i).number_value;',
'',
'      if l_cnts > l_max then',
'         l_max := l_cnts;',
'      end if;',
'      if l_cnts < l_min then',
'         l_min := l_cnts;',
'      end if;',
'   end loop;',
'   if l_max = 0 then l_max := 1; end if;',
'',
'   l_class_size := round((l_max-l_min)/6);',
'',
'   -- Generate tag cloud',
'   sys.htp.p(''<div class="tagCloud"><ul>'');',
'',
'   for i in 1 .. l_column_value_list(c_tag_col).value_list.count',
'   loop',
'       l_tag  := sys.htf.escape_sc(l_column_value_list(c_tag_col).value_list(i).varchar2_value);',
'       l_cnts := l_column_value_list(c_count_col).value_list(i).number_value;',
'',
'       if l_cnts < l_min + l_class_size then',
'           l_class := ''size1'';',
'       elsif l_cnts < l_min + (l_class_size*2) then',
'           l_class := ''size2'';',
'       elsif l_cnts < l_min + (l_class_size*3) then',
'           l_class := ''size3'';',
'       elsif l_cnts < l_min + (l_class_size*4) then',
'           l_class := ''size4'';',
'       elsif l_cnts < l_min + (l_class_size*5) then',
'           l_class := ''size5'';',
'       else',
'           l_class := ''size6'';',
'       end if;      ',
'       ',
'       sys.htp.p (',
'           ''<li><a class="''||l_class||''" href="''||',
'           wwv_flow_utilities.prepare_url(replace(l_target_url, ''#TAG#'', l_tag))||''">''||',
'           l_tag ||',
'           case when l_show_count then ''<span>'' || l_cnts || ''</span>'' end ||',
'           ''</a></li>'' );',
'   end loop;',
'',
'   sys.htp.p(''</ul></div>'');',
'',
'   return null;',
'end render;'))
,p_api_version=>1
,p_render_function=>'render'
,p_standard_attributes=>'SOURCE_SQL'
,p_substitute_attributes=>true
,p_reference_id=>1810286951265619840
,p_subscribe_plugin_settings=>true
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<p>',
'	Use this region type plug-in to render a tag cloud. The developer supplies a query returning the tag name and count. The developer specifies a target URL for the tag, the Maximum Displayed Tags, and whether or not to show the count of tags.</p>',
''))
,p_version_identifier=>'1.0'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(6180481257817262262)
,p_plugin_id=>wwv_flow_api.id(7085452360794031233)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>1
,p_display_sequence=>10
,p_prompt=>'Target URL'
,p_attribute_type=>'TEXT'
,p_is_required=>true
,p_display_length=>60
,p_is_translatable=>false
,p_help_text=>'Enter a URL to navigate to when the tag is clicked. Use the #TAG# substitution for the tag that is clicked.'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(6180481637209262262)
,p_plugin_id=>wwv_flow_api.id(7085452360794031233)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>2
,p_display_sequence=>20
,p_prompt=>'Maximum Displayed Tags'
,p_attribute_type=>'INTEGER'
,p_is_required=>false
,p_display_length=>4
,p_max_length=>4
,p_is_translatable=>false
,p_attribute_comment=>'Enter the maximum number of tags to display in the region.'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(6180482054661262262)
,p_plugin_id=>wwv_flow_api.id(7085452360794031233)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>3
,p_display_sequence=>30
,p_prompt=>'Show Count'
,p_attribute_type=>'CHECKBOX'
,p_is_required=>false
,p_default_value=>'Y'
,p_is_translatable=>false
,p_help_text=>'Choose whether to show the tag count next to the tag.'
);
wwv_flow_api.create_plugin_std_attribute(
 p_id=>wwv_flow_api.id(7981458316850192)
,p_plugin_id=>wwv_flow_api.id(7085452360794031233)
,p_name=>'SOURCE_SQL'
,p_is_required=>false
,p_sql_min_column_count=>2
,p_sql_max_column_count=>2
,p_examples=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<p>',
'<strong>Example 1: Render tag cloud with all tags.</strong>',
'<pre>',
'select tag, count(*) cnt ',
'  from your_tag_table',
' group by tag',
' order by 1',
'</pre>',
'</p>',
'',
'<p>',
'<b>Example 2: Render tag cloud with tags specific to a content type.</b>',
'<pre>',
'select tag, count(*) cnt ',
'  from your_tag_table',
' where content_type = ''DOCUMENT''',
' group by tag',
' order by 1',
'</pre>',
'</p>',
''))
);
end;
/
begin
wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;
wwv_flow_api.g_varchar2_table(1) := '092E746167436C6F7564207B7D0A092E746167436C6F756420756C207B0A09096C6973742D7374796C653A206E6F6E653B0A09096D617267696E3A20303B0A090970616464696E673A20303B0A09097D0A09092E746167436C6F7564206C69207B0A0909';
wwv_flow_api.g_varchar2_table(2) := '09646973706C61793A20696E6C696E653B0A0909097D0A0909092E746167436C6F7564206C692061207B0A0909090970616464696E673A2030203570783B0A09090909666F6E743A206E6F726D616C20313270782F3230707820417269616C2C2073616E';
wwv_flow_api.g_varchar2_table(3) := '732D73657269663B0A09090909636F6C6F723A20233030303B0A09090909746578742D736861646F773A20302031707820302072676261283235352C3235352C3235352C2E3735293B0A090909092D6D6F7A2D626F726465722D7261646975733A203370';
wwv_flow_api.g_varchar2_table(4) := '783B0A090909092D7765626B69742D626F726465722D7261646975733A203370783B0A09090909626F726465722D7261646975733A203370783B0A09090909626F726465722D72696768743A2031707820736F6C696420234646463B0A09090909626F72';
wwv_flow_api.g_varchar2_table(5) := '6465722D626F74746F6D3A2031707820736F6C696420234646463B0A09090909746578742D6465636F726174696F6E3A206E6F6E653B0A09090909646973706C61793A20696E6C696E652D626C6F636B3B0A090909096D617267696E3A20302033707820';
wwv_flow_api.g_varchar2_table(6) := '32707820303B0A090909097D0A090909092E746167436C6F7564206C6920613A686F766572207B0A09090909096261636B67726F756E642D636F6C6F723A20234545453B0A0909090909746578742D6465636F726174696F6E3A206E6F6E653B0A090909';
wwv_flow_api.g_varchar2_table(7) := '0909626F726465722D626F74746F6D3A2031707820736F6C696420233939393B0A0909090909626F726465722D72696768743A2031707820736F6C696420233939393B0A09090909097D0A09090909092E746167436C6F7564206C6920613A6163746976';
wwv_flow_api.g_varchar2_table(8) := '65207B0A0909090909096261636B67726F756E642D636F6C6F723A20234444443B0A09090909097D0A0A090909092E746167436C6F7564206C6920612E73697A6531207B666F6E742D73697A653A20313170783B206C696E652D6865696768743A203136';
wwv_flow_api.g_varchar2_table(9) := '70787D0A090909092E746167436C6F7564206C6920612E73697A6532207B666F6E742D73697A653A20313370783B6C696E652D6865696768743A20323070787D0A090909092E746167436C6F7564206C6920612E73697A6533207B666F6E742D73697A65';
wwv_flow_api.g_varchar2_table(10) := '3A20313670783B6C696E652D6865696768743A20323470787D0A090909092E746167436C6F7564206C6920612E73697A6534207B666F6E742D73697A653A20313770783B6C696E652D6865696768743A20323870787D0A090909092E746167436C6F7564';
wwv_flow_api.g_varchar2_table(11) := '206C6920612E73697A6535207B666F6E742D73697A653A20313870783B6C696E652D6865696768743A20333070787D0A090909092E746167436C6F7564206C6920612E73697A6536207B666F6E742D73697A653A20313970783B6C696E652D6865696768';
wwv_flow_api.g_varchar2_table(12) := '743A20333270787D0A0A090909092E746167436C6F7564206C692061207370616E207B0A0909090909646973706C61793A20696E6C696E652D626C6F636B3B0A09090909096D617267696E2D6C6566743A203370783B0A090909090970616464696E673A';
wwv_flow_api.g_varchar2_table(13) := '20303B0A0909090909666F6E742D7765696768743A20626F6C643B0A0909090909636F6C6F723A20233939393B0A09090909097D0A09090909092E746167436C6F7564206C6920613A686F766572207370616E207B0A0909090909097D';
null;
end;
/
begin
wwv_flow_api.create_plugin_file(
 p_id=>wwv_flow_api.id(6180482943339262289)
,p_plugin_id=>wwv_flow_api.id(7085452360794031233)
,p_file_name=>'tag_cloud.css'
,p_mime_type=>'text/css'
,p_file_content=>wwv_flow_api.varchar2_to_blob(wwv_flow_api.g_varchar2_table)
);
end;
/
prompt --application/shared_components/plugins/region_type/com_oracle_apex_css_bar_chart
begin
wwv_flow_api.create_plugin(
 p_id=>wwv_flow_api.id(7981211349407733538)
,p_plugin_type=>'REGION TYPE'
,p_name=>'COM.ORACLE.APEX.CSS_BAR_CHART'
,p_display_name=>'CSS Bar Chart'
,p_supported_ui_types=>'DESKTOP'
,p_image_prefix => nvl(wwv_flow_application_install.get_static_plugin_file_prefix('REGION TYPE','COM.ORACLE.APEX.CSS_BAR_CHART'),'#IMAGE_PREFIX#eba/css/')
,p_plsql_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'procedure render_bar_chart (',
'    p_region in apex_plugin.t_region )',
'is',
'    -- constants for the columns of our region source query',
'    c_label_col constant pls_integer := 1;',
'    c_value_col constant pls_integer := 2;',
'    c_url_col   constant pls_integer := 3;',
'    c_color_col constant pls_integer := 4;',
'',
'    -- attributes of the plug-in',
'    l_display_as           varchar2(20)    := nvl(p_region.attribute_01, ''VALUE_ABSOLUTE'');',
'    l_value_prefix         varchar2(40)    := p_region.attribute_02;',
'    l_value_postfix        varchar2(40)    := p_region.attribute_03;',
'    -- page items to submit = p_region.attribute_09',
'    l_max_rows             number          := to_number(p_region.attribute_10);',
'    l_region_source        varchar2(32767) := p_region.source;',
'',
'    l_valid_data_type_list wwv_flow_global.vc_arr2;',
'    l_column_value_list    apex_plugin_util.t_column_value_list2;',
'    l_max_value            number;',
'    l_total_value          number;',
'    l_label                varchar2(4000);',
'    l_value                number;',
'    l_url                  varchar2(4000);',
'    l_color                varchar2(4000);',
'    l_width                number;',
'    l_display_value        varchar2(4000);',
'begin',
'',
'    -- if percentage is displayed then the value will always have % as postfix',
'    if l_display_as like ''PERCENTAGE%'' then',
'        l_value_postfix := '' %'';',
'    end if;',
'',
'    -- define the valid column data types for the region query',
'    l_valid_data_type_list(c_label_col) := apex_plugin_util.c_data_type_varchar2;',
'    l_valid_data_type_list(c_value_col) := apex_plugin_util.c_data_type_number;',
'    l_valid_data_type_list(c_url_col)   := apex_plugin_util.c_data_type_varchar2;',
'    l_valid_data_type_list(c_color_col) := apex_plugin_util.c_data_type_varchar2;',
'',
'    -- get the data to be displayed',
'    l_column_value_list := apex_plugin_util.get_data2 (',
'                               p_sql_statement  => l_region_source,',
'                               p_min_columns    => 2,',
'                               p_max_columns    => 4,',
'                               p_data_type_list => l_valid_data_type_list,',
'                               p_component_name => p_region.name,',
'                               p_max_rows       => l_max_rows );',
'',
'    -- calculate the total or max value depending on "Display As"',
'    -- We could rewrite the region query with SUM(xxx) over ()',
'    -- but that would require that we know how the columns are named in the query.',
'    -- That''s why we just do a simple loop of the tiny array to get the',
'    -- total/max value which is probably faster anyway',
'    if l_display_as like ''%RELATIVE'' then',
'        l_total_value := 0;',
'        for i in 1 .. l_column_value_list(c_value_col).value_list.count loop',
'            -- $$$ what should we do if VALUE is NULL??? Set l_total_value to NULL as well?',
'            l_total_value := l_total_value + l_column_value_list(c_value_col).value_list(i).number_value;',
'        end loop;',
'    else',
'        l_max_value := 0;',
'        for i in 1 .. l_column_value_list(c_value_col).value_list.count loop',
'            -- $$$ what should we do if VALUE is NULL??? Set l_max_value to NULL as well?',
'            if l_column_value_list(c_value_col).value_list(i).number_value > l_max_value then',
'                l_max_value := l_column_value_list(c_value_col).value_list(i).number_value;',
'            end if;',
'        end loop;',
'    end if;',
'',
'    -- print our bar chart',
'    sys.htp.p(''<table class="cbc" border="0" cellspacing="0" cellpadding="0" summary="''||p_region.name||''">'');',
'',
'    for i in 1 .. l_column_value_list(c_label_col).value_list.count loop',
'        l_label := sys.htf.escape_sc(l_column_value_list(c_label_col).value_list(i).varchar2_value);',
'        l_value := l_column_value_list(c_value_col).value_list(i).number_value;',
'',
'        -- get the value of the URL and color only if the column exists in the SQL statement',
'        if l_column_value_list.exists(c_url_col) then',
'            l_url := wwv_flow_utilities.prepare_url (',
'                         apex_application.do_substitutions (',
'                             l_column_value_list(c_url_col).value_list(i).varchar2_value ));',
'        end if;',
'        if l_column_value_list.exists(c_color_col) then',
'            l_color := lower(l_column_value_list(c_color_col).value_list(i).varchar2_value);',
'            -- map a few of the standard colors to better looking ones',
'            l_color := case l_color',
'                         when ''red''     then ''#e10''',
'                         when ''yellow''  then ''#fd0''',
'                         when ''green''   then ''#0c0''',
'                         when ''black''   then ''#555''',
'                         when ''default'' then ''#ddd''',
'                         else l_color',
'                       end;',
'        end if;',
'',
'        -- calculate how long the chart bar should be',
'        if l_display_as like ''%RELATIVE'' then',
'            if l_total_value = 0 then',
'                l_width := 0;',
'            else',
'                l_width := round(l_value * 100 / l_total_value);',
'            end if;',
'        else',
'            if l_max_value = 0 then',
'                l_width := 0;',
'            else',
'                l_width := round(l_value * 100 / l_max_value);',
'            end if;',
'        end if;',
'',
'        if l_display_as like ''PERCENTAGE%'' then',
'            l_value := l_width;',
'        end if;',
'',
'        l_display_value := case when l_value_prefix is not null then l_value_prefix||'' '' end||',
'                           trim(to_char(l_value, ''999G999G999G990''))||',
'                           case when l_value_postfix is not null then '' ''||l_value_postfix end;',
'',
'        sys.htp.p(''<tr>'');',
'',
'',
'        -- print label column and add link if an URL has been specified in the SQL statement',
'        -- otherwise just print the label',
'        sys.htp.p(''<th id="row_''||i||''"><span class="cbc_label">'');',
'        if l_url is not null then',
'            sys.htp.p(''<a href="''||l_url||''">''||l_label||''</a>'');',
'        else',
'            sys.htp.p(l_label);',
'        end if;',
'        sys.htp.p(''</span></th>'');',
'',
'        -- print chart bar',
'        sys.htp.p(''<td headers="row_''||i||''">'');',
'        sys.htp.p(''<span class="cbc_bar_background">'');',
'',
'        -- add link if an URL has been specified in the SQL statement otherwise just print the value',
'        if l_url is not null then',
'            sys.htp.p(''<span class="cbc_value"><a href="''||l_url||''">''||l_display_value||''</a></span>'');',
'        else',
'            sys.htp.p(''<span class="cbc_value">''||l_display_value||''</span>'');',
'        end if;',
'        ',
'        sys.htp.p (',
'            ''<span class="cbc_bar" style="width:''||l_width||''%;''||',
'            case when l_color is not null then ''background-color:''||l_color end||',
'            ''"></span>'' );',
'        sys.htp.p(''</span>'');',
'        sys.htp.p(''</td>'');',
'',
'        sys.htp.p(''</tr>'');',
'    end loop;',
'',
'    sys.htp.p(''</table>'');',
'end render_bar_chart;',
'',
'',
'function render (',
'    p_region              in apex_plugin.t_region,',
'    p_plugin              in apex_plugin.t_plugin,',
'    p_is_printer_friendly in boolean )',
'    return apex_plugin.t_region_render_result',
'is',
'    l_page_items_to_submit varchar2(4000)  := p_region.attribute_09;',
'begin',
'    apex_css.add_file (',
'        p_name      => ''css_bar_chart'',',
'        p_directory => p_plugin.file_prefix,',
'        p_version   => null );',
'',
'    sys.htp.p (''',
'<!--[if IE]> ',
'<style type="text/css" media="screen">',
'.cbc .cbc_bar_background {',
'  background-color: #FFF;',
'  border: 1px solid #AAA;',
'}',
'.cbc .cbc_value {',
'  color: #000;',
'  border-right: 1px solid #AAA;',
'}',
'.cbc .cbc_value a {',
'  color: #000;',
'}',
'.cbc .cbc_value a:hover {',
'  text-decoration: underline',
'}',
'</style>',
'<![endif]-->'');',
'',
'    -- print our region data',
'    sys.htp.p(''<div id="''||p_region.static_id||''_chart" class="cbc">'');',
'',
'    render_bar_chart (',
'        p_region => p_region );',
'',
'    sys.htp.p(''</div>'');',
'',
'    apex_javascript.add_library (',
'        p_name      => ''com_oracle_apex_css_bar_chart'',',
'        p_directory => p_plugin.file_prefix,',
'        p_version   => null );',
'',
'    apex_javascript.add_onload_code (',
'        p_code => ''com_oracle_apex_css_bar_chart(''||',
'                      apex_javascript.add_value(p_region.static_id)||',
'                      ''{''||',
'                      apex_javascript.add_attribute(''pageItemsToSubmit'', apex_plugin_util.page_item_names_to_jquery(l_page_items_to_submit))||',
'                      apex_javascript.add_attribute(''ajaxIdentifier'',    apex_plugin.get_ajax_identifier, false, false)||',
'                      ''});'' );',
'',
'    return null;',
'end render;',
'',
'function ajax (',
'    p_region              in apex_plugin.t_region,',
'    p_plugin              in apex_plugin.t_plugin )',
'    return apex_plugin.t_region_ajax_result',
'is',
'begin',
'    sys.owa_util.mime_header(''text/html'', false);',
'    sys.htp.p(''Cache-Control: no-cache'');',
'    sys.htp.p(''Pragma: no-cache'');',
'    sys.owa_util.http_header_close;',
'',
'    render_bar_chart (',
'        p_region => p_region );',
'',
'    return null;',
'exception when others then',
'    sys.htp.p(''Error: ''||sqlerrm);',
'end ajax;'))
,p_api_version=>1
,p_render_function=>'render'
,p_ajax_function=>'ajax'
,p_standard_attributes=>'SOURCE_SQL'
,p_substitute_attributes=>true
,p_reference_id=>9111038285464470586
,p_subscribe_plugin_settings=>true
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<br />',
''))
,p_version_identifier=>'0.9'
,p_about_url=>'http://apex.oracle.com/plugins'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(2996069498135299930)
,p_plugin_id=>wwv_flow_api.id(7981211349407733538)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>1
,p_display_sequence=>10
,p_prompt=>'Display As'
,p_attribute_type=>'SELECT LIST'
,p_is_required=>true
,p_default_value=>'VALUE_ABSOLUTE'
,p_is_translatable=>false
,p_lov_type=>'STATIC'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(2996069895524299930)
,p_plugin_attribute_id=>wwv_flow_api.id(2996069498135299930)
,p_display_sequence=>1
,p_display_value=>'Percentage with absolute bar width'
,p_return_value=>'PERCENTAGE_ABSOLUT'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(2996070375840299930)
,p_plugin_attribute_id=>wwv_flow_api.id(2996069498135299930)
,p_display_sequence=>1
,p_display_value=>'Value with absolute bar width'
,p_return_value=>'VALUE_ABSOLUTE'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(2996070886427299931)
,p_plugin_attribute_id=>wwv_flow_api.id(2996069498135299930)
,p_display_sequence=>1
,p_display_value=>'Percentage with relative bar width'
,p_return_value=>'PERCENTAGE_RELATIVE'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(2996071384386299931)
,p_plugin_attribute_id=>wwv_flow_api.id(2996069498135299930)
,p_display_sequence=>1
,p_display_value=>'Value with relative bar width'
,p_return_value=>'VALUE_RELATIVE'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(2996071882182299931)
,p_plugin_id=>wwv_flow_api.id(7981211349407733538)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>2
,p_display_sequence=>20
,p_prompt=>'Prefix for Value'
,p_attribute_type=>'TEXT'
,p_is_required=>false
,p_display_length=>10
,p_max_length=>40
,p_is_translatable=>true
,p_depending_on_attribute_id=>wwv_flow_api.id(2996069498135299930)
,p_depending_on_has_to_exist=>true
,p_depending_on_condition_type=>'IN_LIST'
,p_depending_on_expression=>'VALUE_ABSOLUTE,VALUE_RELATIVE'
,p_help_text=>'Specify the prefix which should be added to the displayed value.'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(2996072289180299933)
,p_plugin_id=>wwv_flow_api.id(7981211349407733538)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>3
,p_display_sequence=>30
,p_prompt=>'Postfix for Value'
,p_attribute_type=>'TEXT'
,p_is_required=>false
,p_display_length=>10
,p_max_length=>40
,p_is_translatable=>true
,p_depending_on_attribute_id=>wwv_flow_api.id(2996069498135299930)
,p_depending_on_has_to_exist=>true
,p_depending_on_condition_type=>'IN_LIST'
,p_depending_on_expression=>'VALUE_ABSOLUTE,VALUE_RELATIVE'
,p_help_text=>'Specify the postfix which should be added to the displayed value.'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(2996072670156299933)
,p_plugin_id=>wwv_flow_api.id(7981211349407733538)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>9
,p_display_sequence=>90
,p_prompt=>'Page Items to Submit'
,p_attribute_type=>'PAGE ITEMS'
,p_is_required=>false
,p_is_translatable=>false
,p_help_text=>'Specify a comma separated list of page items that will be submitted to the server and thus, available for use from within your region source SQL statement.'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(2996073078158299933)
,p_plugin_id=>wwv_flow_api.id(7981211349407733538)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>10
,p_display_sequence=>100
,p_prompt=>'Maximum Rows'
,p_attribute_type=>'INTEGER'
,p_is_required=>true
,p_default_value=>'5'
,p_display_length=>3
,p_max_length=>3
,p_is_translatable=>false
,p_help_text=>'Defines the maximum number of rows to query and to display.'
);
wwv_flow_api.create_plugin_std_attribute(
 p_id=>wwv_flow_api.id(7981595001850198)
,p_plugin_id=>wwv_flow_api.id(7981211349407733538)
,p_name=>'SOURCE_SQL'
,p_is_required=>false
,p_sql_min_column_count=>2
,p_sql_max_column_count=>4
,p_examples=>wwv_flow_string.join(wwv_flow_t_varchar2(
'The region source has to be in the following format:',
'<pre>',
'select label,',
'       value,',
'       [link,]',
'       [color]',
'  from table',
' order by value',
'</pre>',
'<ul>',
'<li><strong>Label</strong> is the label ...</li>',
'<li><strong>Value</strong> is the value ... and has to be of type NUMBER</li>',
'<li><strong>Link</strong> is optional and can allow a user to navigate to another page within the application or a provided URL, and is activated by clicking on the chart bar of the record.</li>',
'<li><strong>Color</strong> is optional and is the background color of the chart bar for the record. The color is a hex value (for example #ff0000) or one of the standard web colors like red, green, ...</li>',
'</ul>',
''))
);
end;
/
begin
wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;
wwv_flow_api.g_varchar2_table(1) := '66756E6374696F6E20636F6D5F6F7261636C655F617065785F6373735F6261725F63686172742870526567696F6E49642C20704F7074696F6E7329207B0A0A20202F2F2044656661756C74206F7572206F7074696F6E7320616E642073746F7265207468';
wwv_flow_api.g_varchar2_table(2) := '656D2077697468207468652022676C6F62616C22207072656669782C20626563617573652074686579206172650A20202F2F20757365642062792074686520646966666572656E742066756E6374696F6E7320617320636C6F737572650A202076617220';
wwv_flow_api.g_varchar2_table(3) := '674F7074696F6E73203D20617065782E6A51756572792E657874656E64287B0A20202020202020202020202020202020202020616A61784964656E7469666965723A6E756C6C2C0A20202020202020202020202020202020202020706167654974656D73';
wwv_flow_api.g_varchar2_table(4) := '546F5375626D69743A6E756C6C0A202020202020202020202020202020202020207D2C20704F7074696F6E73292C0A20202020202067526567696F6E20203D20617065782E6A5175657279282723272B70526567696F6E4964292C0A2020202020206743';
wwv_flow_api.g_varchar2_table(5) := '686172742020203D20617065782E6A5175657279282723272B70526567696F6E49642B275F636861727427293B0A0A20202F2F204578656375746564207768656E2074686520414A41582063616C6C2069732066696E69736865642E2070446174612077';
wwv_flow_api.g_varchar2_table(6) := '696C6C20636F6E7461696E7320746865206E65772048544D4C20636F646520666F72207468652063686172740A202066756E6374696F6E205F64726177526573756C7428704461746129207B0A202020206743686172740A2020202020202E72656D6F76';
wwv_flow_api.g_varchar2_table(7) := '65436C61737328276362635F6C6F6164696E6727290A2020202020202E68746D6C287044617461293B0A2020202067526567696F6E2E7472696767657228276170657861667465727265667265736827293B0A20207D3B202F2F205F6472617752657375';
wwv_flow_api.g_varchar2_table(8) := '6C740A0A20202F2F20457865637574657320616E20414A41582063616C6C20746F20676574206E65772076616C75657320666F722074686520435353206261722063686172740A202066756E6374696F6E20726566726573682829207B0A0A202020202F';
wwv_flow_api.g_varchar2_table(9) := '2F207472696767657220746865206265666F72652072656672657368206576656E740A2020202067526567696F6E2E747269676765722827617065786265666F72657265667265736827293B0A0A202020202F2F20696E697469616C697A652074686520';
wwv_flow_api.g_varchar2_table(10) := '414A41582063616C6C20706172616D65746572730A20202020766172206C44617461203D207B20705F726571756573743A20224E41544956453D222B674F7074696F6E732E616A61784964656E7469666965722C0A202020202020202020202020202020';
wwv_flow_api.g_varchar2_table(11) := '202020705F666C6F775F69643A202476282770466C6F77496427292C0A202020202020202020202020202020202020705F666C6F775F737465705F69643A202476282770466C6F7753746570496427292C0A202020202020202020202020202020202020';
wwv_flow_api.g_varchar2_table(12) := '705F696E7374616E63653A202476282770496E7374616E636527290A202020202020202020202020202020207D3B0A0A202020202F2F2061646420616C6C2070616765206974656D73207765206861766520746F207375626D697420746F207468652041';
wwv_flow_api.g_varchar2_table(13) := '4A41582063616C6C0A20202020617065782E6A517565727928674F7074696F6E732E706167654974656D73546F5375626D6974292E656163682866756E6374696F6E28297B0A202020202020766172206C4964783B0A202020202020696620286C446174';
wwv_flow_api.g_varchar2_table(14) := '612E705F6172675F6E616D65733D3D3D756E646566696E656429207B0A20202020202020206C446174612E705F6172675F6E616D657320203D205B5D3B0A20202020202020206C446174612E705F6172675F76616C756573203D205B5D3B0A2020202020';
wwv_flow_api.g_varchar2_table(15) := '2020206C496478203D20303B0A2020202020207D20656C7365207B0A20202020202020206C496478203D206C446174612E705F6172675F6E616D65732E6C656E6774683B0A2020202020207D0A2020202020206C446174612E705F6172675F6E616D6573';
wwv_flow_api.g_varchar2_table(16) := '205B6C4964785D203D20746869732E69643B0A2020202020206C446174612E705F6172675F76616C7565735B6C4964785D203D2024762874686973293B0A202020207D293B0A0A202020202F2F20616464206C6F64696E6720696E64696361746F720A20';
wwv_flow_api.g_varchar2_table(17) := '2020206743686172742E616464436C61737328276362635F6C6F6164696E6727293B0A0A202020202F2F20706572666F726D2074686520414A41582063616C6C0A20202020617065782E6A51756572792E616A6178287B0A2020202020202F2F20747279';
wwv_flow_api.g_varchar2_table(18) := '20746F206C6576657261676520616A6178517565756520706C7567696E20746F2061626F72742070726576696F75732072657175657374730A2020202020206D6F64653A202261626F7274222C0A2020202020202F2F206C696D69742061626F7274696F';
wwv_flow_api.g_varchar2_table(19) := '6E20746F207468697320696E7075740A202020202020706F72743A20226373735F6261725F63686172745F222B70526567696F6E49642C0A20202020202064617461547970653A202268746D6C222C0A202020202020747970653A2022706F7374222C0A';
wwv_flow_api.g_varchar2_table(20) := '20202020202075726C3A20227777765F666C6F772E73686F77222C0A202020202020747261646974696F6E616C3A20747275652C0A202020202020646174613A206C446174612C0A202020202020737563636573733A205F64726177526573756C740A20';
wwv_flow_api.g_varchar2_table(21) := '20202020207D293B0A20207D3B202F2F20726566726573680A0A20202F2F207265676973746572207468652072656672657368206576656E74207768696368206973207472696767657265642062792061206D616E75616C20726566726573680A202067';
wwv_flow_api.g_varchar2_table(22) := '526567696F6E2E62696E6428226170657872656672657368222C2072656672657368293B0A0A7D3B202F2F20636F6D5F6F7261636C655F617065785F6373735F6261725F63686172740A';
null;
end;
/
begin
wwv_flow_api.create_plugin_file(
 p_id=>wwv_flow_api.id(2996074977952299935)
,p_plugin_id=>wwv_flow_api.id(7981211349407733538)
,p_file_name=>'com_oracle_apex_css_bar_chart.js'
,p_mime_type=>'text/javascript'
,p_file_content=>wwv_flow_api.varchar2_to_blob(wwv_flow_api.g_varchar2_table)
);
end;
/
begin
wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;
wwv_flow_api.g_varchar2_table(1) := '7461626C652E636263207B0D0A202077696474683A20313030253B0D0A7D0D0A7461626C652E636263207468207B0D0A2020746578742D616C69676E3A206C6566743B0D0A2020666F6E742D7765696768743A206E6F726D616C3B0D0A2020666F6E742D';
wwv_flow_api.g_varchar2_table(2) := '73697A653A20313270783B0D0A20206C696E652D6865696768743A20313870783B0D0A202070616464696E673A20337078203570782033707820303B0D0A2020626F726465722D626F74746F6D3A2031707820736F6C696420234545453B0D0A20207768';
wwv_flow_api.g_varchar2_table(3) := '6974652D73706163653A206E6F777261703B0D0A2020746578742D6F766572666C6F773A20656C6C69707369733B0D0A20206F766572666C6F773A2068696464656E3B0D0A7D0D0A2E6362635F6C61726765207461626C65207468207B0D0A2020666F6E';
wwv_flow_api.g_varchar2_table(4) := '742D7765696768743A206E6F726D616C3B0D0A2020666F6E742D73697A653A20313370783B0D0A20206C696E652D6865696768743A20323470783B0D0A202070616464696E673A20357078203570782035707820303B0D0A7D0D0A2E636263202E636263';
wwv_flow_api.g_varchar2_table(5) := '5F6C6162656C2061207B0D0A2020636F6C6F723A20233030303B0D0A7D0D0A7461626C652E6362632074723A6C6173742D6368696C642074682C7461626C652E6362632074723A6C6173742D6368696C64207464207B0D0A2020626F726465722D626F74';
wwv_flow_api.g_varchar2_table(6) := '746F6D3A206E6F6E653B0D0A7D0D0A7461626C652E636263207464207B0D0A202070616464696E673A20337078203020337078203570783B0D0A2020626F726465722D626F74746F6D3A2031707820736F6C696420234545453B0D0A202077696474683A';
wwv_flow_api.g_varchar2_table(7) := '203930253B0D0A7D0D0A2E6362635F6C61726765207461626C652E636263207464207B0D0A202070616464696E673A20357078203020357078203570783B0D0A7D0D0A2E636263202E6362635F6261725F6261636B67726F756E64207B0D0A2020646973';
wwv_flow_api.g_varchar2_table(8) := '706C61793A20626C6F636B3B0D0A202077696474683A20313030253B0D0A20202D7765626B69742D626F726465722D7261646975733A203670783B0D0A20202D6D6F7A2D626F726465722D7261646975733A203670783B0D0A2020626F726465722D7261';
wwv_flow_api.g_varchar2_table(9) := '646975733A203670783B0D0A20206261636B67726F756E643A202D7765626B69742D6772616469656E74286C696E6561722C30252030252C302520313030252C66726F6D287267626128302C302C302C2E3229292C746F287267626128302C302C302C2E';
wwv_flow_api.g_varchar2_table(10) := '312929293B0D0A20206261636B67726F756E643A202D6D6F7A2D6C696E6561722D6772616469656E7428746F702C207267626128302C302C302C302E32292C7267626128302C302C302C2E3129293B0D0A2020666F6E742D7765696768743A20626F6C64';
wwv_flow_api.g_varchar2_table(11) := '3B0D0A2020666F6E742D73697A653A20313270783B0D0A20206C696E652D6865696768743A20323070783B0D0A20202D7765626B69742D6261636B67726F756E642D636C69703A2070616464696E672D626F783B0D0A20202D6D6F7A2D6261636B67726F';
wwv_flow_api.g_varchar2_table(12) := '756E642D636C69703A2070616464696E672D626F783B0D0A20206261636B67726F756E642D636C69703A2070616464696E672D626F783B0D0A2020706F736974696F6E3A2072656C61746976653B0D0A20202D7765626B69742D626F782D736861646F77';
wwv_flow_api.g_varchar2_table(13) := '3A20696E736574203020302030707820317078207267626128302C302C302C2E3035293B0D0A20202D6D6F7A2D626F782D736861646F773A20696E736574203020302030707820317078207267626128302C302C302C2E3035293B0D0A2020626F782D73';
wwv_flow_api.g_varchar2_table(14) := '6861646F773A20696E736574203020302030707820317078207267626128302C302C302C2E3035293B0D0A7D0D0A2E6362635F6C61726765202E6362635F6261725F6261636B67726F756E64207B0D0A2020666F6E742D7765696768743A20626F6C643B';
wwv_flow_api.g_varchar2_table(15) := '0D0A2020666F6E742D73697A653A20313470783B0D0A20206C696E652D6865696768743A20323470783B0D0A2020706F736974696F6E3A2072656C61746976653B0D0A7D0D0A0D0A2E636263202E6362635F626172207B0D0A20206261636B67726F756E';
wwv_flow_api.g_varchar2_table(16) := '643A202D7765626B69742D6772616469656E74286C696E6561722C30252030252C302520313030252C66726F6D2872676261283235352C3235352C3235352C2E313529292C746F287267626128302C302C302C2E32352929293B0D0A20206261636B6772';
wwv_flow_api.g_varchar2_table(17) := '6F756E643A202D6D6F7A2D6C696E6561722D6772616469656E7428746F702C2072676261283235352C3235352C3235352C2E3135292C7267626128302C302C302C2E323529293B0D0A20206261636B67726F756E642D636F6C6F723A2023463246324632';
wwv_flow_api.g_varchar2_table(18) := '3B0D0A2020646973706C61793A20626C6F636B3B0D0A20206865696768743A20323070783B0D0A20202D7765626B69742D626F726465722D7261646975733A203570783B0D0A20202D6D6F7A2D626F726465722D7261646975733A203570783B0D0A2020';
wwv_flow_api.g_varchar2_table(19) := '626F726465722D7261646975733A203570783B0D0A20202D7765626B69742D626F782D736861646F773A20696E736574203020302030707820317078207267626128302C302C302C2E3235293B0D0A20202D6D6F7A2D626F782D736861646F773A20696E';
wwv_flow_api.g_varchar2_table(20) := '736574203020302030707820317078207267626128302C302C302C2E3235293B0D0A2020626F782D736861646F773A20696E736574203020302030707820317078207267626128302C302C302C2E3235293B0D0A7D0D0A0D0A2E6362635F6C6172676520';
wwv_flow_api.g_varchar2_table(21) := '2E6362635F626172207B0D0A20206865696768743A20323470783B0D0A7D0D0A0D0A2E636263202E6362635F76616C7565207B0D0A2020636F6C6F723A20233535353B0D0A2020636F6C6F723A207267626128302C302C302C2E3735293B0D0A20207769';
wwv_flow_api.g_varchar2_table(22) := '6474683A20313030253B0D0A2020646973706C61793A20626C6F636B3B0D0A2020746578742D616C69676E3A2063656E7465723B0D0A2020706F736974696F6E3A206162736F6C7574653B0D0A7D0D0A0D0A2E636263202E6362635F76616C7565206120';
wwv_flow_api.g_varchar2_table(23) := '7B0D0A2020636F6C6F723A20233535353B0D0A2020636F6C6F723A207267626128302C302C302C2E3735293B0D0A2020746578742D6465636F726174696F6E3A206E6F6E653B0D0A2020646973706C61793A20626C6F636B3B0D0A2020746578742D7368';
wwv_flow_api.g_varchar2_table(24) := '61646F773A20302031707820302072676261283235352C3235352C303235352C2E3235293B0D0A7D0D0A0D0A2E636263202E6362635F76616C756520613A686F766572207B0D0A20206261636B67726F756E642D636F6C6F723A207267626128302C302C';
wwv_flow_api.g_varchar2_table(25) := '302C2E3135293B0D0A20202D7765626B69742D626F726465722D7261646975733A203670783B0D0A20202D6D6F7A2D626F726465722D7261646975733A203670783B0D0A2020626F726465722D7261646975733A203670783B0D0A7D0D0A0D0A';
null;
end;
/
begin
wwv_flow_api.create_plugin_file(
 p_id=>wwv_flow_api.id(2996075383792299937)
,p_plugin_id=>wwv_flow_api.id(7981211349407733538)
,p_file_name=>'css_bar_chart.css'
,p_mime_type=>'text/css'
,p_file_content=>wwv_flow_api.varchar2_to_blob(wwv_flow_api.g_varchar2_table)
);
end;
/
prompt --application/shared_components/plugins/item_type/com_oracle_apex_tags
begin
wwv_flow_api.create_plugin(
 p_id=>wwv_flow_api.id(15771270213307318971)
,p_plugin_type=>'ITEM TYPE'
,p_name=>'COM.ORACLE.APEX.TAGS'
,p_display_name=>'Tags'
,p_supported_ui_types=>'DESKTOP'
,p_supported_component_types=>'APEX_APPLICATION_PAGE_ITEMS'
,p_image_prefix => nvl(wwv_flow_application_install.get_static_plugin_file_prefix('ITEM TYPE','COM.ORACLE.APEX.TAGS'),'')
,p_plsql_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function format_tags (',
'    p_format_type in varchar2,',
'    p_tags        in varchar2 )',
'    return varchar2',
'is',
'begin',
'    return case p_format_type',
'             when ''NONE''  then p_tags',
'             when ''LOWER'' then lower(p_tags)',
'             when ''UPPER'' then upper(p_tags)',
'           end;',
'end format_tags;',
'',
'',
'--==============================================================================',
'-- Renders the autocomplete item type based on the defined attributes in',
'-- p_item.',
'--==============================================================================',
'function render (',
'    p_item                in apex_plugin.t_page_item,',
'    p_plugin              in apex_plugin.t_plugin,',
'    p_value               in varchar2,',
'    p_is_readonly         in boolean,',
'    p_is_printer_friendly in boolean )',
'    return apex_plugin.t_page_item_render_result',
'is',
'    -- It''s very important to escape the value and only use that version for the HTML output!',
'    l_escaped_value varchar2(32767);',
'    l_name          varchar2(30);',
'',
'    l_format_type   varchar2(10) := nvl(p_plugin.attribute_01, ''NONE'');',
'    ',
'    l_result        apex_plugin.t_page_item_render_result;',
'begin',
'    l_escaped_value := sys.htf.escape_sc (',
'                           format_tags (',
'                               p_format_type => l_format_type,',
'                               p_tags        => p_value ));',
'',
'    -- Based on the flags we normally generate different HTML code, but that',
'    -- depends on the plug-in.',
'    if p_is_readonly or p_is_printer_friendly then',
'        wwv_flow_plugin_util.print_hidden_if_readonly (',
'            p_item_name           => p_item.name,',
'            p_value               => p_value,',
'            p_is_readonly         => p_is_readonly,',
'            p_is_printer_friendly => p_is_printer_friendly );',
'        --',
'        wwv_flow_plugin_util.print_display_only (',
'            p_item_name        => p_item.name,',
'            p_display_value    => l_escaped_value,',
'            p_show_line_breaks => false,',
'            p_escape           => false,',
'            p_attributes       => p_item.element_attributes );',
'    else',
'        -- If a page item saves state, we have to call the get_input_name_for_page_item',
'        -- to render the internal hidden p_arg_names field. It will also return the',
'        -- HTML field name which we have to use when we render the HTML input field.',
'        l_name := apex_plugin.get_input_name_for_page_item(false);',
'',
'        -- render the tags widget',
'        sys.htp.prn (',
'            ''<input type="text" name="''||l_name||''" id="''||p_item.name||''" ''||',
'            ''size="''||p_item.element_width||''" maxlength="''||p_item.element_max_length||''" ''||',
'            coalesce(p_item.element_attributes, ''class="tags" '')||',
'            ''value="''||l_escaped_value||''">'' );',
'',
'        -- Register the javascript library the plug-in uses.',
'        -- The add_library call will make sure that just one instance of the',
'        -- library is loaded when the plug-in is used multiple times on the page.',
'        apex_javascript.add_library (',
'            p_name      => ''apex.jquery.autocomplete.min'',',
'            p_directory => wwv_flow.g_image_prefix||''libraries/jquery-autocomplete/1.1/'',',
'            p_version   => null );',
'',
'        apex_javascript.add_library (',
'            p_name      => ''com_oracle_apex_tags'',',
'            p_directory => p_plugin.file_prefix,',
'            p_version   => null );',
'',
'        apex_javascript.add_onload_code (',
'            p_code => ''com_oracle_apex_tags(''||',
'                          apex_javascript.add_value(''#''||p_item.name)||',
'                          ''{''||',
'                          apex_javascript.add_attribute(''dependingOn'',       apex_plugin_util.page_item_names_to_jquery(p_item.lov_cascade_parent_items))||',
'                          apex_javascript.add_attribute(''optimizeRefresh'',   p_item.ajax_optimize_refresh)||',
'                          apex_javascript.add_attribute(''pageItemsToSubmit'', apex_plugin_util.page_item_names_to_jquery(p_item.ajax_items_to_submit))||',
'                          apex_javascript.add_attribute(''ajaxIdentifier'',    apex_plugin.get_ajax_identifier, false, false)||',
'                          ''});'' );',
'',
'        l_result.is_navigable := true;',
'    end if;',
'    --',
'    return l_result;',
'    --',
'end render;',
'--',
'--',
'--==============================================================================',
'-- Returns the possible values restricted by the value specified in wwv_flow.g_x01.',
'--==============================================================================',
'function ajax (',
'    p_item   in apex_plugin.t_page_item,',
'    p_plugin in apex_plugin.t_plugin )',
'    return apex_plugin.t_page_item_ajax_result',
'is',
'    -- Dynamic attribute mapping',
'    l_search_string     varchar2(32767) := apex_application.g_x01;',
'',
'    l_column_value_list apex_plugin_util.t_column_value_list;',
'    ',
'    l_result            apex_plugin.t_page_item_ajax_result;',
'begin',
'    -- Write header for the output.',
'    sys.owa_util.mime_header(''text/plain'', false);',
'    sys.htp.p(''Cache-Control: no-cache'');',
'    sys.htp.p(''Pragma: no-cache'');',
'    sys.owa_util.http_header_close;',
'',
'    -- Get all data',
'    l_column_value_list := apex_plugin_util.get_data (',
'                               p_sql_statement  => p_item.lov_definition,',
'                               p_min_columns      => 1,',
'                               p_max_columns      => 1,',
'                               p_component_name   => p_item.name,',
'                               p_search_type      => apex_plugin_util.c_search_contains_ignore,',
'                               p_search_column_no => 1,',
'                               p_search_string    => upper(l_search_string),',
'                               p_max_rows         => 10 );',
'',
'    -- Just write each row into a new line. Escaping is done by com_oracle_apex_tags.js',
'    for i in 1 .. l_column_value_list(1).count',
'    loop',
'        sys.htp.p(l_column_value_list(1)(i));',
'    end loop;',
'    --',
'    return l_result;',
'    --',
'exception when others then',
'    sys.htp.p(wwv_flow_lang.system_message(''ajax_server_error'', sys.htf.escape_sc(sqlerrm), p_item.name));',
'end ajax;',
'--',
'--',
'--==============================================================================',
'-- Validates the submitted value if it is contained in the list of possible values.',
'--==============================================================================',
'function validate (',
'    p_item   in apex_plugin.t_page_item,',
'    p_plugin in apex_plugin.t_plugin,',
'    p_value  in varchar2 )',
'    return apex_plugin.t_page_item_validation_result',
'is',
'    l_format_type       varchar2(10) := nvl(p_plugin.attribute_01, ''NONE'');',
'',
'    l_sql_handler       wwv_flow_plugin_util.t_sql_handler;',
'    l_column_value_list apex_plugin_util.t_column_value_list;',
'    l_tag_list          wwv_flow_global.vc_arr2;',
'    l_tag               varchar2(32767);',
'    l_final_tags        varchar2(32767);',
'begin',
'    -- get all tags from our page item value',
'    l_tag_list := wwv_flow_utilities.string_to_table (',
'                      format_tags (',
'                           p_format_type => l_format_type,',
'                           p_tags        => p_value ),',
'                      '','' );',
'',
'    if l_tag_list.count > 0 then',
'        if l_format_type in (''LOWER'', ''UPPER'') then',
'            -- for lower and upper formatting we just clean up the tags from',
'            -- unnecessary spaces, ...',
'            for i in 1 .. l_tag_list.count',
'            loop',
'                l_tag := trim(l_tag_list(i));',
'                if l_tag is not null then',
'                    l_final_tags := l_final_tags ||',
'                                    case when l_final_tags is not null then '', '' end||',
'                                    l_tag;',
'                end if;',
'            end loop;',
'',
'        elsif l_format_type = ''NONE'' then',
'            -- Get the tags in the format as they have already been stored in the tag table',
'',
'            -- We use the more complicated get_sql_handler and prepare_query so that',
'            -- the SQL statement is just parsed once when we search for the different tags',
'            l_sql_handler := apex_plugin_util.get_sql_handler (',
'                                 p_sql_statement  => p_item.lov_definition,',
'                                 p_min_columns    => 1,',
'                                 p_max_columns    => 1,',
'                                 p_component_name => p_item.name );',
'    ',
'            apex_plugin_util.prepare_query (',
'                p_sql_handler      => l_sql_handler,',
'                p_search_type      => apex_plugin_util.c_search_exact_ignore,',
'                p_search_column_no => 1,',
'                p_max_rows         => 1 /* we are just interested in the first hit */',
'                );',
'    ',
'            -- Check each tag with a case insensitive search if it already exists.',
'            -- If we find it we use the existing writing of the tag (for example "ApEx"',
'            -- instead of the entered "apex") for our final tag list. None existing tags',
'            -- are added as they have been entered.',
'            for i in 1 .. l_tag_list.count',
'            loop',
'                l_tag := trim(l_tag_list(i));',
'                if l_tag is not null then',
'                    l_column_value_list := apex_plugin_util.get_data (',
'                                               p_sql_handler      => l_sql_handler,',
'                                               p_search_column_no => 1,',
'                                               p_search_string    => upper(l_tag) );',
'    ',
'                    -- we have found a tag, but make sure that it''s the same tag',
'                    -- because get_data uses a LIKE tag% search and if we enter',
'                    -- "Oracle" we don''t want to replace it with "Oracle APEX".',
'                    if l_column_value_list(1).count = 1 and',
'                       upper(l_column_value_list(1)(1)) = upper(l_tag)',
'                    then',
'                        l_tag := l_column_value_list(1)(1);',
'                    end if;',
'        ',
'                    l_final_tags := l_final_tags ||',
'                                    case when l_final_tags is not null then '', '' end||',
'                                    l_tag;',
'                end if;',
'            end loop;',
'        ',
'            apex_plugin_util.free_sql_handler(l_sql_handler);',
'        end if;',
'    end if;',
'',
'    htmldb_util.set_session_state(p_item.name, l_final_tags);',
'',
'    return null;',
'exception when others then',
'    wwv_flow_plugin_util.free_sql_handler(l_sql_handler);',
'    raise;',
'end validate;',
''))
,p_api_version=>1
,p_render_function=>'render'
,p_ajax_function=>'ajax'
,p_validation_function=>'validate'
,p_standard_attributes=>'VISIBLE:SESSION_STATE:READONLY:SOURCE:ELEMENT:WIDTH:ENCRYPT:LOV:CASCADING_LOV'
,p_substitute_attributes=>true
,p_reference_id=>10483758499279753242
,p_subscribe_plugin_settings=>true
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<br />',
''))
,p_version_identifier=>'1.0'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(6210438245917491164)
,p_plugin_id=>wwv_flow_api.id(15771270213307318971)
,p_attribute_scope=>'APPLICATION'
,p_attribute_sequence=>1
,p_display_sequence=>10
,p_prompt=>'Formatting of Tags'
,p_attribute_type=>'SELECT LIST'
,p_is_required=>true
,p_default_value=>'NONE'
,p_is_translatable=>false
,p_lov_type=>'STATIC'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(6210439236562491182)
,p_plugin_attribute_id=>wwv_flow_api.id(6210438245917491164)
,p_display_sequence=>10
,p_display_value=>'None'
,p_return_value=>'NONE'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(6210439737096491183)
,p_plugin_attribute_id=>wwv_flow_api.id(6210438245917491164)
,p_display_sequence=>20
,p_display_value=>'Lowercase'
,p_return_value=>'LOWER'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(6210438730782491174)
,p_plugin_attribute_id=>wwv_flow_api.id(6210438245917491164)
,p_display_sequence=>30
,p_display_value=>'Uppercase'
,p_return_value=>'UPPER'
);
wwv_flow_api.create_plugin_std_attribute(
 p_id=>wwv_flow_api.id(7981676526850204)
,p_plugin_id=>wwv_flow_api.id(15771270213307318971)
,p_name=>'LOV'
,p_sql_min_column_count=>1
,p_sql_max_column_count=>1
,p_examples=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<p>',
'<strong>Example 1: Get available tags from tag table</strong>',
'<pre>',
'SELECT tag',
'  FROM your_tag_table',
' ORDER BY 1',
'</pre>',
'</p>',
'',
'<p>',
'<b>Example 2: Use the DISTINCT command if your tag table doesn''t store unique tags.</b>',
'<pre>',
'SELECT DISTINCT tag',
'  from apa$dl_tags',
' ORDER BY 1',
'</pre>',
'</p>',
''))
);
end;
/
begin
wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;
wwv_flow_api.g_varchar2_table(1) := '66756E6374696F6E20636F6D5F6F7261636C655F617065785F74616773287053656C6563746F722C20704F7074696F6E7329207B0A0A202076617220674175746F436F6D706C6574653B0A0A20202F2F20436C6561727320746865206578697374696E67';
wwv_flow_api.g_varchar2_table(2) := '2076616C75650A202066756E6374696F6E20726566726573682829207B0A202020202F2F207472696767657220746865206265666F72652072656672657368206576656E740A20202020674175746F436F6D706C6574652E747269676765722827617065';
wwv_flow_api.g_varchar2_table(3) := '786265666F72657265667265736827293B0A0A202020202F2F20436C65617220746865206175746F636F6D706C657465206669656C640A20202020247328674175746F436F6D706C6574655B305D2C202222293B0A0A202020202F2F20636C6561722074';
wwv_flow_api.g_varchar2_table(4) := '6865206175746F20636F6D706C6574652073656C656374206C6973740A20202020674175746F436F6D706C6574652E666C757368436163686528293B0A0A202020202F2F2074726967676572207468652061667465722072656672657368206576656E74';
wwv_flow_api.g_varchar2_table(5) := '0A20202020674175746F436F6D706C6574652E7472696767657228276170657861667465727265667265736827293B0A20207D3B202F2F20726566726573680A0A20202F2F2052657475726E73207468652076616C75652077686963682073686F756C64';
wwv_flow_api.g_varchar2_table(6) := '20626520646973706C6179656420616E64206D616B657320737572650A20202F2F2074686174207370656369616C20636861726163746572732061726520657363617065640A202066756E6374696F6E20666F726D61744974656D28704974656D29207B';
wwv_flow_api.g_varchar2_table(7) := '0A2020202072657475726E20617065782E7574696C2E657363617065536328704974656D5B305D293B0A20207D3B0A0A20202F2F2052656164732074686520617661696C61626C652074616773206261736564206F6E207468652063757272656E742065';
wwv_flow_api.g_varchar2_table(8) := '6E7472790A202066756E6374696F6E207265747269657665446174612870506172616D657465722C20705375636365737329207B0A202020202F2F206D61702074686520706172616D6574657273206F6620746865206175746F636F6D706C6574652070';
wwv_flow_api.g_varchar2_table(9) := '6C75672D696E20746F2074686520415045582073796E7461780A202020202F2F20746865206E61746976652063616C6C6261636B206F662074686520706C7567696E2063616E277420626520757365642C20626563617573652069742061646473207061';
wwv_flow_api.g_varchar2_table(10) := '72616D65746572730A202020202F2F20746F207468652055524C20776869636820415045582F6D6F645F706C73716C2069736E27742061626C6520746F2068616E646C652E0A20202020766172206C44617461203D207B207830313A2070506172616D65';
wwv_flow_api.g_varchar2_table(11) := '7465722E712C0A2020202020202020202020202020202020207830323A2070506172616D657465722E74696D657374616D702C0A202020202020202020202020202020202020705F726571756573743A20224E41544956453D222B704F7074696F6E732E';
wwv_flow_api.g_varchar2_table(12) := '616A61784964656E7469666965722C0A202020202020202020202020202020202020705F666C6F775F69643A202476282770466C6F77496427292C0A202020202020202020202020202020202020705F666C6F775F737465705F69643A20247628277046';
wwv_flow_api.g_varchar2_table(13) := '6C6F7753746570496427292C0A202020202020202020202020202020202020705F696E7374616E63653A202476282770496E7374616E636527290A202020202020202020202020202020207D3B0A0A202020202F2F205765206F6E6C7920686176652074';
wwv_flow_api.g_varchar2_table(14) := '6F207265616420646174612066726F6D207468652073657276657220696620616C6C206F757220646570656E64696E672076616C75657320617265206E6F74206E756C6C0A2020202069662028704F7074696F6E732E6F7074696D697A65526566726573';
wwv_flow_api.g_varchar2_table(15) := '6829207B0A202020202020766172206C4E756C6C466F756E64203D2066616C73653B0A202020202020617065782E6A517565727928704F7074696F6E732E646570656E64696E674F6E53656C6563746F722B272C272B704F7074696F6E732E7061676549';
wwv_flow_api.g_varchar2_table(16) := '74656D73546F5375626D6974292E656163682866756E6374696F6E28297B0A2020202020202020202069662028617065782E6974656D2874686973292E6973456D707479282929207B0A2020202020202020202020206C4E756C6C466F756E64203D2074';
wwv_flow_api.g_varchar2_table(17) := '7275653B0A20202020202020202020202072657475726E2066616C73653B202F2F2073746F7020657865637574696F6E206F6620746865206C6F6F700A202020202020202020207D0A20202020202020207D293B0A202020202020696620286C4E756C6C';
wwv_flow_api.g_varchar2_table(18) := '466F756E6429207B0A202020202020202072657475726E3B202F2F2077652061726520646F6E650A2020202020207D0A202020207D0A0A202020202F2F2061646420616C6C2070616765206974656D732077652061726520646570656E64696E67206F6E';
wwv_flow_api.g_varchar2_table(19) := '20616E6420746865206F6E6520776520616C77617973206861766520746F207375626D697420746F2074686520414A41582063616C6C0A20202020617065782E6A517565727928704F7074696F6E732E646570656E64696E674F6E53656C6563746F722B';
wwv_flow_api.g_varchar2_table(20) := '272C272B704F7074696F6E732E706167654974656D73546F5375626D6974292E656163682866756E6374696F6E28297B0A202020202020766172206C4964783B0A202020202020696620286C446174612E705F6172675F6E616D65733D3D3D756E646566';
wwv_flow_api.g_varchar2_table(21) := '696E656429207B0A20202020202020206C446174612E705F6172675F6E616D657320203D205B5D3B0A20202020202020206C446174612E705F6172675F76616C756573203D205B5D3B0A20202020202020206C496478203D20303B0A2020202020207D20';
wwv_flow_api.g_varchar2_table(22) := '656C7365207B0A20202020202020206C496478203D206C446174612E705F6172675F6E616D65732E6C656E6774683B0A2020202020207D0A2020202020206C446174612E705F6172675F6E616D6573205B6C4964785D203D20746869732E69643B0A2020';
wwv_flow_api.g_varchar2_table(23) := '202020206C446174612E705F6172675F76616C7565735B6C4964785D203D2024762874686973293B0A202020207D293B0A0A20202020617065782E6A51756572792E616A6178287B0A2020202020202F2F2074727920746F206C6576657261676520616A';
wwv_flow_api.g_varchar2_table(24) := '6178517565756520706C7567696E20746F2061626F72742070726576696F75732072657175657374730A2020202020206D6F64653A202261626F7274222C0A2020202020202F2F206C696D69742061626F7274696F6E20746F207468697320696E707574';
wwv_flow_api.g_varchar2_table(25) := '0A202020202020706F72743A202274616773222B7053656C6563746F722C0A202020202020747970653A2022706F7374222C0A20202020202075726C3A20227777765F666C6F772E73686F77222C0A202020202020747261646974696F6E616C3A207472';
wwv_flow_api.g_varchar2_table(26) := '75652C0A202020202020646174613A206C446174612C0A202020202020737563636573733A207053756363657373207D293B0A20207D3B0A0A20202F2F20696E697469616C697A6520746865206175746F636F6D706C65746520706C75672D696E0A2020';
wwv_flow_api.g_varchar2_table(27) := '674175746F436F6D706C657465203D20617065782E6A5175657279287053656C6563746F72292E6175746F636F6D706C657465280A20202020202020202020202020202020202020207265747269657665446174612C0A20202020202020202020202020';
wwv_flow_api.g_varchar2_table(28) := '202020202020207B206175746F46696C6C3A20202020202066616C73652C0A2020202020202020202020202020202020202020202073656C65637446697273743A20202066616C73652C0A202020202020202020202020202020202020202020206D6174';
wwv_flow_api.g_varchar2_table(29) := '6368436F6E7461696E733A20747275652C0A20202020202020202020202020202020202020202020666F726D61744974656D3A20202020666F726D61744974656D2C0A202020202020202020202020202020202020202020206D756C7469706C653A2020';
wwv_flow_api.g_varchar2_table(30) := '20202020747275652C0A202020202020202020202020202020202020202020206D617463685375627365743A20202066616C73650A20202020202020202020202020202020202020207D293B0A0A20202F2F206966206974277320612063617363616469';
wwv_flow_api.g_varchar2_table(31) := '6E672073656C656374206C697374207765206861766520746F207265676973746572206368616E6765206576656E747320666F72206F7572206D6173746572730A202069662028704F7074696F6E732E646570656E64696E674F6E20213D3D20756E6465';
wwv_flow_api.g_varchar2_table(32) := '66696E656429207B0A20202020617065782E6A517565727928704F7074696F6E732E646570656E64696E674F6E292E6368616E67652866756E6374696F6E28297B674175746F436F6D706C6574652E747269676765722827617065787265667265736827';
wwv_flow_api.g_varchar2_table(33) := '293B7D293B0A20207D0A20202F2F207265676973746572207468652072656672657368206576656E7420776869636820697320747269676765726564206279207472696767657252656672657368206F722061206D616E75616C20726566726573680A20';
wwv_flow_api.g_varchar2_table(34) := '20674175746F436F6D706C6574652E62696E6428226170657872656672657368222C2072656672657368293B0A0A7D3B202F2F20746167730A';
null;
end;
/
begin
wwv_flow_api.create_plugin_file(
 p_id=>wwv_flow_api.id(6210440643068491199)
,p_plugin_id=>wwv_flow_api.id(15771270213307318971)
,p_file_name=>'com_oracle_apex_tags.js'
,p_mime_type=>'text/javascript'
,p_file_content=>wwv_flow_api.varchar2_to_blob(wwv_flow_api.g_varchar2_table)
);
end;
/
prompt --application/shared_components/plugins/item_type/com_oracle_apex_simple_checkbox
begin
wwv_flow_api.create_plugin(
 p_id=>wwv_flow_api.id(27112249260973444866)
,p_plugin_type=>'ITEM TYPE'
,p_name=>'COM.ORACLE.APEX.SIMPLE_CHECKBOX'
,p_display_name=>'Simple Checkbox'
,p_supported_ui_types=>'DESKTOP'
,p_supported_component_types=>'APEX_APPLICATION_PAGE_ITEMS'
,p_image_prefix => nvl(wwv_flow_application_install.get_static_plugin_file_prefix('ITEM TYPE','COM.ORACLE.APEX.SIMPLE_CHECKBOX'),'')
,p_plsql_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'--===============================================================================',
'-- Renders the Simple Checkbox item type based on the configuration of the page item.',
'--===============================================================================',
'function render_simple_checkbox (',
'    p_item                in apex_plugin.t_page_item,',
'    p_plugin              in apex_plugin.t_plugin,',
'    p_value               in varchar2,',
'    p_is_readonly         in boolean,',
'    p_is_printer_friendly in boolean )',
'    return apex_plugin.t_page_item_render_result',
'is',
'    -- Use named variables instead of the generic attribute variables',
'    l_checked_value    varchar2(255)  := nvl(p_item.attribute_01, ''Y'');',
'    l_unchecked_value  varchar2(255)  := p_item.attribute_02;',
'    l_checked_label    varchar2(4000) := p_item.attribute_03;',
'',
'    l_name             varchar2(30);',
'    l_value            varchar2(255);',
'    l_checkbox_postfix varchar2(8);',
'    l_result           apex_plugin.t_page_item_render_result;',
'begin',
'    -- if the current value doesn''t match our checked and unchecked value',
'    -- we fallback to the unchecked value ',
'    if p_value in (l_checked_value, l_unchecked_value) then',
'        l_value := p_value;',
'    else',
'        l_value := l_unchecked_value;',
'    end if;',
'',
'    if p_is_readonly or p_is_printer_friendly then',
'        -- if the checkbox is readonly we will still render a hidden field with',
'        -- the value so that it can be used when the page gets submitted',
'        wwv_flow_plugin_util.print_hidden_if_readonly (',
'            p_item_name           => p_item.name,',
'            p_value               => p_value,',
'            p_is_readonly         => p_is_readonly,',
'            p_is_printer_friendly => p_is_printer_friendly );',
'        l_checkbox_postfix := ''_DISPLAY'';',
'',
'        -- Tell APEX that this field is NOT navigable',
'        l_result.is_navigable := false;',
'    else',
'        -- If a page item saves state, we have to call the get_input_name_for_page_item',
'        -- to render the internal hidden p_arg_names field. It will also return the',
'        -- HTML field name which we have to use when we render the HTML input field.',
'        l_name := wwv_flow_plugin.get_input_name_for_page_item(false);',
'',
'        -- render the hidden field which actually stores the checkbox value',
'        sys.htp.prn (',
'            ''<input type="hidden" id="''||p_item.name||''_HIDDEN" name="''||l_name||''" ''||',
'            ''value="''||l_value||''" />'');',
'',
'        -- Add the JavaScript library and the call to initialize the widget',
'        apex_javascript.add_library (',
'            p_name      => ''com_oracle_apex_simple_checkbox.min'',',
'            p_directory => p_plugin.file_prefix,',
'            p_version   => null );',
'',
'        apex_javascript.add_onload_code (',
'            p_code => ''com_oracle_apex_simple_checkbox(''||',
'                      apex_javascript.add_value(p_item.name)||',
'                      ''{''||',
'                      apex_javascript.add_attribute(''unchecked'', l_unchecked_value, false)||',
'                      apex_javascript.add_attribute(''checked'',   l_checked_value, false, false)||',
'                      ''});'' );',
'',
'        -- Tell APEX that this field is navigable',
'        l_result.is_navigable := true;',
'    end if;',
'',
'    -- render the checkbox widget',
'    sys.htp.prn (',
'        ''<input type="checkbox" id="''||p_item.name||l_checkbox_postfix||''" ''||',
'        ''value="''||l_value||''" ''||',
'        case when l_value = l_checked_value then ''checked="checked" '' end||',
'        case when p_is_readonly or p_is_printer_friendly then ''disabled="disabled" '' end||',
'        coalesce(p_item.element_attributes, ''class="simple_checkbox"'')||'' />'');',
'',
'    -- print label after checkbox',
'    if l_checked_label is not null then',
'        sys.htp.prn(''<label for="''||p_item.name||l_checkbox_postfix||''">''||l_checked_label||''</label>'');',
'    end if;',
'',
'    return l_result;',
'end render_simple_checkbox;',
'',
'--==============================================================================',
'-- Validates the submitted "Simple Checkbox" value against the configuration to',
'-- make sure that invalid values submitted by hackers are detected.',
'--==============================================================================',
'function validate_simple_checkbox (',
'    p_item   in apex_plugin.t_page_item,',
'    p_plugin in apex_plugin.t_plugin,',
'    p_value  in varchar2 )',
'    return apex_plugin.t_page_item_validation_result',
'is',
'    l_checked_value   varchar2(255) := nvl(p_item.attribute_01, ''Y'');',
'    l_unchecked_value varchar2(255) := p_item.attribute_02;',
'',
'    l_result          apex_plugin.t_page_item_validation_result;',
'begin',
'    if not (   p_value in (l_checked_value, l_unchecked_value)',
'            or (p_value is null and l_unchecked_value is null)',
'           )',
'    then',
'        l_result.message := ''Checkbox contains invalid value!'';',
'    end if;',
'    return l_result;',
'end validate_simple_checkbox;',
''))
,p_api_version=>1
,p_render_function=>'render_simple_checkbox'
,p_validation_function=>'validate_simple_checkbox'
,p_standard_attributes=>'VISIBLE:SESSION_STATE:READONLY:SOURCE:ELEMENT:ENCRYPT'
,p_substitute_attributes=>true
,p_subscribe_plugin_settings=>true
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<p>',
'	This item type plug-in displays a single checkbox but allows you to set 2 values (one for checked and another for unchecked). It&#39;s perfect for Y(es)/N(o) type checkboxes.</p>',
'<p>',
'	Without this plug-in, you would need to write a custom computation to get the same functionality.</p>',
''))
,p_version_identifier=>'1.2'
,p_about_url=>'http://apex.oracle.com/plugins/'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(27112294158212519675)
,p_plugin_id=>wwv_flow_api.id(27112249260973444866)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>1
,p_display_sequence=>10
,p_prompt=>'Checked Value'
,p_attribute_type=>'TEXT'
,p_is_required=>true
,p_default_value=>'Y'
,p_display_length=>10
,p_max_length=>255
,p_is_translatable=>false
,p_help_text=>'Value stored if the checkbox is checked.'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(27112845362160723052)
,p_plugin_id=>wwv_flow_api.id(27112249260973444866)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>2
,p_display_sequence=>20
,p_prompt=>'Unchecked Value'
,p_attribute_type=>'TEXT'
,p_is_required=>false
,p_display_length=>10
,p_max_length=>255
,p_is_translatable=>false
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<p>Value stored if the checkbox is unchecked. This attribute can also be left blank if you want to store NULL when the checkbox is left unchecked.</p>',
'',
'<p>Note: This value will also be used if the page item is populated with a value which doesn''t match the "Checked Value" or "Unchecked Value".</p>'))
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(27112844856966721555)
,p_plugin_id=>wwv_flow_api.id(27112249260973444866)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>3
,p_display_sequence=>30
,p_prompt=>'Checkbox Label'
,p_attribute_type=>'TEXT'
,p_is_required=>false
,p_display_length=>40
,p_is_translatable=>true
,p_help_text=>'Label to be displayed after the checkbox. If you set this optional attribute, you should remove the text in the label attribute of the page item.'
);
end;
/
begin
wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;
wwv_flow_api.g_varchar2_table(1) := '66756E6374696F6E20636F6D5F6F7261636C655F617065785F73696D706C655F636865636B626F7828652C63297B76617220623D617065782E6A5175657279282223222B65292C613D617065782E6A5175657279282223222B652B225F48494444454E22';
wwv_flow_api.g_varchar2_table(2) := '293B66756E6374696F6E206428297B612E76616C2828622E697328223A636865636B656422293D3D3D74727565293F632E636865636B65643A632E756E636865636B6564297D617065782E6A5175657279282223222B65292E6368616E67652864293B61';
wwv_flow_api.g_varchar2_table(3) := '7065782E6A517565727928646F63756D656E74292E62696E642822617065786265666F7265706167657375626D6974222C64293B617065782E7769646765742E696E6974506167654974656D28652C7B73657456616C75653A66756E6374696F6E286629';
wwv_flow_api.g_varchar2_table(4) := '7B622E617474722822636865636B6564222C28663D3D3D632E636865636B656429293B6428297D2C67657456616C75653A66756E6374696F6E28297B72657475726E20612E76616C28297D7D297D3B';
null;
end;
/
begin
wwv_flow_api.create_plugin_file(
 p_id=>wwv_flow_api.id(25326857760812684095)
,p_plugin_id=>wwv_flow_api.id(27112249260973444866)
,p_file_name=>'com_oracle_apex_simple_checkbox.min.js'
,p_mime_type=>'application/x-javascript'
,p_file_content=>wwv_flow_api.varchar2_to_blob(wwv_flow_api.g_varchar2_table)
);
end;
/
prompt --application/user_interfaces
begin
wwv_flow_api.create_user_interface(
 p_id=>wwv_flow_api.id(321025881438865076)
,p_ui_type_name=>'DESKTOP'
,p_display_name=>'DESKTOP'
,p_display_seq=>10
,p_use_auto_detect=>false
,p_is_default=>true
,p_theme_id=>101
,p_home_url=>'f?p=&APP_ID.:1001:&SESSION.'
,p_theme_style_by_user_pref=>false
,p_global_page_id=>0
,p_nav_list_template_options=>'#DEFAULT#'
,p_include_legacy_javascript=>true
,p_include_jquery_migrate=>true
,p_nav_bar_type=>'NAVBAR'
,p_nav_bar_template_options=>'#DEFAULT#'
);
end;
/
prompt --application/user_interfaces/combined_files
begin
null;
end;
/
prompt --application/pages/page_00000
begin
wwv_flow_api.create_page(
 p_id=>0
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_name=>'0'
,p_page_mode=>'NORMAL'
,p_step_title=>'0'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_protection_level=>'D'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'ADMIN'
,p_last_upd_yyyymmddhh24miss=>'20160411221839'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(311996448114028608)
,p_plug_name=>'Global Items'
,p_region_name=>'GLOBAL_ITEMS'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713433409910731)
,p_plug_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid=>true
,p_plug_new_grid_row=>false
,p_plug_display_point=>'REGION_POSITION_08'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'CURRENT_PAGE_NOT_IN_CONDITION'
,p_plug_display_when_condition=>'1,1032,1025,1034,1036,35,1037,1038'
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312071463266279867)
,p_plug_name=>'Systems'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>.1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_list_id=>wwv_flow_api.id(312069363267579773)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(6040716910150910739)
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'NEVER'
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2389001998224093902)
,p_plug_name=>'nav bar'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_08'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'sys.htp.p(''<div class="navActions clearfix">'');',
'sys.htp.p(''<ul>'');',
'',
'--  begin nav links',
'',
'-- ',
'-- admin',
'--',
'--if rca13_manage_acl.is_dbamanager(:G_USER_ID) = 1 then',
'sys.htp.p(''<li><a href="''||apex_util.prepare_url(''f?p=''||:app_id||'':settings:''||:app_session)||''"><img src="#IMAGE_PREFIX#f_spacer.gif" alt=""''',
'           ||''" class="navIcon settings" /> <span>''||apex_lang.message(''ADMINISTRATION'')||''</span></a></li>'');',
'--end if;',
'--',
'-- mobile',
'-- kumar: For now hide it',
'--sys.htp.p(''<li><a href="''||apex_util.prepare_url(''f?p=''||:app_id||'':mobile:''||:app_session)||''"><img src="#IMAGE_PREFIX#f_spacer.gif" alt=""''',
'--          ||''" class="navIcon mobile" /><span>''||apex_lang.message(''MOBILE'')||''</span></a></li>'');',
'',
'-- ',
'-- help',
'--',
'sys.htp.p(''<li><a href="''||apex_util.prepare_url(''f?p=''||:app_id||'':help:''||:app_session)||''"><img src="#IMAGE_PREFIX#f_spacer.gif" alt=""''',
'          ||''" class="navIcon help" /><span>''||apex_lang.message(''HELP'')||''</span></a></li>'');',
'',
'-- end nav links',
'',
'sys.htp.p(''</ul>'');',
'sys.htp.p(''</div>'');'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'CURRENT_PAGE_NOT_IN_CONDITION'
,p_plug_display_when_condition=>'1032'
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311999840688966056)
,p_button_sequence=>50
,p_button_plug_id=>wwv_flow_api.id(311996448114028608)
,p_button_name=>'P0_REFRESH_BUTTON'
,p_button_static_id=>'P0_REFRESH_BUTTON'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Refresh'
,p_button_position=>'BODY'
,p_button_alignment=>'CENTER-CENTER'
,p_grid_new_grid=>false
,p_grid_new_row=>'N'
,p_grid_new_column=>'Y'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312042843659634961)
,p_button_sequence=>10
,p_button_name=>'CONTRACT_ALL'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'Collapse All'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'javascript:apex.widget.tree.collapse_all(''tree312042460767634940'');'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312043043596634985)
,p_button_sequence=>10
,p_button_name=>'EXPAND_ALL'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'Expand All'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'javascript:apex.widget.tree.expand_all(''tree312042460767634940'');'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311996740652036089)
,p_name=>'P0_BUSINESS_UNITS'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(311996448114028608)
,p_item_default=>'All'
,p_prompt=>'<b>&BU_NAME.</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct a.lob_name display_value,a.lob_id return_value ',
'from rca13_lobs a,rca13_lob2sys_mapping,',
'( select distinct system_id from rca13_col2sys_mapping where nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) c',
'where a.lob_id = rca13_lob2sys_mapping.lob_id',
'and rca13_lob2sys_mapping.system_id = c.system_id',
'order by display_value',
'',
''))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'All &BU_NAME.'
,p_lov_null_value=>'All'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311999047339886410)
,p_name=>'P0_SYS_FILTER'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(311996448114028608)
,p_prompt=>'<b>&SYS_NAME.</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select b.lob_name||'': ''||c.system_name display_value,c.system_id return_value',
'from rca13_lob2sys_mapping a,rca13_lobs b,rca13_systems c,',
'( select distinct system_id from rca13_col2sys_mapping where nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) d',
'where a.lob_id = b.lob_id and a.system_id = c.system_id',
'and a.system_id = d.system_id ',
'and ( :P0_BUSINESS_UNITS = ''All'' OR :P0_BUSINESS_UNITS = a.lob_id )',
'order by display_value '))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'All &SYS_NAME.'
,p_lov_null_value=>'All'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311999341073904573)
,p_name=>'P0_TIME_PERIOD'
,p_item_sequence=>5
,p_item_plug_id=>wwv_flow_api.id(311996448114028608)
,p_prompt=>'<b>Data Interval</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>4
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:30px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311999647289947252)
,p_name=>'P0_TIME_TYPE'
,p_item_sequence=>6
,p_item_plug_id=>wwv_flow_api.id(311996448114028608)
,p_prompt=>'Time Type'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'STATIC2:Hour;H,Day;D,Week;W,Month;M,Year;Y'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_begin_on_new_field=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717204815910739)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312003647942449688)
,p_name=>'P0_TIME'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(311996448114028608)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312004460376535103)
,p_name=>'P0_FIRST_VISIT'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(311996448114028608)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
end;
/
prompt --application/pages/page_00001
begin
wwv_flow_api.create_page(
 p_id=>1
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Home'
,p_alias=>'HOME'
,p_page_mode=>'NORMAL'
,p_step_title=>'Incident Tracking'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Home'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_html_page_header=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<style>',
'body { min-width: 800px !important;}',
'table.uReport > tbody > tr > td.rowHeader {font-weight: bold; padding-left: 8px;}',
'ul.vapList{margin:0 !important;list-style:none}',
'ul.vapList li{display:block;border-top:1px solid #EEE}',
'ul.vapList li:first-child{border-top:none}',
'ul.vapList li a{color:#3D5B80}',
'ul.vapList li label{display:inline-block;width:140px;padding:6px 12px;font:bold 11px/20px Arial,sans-serif;color:#444;vertical-align:top}',
'ul.vapList li span{display:inline-block;padding:6px 12px;font:normal 11px/20px Arial,sans-serif;color:#444;vertical-align:top}',
'ul.vapList li span em{color:#EA0000}',
'',
'ul.barGraph{margin:12px !important;list-style:none;white-space:nowrap}',
'ul.barGraph li{display:inline-block;width:48px}',
'ul.barGraph li:hover big small{background-color:#4A6D98}',
'ul.barGraph li.barHeaders{width:128px}',
'ul.barGraph li.barHeaders > span{text-align:left}',
'ul.barGraph li > label{display:block;font:normal 11px/12px Arial,sans-serif;color:#444;text-align:center}',
'ul.barGraph li > label span{display:block;font:normal 11px/12px Arial,sans-serif;color:#767676}',
'ul.barGraph li > big{height:120px;margin:8px;position:relative;display:block}',
'ul.barGraph li > big > small{display:block;position:absolute;bottom:0;width:30px;-moz-border-radius:4px;-webkit-border-radius:4px;border-radius:4px;background-color:#6A9CDA;-moz-box-shadow:0 1px 0 rgba(255,255,255,0.5) inset;-webkit-box-shadow:0 1px '
||'0 rgba(255,255,255,0.5) inset;box-shadow:0 1px 0 rgba(255,255,255,0.5) inset;border:1px solid #4A6D98}',
'ul.barGraph li > span{display:block;text-align:center;font:normal 11px/16px Arial,sans-serif;color:#444;border-top:1px solid #F0F0F0;padding:8px}',
'ul.barGraph li > span.noBorder{border-top:none;padding-top:0}',
'ul.barGraph li > span a{color:##405580}',
'',
'/* Hiding overflow when resized */',
'section.uRegion { overflow: hidden; }',
'',
'</style>'))
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'.uRegionNoPadding ul.uChartList li.col_3 {',
'    width: 33%;',
'}'))
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131210062330'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2436776672792933291)
,p_plug_name=>'Metrics for open tickets'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>' style="height: 420px; overflow: hidden;" data-grid="col_2" data-grid-start="yes"  '
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'   l_archives integer :=0;',
'   l_count    integer := 0;',
'   l_max      integer := 3;',
'   l_app_id   varchar2(50) := :APP_ID;',
'   l_session_id varchar2(50) := :APP_SESSION;',
'begin',
'sys.htp.prn(''<ul class="vapList">'');',
'--',
'-- system',
'--',
'/*',
'for c1 in (',
'select preference_value',
'from rca13_intrack_preferences',
'where preference_name = ''SYSTEM_NAME'') loop',
'    sys.htp.p(''<li><label>System</label><span>'');',
'    sys.htp.p(sys.htf.escape_sc(c1.preference_value));',
'    sys.htp.prn(''</span></li>'');',
'end loop;',
'*/',
'--',
'-- Severity',
'--',
'l_count := 0;',
'for c1 in (',
'select severity_name status,count(*) c',
' from rca13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c',
' where a.id = b.ticket_id ',
' and  b.system_id = c.system_id',
' and status_type = ''OPEN''',
' group by severity_name',
' order by 2 desc, 1',
' ) loop',
' l_count := l_count + 1;',
'    if l_count = 1 then',
'       sys.htp.p(''<li><label>Top Severity Counts</label><span>'');',
'    end if;',
'    sys.htp.p(''<a href="''||apex_util.prepare_url(''f?p=''||l_app_id||'':2:''||l_session_id||'':::2,RIR:IR_SEVERITY_NAME:''||',
'    sys.htf.escape_sc(c1.status))||''">'');',
'    sys.htp.prn(trim(to_char(c1.c,''999G999G999G999G999G990'')));',
'    sys.htp.prn('' ''||sys.htf.escape_sc(c1.status)|| ''</a><br /> '');',
'  if l_count = l_max then',
'     exit;',
'  end if;',
'end loop;',
'if l_count > 0 then',
'   sys.htp.prn(''</li>'');',
'end if;',
'--',
'-- Urgency',
'--',
'l_count := 0;',
'for c1 in (',
'select urgency_name status,count(*) c',
' from rca13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c',
' where a.id = b.ticket_id ',
' and  b.system_id = c.system_id',
' and status_type = ''OPEN''',
' group by urgency_name',
' order by 2 desc, 1',
' ) loop',
' l_count := l_count + 1;',
'    if l_count = 1 then',
'        sys.htp.p(''<li><label>Top Urgency Counts</label><span>'');',
'    end if;',
'    sys.htp.p(''<a href="''||apex_util.prepare_url(''f?p=''||l_app_id||'':2:''||l_session_id||'':::2,RIR:IR_URGENCY_NAME:''||',
'    sys.htf.escape_sc(c1.status))||''">'');',
'    sys.htp.prn(trim(to_char(c1.c,''999G999G999G999G999G990'')));',
'    sys.htp.prn('' ''||sys.htf.escape_sc(c1.status)|| ''</a><br /> '');',
'  if l_count = l_max then',
'     exit;',
'  end if;',
'end loop;',
'if l_count > 0 then',
'   sys.htp.prn(''</li>'');',
'end if;',
'--',
'-- Status codes',
'--',
'l_count := 0;',
'for c1 in (',
'select status_code, status_name status,count(*) c',
' from rca13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c',
' where a.id = b.ticket_id ',
' and  b.system_id = c.system_id',
' and status_type = ''OPEN''',
' group by status_code, status_name',
' order by 3 desc',
' ) loop',
' l_count := l_count + 1;',
' if l_count = 1 then',
'    sys.htp.p(''<li><label>Top Status Codes</label><span>'');',
' end if;',
'     sys.htp.p(''<a href="''||apex_util.prepare_url(''f?p=''||l_app_id||'':2:''||l_session_id||'':::2,RIR:IR_STATUS_CODE:''||sys.htf.escape_sc(c1.status_code))||''">'');',
'     sys.htp.prn(trim(to_char(c1.c,''999G999G999G999G999G990'')));',
'     sys.htp.prn('' ''||sys.htf.escape_sc(c1.status)|| ''</a><br /> '');',
'     if l_count = l_max then',
'        exit;',
'     end if;',
'end loop;',
'if l_count > 0 then',
'   sys.htp.prn(''</li>'');',
'end if;',
'--',
'-- PRODUCT',
'--',
'l_count := 0;',
'for c1 in (',
'select PRODUCT_NAME the_value,count(*) c',
' from rca13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c',
' where a.id = b.ticket_id ',
' and  b.system_id = c.system_id',
' and status_type = ''OPEN''',
' group by product_name',
' order by 2 desc',
' ) loop',
' l_count := l_count + 1;',
'    if l_count = 1 then',
'       sys.htp.p(''<li><label>Top Products</label><span>'');',
'    end if;',
'    sys.htp.p(''<a href="''||apex_util.prepare_url(''f?p=''||l_app_id||'':2:''||l_session_id||'':::2,RIR:IR_PRODUCT_NAME:''||sys.htf.escape_sc(c1.the_value))||''">'');',
'    sys.htp.prn(trim(to_char(c1.c,''999G999G999G999G999G990'')));',
'    sys.htp.prn('' ''||sys.htf.escape_sc(c1.the_value)|| ''</a><br /> '');',
'  if l_count = l_max then',
'     exit;',
'  end if;',
'end loop;',
'if l_count > 0 then',
'   sys.htp.prn(''</li>'');',
'end if;',
'--',
'-- customer',
'--',
'l_count := 0;',
'for c1 in (',
'select customer the_value,customer_id id,count(*) c',
' from rca13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c',
' where a.id = b.ticket_id ',
' and  b.system_id = c.system_id',
' and status_type = ''OPEN''',
' group by customer, customer_id',
' order by 2 desc',
' ) loop',
' l_count := l_count + 1;',
'     if l_count = 1 then',
'        sys.htp.p(''<li><label>Top Customers</label><span>'');',
'     end if;',
'     sys.htp.p(''<a href="''||apex_util.prepare_url(''f?p=''||l_app_id||'':2:''||l_session_id||'':::2,RIR:IR_CUSTOMER:''||sys.htf.escape_sc(c1.the_value))||''">'');',
'    sys.htp.prn(trim(to_char(c1.c,''999G999G999G999G999G990'')));',
'    sys.htp.prn('' ''||sys.htf.escape_sc(c1.the_value)|| ''</a><br /> '');',
'  if l_count = l_max then',
'     exit;',
'  end if;',
'end loop;',
'if l_count > 0 then',
'   sys.htp.prn(''</li>'');',
'end if;',
'',
'end;',
'',
'sys.htp.prn(''</ul>'');'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2436840369460941820)
,p_plug_name=>'Incident System Recent Activity '
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>' style="height: 420px; overflow: hidden;" data-grid="col_2" data-grid-start="no"  '
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare ',
'  l_cnt integer := 0;',
'  l_max integer := 10;',
'begin',
'',
'sys.htp.p(''<ul class="vapList">'');',
'',
'for c1 in (',
'select a.id, a.subject, a.created, a.created_by, a.updated, a.updated_by, PRODUCT_NAME, row_version_number',
'from rca13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c',
'where a.id = b.ticket_id and b.system_id = c.system_id',
'order by updated desc )',
' ',
'loop',
'  l_cnt := l_cnt+1;',
'  sys.htp.p(''<li><span><a href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':50:''||:APP_SESSION||''::NO:RP,50,:P50_ID:''||sys.htf.escape_sc(c1.id))||''">''||sys.htf.escape_sc(substr(c1.subject,1,50)));',
'  if c1.row_version_number = 1 then',
'      sys.htp.prn(''</a> created by <strong>''||sys.htf.escape_sc(lower(c1.created_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.created))||''</span></li>'');',
'  else',
'      sys.htp.prn(''</a> updated by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated))||''</span></li>'');',
'  end if;',
'  if l_cnt = l_max then',
'      exit;',
'  end if;',
'end loop;',
'',
'sys.htp.p(''</ul>'');',
'',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2451713073479620472)
,p_plug_name=>'Tags'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'data-grid="col_1" data-grid-start="yes"  '
,p_escape_on_http_output=>'Y'
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select tag, tag_count',
'  from rca13_intrack_tags_type_sum',
' where tag_count > 0 and',
'   content_type = ''INCIDENT''',
' order by 2 desc'))
,p_plug_source_type=>'PLUGIN_COM.ORACLE.APEX.TAG_CLOUD'
,p_plug_query_row_template=>1
,p_attribute_01=>'f?p=&APP_ID.:2:&APP_SESSION.:::RIR,CIR,2:IRC_TAGS:#TAG#'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2543837196184404833)
,p_plug_name=>'Notifications'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>50
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_02'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'for c1 in (',
'   select id, NOTIFICATION_NAME, NOTIFICATION_DESCRIPTION, notification_type',
'     from RCA13_INTRACK_NOTIFICATIONS',
'    where (DISPLAY_FROM is null or DISPLAY_FROM <= current_date ) and',
'          (DISPLAY_UNTIL is null or DISPLAY_UNTIL >= current_date)',
'   order by nvl(display_sequence,0),notification_name )',
'loop',
'    if c1.NOTIFICATION_TYPE = ''RED'' then',
'	sys.htp.p(''<div class="alertMessage red">'');',
'    elsif c1.NOTIFICATION_TYPE = ''YELLOW'' then',
'	sys.htp.p(''<div class="alertMessage yellow">'');',
'    else',
'	sys.htp.p(''<div class="alertMessage yellow">'');',
'    end if;',
'    sys.htp.p(''<img src="#IMAGE_PREFIX#f_spacer.gif">'');',
'    sys.htp.p(''<div class="innerMessage">'');',
'    sys.htp.p(''<h3>''||sys.htf.escape_sc(c1.NOTIFICATION_NAME)||''</h3>'');',
'    sys.htp.p(''<p>''||sys.htf.escape_sc(c1.NOTIFICATION_DESCRIPTION)||''</p>'');',
'    sys.htp.p(''</div>'');',
'    sys.htp.p(''</div>'');',
'end loop;',
''))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'NEVER'
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2862954298170796676)
,p_plug_name=>'Time zone'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style="clear: left; "'
,p_plug_template=>wwv_flow_api.id(2674561286370567975)
,p_plug_display_sequence=>80
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'sys.htp.prn(''<p>''||''Dates and Times are displayed in the ''||',
'''<a href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':56:''||:APP_SESSION)||''">''||',
'nvl(sys.htf.escape_sc(apex_util.get_session_time_zone),''unknown'')||''</a> timezone.</p>'');'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'NEVER'
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2987007198321242840)
,p_plug_name=>'Incidents'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'data-grid="col_1"  '
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'sys.htp.prn(''<ul class="uChartList">'');',
'for c1 in (',
'select count(1) incidents,',
'  sum(decode(status_type,''OPEN'',1,0)) open,',
'  sum(decode(status_type,''CLOSED'',1,0)) closed,',
'  sum(decode(ASSIGNED_TO_ID,0,0,null,0,1)) assignees,',
'  count(distinct customer_id) customers',
'from rca13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c',
' where a.id = b.ticket_id ',
' and  b.system_id = c.system_id',
') loop',
'',
'sys.htp.prn(''<li class="uNumber uGrid col_3 col_start">',
'    <a href="f?p=''||:APP_ID||'':2:''||:APP_SESSION||'':::2,RIR,RP">',
'      <big class="uValue">''||',
'      to_char(nvl(c1.open,''0''),''999G999G999G990'')||''</big>',
'      <small class="uLabel">Open Tickets</small>',
'    </a>',
'  </li>'');',
'  ',
'sys.htp.prn(''<li class="uNumber uGrid col_3">',
'    <a href="f?p=''||:APP_ID||'':2:''||:APP_SESSION||'':::2,RIR,CIR,RP:IR_STATUS_TYPE:Closed">',
'      <big class="uValue">''||to_char(nvl(c1.closed,''0''),''999G999G999G990'')||''</big>',
'      <small class="uLabel">Closed Tickets</small>',
'    </a>',
'  </li>'');',
'',
'sys.htp.prn(''<li class="uNumber uGrid col_3">',
'    <a href="f?p=''||:APP_ID||'':30:''||:APP_SESSION||',
'      '':::30,RIR,RP:IRGT_TICKETS:0">',
'      <big class="uValue">''||to_char(c1.customers,''999G999G999G990'')||''</big>',
'      <small class="uLabel">Customers With Tickets</small>',
'    </a>',
'  </li>'');',
'/*',
'sys.htp.prn(''<li class="uNumber uGrid col_4">',
'    <a href="f?p=''||:APP_ID||'':48:''||:APP_SESSION||',
'      '':::48,RIR,RP">',
'      <big class="uValue">''||to_char(c1.assignees,''999G999G999G990'')||''</big>',
'      <small class="uLabel">Assignees</small>',
'    </a>',
'  </li>'');',
'*/',
'end loop;',
'',
'sys.htp.prn(''</ul>'');'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(4053496930052880337)
,p_plug_name=>'Breadcrumbs'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
,p_plug_display_condition_type=>'NEVER'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(4053911048439626156)
,p_plug_name=>'search'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>70
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_02'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_plug_header=>'<div class="sCustomSearch">'
,p_plug_footer=>'</div>'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2409610189343770228)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2987007198321242840)
,p_button_name=>'CREATE_TICKET'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714476264585861)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Create Ticket'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:15:&SESSION.::&DEBUG.:15,16,17::'
,p_button_condition_type=>'NEVER'
,p_grid_new_grid=>false
,p_security_scheme=>wwv_flow_api.id(2856539680683820579)
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2920602294783518231)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2436776672792933291)
,p_button_name=>'VIEW_TICKETS'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714674026585862)
,p_button_image_alt=>'View Tickets'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:2:&SESSION.::&DEBUG.:RP::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2920611080032599151)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2436840369460941820)
,p_button_name=>'VIEW_RECENT_ACTIVITY'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714674026585862)
,p_button_image_alt=>'View Recent Activity'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:40:&SESSION.::&DEBUG.:RP::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2922619783809549099)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2451713073479620472)
,p_button_name=>'VIEW_TAGS'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714674026585862)
,p_button_image_alt=>'View Tags'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:25:&SESSION.::&DEBUG.:RP::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2436328575545782676)
,p_branch_action=>'f?p=&APP_ID.:37:&SESSION.::&DEBUG.:::'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>10
,p_branch_comment=>'Created 28-DEC-2011 13:35 by MIKE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(4053911360560629667)
,p_name=>'P1_SEARCH'
,p_is_required=>true
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(4053911048439626156)
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>50
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_tag_attributes=>'class="sSearchFieldBig"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717204815910739)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2447705797993671794)
,p_computation_sequence=>10
,p_computation_item=>'P1_SEARCH'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2675305466304652267)
,p_computation_sequence=>10
,p_computation_item=>'LAST_VIEW'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'1'
);
end;
/
prompt --application/pages/page_00002
begin
wwv_flow_api.create_page(
 p_id=>2
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Tickets'
,p_page_mode=>'NORMAL'
,p_step_title=>'Tickets'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131210065013'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2422729475235572304)
,p_plug_name=>'incidents'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'/*',
'select	 "PRODUCT_NAME",         product_version,         customer,	 "STATUS_NAME",',
'         status_code||''. ''||status_name status,	 "SEVERITY_NAME",         id,	 "INCIDENT_NUMBER",	 "SUBJECT",',
'         assignee,	 "BUG_NUMBER",	 "CATEGORY_ID",	 "ASSIGNED_TO_ID",	 "ASSIGNED_ON",	 "DATE_CLOSED",	 "DESCRIPTION",	 "PRODUCT_ID",	 "PRODUCT_VERSION_ID",',
'	 "ADDITIONAL_PRODUCT_INFO",	 "CUSTOMER_ID",	 "CUSTOMER_DEPARTMENT",	 "SEVERITY_ID",	 "STATUS_ID",         status_code,',
'         decode(status_type,''OPEN'',''Open'',''CLOSED'',''Closed'',status_type)            status_type,	 "URGENCY_ID",	 "ASSIGNED_TO_GROUP_ID",	 "TAGS",',
'	"CREATED",	"CREATED_BY",	"UPDATED",	"UPDATED_BY",	"URGENCY_NAME" ,        follow_ups,        customer_contact_email,        customer_contact_name',
' from rca13_intrack_incidents_view',
'*/',
'',
'select   "PRODUCT_NAME",',
'         product_version,         customer,',
'	 "STATUS_NAME",         status_code||''. ''||status_name status,',
'	 "SEVERITY_NAME",         id,',
'	 "INCIDENT_NUMBER",	 "SUBJECT",',
'         assignee,	 "BUG_NUMBER",',
'	 "CATEGORY_ID",	 "ASSIGNED_TO_ID",',
'	 "ASSIGNED_ON",	 "DATE_CLOSED",',
'	 "DESCRIPTION",	 "PRODUCT_ID",',
'	 "PRODUCT_VERSION_ID",	 "ADDITIONAL_PRODUCT_INFO",',
'	 "CUSTOMER_ID",	 "CUSTOMER_DEPARTMENT",',
'	 "SEVERITY_ID",	 "STATUS_ID",',
'         status_code,         decode(status_type,''OPEN'',''Open'',''CLOSED'',''Closed'',status_type)',
'            status_type,	 "URGENCY_ID",',
'	 "ASSIGNED_TO_GROUP_ID",	 "TAGS",',
'	a.CREATED "CREATED",	a.CREATED_BY "CREATED_BY",	"UPDATED",',
'	"UPDATED_BY",	"URGENCY_NAME" ,',
'        follow_ups,        customer_contact_email,        customer_contact_name',
' from rca13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c',
' where a.id = b.ticket_id',
' and  b.system_id = c.system_id'))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_prn_output_show_link=>'Y'
,p_prn_content_disposition=>'ATTACHMENT'
,p_prn_document_header=>'APEX'
,p_prn_units=>'INCHES'
,p_prn_paper_size=>'LETTER'
,p_prn_width=>11
,p_prn_height=>8.5
,p_prn_orientation=>'HORIZONTAL'
,p_prn_page_header_font_color=>'#000000'
,p_prn_page_header_font_family=>'Helvetica'
,p_prn_page_header_font_weight=>'normal'
,p_prn_page_header_font_size=>'12'
,p_prn_page_footer_font_color=>'#000000'
,p_prn_page_footer_font_family=>'Helvetica'
,p_prn_page_footer_font_weight=>'normal'
,p_prn_page_footer_font_size=>'12'
,p_prn_header_bg_color=>'#9bafde'
,p_prn_header_font_color=>'#ffffff'
,p_prn_header_font_family=>'Helvetica'
,p_prn_header_font_weight=>'normal'
,p_prn_header_font_size=>'10'
,p_prn_body_bg_color=>'#efefef'
,p_prn_body_font_color=>'#000000'
,p_prn_body_font_family=>'Helvetica'
,p_prn_body_font_weight=>'normal'
,p_prn_body_font_size=>'10'
,p_prn_border_width=>.5
,p_prn_page_header_alignment=>'CENTER'
,p_prn_page_footer_alignment=>'CENTER'
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2422729594752572314)
,p_name=>'incidents'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'N'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2103826143246251331
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422729769439572320)
,p_db_column_name=>'PRODUCT_NAME'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'Product'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'PRODUCT_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422729884073572322)
,p_db_column_name=>'STATUS_NAME'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Status Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'STATUS_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422729980254572322)
,p_db_column_name=>'SEVERITY_NAME'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Severity'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'SEVERITY_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422730082470572322)
,p_db_column_name=>'INCIDENT_NUMBER'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Incident'
,p_column_link=>'f?p=&APP_ID.:50:&SESSION.::&DEBUG.:RP,50:P50_ID:#ID#'
,p_column_linktext=>'<span>#INCIDENT_NUMBER#</span>'
,p_column_link_attr=>'class="uButton uButtonAlt" style="text-decoration: none;"'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'INCIDENT_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422730172266572322)
,p_db_column_name=>'SUBJECT'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Subject'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'SUBJECT'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422730297137572322)
,p_db_column_name=>'BUG_NUMBER'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'Bug#'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'BUG_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422730696025572323)
,p_db_column_name=>'CATEGORY_ID'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Category ID'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'CATEGORY_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422730797662572323)
,p_db_column_name=>'ASSIGNED_TO_ID'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Assigned To ID'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'STRIP_HTML_ESCAPE_SC'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'ASSIGNED_TO_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422730891167572323)
,p_db_column_name=>'ASSIGNED_ON'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Assigned On'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_tz_dependent=>'Y'
,p_static_id=>'ASSIGNED_ON'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422730994523572323)
,p_db_column_name=>'DATE_CLOSED'
,p_display_order=>13
,p_column_identifier=>'M'
,p_column_label=>'Date Closed'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'DD-MON-YYYY'
,p_tz_dependent=>'Y'
,p_static_id=>'DATE_CLOSED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422731096311572323)
,p_db_column_name=>'DESCRIPTION'
,p_display_order=>14
,p_column_identifier=>'N'
,p_column_label=>'Description'
,p_allow_sorting=>'N'
,p_allow_ctrl_breaks=>'N'
,p_allow_aggregations=>'N'
,p_allow_computations=>'N'
,p_allow_charting=>'N'
,p_allow_group_by=>'N'
,p_allow_pivot=>'N'
,p_column_type=>'CLOB'
,p_tz_dependent=>'N'
,p_static_id=>'DESCRIPTION'
,p_rpt_show_filter_lov=>'N'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422731189747572324)
,p_db_column_name=>'PRODUCT_ID'
,p_display_order=>15
,p_column_identifier=>'O'
,p_column_label=>'Product ID'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'PRODUCT_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422731286712572324)
,p_db_column_name=>'PRODUCT_VERSION_ID'
,p_display_order=>16
,p_column_identifier=>'P'
,p_column_label=>'Product Version ID'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'PRODUCT_VERSION_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422731379572572324)
,p_db_column_name=>'ADDITIONAL_PRODUCT_INFO'
,p_display_order=>17
,p_column_identifier=>'Q'
,p_column_label=>'Additional Product Info'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'ADDITIONAL_PRODUCT_INFO'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422731476690572324)
,p_db_column_name=>'CUSTOMER_ID'
,p_display_order=>18
,p_column_identifier=>'R'
,p_column_label=>'Customer ID'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'CUSTOMER_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422731592038572324)
,p_db_column_name=>'CUSTOMER_DEPARTMENT'
,p_display_order=>19
,p_column_identifier=>'S'
,p_column_label=>'Customer Department'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CUSTOMER_DEPARTMENT'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422731685888572324)
,p_db_column_name=>'SEVERITY_ID'
,p_display_order=>20
,p_column_identifier=>'T'
,p_column_label=>'Severity ID'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'SEVERITY_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422731779048572324)
,p_db_column_name=>'STATUS_ID'
,p_display_order=>21
,p_column_identifier=>'U'
,p_column_label=>'Status ID'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'STATUS_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422731887761572324)
,p_db_column_name=>'URGENCY_ID'
,p_display_order=>22
,p_column_identifier=>'V'
,p_column_label=>'Urgency ID'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'URGENCY_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422731986878572324)
,p_db_column_name=>'ASSIGNED_TO_GROUP_ID'
,p_display_order=>23
,p_column_identifier=>'W'
,p_column_label=>'Assigned To Group Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'ASSIGNED_TO_GROUP_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422732287459572325)
,p_db_column_name=>'TAGS'
,p_display_order=>26
,p_column_identifier=>'Z'
,p_column_label=>'Tags'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'TAGS'
,p_rpt_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select tag d',
'from rca13_intrack_tags_type_sum',
'where content_type = ''INCIDENT''',
'order by 1'))
,p_rpt_show_filter_lov=>'C'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422732494014572325)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>28
,p_column_identifier=>'AB'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422732679664572325)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>30
,p_column_identifier=>'AD'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2422732777147572325)
,p_db_column_name=>'URGENCY_NAME'
,p_display_order=>31
,p_column_identifier=>'AE'
,p_column_label=>'Urgency'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'URGENCY_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2423260677669648702)
,p_db_column_name=>'ID'
,p_display_order=>32
,p_column_identifier=>'AF'
,p_column_label=>'ID'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2428501875074803888)
,p_db_column_name=>'STATUS_CODE'
,p_display_order=>33
,p_column_identifier=>'AG'
,p_column_label=>'Status Code'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'STATUS_CODE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2430146871001184219)
,p_db_column_name=>'FOLLOW_UPS'
,p_display_order=>34
,p_column_identifier=>'AH'
,p_column_label=>'Follow Ups'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'FOLLOW_UPS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2433695078325159007)
,p_db_column_name=>'STATUS'
,p_display_order=>35
,p_column_identifier=>'AI'
,p_column_label=>'Status Code'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'STATUS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2433695179317159007)
,p_db_column_name=>'STATUS_TYPE'
,p_display_order=>36
,p_column_identifier=>'AJ'
,p_column_label=>'Status'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'STATUS_TYPE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2438269273887387768)
,p_db_column_name=>'CUSTOMER'
,p_display_order=>37
,p_column_identifier=>'AK'
,p_column_label=>'Customer'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CUSTOMER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2449548184683207352)
,p_db_column_name=>'PRODUCT_VERSION'
,p_display_order=>38
,p_column_identifier=>'AL'
,p_column_label=>'Product Version'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'PRODUCT_VERSION'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2452870867291997132)
,p_db_column_name=>'CUSTOMER_CONTACT_EMAIL'
,p_display_order=>39
,p_column_identifier=>'AM'
,p_column_label=>'Contact Email'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CUSTOMER_CONTACT_EMAIL'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2452870978768997133)
,p_db_column_name=>'CUSTOMER_CONTACT_NAME'
,p_display_order=>40
,p_column_identifier=>'AN'
,p_column_label=>'Contact Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CUSTOMER_CONTACT_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2468696189552635901)
,p_db_column_name=>'ASSIGNEE'
,p_display_order=>41
,p_column_identifier=>'AO'
,p_column_label=>'Assignee'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'ASSIGNEE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919500871308022868)
,p_db_column_name=>'CREATED'
,p_display_order=>42
,p_column_identifier=>'AP'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919500970748022871)
,p_db_column_name=>'UPDATED'
,p_display_order=>43
,p_column_identifier=>'AQ'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2422740176274572548)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'21018740'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>50
,p_report_columns=>'INCIDENT_NUMBER:CUSTOMER:PRODUCT_NAME:STATUS:SEVERITY_NAME:SUBJECT:ASSIGNEE_ON:CUSTOMER_CONTACT_EMAIL::CREATED:UPDATED'
,p_sort_column_1=>'UPDATED'
,p_sort_direction_1=>'DESC'
,p_sort_column_2=>'UPDATED_ON'
,p_sort_direction_2=>'DESC'
,p_sort_column_3=>'CREATED_ON'
,p_sort_direction_3=>'DESC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_worksheet_condition(
 p_id=>wwv_flow_api.id(312755960146586481)
,p_report_id=>wwv_flow_api.id(2422740176274572548)
,p_condition_type=>'FILTER'
,p_allow_delete=>'Y'
,p_column_name=>'STATUS_TYPE'
,p_operator=>'='
,p_expr=>'Open'
,p_condition_sql=>'"STATUS_TYPE" = #APXWS_EXPR#'
,p_condition_display=>'#APXWS_COL_NAME# = ''Open''  '
,p_enabled=>'Y'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(4053907629253611010)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2422847869526608421)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2422729475235572304)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:2:&SESSION.::&DEBUG.:2,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2428586989928855500)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2422729475235572304)
,p_button_name=>'CREATE_TICKET'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Create Ticket'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:15:&SESSION.::&DEBUG.:15,16,17::'
,p_button_condition_type=>'NEVER'
,p_grid_new_grid=>false
,p_security_scheme=>wwv_flow_api.id(2856539680683820579)
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2675331970806653575)
,p_computation_sequence=>10
,p_computation_item=>'LAST_VIEW'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'2'
);
end;
/
prompt --application/pages/page_00003
begin
wwv_flow_api.create_page(
 p_id=>3
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Reports'
,p_page_mode=>'NORMAL'
,p_step_title=>'Reports'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'MIKE'
,p_last_upd_yyyymmddhh24miss=>'20120813161223'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2429657167109179811)
,p_plug_name=>'Primary Reports'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'data-grid="col_2" data-grid-start="yes"'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_list_id=>wwv_flow_api.id(2429656666116179792)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(2524667866659887570)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2525853679290442035)
,p_plug_name=>'Additional Reports'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'data-grid="col_2"'
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_list_id=>wwv_flow_api.id(2525831772017439941)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(6040716910150910739)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2992935893273447901)
,p_plug_name=>'Activity Reports'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'data-grid="col_2" data-grid-start="yes"'
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_list_id=>wwv_flow_api.id(2992935393702447899)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(6040716910150910739)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(4053908835464616929)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
end;
/
prompt --application/pages/page_00004
begin
wwv_flow_api.create_page(
 p_id=>4
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Administration'
,p_alias=>'SETTINGS'
,p_page_mode=>'NORMAL'
,p_step_title=>'Administration'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_last_updated_by=>'ADMIN'
,p_last_upd_yyyymmddhh24miss=>'20160418041450'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(308593060613038460)
,p_plug_name=>'Manage Data & Other stuff'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style="width:49%; float:left; clear: none;"'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>16
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_point=>'BODY_2'
,p_list_id=>wwv_flow_api.id(308592348361025435)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(2524667866659887570)
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404393698134381788)
,p_plug_name=>'Manage Look Up Codes'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style="width:49%; float:left; margin-right: 1%;"'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>35
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_point=>'BODY_3'
,p_list_id=>wwv_flow_api.id(2404370092939380230)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(2524667866659887570)
,p_plug_query_row_template=>1
,p_plug_required_role=>wwv_flow_api.id(312611953325942122)
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2525738796689428217)
,p_plug_name=>'Administration'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style="width:49%; float:left; margin-right: 1%;"'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_point=>'BODY_2'
,p_list_id=>wwv_flow_api.id(2525715690456426397)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(2524667866659887570)
,p_plug_query_row_template=>1
,p_plug_required_role=>wwv_flow_api.id(312611953325942122)
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2526194978475508124)
,p_plug_name=>'&P4_AC_TITLE.'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style="width:49%; float:left; clear: none;"'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>46
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_point=>'BODY_3'
,p_list_id=>wwv_flow_api.id(2856541782915865264)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(2524667866659887570)
,p_plug_query_row_template=>1
,p_plug_required_role=>wwv_flow_api.id(312611953325942122)
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(4053909760205619283)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>50
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2856540870880842879)
,p_name=>'P4_AC_TITLE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2525738796689428217)
,p_use_cache_before_default=>'NO'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'''Access Control ('' || ',
'case ',
'    when rca13_intrack_fw.get_preference_value(''ACCESS_CONTROL_ENABLED'') = ''N'' then ''Disabled''',
'    else ''Enabled''',
'end',
'||',
'case',
'    when rca13_intrack_fw.get_preference_value(''PUBLIC_READONLY_ENABLED'') = ''Y'' then '', Reader Access Any Authenticated User''',
'    else ''''',
'end',
'|| '')'''))
,p_source_type=>'FUNCTION'
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2856557897180049164)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'ENABLE_ACCESS_CONTROL'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'-- Seed user table with current user as an administrator or set the current user as administrator',
'declare',
'   l_count number;',
'   cnt number;',
'   userId number;',
'captureusers varchar2(3);',
'begin',
'    select count(*) into l_count from rca13_intrack_users where username = :APP_USER;',
' select preference_value into captureusers from rca13_intrack_preferences where preference_name=''CAPTURE_USER_DETAIL'';',
'    if (l_count = 0  and captureusers = ''Y'') then',
'        insert into rca13_intrack_users(username, access_level_id) values (:APP_USER, 3) return id into userId;',
'        begin ',
'          insert into rca13_user_roles(user_role_id,user_id,role_id,lob_id,system_id,created_by) values(sys_guid,userId,1,''All'',''All'',:APP_USER);',
'          exception when DUP_VAL_ON_INDEX THEN NULL;        ',
'        end;',
'    else',
'        update rca13_intrack_users set access_level_id = 3 where username = :APP_USER;',
'        select id into userId from rca13_intrack_users where username = :APP_USER;',
'        begin ',
'          insert into rca13_user_roles(user_role_id,user_id,role_id,lob_id,system_id,created_by) values(sys_guid,userId,1,''All'',''All'',:APP_USER);         ',
'          exception when DUP_VAL_ON_INDEX THEN NULL;',
'        end;',
'    end if;',
'end;'))
,p_process_error_message=>'Error'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when=>'ENABLE_ACCESS_CONTROL'
,p_process_when_type=>'REQUEST_EQUALS_CONDITION'
,p_process_success_message=>'Access Control enabled and the current user ''&APP_USER.'' has been set to be an Administrator. '
);
end;
/
prompt --application/pages/page_00005
begin
wwv_flow_api.create_page(
 p_id=>5
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Status Codes'
,p_page_mode=>'NORMAL'
,p_step_title=>'Status Codes'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'ADMIN'
,p_last_upd_yyyymmddhh24miss=>'20160215013037'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404329292860377074)
,p_plug_name=>'Status Codes'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select "ROWID", ',
'display_sequence,',
'"ID",',
'"ROW_VERSION_NUMBER",',
'"STATUS_NAME",',
'"STATUS_CODE",',
'"DESCRIPTION",',
'"IS_ACTIVE",',
'"CREATED",',
'"CREATED_BY",',
'"UPDATED",',
'"UPDATED_BY"',
'from "#OWNER#"."RCA13_INTRACK_STATUS" ',
'  ',
''))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2404329491758377075)
,p_name=>'Status Codes'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:6:&SESSION.::&DEBUG.::P6_ROWID:#ROWID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif"  border="0">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2085426040252056092
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404329576179377076)
,p_db_column_name=>'ROWID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'ROWID'
,p_allow_sorting=>'N'
,p_allow_filtering=>'N'
,p_allow_highlighting=>'N'
,p_allow_ctrl_breaks=>'N'
,p_allow_aggregations=>'N'
,p_allow_computations=>'N'
,p_allow_charting=>'N'
,p_allow_group_by=>'N'
,p_allow_pivot=>'N'
,p_column_type=>'OTHER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ROWID'
,p_rpt_show_filter_lov=>'N'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404329695945377077)
,p_db_column_name=>'ID'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404329789062377077)
,p_db_column_name=>'ROW_VERSION_NUMBER'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Row Version Number'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ROW_VERSION_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404329875123377077)
,p_db_column_name=>'STATUS_NAME'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Status Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'STATUS_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404329970245377077)
,p_db_column_name=>'STATUS_CODE'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Status Code'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'STATUS_CODE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404330075907377078)
,p_db_column_name=>'DESCRIPTION'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'Description'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'DESCRIPTION'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404330193352377078)
,p_db_column_name=>'IS_ACTIVE'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Active'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'IS_ACTIVE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404330392138377079)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>9
,p_column_identifier=>'I'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404330581023377079)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'UpdatedBy'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2459998174720934946)
,p_db_column_name=>'DISPLAY_SEQUENCE'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Display Sequence'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'DISPLAY_SEQUENCE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919501177803043669)
,p_db_column_name=>'CREATED'
,p_display_order=>13
,p_column_identifier=>'M'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919501291427043669)
,p_db_column_name=>'UPDATED'
,p_display_order=>14
,p_column_identifier=>'N'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2404342883589377622)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'20834767'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'DISPLAY_SEQUENCE:STATUS_NAME:STATUS_CODE:IS_ACTIVE:CREATED:UPDATED:'
,p_sort_column_1=>'DISPLAY_SEQUENCE'
,p_sort_direction_1=>'ASC'
,p_sort_column_2=>'STATUS_NAME'
,p_sort_direction_2=>'ASC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404330869416377079)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2459570479390898424)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2404329292860377074)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:5:&SESSION.::&DEBUG.:5,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404330768338377079)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2404329292860377074)
,p_button_name=>'CREATE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Status Code'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:6:&SESSION.::&DEBUG.:6::'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_00006
begin
wwv_flow_api.create_page(
 p_id=>6
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Status Code'
,p_page_mode=>'NORMAL'
,p_step_title=>'Status Code'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122051118'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404324979075377045)
,p_plug_name=>'Status Codes'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404331079376377080)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404325295945377048)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2404324979075377045)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P6_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404325582062377048)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2404324979075377045)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:5:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404325166213377048)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2404324979075377045)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Status Code'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P6_ROWID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404325377260377048)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2404324979075377045)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P6_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2404326497913377054)
,p_branch_action=>'f?p=&APP_ID.:5:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404326689983377055)
,p_name=>'P6_ROWID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2404324979075377045)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Rowid'
,p_source=>'ROWID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>2000
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404326883000377063)
,p_name=>'P6_STATUS_NAME'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2404324979075377045)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Status Name'
,p_source=>'STATUS_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404327074641377064)
,p_name=>'P6_STATUS_CODE'
,p_is_required=>true
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2404324979075377045)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Status Code'
,p_source=>'STATUS_CODE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>50
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404327271763377064)
,p_name=>'P6_DESCRIPTION'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2404324979075377045)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Description'
,p_source=>'DESCRIPTION'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>80
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404327498237377064)
,p_name=>'P6_IS_ACTIVE'
,p_is_required=>true
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2404324979075377045)
,p_use_cache_before_default=>'NO'
,p_item_default=>'Y'
,p_prompt=>'Active'
,p_source=>'IS_ACTIVE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'YES NO'
,p_lov=>'.'||wwv_flow_api.id(2406577278280868052)||'.'
,p_cSize=>32
,p_cMaxlength=>1
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2460067285586947486)
,p_name=>'P6_DISPLAY_SEQUENCE'
,p_is_required=>true
,p_item_sequence=>6
,p_item_plug_id=>wwv_flow_api.id(2404324979075377045)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Disaplay Sequence'
,p_source=>'DISPLAY_SEQUENCE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2404328270212377068)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_STATUS'
,p_attribute_02=>'RCA13_INTRACK_STATUS'
,p_attribute_03=>'P6_ROWID'
,p_attribute_04=>'ROWID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2404328490744377068)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_STATUS'
,p_attribute_02=>'RCA13_INTRACK_STATUS'
,p_attribute_03=>'P6_ROWID'
,p_attribute_04=>'ROWID'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2404328674987377068)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2404325377260377048)
);
end;
/
prompt --application/pages/page_00007
begin
wwv_flow_api.create_page(
 p_id=>7
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Incident Severity'
,p_page_mode=>'NORMAL'
,p_step_title=>'Incident Severity'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131212231610'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404588293773424375)
,p_plug_name=>'Incident Severity'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select "ID", ',
'"ROW_VERSION_NUMBER",',
'"SEQUENCE_NUMBER",',
'severity_code,',
'"SEVERITY_NAME",',
'"DESCRIPTION",',
'"IS_ACTIVE",',
'"CREATED",',
'"CREATED_BY",',
'"UPDATED",',
'"UPDATED_BY"',
'from "#OWNER#"."RCA13_INTRACK_SEVERITY" ',
'  ',
''))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
,p_prn_output_show_link=>'Y'
,p_prn_content_disposition=>'ATTACHMENT'
,p_prn_document_header=>'APEX'
,p_prn_units=>'INCHES'
,p_prn_paper_size=>'LETTER'
,p_prn_width=>11
,p_prn_height=>8.5
,p_prn_orientation=>'HORIZONTAL'
,p_prn_page_header_font_color=>'#000000'
,p_prn_page_header_font_family=>'Helvetica'
,p_prn_page_header_font_weight=>'normal'
,p_prn_page_header_font_size=>'12'
,p_prn_page_footer_font_color=>'#000000'
,p_prn_page_footer_font_family=>'Helvetica'
,p_prn_page_footer_font_weight=>'normal'
,p_prn_page_footer_font_size=>'12'
,p_prn_header_bg_color=>'#9bafde'
,p_prn_header_font_color=>'#ffffff'
,p_prn_header_font_family=>'Helvetica'
,p_prn_header_font_weight=>'normal'
,p_prn_header_font_size=>'10'
,p_prn_body_bg_color=>'#efefef'
,p_prn_body_font_color=>'#000000'
,p_prn_body_font_family=>'Helvetica'
,p_prn_body_font_weight=>'normal'
,p_prn_body_font_size=>'10'
,p_prn_border_width=>.5
,p_prn_page_header_alignment=>'CENTER'
,p_prn_page_footer_alignment=>'CENTER'
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2404588469881424377)
,p_name=>'Incident Severity'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:8:&SESSION.::&DEBUG.::P8_ID:#ID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif"  border="0">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2085685018375103394
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404588588921424383)
,p_db_column_name=>'ID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404588689018424383)
,p_db_column_name=>'ROW_VERSION_NUMBER'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Row Version Number'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ROW_VERSION_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404588793852424384)
,p_db_column_name=>'SEQUENCE_NUMBER'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Display Sequence'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'SEQUENCE_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404588892062424384)
,p_db_column_name=>'SEVERITY_NAME'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Severity Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'SEVERITY_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404588997859424384)
,p_db_column_name=>'DESCRIPTION'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Description'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'DESCRIPTION'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404589087167424384)
,p_db_column_name=>'IS_ACTIVE'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'Active'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'IS_ACTIVE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404589288826424385)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>8
,p_column_identifier=>'H'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404589482229424385)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2436093669133743018)
,p_db_column_name=>'SEVERITY_CODE'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Severity Level'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'SEVERITY_CODE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919504890551217759)
,p_db_column_name=>'CREATED'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919504976626217760)
,p_db_column_name=>'UPDATED'
,p_display_order=>13
,p_column_identifier=>'M'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2404601782512424581)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'20837356'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'SEQUENCE_NUMBER:SEVERITY_NAME:IS_ACTIVE:SEVERITY_CODE:CREATED:UPDATED:'
,p_sort_column_1=>'SEQUENCE_NUMBER'
,p_sort_direction_1=>'ASC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404589771308424386)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2460136495414959839)
,p_button_sequence=>2
,p_button_plug_id=>wwv_flow_api.id(2404588293773424375)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:7:&SESSION.::&DEBUG.:7,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404589670399424385)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2404588293773424375)
,p_button_name=>'CREATE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Severity Code'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:8:&SESSION.::&DEBUG.:8::'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_00008
begin
wwv_flow_api.create_page(
 p_id=>8
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Severity'
,p_page_mode=>'NORMAL'
,p_step_title=>'Severity'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131209013911'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404584267435424367)
,p_plug_name=>'Severity'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404590471471424388)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404584580067424369)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2404584267435424367)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P8_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404584890159424369)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2404584267435424367)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:7:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404584473236424369)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2404584267435424367)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Severity Code'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P8_ID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404584692978424369)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2404584267435424367)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P8_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2404585497300424370)
,p_branch_action=>'f?p=&APP_ID.:7:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308629251094359825)
,p_name=>'P8_SEVERITY_CODE'
,p_item_sequence=>25
,p_item_plug_id=>wwv_flow_api.id(2404584267435424367)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Severity Code'
,p_source=>'SEVERITY_CODE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>8
,p_cMaxlength=>255
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404585686668424372)
,p_name=>'P8_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2404584267435424367)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Id'
,p_source=>'ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404585891348424372)
,p_name=>'P8_SEQUENCE_NUMBER'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2404584267435424367)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Sequence Number'
,p_source=>'SEQUENCE_NUMBER'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_NUMBER_FIELD'
,p_cSize=>8
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_03=>'right'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404586072385424373)
,p_name=>'P8_SEVERITY_NAME'
,p_is_required=>true
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2404584267435424367)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Severity Name'
,p_source=>'SEVERITY_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>50
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404586280372424373)
,p_name=>'P8_DESCRIPTION'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2404584267435424367)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Description'
,p_source=>'DESCRIPTION'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>80
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404586484827424373)
,p_name=>'P8_IS_ACTIVE'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2404584267435424367)
,p_use_cache_before_default=>'NO'
,p_item_default=>'Y'
,p_prompt=>'Active'
,p_source=>'IS_ACTIVE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'YES NO'
,p_lov=>'.'||wwv_flow_api.id(2406577278280868052)||'.'
,p_cSize=>32
,p_cMaxlength=>1
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2404587288826424374)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_SEVERITY'
,p_attribute_02=>'RCA13_INTRACK_SEVERITY'
,p_attribute_03=>'P8_ID'
,p_attribute_04=>'ID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2404587492135424374)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_SEVERITY'
,p_attribute_02=>'RCA13_INTRACK_SEVERITY'
,p_attribute_03=>'P8_ID'
,p_attribute_04=>'ID'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2404587681209424374)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2404584692978424369)
);
end;
/
prompt --application/pages/page_00009
begin
wwv_flow_api.create_page(
 p_id=>9
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Products'
,p_page_mode=>'NORMAL'
,p_step_title=>'Products'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131209035521'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404759491250436990)
,p_plug_name=>'Products'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select "ID", ',
'"ROW_VERSION_NUMBER",',
'"PRODUCT_NAME",',
'"DESCRIPTION",',
'decode(is_active,''Y'',''Yes'',''No'') "IS_ACTIVE",',
'"CREATED",',
'lower(created_by) "CREATED_BY",',
'"UPDATED",',
'lower(updated_by) "UPDATED_BY",',
'RCA13_INTRACK_GET_VERSIONS (p.id) product_versions',
'from "#OWNER#"."RCA13_INTRACK_PRODUCT" p',
'  ',
''))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2404759681568436990)
,p_name=>'Products'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:10:&SESSION.::&DEBUG.::P10_ID:#ID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif"  border="0">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2085856230062116007
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404759767777436991)
,p_db_column_name=>'ID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404759887889436991)
,p_db_column_name=>'ROW_VERSION_NUMBER'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Row Version Number'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ROW_VERSION_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404759976574436991)
,p_db_column_name=>'PRODUCT_NAME'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Product Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'PRODUCT_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404760085604436992)
,p_db_column_name=>'DESCRIPTION'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Description'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'DESCRIPTION'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404760196325436992)
,p_db_column_name=>'IS_ACTIVE'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Active'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'IS_ACTIVE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404760379066436995)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404760583740436996)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>9
,p_column_identifier=>'I'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2407985489026296989)
,p_db_column_name=>'PRODUCT_VERSIONS'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Product Versions'
,p_column_link=>'f?p=&APP_ID.:13:&SESSION.::&DEBUG.:RP,RIR:IR_PRODUCT_NAME:#PRODUCT_NAME#'
,p_column_linktext=>'#PRODUCT_VERSIONS#'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'PRODUCT_VERSIONS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919505183063225048)
,p_db_column_name=>'CREATED'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919505293651225048)
,p_db_column_name=>'UPDATED'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2404765593725437321)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'20838994'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'PRODUCT_NAME:PRODUCT_VERSIONS:IS_ACTIVE:CREATED_BY:UPDATED_BY:CREATED:UPDATED:'
,p_sort_column_1=>'PRODUCT_NAME'
,p_sort_direction_1=>'ASC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404760894207436996)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2460272296930969744)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2404759491250436990)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:9:&SESSION.::&DEBUG.:9,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2526453191598559188)
,p_button_sequence=>15
,p_button_plug_id=>wwv_flow_api.id(2404759491250436990)
,p_button_name=>'VIEW_PRODUCT_VERSIONS'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_image_alt=>'View Product Versions'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:13:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404760789535436996)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2404759491250436990)
,p_button_name=>'CREATE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Product'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:10:&SESSION.::&DEBUG.:10::'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_00010
begin
wwv_flow_api.create_page(
 p_id=>10
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Product'
,p_page_mode=>'NORMAL'
,p_step_title=>'Product'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122051719'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404755791283436983)
,p_plug_name=>'Products'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404761076074436996)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404756067870436985)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P10_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404756366891436985)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:9:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404755972059436985)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Product'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P10_ID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404756178114436985)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P10_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2404756997616436985)
,p_branch_action=>'f?p=&APP_ID.:9:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404757172727436987)
,p_name=>'P10_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Id'
,p_source=>'ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404757373146436987)
,p_name=>'P10_PRODUCT_NAME'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Product Name'
,p_source=>'PRODUCT_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717628245910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404757570319436987)
,p_name=>'P10_DESCRIPTION'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Description'
,p_source=>'DESCRIPTION'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>60
,p_cMaxlength=>2000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717419700910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404757792082436987)
,p_name=>'P10_IS_ACTIVE'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_use_cache_before_default=>'NO'
,p_item_default=>'Y'
,p_prompt=>'Active'
,p_source=>'IS_ACTIVE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'YES NO'
,p_lov=>'.'||wwv_flow_api.id(2406577278280868052)||'.'
,p_cSize=>32
,p_cMaxlength=>1
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2409119390326666363)
,p_name=>'P10_VERSION_1'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_prompt=>'Version(s)'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_display_when=>'P10_ID'
,p_display_when_type=>'ITEM_IS_NULL'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2409119584973666363)
,p_name=>'P10_VERSION_2'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_display_when=>'P10_ID'
,p_display_when_type=>'ITEM_IS_NULL'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2409119772916666364)
,p_name=>'P10_VERSION_3'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_display_when=>'P10_ID'
,p_display_when_type=>'ITEM_IS_NULL'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2409119997613666364)
,p_name=>'P10_VERSION_4'
,p_item_sequence=>80
,p_item_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_display_when=>'P10_ID'
,p_display_when_type=>'ITEM_IS_NULL'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2409185279029672630)
,p_name=>'P10_X'
,p_item_sequence=>45
,p_item_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_use_cache_before_default=>'NO'
,p_display_as=>'NATIVE_STOP_AND_START_HTML_TABLE'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2409253470156679441)
,p_name=>'P10_PK'
,p_item_sequence=>90
,p_item_plug_id=>wwv_flow_api.id(2404755791283436983)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2404758476668436988)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_PRODUCT'
,p_attribute_02=>'RCA13_INTRACK_PRODUCT'
,p_attribute_03=>'P10_ID'
,p_attribute_04=>'ID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2404758696849436988)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_PRODUCT'
,p_attribute_02=>'RCA13_INTRACK_PRODUCT'
,p_attribute_03=>'P10_ID'
,p_attribute_04=>'ID'
,p_attribute_09=>'P10_PK'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2409230294613677067)
,p_process_sequence=>35
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'populate versions'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'   procedure insert_version(p_version in varchar2 default null) is',
'   begin',
'      if p_version is not null then',
'          insert into RCA13_INTRACK_VERSION (PRODUCT_ID, VERSION_NAME) values (:P10_PK, p_version);',
'      end if;',
'   end;',
'begin',
'   insert_version(:P10_VERSION_1);',
'   insert_version(:P10_VERSION_2);',
'   insert_version(:P10_VERSION_3);',
'   insert_version(:P10_VERSION_4);',
'   commit;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2404758896382436989)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2404756178114436985)
);
end;
/
prompt --application/pages/page_00011
begin
wwv_flow_api.create_page(
 p_id=>11
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Urgency'
,p_page_mode=>'NORMAL'
,p_step_title=>'Urgency'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122051830'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404877085745448196)
,p_plug_name=>'Urgency'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select "ROWID", ',
'"ID",',
'DISPLAY_SEQUENCE,',
'"ROW_VERSION_NUMBER",',
'"URGENCY_NAME",',
'"DESCRIPTION",',
'"IS_ACTIVE",',
'"CREATED",',
'"CREATED_BY",',
'"UPDATED",',
'"UPDATED_BY"',
'from "#OWNER#"."RCA13_INTRACK_URGENCY" ',
'  ',
''))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2404877296206448196)
,p_name=>'Urgency'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:12:&SESSION.::&DEBUG.::P12_ROWID:#ROWID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif"  border="0">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2085973844700127213
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404877395035448197)
,p_db_column_name=>'ROWID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'ROWID'
,p_allow_sorting=>'N'
,p_allow_filtering=>'N'
,p_allow_highlighting=>'N'
,p_allow_ctrl_breaks=>'N'
,p_allow_aggregations=>'N'
,p_allow_computations=>'N'
,p_allow_charting=>'N'
,p_allow_group_by=>'N'
,p_allow_pivot=>'N'
,p_column_type=>'OTHER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ROWID'
,p_rpt_show_filter_lov=>'N'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404877490612448198)
,p_db_column_name=>'ID'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404877569153448198)
,p_db_column_name=>'ROW_VERSION_NUMBER'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Row Version Number'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ROW_VERSION_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404877689196448198)
,p_db_column_name=>'URGENCY_NAME'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Urgency Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'URGENCY_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404877770987448199)
,p_db_column_name=>'DESCRIPTION'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Description'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'DESCRIPTION'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404877869535448199)
,p_db_column_name=>'IS_ACTIVE'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'Active'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'IS_ACTIVE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404878092949448199)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>8
,p_column_identifier=>'H'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2404878279606448200)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2461020483612079371)
,p_db_column_name=>'DISPLAY_SEQUENCE'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Display Sequence'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'DISPLAY_SEQUENCE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919505473844231775)
,p_db_column_name=>'CREATED'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919505578986231775)
,p_db_column_name=>'UPDATED'
,p_display_order=>13
,p_column_identifier=>'M'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2404883266629448366)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'20840171'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'DISPLAY_SEQUENCE:URGENCY_NAME:DESCRIPTION:IS_ACTIVE:CREATED:UPDATED:'
,p_sort_column_1=>'DISPLAY_SEQUENCE'
,p_sort_direction_1=>'ASC'
,p_sort_column_2=>'URGENCY_NAME'
,p_sort_direction_2=>'ASC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404878588400448200)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404878468445448200)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2404877085745448196)
,p_button_name=>'CREATE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Urgency Code'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:12:&SESSION.::&DEBUG.:12::'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_00012
begin
wwv_flow_api.create_page(
 p_id=>12
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Urgency'
,p_page_mode=>'NORMAL'
,p_step_title=>'Urgency'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122051922'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404873394277448191)
,p_plug_name=>'Urgency'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2404878779789448200)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404873671593448191)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2404873394277448191)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P12_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404873993540448191)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2404873394277448191)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:11:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404873578294448191)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2404873394277448191)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Urgency Code'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P12_ROWID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2404873794029448191)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2404873394277448191)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P12_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2404874590614448193)
,p_branch_action=>'f?p=&APP_ID.:11:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404874789461448193)
,p_name=>'P12_ROWID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2404873394277448191)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Rowid'
,p_source=>'ROWID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404874971530448194)
,p_name=>'P12_URGENCY_NAME'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2404873394277448191)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Urgency Name'
,p_source=>'URGENCY_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>50
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404875183046448194)
,p_name=>'P12_DESCRIPTION'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2404873394277448191)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Description'
,p_source=>'DESCRIPTION'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>80
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2404875391568448194)
,p_name=>'P12_IS_ACTIVE'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2404873394277448191)
,p_use_cache_before_default=>'NO'
,p_item_default=>'Y'
,p_prompt=>'Active'
,p_source=>'IS_ACTIVE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'YES NO'
,p_lov=>'.'||wwv_flow_api.id(2406577278280868052)||'.'
,p_cSize=>32
,p_cMaxlength=>1
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2461070578895087471)
,p_name=>'P12_DISPLAY_SEQUENCE'
,p_is_required=>true
,p_item_sequence=>25
,p_item_plug_id=>wwv_flow_api.id(2404873394277448191)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Display Sequence'
,p_source=>'DISPLAY_SEQUENCE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_NUMBER_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_03=>'right'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2404876091261448195)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_URGENCY'
,p_attribute_02=>'RCA13_INTRACK_URGENCY'
,p_attribute_03=>'P12_ROWID'
,p_attribute_04=>'ROWID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2404876296699448195)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_URGENCY'
,p_attribute_02=>'RCA13_INTRACK_URGENCY'
,p_attribute_03=>'P12_ROWID'
,p_attribute_04=>'ROWID'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2404876496516448195)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2404873794029448191)
);
end;
/
prompt --application/pages/page_00013
begin
wwv_flow_api.create_page(
 p_id=>13
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Product Versions'
,p_page_mode=>'NORMAL'
,p_step_title=>'Product Versions'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122051953'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2405148471465529500)
,p_plug_name=>'Product Versions'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select "ROWID", ',
'"ID",',
'"ROW_VERSION_NUMBER",',
'"PRODUCT_ID",',
'"VERSION_NAME",',
'"DESCRIPTION",',
'"RELEASE_DATE",',
'decode(is_active,''Y'',''Yes'',''No'') "IS_ACTIVE",',
'"CREATED",',
'"CREATED_BY",',
'"UPDATED",',
'"UPDATED_BY",',
'(select product_name from RCA13_INTRACK_PRODUCT p where p.id = v.product_id) product_Name',
'from "#OWNER#"."RCA13_INTRACK_VERSION" v',
'  ',
''))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2405148677018529502)
,p_name=>'Product Versions'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:14:&SESSION.::&DEBUG.::P14_ROWID:#ROWID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif"  border="0">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2086245225512208519
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2405148766408529502)
,p_db_column_name=>'ROWID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'ROWID'
,p_allow_sorting=>'N'
,p_allow_filtering=>'N'
,p_allow_highlighting=>'N'
,p_allow_ctrl_breaks=>'N'
,p_allow_aggregations=>'N'
,p_allow_computations=>'N'
,p_allow_charting=>'N'
,p_allow_group_by=>'N'
,p_allow_pivot=>'N'
,p_column_type=>'OTHER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ROWID'
,p_rpt_show_filter_lov=>'N'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2405148890693529503)
,p_db_column_name=>'ID'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2405148984575529503)
,p_db_column_name=>'ROW_VERSION_NUMBER'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Row Version Number'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ROW_VERSION_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2405149092416529503)
,p_db_column_name=>'PRODUCT_ID'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Product Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'PRODUCT_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2405149194877529504)
,p_db_column_name=>'VERSION_NAME'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Version Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'VERSION_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2405149286457529532)
,p_db_column_name=>'DESCRIPTION'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'Description'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'DESCRIPTION'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2405149466931529532)
,p_db_column_name=>'IS_ACTIVE'
,p_display_order=>8
,p_column_identifier=>'H'
,p_column_label=>'Active'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'IS_ACTIVE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2405149668147529533)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2405149880853529533)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2406636175641876799)
,p_db_column_name=>'PRODUCT_NAME'
,p_display_order=>13
,p_column_identifier=>'M'
,p_column_label=>'Product Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'PRODUCT_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2911874084408853742)
,p_db_column_name=>'RELEASE_DATE'
,p_display_order=>14
,p_column_identifier=>'N'
,p_column_label=>'Release Date'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'RELEASE_DATE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919504567002210916)
,p_db_column_name=>'CREATED'
,p_display_order=>15
,p_column_identifier=>'O'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919504691291210916)
,p_db_column_name=>'UPDATED'
,p_display_order=>16
,p_column_identifier=>'P'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2405154886378529751)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'20842887'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'PRODUCT_NAME:VERSION_NAME:IS_ACTIVE_BY:RELEASE_DATE_ON_ON:CREATED:UPDATED'
,p_sort_column_1=>'PRODUCT_NAME'
,p_sort_direction_1=>'ASC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2405150192893529534)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2406779874864895435)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2405148471465529500)
,p_button_name=>'CREATE_PRODUCT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'< View Products'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:9:&SESSION.::&DEBUG.:RP::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2405150091411529534)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2405148471465529500)
,p_button_name=>'CREATE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Product Version'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:14:&SESSION.::&DEBUG.:14::'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_00014
begin
wwv_flow_api.create_page(
 p_id=>14
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Product Version'
,p_page_mode=>'NORMAL'
,p_step_title=>'Product Version'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122052111'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2405144369490529491)
,p_plug_name=>'Product Versions'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712710992910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2405150381537529534)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2405144676376529493)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2405144369490529491)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P14_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2405144992423529493)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2405144369490529491)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:13:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2405144597223529493)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2405144369490529491)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Create'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P14_ROWID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2405144773798529493)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2405144369490529491)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P14_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2405145577824529494)
,p_branch_action=>'f?p=&APP_ID.:13:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2405145796250529496)
,p_name=>'P14_ROWID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2405144369490529491)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Rowid'
,p_source=>'ROWID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2405145967988529496)
,p_name=>'P14_ID'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2405144369490529491)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Id'
,p_source=>'ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2405146187662529496)
,p_name=>'P14_PRODUCT_ID'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2405144369490529491)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Product'
,p_source=>'PRODUCT_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'select product_Name, id from RCA13_INTRACK_PRODUCT order by product_name'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2405146385207529498)
,p_name=>'P14_VERSION_NAME'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2405144369490529491)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Version Name'
,p_source=>'VERSION_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>100
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717419700910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2405146571387529498)
,p_name=>'P14_DESCRIPTION'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2405144369490529491)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Description'
,p_source=>'DESCRIPTION'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717419700910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2405146798536529498)
,p_name=>'P14_RELEASE_DATE'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2405144369490529491)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Release Date'
,p_source=>'RELEASE_DATE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_DATE_PICKER'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717419700910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_04=>'button'
,p_attribute_05=>'N'
,p_attribute_07=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2405146968523529498)
,p_name=>'P14_IS_ACTIVE'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(2405144369490529491)
,p_use_cache_before_default=>'NO'
,p_item_default=>'Y'
,p_prompt=>'Active'
,p_source=>'IS_ACTIVE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'YES NO'
,p_lov=>'.'||wwv_flow_api.id(2406577278280868052)||'.'
,p_cSize=>32
,p_cMaxlength=>1
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2405147498332529499)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_VERSION'
,p_attribute_02=>'RCA13_INTRACK_VERSION'
,p_attribute_03=>'P14_ROWID'
,p_attribute_04=>'ROWID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2405147689446529499)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_VERSION'
,p_attribute_02=>'RCA13_INTRACK_VERSION'
,p_attribute_03=>'P14_ROWID'
,p_attribute_04=>'ROWID'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2405147875333529499)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2405144773798529493)
);
end;
/
prompt --application/pages/page_00015
begin
wwv_flow_api.create_page(
 p_id=>15
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Create Ticket'
,p_page_mode=>'NORMAL'
,p_step_title=>'Create Ticket'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711306762910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122052257'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312077261317736283)
,p_plug_name=>'RCA13_TICKET_ITEMS'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>60
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2409751466264783823)
,p_plug_name=>'Button Region'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040714228547910735)
,p_plug_display_sequence=>50
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_02'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2410293077964921663)
,p_plug_name=>'Wiz progress'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_02'
,p_list_id=>wwv_flow_api.id(2410291989707921661)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(6040716020337910738)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2413215996138480387)
,p_plug_name=>'Content'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2414192671316681363)
,p_plug_name=>'New Customer'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712028632910726)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2414319479890702824)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2414836177053872266)
,p_plug_name=>'New Contact'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712028632910726)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2409751889479783825)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2409751466264783823)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2409752191252783825)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2409751466264783823)
,p_button_name=>'NEXT'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204383161343979)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Next'
,p_button_position=>'REGION_TEMPLATE_NEXT'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2409752586244783826)
,p_branch_action=>'f?p=&APP_ID.:16:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(2409752191252783825)
,p_branch_sequence=>10
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312085743543942465)
,p_name=>'P15_RCA13_ID'
,p_item_sequence=>150
,p_item_plug_id=>wwv_flow_api.id(312077261317736283)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312086268521976405)
,p_name=>'P15_RCA13_TYPE'
,p_item_sequence=>160
,p_item_plug_id=>wwv_flow_api.id(312077261317736283)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312193938309763313)
,p_name=>'P15_RCA13_CDATE'
,p_item_sequence=>170
,p_item_plug_id=>wwv_flow_api.id(312077261317736283)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312194168464794822)
,p_name=>'P15_RCA13_CNAME'
,p_item_sequence=>180
,p_item_plug_id=>wwv_flow_api.id(312077261317736283)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2413265679300484969)
,p_name=>'P15_CUSTOMER'
,p_is_required=>true
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2413215996138480387)
,p_prompt=>'Customer'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select customer_name d, id r from RCA13_intrack_customers ',
'union ',
'select ''+ New Customer'' d, 0 r from dual',
'order by 1'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- Select Customer -'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2413391088089496978)
,p_name=>'P15_NEW_CUSTOMER_NAME'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2414192671316681363)
,p_prompt=>'Customer'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2413787391168545181)
,p_name=>'P15_ADDRESS'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(2414192671316681363)
,p_prompt=>'Address'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2413787571326545181)
,p_name=>'P15_CITY'
,p_item_sequence=>80
,p_item_plug_id=>wwv_flow_api.id(2414192671316681363)
,p_prompt=>'City'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2413787771053545181)
,p_name=>'P15_STATE'
,p_item_sequence=>90
,p_item_plug_id=>wwv_flow_api.id(2414192671316681363)
,p_prompt=>'State'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2413787966671545181)
,p_name=>'P15_POSTAL_CODE'
,p_item_sequence=>100
,p_item_plug_id=>wwv_flow_api.id(2414192671316681363)
,p_prompt=>'Postal Code'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2414470491234724946)
,p_name=>'P15_WEB_SITE'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2414192671316681363)
,p_prompt=>'Web Site'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2414641489727790805)
,p_name=>'P15_CONTACT_FIRST_NAME'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2414836177053872266)
,p_prompt=>'First Name'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>50
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2414641698720790805)
,p_name=>'P15_CONTACT_LAST_NAME'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2414836177053872266)
,p_prompt=>'Last Name'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>50
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2414641882870790805)
,p_name=>'P15_CONTACT_EMAIL'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2414836177053872266)
,p_prompt=>'Email'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>50
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2414719288388818806)
,p_name=>'P15_CONTACT'
,p_is_required=>true
,p_item_sequence=>110
,p_item_plug_id=>wwv_flow_api.id(2413215996138480387)
,p_prompt=>'Customer Contact'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select first_name||'' ''||last_name||'' - ''||email||'': ''||PHONE d,',
'       id r',
'from RCA13_intrack_customer_contact',
'where customer_id = :P15_CUSTOMER',
'union all',
'select ''+ new contact'' d, 0 r',
'from dual',
'order by 1'))
,p_lov_cascade_parent_items=>'P15_CUSTOMER'
,p_ajax_optimize_refresh=>'Y'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2443085491274534460)
,p_name=>'P15_CONTACT_PHONE'
,p_item_sequence=>120
,p_item_plug_id=>wwv_flow_api.id(2414836177053872266)
,p_prompt=>'Phone'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2450300078505309625)
,p_name=>'P15_CONTACT_COUNTRY'
,p_item_sequence=>140
,p_item_plug_id=>wwv_flow_api.id(2414836177053872266)
,p_prompt=>'Contact Country'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(2427707788552580709)
,p_validation_name=>'P15_NEW_CUSTOMER_NAME'
,p_validation_sequence=>10
,p_validation=>'P15_NEW_CUSTOMER_NAME'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'#LABEL# must have some value.'
,p_always_execute=>'N'
,p_validation_condition=>'P15_CUSTOMER'
,p_validation_condition2=>'0'
,p_validation_condition_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(2413391088089496978)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(2427768582796588448)
,p_validation_name=>'P15_CONTACT_EMAIL'
,p_validation_sequence=>20
,p_validation=>'P15_CONTACT_EMAIL'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'#LABEL# must have some value.'
,p_always_execute=>'N'
,p_validation_condition=>'P15_CONTACT'
,p_validation_condition2=>'0'
,p_validation_condition_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(2414641882870790805)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(2427814693878591682)
,p_validation_name=>'P15_CONTACT_FIRST_NAME'
,p_validation_sequence=>30
,p_validation=>'P15_CONTACT_FIRST_NAME'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'#LABEL# must have some value.'
,p_always_execute=>'N'
,p_validation_condition=>'P15_CONTACT'
,p_validation_condition2=>'0'
,p_validation_condition_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(2414641489727790805)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(2427845569075593998)
,p_validation_name=>'P15_CONTACT_LAST_NAME'
,p_validation_sequence=>40
,p_validation=>'P15_CONTACT_LAST_NAME'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'#LABEL# must have some value.'
,p_always_execute=>'N'
,p_validation_condition=>'P15_CONTACT'
,p_validation_condition2=>'0'
,p_validation_condition_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(2414641698720790805)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(2428043984537664674)
,p_validation_name=>'P15_CONTACT_EMAIL'
,p_validation_sequence=>50
,p_validation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'return RCA13_intrack_val_email_fmt(',
'    p_email_address=>:P15_CONTACT_EMAIL);'))
,p_validation_type=>'FUNC_BODY_RETURNING_ERR_TEXT'
,p_error_message=>'Invalid email address'
,p_always_execute=>'Y'
,p_associated_item=>wwv_flow_api.id(2414641882870790805)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(2414266190841696492)
,p_name=>'show hide new customer'
,p_event_sequence=>10
,p_triggering_element_type=>'ITEM'
,p_triggering_element=>'P15_CUSTOMER'
,p_condition_element=>'P15_CUSTOMER'
,p_triggering_condition_type=>'EQUALS'
,p_triggering_expression=>'0'
,p_bind_type=>'bind'
,p_bind_event_type=>'change'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(2414266472712696497)
,p_event_id=>wwv_flow_api.id(2414266190841696492)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_SHOW'
,p_affected_elements_type=>'REGION'
,p_affected_region_id=>wwv_flow_api.id(2414192671316681363)
,p_attribute_01=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(2414266673169696498)
,p_event_id=>wwv_flow_api.id(2414266190841696492)
,p_event_result=>'FALSE'
,p_action_sequence=>10
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_HIDE'
,p_affected_elements_type=>'REGION'
,p_affected_region_id=>wwv_flow_api.id(2414192671316681363)
,p_attribute_01=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(2952772667604189293)
,p_name=>'show/hide new contact'
,p_event_sequence=>20
,p_triggering_element_type=>'ITEM'
,p_triggering_element=>'P15_CONTACT'
,p_condition_element=>'P15_CONTACT'
,p_triggering_condition_type=>'EQUALS'
,p_triggering_expression=>'0'
,p_bind_type=>'bind'
,p_bind_event_type=>'change'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(2952772978362189300)
,p_event_id=>wwv_flow_api.id(2952772667604189293)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_SHOW'
,p_affected_elements_type=>'REGION'
,p_affected_region_id=>wwv_flow_api.id(2414836177053872266)
,p_attribute_01=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(2952773173788189303)
,p_event_id=>wwv_flow_api.id(2952772667604189293)
,p_event_result=>'FALSE'
,p_action_sequence=>20
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_HIDE'
,p_affected_elements_type=>'REGION'
,p_affected_region_id=>wwv_flow_api.id(2414836177053872266)
,p_attribute_01=>'N'
,p_stop_execution_on_error=>'Y'
);
end;
/
prompt --application/pages/page_00016
begin
wwv_flow_api.create_page(
 p_id=>16
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Create Ticket'
,p_page_mode=>'NORMAL'
,p_step_title=>'Create Ticket'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711306762910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122052350'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2409753187670783827)
,p_plug_name=>'Button Region'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040714228547910735)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_02'
,p_translate_title=>'N'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2410293290640921663)
,p_plug_name=>'Wiz progress'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_02'
,p_list_id=>wwv_flow_api.id(2410291989707921661)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(6040716020337910738)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2414350585431704443)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2415465893947971758)
,p_plug_name=>'content'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2409753887180783827)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2409753187670783827)
,p_button_name=>'NEXT'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204383161343979)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Next'
,p_button_position=>'REGION_TEMPLATE_NEXT'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2409753776858783827)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2409753187670783827)
,p_button_name=>'PREVIOUS'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204585164343995)
,p_button_image_alt=>'Previous'
,p_button_position=>'REGION_TEMPLATE_PREVIOUS'
,p_button_execute_validations=>'N'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2409754580471783828)
,p_branch_action=>'f?p=&APP_ID.:17:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(2409753887180783827)
,p_branch_sequence=>10
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2409754292811783828)
,p_branch_action=>'f?p=&APP_ID.:15:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'BEFORE_VALIDATION'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(2409753776858783827)
,p_branch_sequence=>20
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415528391307980466)
,p_name=>'P16_PRODUCT'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2415465893947971758)
,p_item_default=>'0'
,p_prompt=>'Product'
,p_source=>'0'
,p_source_type=>'STATIC'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select product_name, id from RCA13_INTRACK_PRODUCT',
'order by 1'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- Select Product -'
,p_lov_null_value=>'0'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415643283006053789)
,p_name=>'P16_PRODUCT_VERSION'
,p_is_required=>true
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2415465893947971758)
,p_prompt=>'Product Version'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select version_name, id',
'from RCA13_INTRACK_VERSION',
'where PRODUCT_ID = :P16_PRODUCT',
'order by 1'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- Select Version -'
,p_lov_cascade_parent_items=>'P16_PRODUCT'
,p_ajax_optimize_refresh=>'Y'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415756375219089427)
,p_name=>'P16_ADDITIONAL_PRODUCT_INFO'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2415465893947971758)
,p_prompt=>'Additional Product Information'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>70
,p_cMaxlength=>4000
,p_cHeight=>4
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2432674167863850232)
,p_name=>'P16_X'
,p_item_sequence=>34
,p_item_plug_id=>wwv_flow_api.id(2415465893947971758)
,p_use_cache_before_default=>'NO'
,p_display_as=>'NATIVE_STOP_AND_START_HTML_TABLE'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
);
end;
/
prompt --application/pages/page_00017
begin
wwv_flow_api.create_page(
 p_id=>17
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Create Ticket'
,p_page_mode=>'NORMAL'
,p_step_title=>'Create Ticket'
,p_allow_duplicate_submissions=>'N'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711306762910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20141001031608'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2409755193532783828)
,p_plug_name=>'Wizard Buttons'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040714228547910735)
,p_plug_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_02'
,p_translate_title=>'N'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2410293483131921664)
,p_plug_name=>'Wiz progress'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_02'
,p_list_id=>wwv_flow_api.id(2410291989707921661)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(6040716020337910738)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2414404691664706216)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2415873394528113878)
,p_plug_name=>'content'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2409755679867783829)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2409755193532783828)
,p_button_name=>'FINISH'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Create Ticket'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2409755783375783829)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2409755193532783828)
,p_button_name=>'PREVIOUS'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204585164343995)
,p_button_image_alt=>'Previous'
,p_button_position=>'REGION_TEMPLATE_PREVIOUS'
,p_button_execute_validations=>'N'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2409756575276783830)
,p_branch_action=>'f?p=&APP_ID.:2:&SESSION.::&DEBUG.:::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(2409755679867783829)
,p_branch_sequence=>10
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2409756282666783830)
,p_branch_action=>'f?p=&APP_ID.:16:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'BEFORE_VALIDATION'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(2409755783375783829)
,p_branch_sequence=>20
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415900677690118482)
,p_name=>'P17_URGENCY'
,p_is_required=>true
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2415873394528113878)
,p_prompt=>'Urgency'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'URGENCY'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select URGENCY_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_URGENCY',
' order by display_sequence'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415900880130118482)
,p_name=>'P17_SEVERITY'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2415873394528113878)
,p_prompt=>'Severity'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'SEVERITY'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select severity_code||''. ''||SEVERITY_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_SEVERITY',
' order by sequence_number'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415901091178118482)
,p_name=>'P17_CATEGORY'
,p_is_required=>true
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2415873394528113878)
,p_prompt=>'Category'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'CATEGORY'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select CATEGORY_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_CATEGORY',
' order by display_sequence'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_alignment=>'LEFT-TOP'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415901278636118482)
,p_name=>'P17_DESCRIPTION'
,p_is_required=>true
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2415873394528113878)
,p_prompt=>'Incident Description'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>120
,p_cMaxlength=>4000
,p_cHeight=>14
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2416348096456303719)
,p_name=>'P17_STATUS'
,p_is_required=>true
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2415873394528113878)
,p_prompt=>'TIcket Status'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'STATUS'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select status_code||''. ''||STATUS_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_STATUS',
' order by display_sequence'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_alignment=>'LEFT-TOP'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2416522986722348232)
,p_name=>'P17_X'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2415873394528113878)
,p_use_cache_before_default=>'NO'
,p_display_as=>'NATIVE_STOP_AND_START_HTML_TABLE'
,p_cSize=>30
,p_cMaxlength=>2000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2417455771634504724)
,p_name=>'P17_X2'
,p_item_sequence=>65
,p_item_plug_id=>wwv_flow_api.id(2415873394528113878)
,p_use_cache_before_default=>'NO'
,p_display_as=>'NATIVE_STOP_AND_START_HTML_TABLE'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2417482779599507039)
,p_name=>'P17_TAGS'
,p_item_sequence=>80
,p_item_plug_id=>wwv_flow_api.id(2415873394528113878)
,p_prompt=>'Tags'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>70
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2422649789209510058)
,p_name=>'P17_INDCIDENT_SUMMARY'
,p_is_required=>true
,p_item_sequence=>55
,p_item_plug_id=>wwv_flow_api.id(2415873394528113878)
,p_prompt=>'Incident Summary'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>120
,p_cMaxlength=>255
,p_cHeight=>14
,p_cAttributes=>'nowrap'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2434667166822600395)
,p_computation_sequence=>10
,p_computation_item=>'P17_URGENCY'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'QUERY'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select max(preference_value) v',
'from RCA13_INTRACK_PREFERENCES  ',
'where PREFERENCE_NAME = ''DEFAULT_URGENCY'''))
,p_compute_when=>'P17_URGENCY'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2434987468731638750)
,p_computation_sequence=>10
,p_computation_item=>'P17_SEVERITY'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'QUERY'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select max(preference_value) v',
'from RCA13_INTRACK_PREFERENCES  ',
'where PREFERENCE_NAME = ''DEFAULT_SEVERITY'''))
,p_compute_when=>'P17_SEVERITY'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2435062897474647104)
,p_computation_sequence=>10
,p_computation_item=>'P17_CATEGORY'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'QUERY'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select max(preference_value) v',
'from RCA13_INTRACK_PREFERENCES  ',
'where PREFERENCE_NAME = ''DEFAULT_CATEGORY'''))
,p_compute_when=>'P17_CATEGORY'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2435111883061652432)
,p_computation_sequence=>10
,p_computation_item=>'P17_STATUS'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'QUERY'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select max(preference_value) v',
'from RCA13_INTRACK_PREFERENCES  ',
'where PREFERENCE_NAME = ''DEFAULT_STATUS'''))
,p_compute_when=>'P17_STATUS'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2417253991925425415)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'create ticket'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'    l_id           number;',
'    l_customer_id  number;',
'    l_contact_id   number;',
'    acsTicketId varchar2(40);',
'    sysId varchar2(40); ',
'    cnt number;',
'begin',
'    if nvl(:P15_CUSTOMER,0) = 0 then',
'       l_customer_id := null;',
'    else',
'       l_customer_id := :P15_CUSTOMER;',
'    end if;',
'    if nvl(:P15_CONTACT,0) = 0 then',
'       l_contact_id := null;',
'    else',
'       l_contact_id := :P15_CONTACT;',
'    end if;',
'    l_id :=  RCA13_intrack_incident.create_ticket (',
'        p_customer_id             => l_customer_id,',
'        p_customer_name           => :P15_NEW_CUSTOMER_NAME,',
'        p_customer_web_site       => :P15_WEB_SITE,',
'        p_customer_address        => :P15_ADDRESS,',
'        p_customer_city           => :P15_CITY,',
'        p_customer_state          => :P15_STATE,',
'        p_customer_postal_code    => :P15_POSTAL_CODE,',
'        --                      ',
'        p_contact_id              => l_contact_id,',
'        p_contact_first_name      => :P15_CONTACT_FIRST_NAME,',
'        p_contact_last_name       => :P15_CONTACT_LAST_NAME,',
'        p_contact_email           => :P15_CONTACT_EMAIL,',
'        p_contact_department      => null,',
'        p_contact_phone           => :P15_CONTACT_PHONE,',
'        p_contact_phone_type      => null,',
'        p_contact_country         => :P15_CONTACT_COUNTRY,',
'        --                      ',
'        p_product_id              => :P16_PRODUCT,',
'        p_product_version_id      => :P16_PRODUCT_VERSION,',
'        p_product_additional_info => :P16_ADDITIONAL_PRODUCT_INFO,',
'        --',
'        p_urgency_id              => :P17_URGENCY,',
'        p_severity_id             => :P17_SEVERITY,',
'        p_category_id             => :P17_CATEGORY,',
'        p_status_id               => :P17_STATUS,',
'        --',
'        p_subject                 => :P17_INDCIDENT_SUMMARY,',
'        p_incident_description    => :P17_DESCRIPTION,',
'        p_bug_number              => null,',
'        p_additional_info         => null,',
'        --',
'        p_tags                    => :P17_TAGS);',
'',
'    -- Now link it with RCA13 app',
'    if :P15_RCA13_CDATE is not null and ( :P15_RCA13_TYPE = ''CHECK'' OR :P15_RCA13_TYPE = ''COLLECTION'' ) then ',
'      -- Get system id ',
'      select system_id into sysId from rca13_col2sys_mapping where collection_date||''|''||collection_name = :P15_RCA13_CDATE; ',
'    end if;',
'    if ( nvl(:P15_RCA13_TYPE,''z'') = ''CHECK'' ) then',
'      --Don''t create ticket on auditcheck_result_id twice ',
'      -- this is to avoid issue with apex ',
'      select count(1) into cnt from RCA13_AC_TICKETS where attr1 = :P15_RCA13_ID;',
'      if cnt = 0 then  ',
'        --Ticket on check ',
'        insert into RCA13_AC_TICKETS(ACS_TICKET_ID,TICKET_ID,type,attr1,system_id) ',
'        values(sys_guid(),l_id,:P15_RCA13_TYPE,:P15_RCA13_ID,sysId) return ACS_TICKET_ID into acsTicketId;',
'        commit;',
'        RCA13_INCIDENT_INTEGRATION.addInfo2ITC(acsTicketId);',
'        RCA13_INCIDENT_INTEGRATION.addLink2ITC(acsTicketId);',
'      else ',
'        delete from RCA13_intrack_incidents where id = l_id; ',
'      end if;',
'    elsif ( nvl(:P15_RCA13_TYPE,''z'') = ''COLLECTION'' ) then',
'       --Don''t create ticket on collection twice -- this is to avoid issue with apex',
'      select count(1) into cnt from RCA13_AC_TICKETS where collection_date||''|''||collection_name = :P15_RCA13_CDATE and attr1 is null;',
'      if cnt = 0 then ',
'        -- Ticket on collection',
'        for rec in ( select collection_id ci from auditcheck_result where collection_date||''|''||upload_collection_name = :P15_RCA13_CDATE ) loop',
'          :P15_RCA13_ID := rec.ci;',
'        end loop;',
'        insert into RCA13_AC_TICKETS(ACS_TICKET_ID,TICKET_ID,type,attr1,collection_date,collection_name,system_id) ',
'        values(sys_guid(),l_id,:P15_RCA13_TYPE,:P15_RCA13_ID,substr(:P15_RCA13_CDATE,1,instr(:P15_RCA13_CDATE,''|'',1,1)-1),:P15_RCA13_CNAME,sysId) return ACS_TICKET_ID into acsTicketId;',
'        commit;',
'        RCA13_INCIDENT_INTEGRATION.addInfo2ITC(acsTicketId);',
'        RCA13_INCIDENT_INTEGRATION.addLink2ITC(acsTicketId);',
'      else',
'        delete from RCA13_intrack_incidents where id = l_id; ',
'      end if;',
'    else ',
'      --Other tickets( Generic )',
'      null;',
'    end if;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2409755679867783829)
,p_process_success_message=>'Ticket Created'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312086661799389206)
,p_process_sequence=>20
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Load Incident Summary'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' if :P15_RCA13_TYPE = ''CHECK'' then',
'  select nvl(check_name,param_name) into :P17_INDCIDENT_SUMMARY from auditcheck_result where   ',
'  auditcheck_result_id = :P15_RCA13_ID;',
' elsif :P15_RCA13_TYPE = ''COLLECTION'' then',
'  :P17_INDCIDENT_SUMMARY := :P15_RCA13_CNAME;',
' end if;',
'end;'))
,p_process_when=>'select 1 from dual where :P15_RCA13_TYPE = ''CHECK'' OR :P15_RCA13_TYPE = ''COLLECTION'''
,p_process_when_type=>'EXISTS'
);
end;
/
prompt --application/pages/page_00018
begin
wwv_flow_api.create_page(
 p_id=>18
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Categories'
,p_page_mode=>'NORMAL'
,p_step_title=>'Categories'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(312611953325942122)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131210013038'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2409845898660819229)
,p_plug_name=>'Categories'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select "ROWID", ',
'display_sequence,',
'"ID",',
'"ROW_VERSION_NUMBER",',
'"CATEGORY_NAME",',
'"PARENT_ID",',
'"DESCRIPTION",',
'"IS_ACTIVE",',
'"CREATED",',
'"CREATED_BY",',
'"UPDATED",',
'"UPDATED_BY"',
'from "#OWNER#"."RCA13_INTRACK_CATEGORY" ',
'  ',
''))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2409846092154819230)
,p_name=>'Categories'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:19:&SESSION.::&DEBUG.::P19_ROWID:#ROWID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif"  border="0">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2090942640648498247
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2409846183535819235)
,p_db_column_name=>'ROWID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'ROWID'
,p_allow_sorting=>'N'
,p_allow_filtering=>'N'
,p_allow_highlighting=>'N'
,p_allow_ctrl_breaks=>'N'
,p_allow_aggregations=>'N'
,p_allow_computations=>'N'
,p_allow_charting=>'N'
,p_allow_group_by=>'N'
,p_allow_pivot=>'N'
,p_column_type=>'OTHER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ROWID'
,p_rpt_show_filter_lov=>'N'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2409846267173819235)
,p_db_column_name=>'ID'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2409846377661819235)
,p_db_column_name=>'ROW_VERSION_NUMBER'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Row Version Number'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ROW_VERSION_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2409846483998819235)
,p_db_column_name=>'CATEGORY_NAME'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Category Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CATEGORY_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2409846582462819236)
,p_db_column_name=>'PARENT_ID'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Parent Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'PARENT_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2409846683378819236)
,p_db_column_name=>'DESCRIPTION'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'Description'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'DESCRIPTION'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2409846790224819236)
,p_db_column_name=>'IS_ACTIVE'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Active'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'IS_ACTIVE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2409846973513819237)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>9
,p_column_identifier=>'I'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2409847174386819237)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2435732090080711198)
,p_db_column_name=>'DISPLAY_SEQUENCE'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Display Sequence'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'DISPLAY_SEQUENCE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919505775014241590)
,p_db_column_name=>'CREATED'
,p_display_order=>13
,p_column_identifier=>'M'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919505890619241591)
,p_db_column_name=>'UPDATED'
,p_display_order=>14
,p_column_identifier=>'N'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2409852196232819458)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'20889860'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>25
,p_report_columns=>'DISPLAY_SEQUENCE:CATEGORY_NAME:IS_ACTIVE:CREATED:UPDATED:'
,p_sort_column_1=>'DISPLAY_SEQUENCE'
,p_sort_direction_1=>'ASC'
,p_sort_column_2=>'CATEGORY_NAME'
,p_sort_direction_2=>'ASC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2409847488363819237)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2409847374680819237)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2409845898660819229)
,p_button_name=>'CREATE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Category'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:19:&SESSION.::&DEBUG.:19::'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_00019
begin
wwv_flow_api.create_page(
 p_id=>19
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Category'
,p_page_mode=>'NORMAL'
,p_step_title=>'Category'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122074828'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2409841973971819203)
,p_plug_name=>'Category'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2409847680497819238)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2409842294223819205)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2409841973971819203)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P19_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2409842591151819205)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2409841973971819203)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:18:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2409842189057819205)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2409841973971819203)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Category'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P19_ROWID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2409842390110819205)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2409841973971819203)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P19_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2409843198378819207)
,p_branch_action=>'f?p=&APP_ID.:18:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2409843373602819208)
,p_name=>'P19_ROWID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2409841973971819203)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Rowid'
,p_source=>'ROWID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2409843586656819216)
,p_name=>'P19_ID'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2409841973971819203)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Id'
,p_source=>'ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2409843793896819217)
,p_name=>'P19_CATEGORY_NAME'
,p_is_required=>true
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2409841973971819203)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Category Name'
,p_source=>'CATEGORY_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>50
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2409843987802819217)
,p_name=>'P19_PARENT_ID'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2409841973971819203)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Parent'
,p_source=>'PARENT_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_NUMBER_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_03=>'right'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2409844188258819218)
,p_name=>'P19_DESCRIPTION'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2409841973971819203)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Description'
,p_source=>'DESCRIPTION'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2409844381851819218)
,p_name=>'P19_IS_ACTIVE'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2409841973971819203)
,p_use_cache_before_default=>'NO'
,p_item_default=>'Y'
,p_prompt=>'Active'
,p_source=>'IS_ACTIVE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'YES NO'
,p_lov=>'.'||wwv_flow_api.id(2406577278280868052)||'.'
,p_cSize=>32
,p_cMaxlength=>1
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2435789981207718121)
,p_name=>'P19_DISPLAY_SEQUENCE'
,p_is_required=>true
,p_item_sequence=>35
,p_item_plug_id=>wwv_flow_api.id(2409841973971819203)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Display Sequence'
,p_source=>'DISPLAY_SEQUENCE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2409844874877819221)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_CATEGORY'
,p_attribute_02=>'RCA13_INTRACK_CATEGORY'
,p_attribute_03=>'P19_ROWID'
,p_attribute_04=>'ROWID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2409845074363819221)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_CATEGORY'
,p_attribute_02=>'RCA13_INTRACK_CATEGORY'
,p_attribute_03=>'P19_ROWID'
,p_attribute_04=>'ROWID'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2409845279702819221)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2409842390110819205)
);
end;
/
prompt --application/pages/page_00020
begin
wwv_flow_api.create_page(
 p_id=>20
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Notifications'
,p_page_mode=>'NORMAL'
,p_step_title=>'Notifications'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Notifications'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122074738'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2544213870452415494)
,p_plug_name=>'Notifications'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select "ID", ',
'"ROW_VERSION_NUMBER",',
'"NOTIFICATION_NAME",',
'"NOTIFICATION_DESCRIPTION",',
'initcap(notification_type) "NOTIFICATION_TYPE",',
'display_sequence,',
'"DISPLAY_FROM",',
'"DISPLAY_UNTIL",',
'lower(created_by) "CREATED_BY",',
'"CREATED",',
'lower(updated_by) "UPDATED_BY",',
'"UPDATED"',
'from "#OWNER#"."RCA13_INTRACK_NOTIFICATIONS" ',
'  ',
''))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2544214093405415496)
,p_name=>'Notifications'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:24:&SESSION.::&DEBUG.::P24_ID:#ID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif"  border="0">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2225310641899094513
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2544214196632415501)
,p_db_column_name=>'ID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2544214269125415504)
,p_db_column_name=>'ROW_VERSION_NUMBER'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Row Version Number'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ROW_VERSION_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2544214368649415504)
,p_db_column_name=>'NOTIFICATION_NAME'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Notification'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'NOTIFICATION_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2544214477801415504)
,p_db_column_name=>'NOTIFICATION_DESCRIPTION'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Description'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'NOTIFICATION_DESCRIPTION'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2544214582033415504)
,p_db_column_name=>'NOTIFICATION_TYPE'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Type'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'NOTIFICATION_TYPE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2544214682687415504)
,p_db_column_name=>'DISPLAY_FROM'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'Display From'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_tz_dependent=>'Y'
,p_static_id=>'DISPLAY_FROM'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2544214781816415506)
,p_db_column_name=>'DISPLAY_UNTIL'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Display Until'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_tz_dependent=>'Y'
,p_static_id=>'DISPLAY_UNTIL'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2544214890475415506)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>8
,p_column_identifier=>'H'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2544214997230415506)
,p_db_column_name=>'CREATED'
,p_display_order=>9
,p_column_identifier=>'I'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2544215067111415506)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2544215191454415506)
,p_db_column_name=>'UPDATED'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2544215292695415506)
,p_db_column_name=>'DISPLAY_SEQUENCE'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Display Sequence'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'DISPLAY_SEQUENCE'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2544215392177415506)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'22233492'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'NOTIFICATION_NAME:NOTIFICATION_DESCRIPTION:NOTIFICATION_TYPE:DISPLAY_FROM:DISPLAY_UNTIL:CREATED:DISPLAY_SEQUENCE'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2544215967807415513)
,p_plug_name=>'Notifications'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2911871684493834841)
,p_button_sequence=>2
,p_button_plug_id=>wwv_flow_api.id(2544213870452415494)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:20:&SESSION.::&DEBUG.:RP,20,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2544215581546415510)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2544213870452415494)
,p_button_name=>'CREATE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Create Notification'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:24:&SESSION.::&DEBUG.:24::'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_00021
begin
wwv_flow_api.create_page(
 p_id=>21
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Preference'
,p_page_mode=>'NORMAL'
,p_step_title=>'Preference'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122074516'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2411435776494997508)
,p_plug_name=>'Preference'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712710992910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2411440097134997601)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2411435978319997515)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2411435776494997508)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P21_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2411436293296997516)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2411435776494997508)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:20:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2411436070522997515)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2411435776494997508)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P21_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2411436789558997521)
,p_branch_action=>'f?p=&APP_ID.:20:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2411436990009997528)
,p_name=>'P21_ROWID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2411435776494997508)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Rowid'
,p_source=>'ROWID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2411437194537997537)
,p_name=>'P21_PREFERENCE_NAME'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2411435776494997508)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Preference Name'
,p_source=>'PREFERENCE_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717628245910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2411437385112997537)
,p_name=>'P21_PREFERENCE_VALUE'
,p_is_required=>true
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2411435776494997508)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Preference Value'
,p_source=>'PREFERENCE_VALUE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717628245910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2411437784334997540)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_PREFERENCES'
,p_attribute_02=>'RCA13_INTRACK_PREFERENCES'
,p_attribute_03=>'P21_ROWID'
,p_attribute_04=>'ROWID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2411437975006997542)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_PREFERENCES'
,p_attribute_02=>'RCA13_INTRACK_PREFERENCES'
,p_attribute_03=>'P21_ROWID'
,p_attribute_04=>'ROWID'
,p_attribute_11=>'U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2411438170777997543)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2411436070522997515)
);
end;
/
prompt --application/pages/page_00022
begin
wwv_flow_api.create_page(
 p_id=>22
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Customers'
,p_page_mode=>'NORMAL'
,p_step_title=>'Customers'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122074437'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2412895893992444703)
,p_plug_name=>'Customers'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select "ROWID", ',
'"ID",',
'"ROW_VERSION_NUMBER",',
'"ROW_KEY",',
'"CUSTOMER_NAME",',
'"CUSTOMER_NAME_UPPER",',
'"MARQUEE_CUSTOMER_YN",',
'"TAGS",',
'dbms_lob.substr("CUSTOMER_PROFILE",4000,1) "CUSTOMER_PROFILE",',
'"WEB_SITE",',
'"STOCK_SYMBOL",',
'"SIC",',
'"DUNS",',
'"CREATED",',
'"CREATED_BY",',
'"UPDATED",',
'"UPDATED_BY",',
'"FLEX_N01",',
'"FLEX_N02",',
'"FLEX_N03",',
'"FLEX_N04",',
'"FLEX_D01",',
'"FLEX_D02",',
'"FLEX_D03",',
'"FLEX_D04",',
'"FLEX_01",',
'"FLEX_02",',
'"FLEX_03",',
'"FLEX_04",',
'"FLEX_05",',
'"FLEX_06",',
'"FLEX_07",',
'"FLEX_08",',
'dbms_lob.substr("FLEX_CLOB",4000,1) "FLEX_CLOB"',
'from "#OWNER#"."RCA13_INTRACK_CUSTOMERS" ',
'  ',
''))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2412896066241444704)
,p_name=>'Customers'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:23:&SESSION.::&DEBUG.::P23_ROWID:#ROWID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif"  border="0">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2093992614735123721
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412896195452444707)
,p_db_column_name=>'ROWID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'ROWID'
,p_allow_sorting=>'N'
,p_allow_filtering=>'N'
,p_allow_highlighting=>'N'
,p_allow_ctrl_breaks=>'N'
,p_allow_aggregations=>'N'
,p_allow_computations=>'N'
,p_allow_charting=>'N'
,p_allow_group_by=>'N'
,p_allow_pivot=>'N'
,p_column_type=>'OTHER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ROWID'
,p_rpt_show_filter_lov=>'N'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412896291594444707)
,p_db_column_name=>'ID'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412896376340444707)
,p_db_column_name=>'ROW_VERSION_NUMBER'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Row Version Number'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ROW_VERSION_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412896467087444707)
,p_db_column_name=>'ROW_KEY'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Row Key'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'ROW_KEY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412896589035444708)
,p_db_column_name=>'CUSTOMER_NAME'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Customer'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CUSTOMER_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412896684814444708)
,p_db_column_name=>'CUSTOMER_NAME_UPPER'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'Customer Name Upper'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CUSTOMER_NAME_UPPER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412896767332444709)
,p_db_column_name=>'MARQUEE_CUSTOMER_YN'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Marquee'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'MARQUEE_CUSTOMER_YN'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412896885752444709)
,p_db_column_name=>'TAGS'
,p_display_order=>8
,p_column_identifier=>'H'
,p_column_label=>'Tags'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'TAGS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412896996891444709)
,p_db_column_name=>'CUSTOMER_PROFILE'
,p_display_order=>9
,p_column_identifier=>'I'
,p_column_label=>'Profile'
,p_allow_sorting=>'N'
,p_allow_ctrl_breaks=>'N'
,p_allow_aggregations=>'N'
,p_allow_computations=>'N'
,p_allow_charting=>'N'
,p_allow_group_by=>'N'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CUSTOMER_PROFILE'
,p_rpt_show_filter_lov=>'N'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412897072556444709)
,p_db_column_name=>'WEB_SITE'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Web Site'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'WEB_SITE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412897174012444709)
,p_db_column_name=>'STOCK_SYMBOL'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Stock Symbol'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'STOCK_SYMBOL'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412897281442444710)
,p_db_column_name=>'SIC'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'SIC'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'SIC'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412897370045444710)
,p_db_column_name=>'DUNS'
,p_display_order=>13
,p_column_identifier=>'M'
,p_column_label=>'DUNS'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'DUNS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412897469626444710)
,p_db_column_name=>'CREATED'
,p_display_order=>14
,p_column_identifier=>'N'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412897579439444711)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>15
,p_column_identifier=>'O'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412897675239444711)
,p_db_column_name=>'UPDATED'
,p_display_order=>16
,p_column_identifier=>'P'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412897767969444711)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>17
,p_column_identifier=>'Q'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412897878252444711)
,p_db_column_name=>'FLEX_N01'
,p_display_order=>18
,p_column_identifier=>'R'
,p_column_label=>'Flex N01'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'FLEX_N01'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412897967819444713)
,p_db_column_name=>'FLEX_N02'
,p_display_order=>19
,p_column_identifier=>'S'
,p_column_label=>'Flex N02'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'FLEX_N02'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412898066927444713)
,p_db_column_name=>'FLEX_N03'
,p_display_order=>20
,p_column_identifier=>'T'
,p_column_label=>'Flex N03'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'FLEX_N03'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412898179582444713)
,p_db_column_name=>'FLEX_N04'
,p_display_order=>21
,p_column_identifier=>'U'
,p_column_label=>'Flex N04'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'FLEX_N04'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412898281479444713)
,p_db_column_name=>'FLEX_D01'
,p_display_order=>22
,p_column_identifier=>'V'
,p_column_label=>'Flex D01'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'Y'
,p_static_id=>'FLEX_D01'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412898386564444714)
,p_db_column_name=>'FLEX_D02'
,p_display_order=>23
,p_column_identifier=>'W'
,p_column_label=>'Flex D02'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'Y'
,p_static_id=>'FLEX_D02'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412898473998444714)
,p_db_column_name=>'FLEX_D03'
,p_display_order=>24
,p_column_identifier=>'X'
,p_column_label=>'Flex D03'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'Y'
,p_static_id=>'FLEX_D03'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412898593662444714)
,p_db_column_name=>'FLEX_D04'
,p_display_order=>25
,p_column_identifier=>'Y'
,p_column_label=>'Flex D04'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'Y'
,p_static_id=>'FLEX_D04'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412898682467444715)
,p_db_column_name=>'FLEX_01'
,p_display_order=>26
,p_column_identifier=>'Z'
,p_column_label=>'Flex 01'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'FLEX_01'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412898786206444715)
,p_db_column_name=>'FLEX_02'
,p_display_order=>27
,p_column_identifier=>'AA'
,p_column_label=>'Flex 02'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'FLEX_02'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412898895200444715)
,p_db_column_name=>'FLEX_03'
,p_display_order=>28
,p_column_identifier=>'AB'
,p_column_label=>'Flex 03'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'FLEX_03'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412898969485444715)
,p_db_column_name=>'FLEX_04'
,p_display_order=>29
,p_column_identifier=>'AC'
,p_column_label=>'Flex 04'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'FLEX_04'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412899098535444715)
,p_db_column_name=>'FLEX_05'
,p_display_order=>30
,p_column_identifier=>'AD'
,p_column_label=>'Flex 05'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'FLEX_05'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412899181919444716)
,p_db_column_name=>'FLEX_06'
,p_display_order=>31
,p_column_identifier=>'AE'
,p_column_label=>'Flex 06'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'FLEX_06'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412899279522444716)
,p_db_column_name=>'FLEX_07'
,p_display_order=>32
,p_column_identifier=>'AF'
,p_column_label=>'Flex 07'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'FLEX_07'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412899397475444716)
,p_db_column_name=>'FLEX_08'
,p_display_order=>33
,p_column_identifier=>'AG'
,p_column_label=>'Flex 08'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'FLEX_08'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2412899467969444717)
,p_db_column_name=>'FLEX_CLOB'
,p_display_order=>34
,p_column_identifier=>'AH'
,p_column_label=>'Flex Clob'
,p_allow_sorting=>'N'
,p_allow_ctrl_breaks=>'N'
,p_allow_aggregations=>'N'
,p_allow_computations=>'N'
,p_allow_charting=>'N'
,p_allow_group_by=>'N'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'FLEX_CLOB'
,p_rpt_show_filter_lov=>'N'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2412904473236445365)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'20920383'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'ROWID:ROW_KEY:CUSTOMER_NAME:MARQUEE_CUSTOMER_YN:TAGS:WEB_SITE:CREATED:FLEX_N01:FLEX_N02:FLEX_N03:FLEX_N04:FLEX_D01:FLEX_D02:FLEX_D03:FLEX_D04:FLEX_01:FLEX_02:FLEX_03:FLEX_04:FLEX_05:FLEX_06:FLEX_07:FLEX_08:FLEX_CLOB'
,p_sort_column_1=>'CUSTOMER_NAME'
,p_sort_direction_1=>'ASC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2412899796212444723)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2412899682644444721)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2412895893992444703)
,p_button_name=>'CREATE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Customer'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:23:&SESSION.::&DEBUG.:23::'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_00023
begin
wwv_flow_api.create_page(
 p_id=>23
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Customer'
,p_page_mode=>'NORMAL'
,p_step_title=>'Customer'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122074415'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2412890676664444667)
,p_plug_name=>'Customer'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2412899973008444726)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2412890969348444668)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2412890676664444667)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P23_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2412891288655444672)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2412890676664444667)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:22:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2412890879183444668)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2412890676664444667)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Customer'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P23_ROWID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2412891078066444668)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2412890676664444667)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P23_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2412891895994444677)
,p_branch_action=>'f?p=&APP_ID.:22:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2412892074609444679)
,p_name=>'P23_ROWID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2412890676664444667)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Rowid'
,p_source=>'ROWID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2412892286108444684)
,p_name=>'P23_CUSTOMER_NAME'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2412890676664444667)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Customer Name'
,p_source=>'CUSTOMER_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2412892482276444685)
,p_name=>'P23_MARQUEE_CUSTOMER_YN'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2412890676664444667)
,p_use_cache_before_default=>'NO'
,p_item_default=>'N'
,p_prompt=>'Marquee'
,p_source=>'MARQUEE_CUSTOMER_YN'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'YES NO'
,p_lov=>'.'||wwv_flow_api.id(2406577278280868052)||'.'
,p_cSize=>32
,p_cMaxlength=>1
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2412892675567444685)
,p_name=>'P23_TAGS'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2412890676664444667)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Tags'
,p_source=>'TAGS'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2412892887045444689)
,p_name=>'P23_CUSTOMER_PROFILE'
,p_item_sequence=>500
,p_item_plug_id=>wwv_flow_api.id(2412890676664444667)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Customer Profile'
,p_source=>'CUSTOMER_PROFILE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>60
,p_cMaxlength=>255
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2412893071980444690)
,p_name=>'P23_WEB_SITE'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2412890676664444667)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Web Site'
,p_source=>'WEB_SITE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>60
,p_cMaxlength=>1000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2412893273863444690)
,p_name=>'P23_STOCK_SYMBOL'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(2412890676664444667)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Stock Symbol'
,p_source=>'STOCK_SYMBOL'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>30
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2412893468853444690)
,p_name=>'P23_SIC'
,p_item_sequence=>80
,p_item_plug_id=>wwv_flow_api.id(2412890676664444667)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Sic'
,p_source=>'SIC'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>30
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2412893696379444690)
,p_name=>'P23_DUNS'
,p_item_sequence=>90
,p_item_plug_id=>wwv_flow_api.id(2412890676664444667)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Duns'
,p_source=>'DUNS'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>30
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2412894889792444693)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_CUSTOMERS'
,p_attribute_02=>'RCA13_INTRACK_CUSTOMERS'
,p_attribute_03=>'P23_ROWID'
,p_attribute_04=>'ROWID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2412895081597444695)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_CUSTOMERS'
,p_attribute_02=>'RCA13_INTRACK_CUSTOMERS'
,p_attribute_03=>'P23_ROWID'
,p_attribute_04=>'ROWID'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2412895280959444695)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2412891078066444668)
);
end;
/
prompt --application/pages/page_00024
begin
wwv_flow_api.create_page(
 p_id=>24
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Notification'
,p_page_mode=>'NORMAL'
,p_step_title=>'Notification'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Notification'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131209042311'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2544283977268421298)
,p_plug_name=>'Notifications'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_footer=>'<font color="red">Note:</font> Select date and click on close button to see the selected date.'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2544286797801421307)
,p_plug_name=>'Notification'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2544284786545421301)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2544283977268421298)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P24_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2544284386857421301)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2544283977268421298)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:11:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2544284176739421300)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2544283977268421298)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Create Notification'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P24_ID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2544284568004421301)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2544283977268421298)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P24_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2544288370173421312)
,p_branch_action=>'f?p=&APP_ID.:20:&SESSION.::&DEBUG.:::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>10
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2544284984708421301)
,p_name=>'P24_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2544283977268421298)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Id'
,p_source=>'ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2544285190699421304)
,p_name=>'P24_NOTIFICATION_NAME'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2544283977268421298)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Notification Name'
,p_source=>'NOTIFICATION_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>80
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>3
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2544285398234421304)
,p_name=>'P24_NOTIFICATION_DESCRIPTION'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(2544283977268421298)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Notification Description'
,p_source=>'NOTIFICATION_DESCRIPTION'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>100
,p_cMaxlength=>4000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2544285576704421304)
,p_name=>'P24_NOTIFICATION_TYPE'
,p_is_required=>true
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2544283977268421298)
,p_use_cache_before_default=>'NO'
,p_item_default=>'YELLOW'
,p_prompt=>'Notification Type'
,p_source=>'NOTIFICATION_TYPE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'NOTIFICATION TYPE'
,p_lov=>'.'||wwv_flow_api.id(2544288476456421313)||'.'
,p_cSize=>32
,p_cMaxlength=>30
,p_cHeight=>1
,p_colspan=>3
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2544285784943421304)
,p_name=>'P24_DISPLAY_FROM'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2544283977268421298)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Display From'
,p_format_mask=>'DD-MON-YYYY HH24:MI:SS'
,p_source=>'DISPLAY_FROM'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_DATE_PICKER'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_04=>'button'
,p_attribute_05=>'N'
,p_attribute_07=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2544285982552421306)
,p_name=>'P24_DISPLAY_UNTIL'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2544283977268421298)
,p_use_cache_before_default=>'NO'
,p_prompt=>'to'
,p_format_mask=>'DD-MON-YYYY HH24:MI:SS'
,p_source=>'DISPLAY_UNTIL'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_DATE_PICKER'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_04=>'button'
,p_attribute_05=>'N'
,p_attribute_07=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2544286172885421306)
,p_name=>'P24_X'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2544283977268421298)
,p_use_cache_before_default=>'NO'
,p_display_as=>'NATIVE_STOP_AND_START_HTML_TABLE'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2544286366363421306)
,p_name=>'P24_DISPLAY_SEQUENCE'
,p_item_sequence=>55
,p_item_plug_id=>wwv_flow_api.id(2544283977268421298)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Display Sequence'
,p_source=>'DISPLAY_SEQUENCE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>8
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(2544287396882421308)
,p_validation_name=>'P24_DISPLAY_FROM must be timestamp'
,p_validation_sequence=>10
,p_validation=>'P24_DISPLAY_FROM'
,p_validation_type=>'ITEM_IS_TIMESTAMP'
,p_error_message=>'#LABEL# must be a valid timestamp.'
,p_always_execute=>'N'
,p_associated_item=>wwv_flow_api.id(2544285784943421304)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(2544287586603421310)
,p_validation_name=>'P24_DISPLAY_UNTIL must be timestamp'
,p_validation_sequence=>20
,p_validation=>'P24_DISPLAY_UNTIL'
,p_validation_type=>'ITEM_IS_TIMESTAMP'
,p_error_message=>'#LABEL# must be a valid timestamp.'
,p_always_execute=>'N'
,p_associated_item=>wwv_flow_api.id(2544285982552421306)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(308637743198320536)
,p_validation_name=>'from date should be <= to date'
,p_validation_sequence=>30
,p_validation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if to_timestamp(:P24_DISPLAY_FROM,''DD-MON-YYYY HH24:MI:SS'')  <= to_timestamp(:P24_DISPLAY_UNTIL,''DD-MON-YYYY HH24:MI:SS'') then',
' return true;',
'else',
' return false;',
'end if;'))
,p_validation_type=>'FUNC_BODY_RETURNING_BOOLEAN'
,p_error_message=>'From date should be less than to date'
,p_always_execute=>'N'
,p_validation_condition=>'CREATE,SAVE'
,p_validation_condition_type=>'REQUEST_IN_CONDITION'
,p_only_for_changed_rows=>'Y'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2544287667080421310)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_USECASE_NOTIFICATIONS'
,p_attribute_02=>'RCA13_INTRACK_NOTIFICATIONS'
,p_attribute_03=>'P24_ID'
,p_attribute_04=>'ID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2544287873852421311)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_USECASE_NOTIFICATIONS'
,p_attribute_02=>'RCA13_INTRACK_NOTIFICATIONS'
,p_attribute_03=>'P24_ID'
,p_attribute_04=>'ID'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2544288086509421311)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_FOR_PAGES'
,p_attribute_04=>'12'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2544284568004421301)
);
end;
/
prompt --application/pages/page_00025
begin
wwv_flow_api.create_page(
 p_id=>25
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Tags'
,p_page_mode=>'NORMAL'
,p_step_title=>'Tags'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122074258'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2447251483365564408)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2447282667939568536)
,p_plug_name=>'Tags'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_escape_on_http_output=>'Y'
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select tag, tag_count',
'  from RCA13_intrack_tags_type_sum',
' where tag_count > 0',
' order by 1'))
,p_plug_source_type=>'PLUGIN_COM.ORACLE.APEX.TAG_CLOUD'
,p_plug_query_row_template=>1
,p_attribute_01=>'f?p=&APP_ID.:2:&APP_SESSION.::::IRC_TAGS:#TAG#'
,p_attribute_03=>'Y'
);
end;
/
prompt --application/pages/page_00026
begin
wwv_flow_api.create_page(
 p_id=>26
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Customer Contacts'
,p_page_mode=>'NORMAL'
,p_step_title=>'Customer Contacts'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122074245'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2415082996313907207)
,p_plug_name=>'Customer Contacts'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select "ROWID", ',
'"ID",',
'"ROW_VERSION_NUMBER",',
'"CUSTOMER_ID",',
'(select customer_name from RCA13_intrack_customers cust where cust.id = con.customer_id) customer,',
'"FIRST_NAME",',
'"LAST_NAME",',
'"EMAIL",',
'"PHONE",',
'"IS_ACTIVE",',
'"ADDITIONAL_INFO",',
'"CREATED",',
'"CREATED_BY",',
'"UPDATED",',
'"UPDATED_BY"',
'from "#OWNER#"."RCA13_INTRACK_CUSTOMER_CONTACT" con',
'  ',
''))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2415083170846907208)
,p_name=>'Customer Contacts'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:27:&SESSION.::&DEBUG.::P27_ROWID:#ROWID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif"  border="0">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2096179719340586225
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2415083286659907213)
,p_db_column_name=>'ROWID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'ROWID'
,p_allow_sorting=>'N'
,p_allow_filtering=>'N'
,p_allow_highlighting=>'N'
,p_allow_ctrl_breaks=>'N'
,p_allow_aggregations=>'N'
,p_allow_computations=>'N'
,p_allow_charting=>'N'
,p_allow_group_by=>'N'
,p_allow_pivot=>'N'
,p_column_type=>'OTHER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ROWID'
,p_rpt_show_filter_lov=>'N'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2415083392802907214)
,p_db_column_name=>'ID'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2415083482025907214)
,p_db_column_name=>'ROW_VERSION_NUMBER'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Row Version Number'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ROW_VERSION_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2415083580671907214)
,p_db_column_name=>'CUSTOMER_ID'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Customer Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'CUSTOMER_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2415083679276907215)
,p_db_column_name=>'FIRST_NAME'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'First Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'FIRST_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2415083779508907215)
,p_db_column_name=>'LAST_NAME'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'Last Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'LAST_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2415083877205907215)
,p_db_column_name=>'EMAIL'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Email'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'EMAIL'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2415083970628907216)
,p_db_column_name=>'PHONE'
,p_display_order=>8
,p_column_identifier=>'H'
,p_column_label=>'Phone'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'PHONE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2415084072720907216)
,p_db_column_name=>'IS_ACTIVE'
,p_display_order=>9
,p_column_identifier=>'I'
,p_column_label=>'Is Active'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'IS_ACTIVE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2415084175870907216)
,p_db_column_name=>'ADDITIONAL_INFO'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Additional Info'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'ADDITIONAL_INFO'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2415084369039907216)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2415084596162907217)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>14
,p_column_identifier=>'N'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2415298269658936429)
,p_db_column_name=>'CUSTOMER'
,p_display_order=>15
,p_column_identifier=>'O'
,p_column_label=>'Customer'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CUSTOMER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919506076877251658)
,p_db_column_name=>'CREATED'
,p_display_order=>16
,p_column_identifier=>'P'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919506169053251658)
,p_db_column_name=>'UPDATED'
,p_display_order=>17
,p_column_identifier=>'Q'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2415089567880907528)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'20942234'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'CUSTOMER:FIRST_NAME:LAST_NAME:EMAIL:PHONE:IS_ACTIVE:CREATED:UPDATED:'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2415084872409907218)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2415084778558907217)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2415082996313907207)
,p_button_name=>'CREATE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Customer Contact'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:27:&SESSION.::&DEBUG.:27::'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_00027
begin
wwv_flow_api.create_page(
 p_id=>27
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Contact'
,p_page_mode=>'NORMAL'
,p_step_title=>'Contact'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131209025600'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2415078498769907175)
,p_plug_name=>'Contact'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2415085078050907218)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2415078779109907180)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2415078498769907175)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P27_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2415079085243907180)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2415078498769907175)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:26:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2415078673933907180)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2415078498769907175)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Create Contact'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P27_ROWID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2415078889255907180)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2415078498769907175)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P27_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2415079695338907185)
,p_branch_action=>'f?p=&APP_ID.:26:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415079893923907188)
,p_name=>'P27_ROWID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2415078498769907175)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Rowid'
,p_source=>'ROWID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415080093086907194)
,p_name=>'P27_ID'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2415078498769907175)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Id'
,p_source=>'ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415080270686907196)
,p_name=>'P27_CUSTOMER_ID'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2415078498769907175)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Customer'
,p_source=>'CUSTOMER_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select customer_name, id',
'from RCA13_intrack_customers',
'order by 1'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- Select Customer -'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415080473960907196)
,p_name=>'P27_FIRST_NAME'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2415078498769907175)
,p_use_cache_before_default=>'NO'
,p_prompt=>'First Name'
,p_source=>'FIRST_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>80
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717419700910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415080693404907199)
,p_name=>'P27_LAST_NAME'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2415078498769907175)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Last Name'
,p_source=>'LAST_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>80
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717419700910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415080880414907199)
,p_name=>'P27_EMAIL'
,p_is_required=>true
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2415078498769907175)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Email'
,p_source=>'EMAIL'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415081098410907199)
,p_name=>'P27_PHONE'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(2415078498769907175)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Phone'
,p_source=>'PHONE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>40
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717419700910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415081268377907199)
,p_name=>'P27_IS_ACTIVE'
,p_is_required=>true
,p_item_sequence=>80
,p_item_plug_id=>wwv_flow_api.id(2415078498769907175)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Is Active'
,p_source=>'IS_ACTIVE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'STATIC2:YES;Y,NO;N'
,p_cSize=>32
,p_cMaxlength=>1
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2415081492352907199)
,p_name=>'P27_ADDITIONAL_INFO'
,p_item_sequence=>90
,p_item_plug_id=>wwv_flow_api.id(2415078498769907175)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Additional Info'
,p_source=>'ADDITIONAL_INFO'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717419700910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2415081975743907200)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_CUSTOMER_CONTACT'
,p_attribute_02=>'RCA13_INTRACK_CUSTOMER_CONTACT'
,p_attribute_03=>'P27_ROWID'
,p_attribute_04=>'ROWID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2415082182480907200)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_CUSTOMER_CONTACT'
,p_attribute_02=>'RCA13_INTRACK_CUSTOMER_CONTACT'
,p_attribute_03=>'P27_ROWID'
,p_attribute_04=>'ROWID'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2415082371366907201)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2415078889255907180)
);
end;
/
prompt --application/pages/page_00028
begin
wwv_flow_api.create_page(
 p_id=>28
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Edit Ticket'
,p_page_mode=>'NORMAL'
,p_step_title=>'Edit Ticket'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_html_page_header=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<link rel="stylesheet" href="#IMAGE_PREFIX#eba/css/eba_info_bubble.css" type="text/css" media="all" charset="utf-8">',
'',
'<style>',
'.permalink { padding: 0 10px 10px 10px; text-align: center;}',
'.permalink a {color: #888; font: 11px/12px Arial, sans-serif;}',
'</style>',
''))
,p_step_template=>wwv_flow_api.id(2674750967371591026)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122074125'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2423154288464637912)
,p_plug_name=>'Ticket'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2423161470534637949)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>90
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2423719167073730750)
,p_plug_name=>'Button Bar'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712432812910730)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_03'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2962876287369180274)
,p_plug_name=>'Container'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2674974881923618883)
,p_plug_display_sequence=>35
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2423317372259656580)
,p_plug_name=>'Bug Information'
,p_parent_plug_id=>wwv_flow_api.id(2962876287369180274)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712922645910731)
,p_plug_display_sequence=>80
,p_include_in_reg_disp_sel_yn=>'Y'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2423355785418660326)
,p_plug_name=>'Product'
,p_parent_plug_id=>wwv_flow_api.id(2962876287369180274)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712922645910731)
,p_plug_display_sequence=>60
,p_include_in_reg_disp_sel_yn=>'Y'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2423374994076662819)
,p_plug_name=>'Customer'
,p_parent_plug_id=>wwv_flow_api.id(2962876287369180274)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712922645910731)
,p_plug_display_sequence=>70
,p_include_in_reg_disp_sel_yn=>'Y'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2423590068196712155)
,p_plug_name=>'Assignment'
,p_parent_plug_id=>wwv_flow_api.id(2962876287369180274)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712922645910731)
,p_plug_display_sequence=>50
,p_include_in_reg_disp_sel_yn=>'Y'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2962878070447203768)
,p_plug_name=>'Attributes'
,p_parent_plug_id=>wwv_flow_api.id(2962876287369180274)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712922645910731)
,p_plug_display_sequence=>37
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2962877767892193531)
,p_plug_name=>'Right Side'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_03'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'for c1 in (select INCIDENT_NUMBER row_key, id',
'from RCA13_INTRACK_INCIDENTS',
'where id = :P28_ID) loop',
'    sys.htp.prn(''<div class="uniqueKey">''||''Ticket #''||'' <span>''||sys.htf.escape_sc(c1.row_key)||''</span></div>'');',
'',
'end loop;',
''))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2423154473252637913)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2423719167073730750)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P28_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2423154675173637913)
,p_button_sequence=>100
,p_button_plug_id=>wwv_flow_api.id(2423719167073730750)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:&LAST_VIEW.:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2423154882203637914)
,p_branch_action=>'f?p=&APP_ID.:&LAST_VIEW.:&SESSION.::&DEBUG.:::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>10
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423155074991637917)
,p_name=>'P28_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2962878070447203768)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Id'
,p_source=>'ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423155475321637931)
,p_name=>'P28_INCIDENT_NUMBER'
,p_item_sequence=>71
,p_item_plug_id=>wwv_flow_api.id(2962878070447203768)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Ticket:'
,p_source=>'INCIDENT_NUMBER'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>32
,p_cMaxlength=>50
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_read_only_when_type=>'ALWAYS'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423155694670637935)
,p_name=>'P28_BUG_NUMBER'
,p_item_sequence=>210
,p_item_plug_id=>wwv_flow_api.id(2423317372259656580)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Bug Number'
,p_source=>'BUG_NUMBER'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>50
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423155867005637935)
,p_name=>'P28_SUBJECT'
,p_is_required=>true
,p_item_sequence=>90
,p_item_plug_id=>wwv_flow_api.id(2423154288464637912)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Subject'
,p_source=>'SUBJECT'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>120
,p_cMaxlength=>255
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423156880295637937)
,p_name=>'P28_CATEGORY_ID'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2962878070447203768)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Category'
,p_source=>'CATEGORY_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'CATEGORY'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select CATEGORY_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_CATEGORY',
' order by display_sequence'))
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423157097529637937)
,p_name=>'P28_ASSIGNED_TO_ID'
,p_item_sequence=>31
,p_item_plug_id=>wwv_flow_api.id(2962878070447203768)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Assigned To'
,p_source=>'ASSIGNED_TO_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_POPUP_LOV'
,p_named_lov=>'ASSIGNEES_NEW'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select username d, id r',
'from   RCA13_intrack_users',
'order by 1'))
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NOT_ENTERABLE'
,p_attribute_02=>'FIRST_ROWSET'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423157294501637937)
,p_name=>'P28_ASSIGNED_ON'
,p_item_sequence=>140
,p_item_plug_id=>wwv_flow_api.id(2423590068196712155)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Assigned On'
,p_source=>'ASSIGNED_ON'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_DATE_PICKER'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_04=>'button'
,p_attribute_05=>'N'
,p_attribute_07=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423158074832637940)
,p_name=>'P28_DESCRIPTION'
,p_item_sequence=>100
,p_item_plug_id=>wwv_flow_api.id(2423154288464637912)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Description'
,p_source=>'DESCRIPTION'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>120
,p_cMaxlength=>5000
,p_cHeight=>8
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423158271152637941)
,p_name=>'P28_PRODUCT_ID'
,p_item_sequence=>150
,p_item_plug_id=>wwv_flow_api.id(2423355785418660326)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Product'
,p_source=>'PRODUCT_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select PRODUCT_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_PRODUCT',
' order by 1'))
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423158495946637941)
,p_name=>'P28_PRODUCT_VERSION_ID'
,p_item_sequence=>160
,p_item_plug_id=>wwv_flow_api.id(2423355785418660326)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Product Version'
,p_source=>'PRODUCT_VERSION_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'PRODUCT VERSION'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select VERSION_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_VERSION',
' order by 1'))
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423158668441637941)
,p_name=>'P28_ADDITIONAL_PRODUCT_INFO'
,p_item_sequence=>170
,p_item_plug_id=>wwv_flow_api.id(2423355785418660326)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Additional Product Info'
,p_source=>'ADDITIONAL_PRODUCT_INFO'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423158872707637942)
,p_name=>'P28_CUSTOMER_ID'
,p_item_sequence=>180
,p_item_plug_id=>wwv_flow_api.id(2423374994076662819)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Customer'
,p_source=>'CUSTOMER_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'CUSTOMER'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select CUSTOMER_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_CUSTOMERS',
' order by 1'))
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423159069618637943)
,p_name=>'P28_CUSTOMER_DEPARTMENT'
,p_item_sequence=>200
,p_item_plug_id=>wwv_flow_api.id(2423374994076662819)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Department'
,p_source=>'CUSTOMER_DEPARTMENT'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>60
,p_cMaxlength=>500
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423159487802637943)
,p_name=>'P28_STATUS_ID'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2962878070447203768)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Status'
,p_source=>'STATUS_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'STATUS'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select status_code||''. ''||STATUS_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_STATUS',
' order by display_sequence'))
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423159693275637943)
,p_name=>'P28_SEVERITY_ID'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2962878070447203768)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Severity'
,p_source=>'SEVERITY_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'SEVERITY'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select severity_code||''. ''||SEVERITY_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_SEVERITY',
' order by sequence_number'))
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423159894815637943)
,p_name=>'P28_URGENCY_ID'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2962878070447203768)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Urgency'
,p_source=>'URGENCY_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'URGENCY'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select URGENCY_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_URGENCY',
' order by display_sequence'))
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423160089723637943)
,p_name=>'P28_ASSIGNED_TO_GROUP_ID'
,p_item_sequence=>130
,p_item_plug_id=>wwv_flow_api.id(2423590068196712155)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Assigned To Group'
,p_source=>'ASSIGNED_TO_GROUP_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'select GROUP_NAME , id from RCA13_INTRACK_GROUP where IS_ACTIVE = ''Y'' order by 1'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2423160467605637944)
,p_name=>'P28_TAGS'
,p_item_sequence=>110
,p_item_plug_id=>wwv_flow_api.id(2423154288464637912)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Tags'
,p_source=>'TAGS'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'PLUGIN_COM.ORACLE.APEX.TAGS'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select tag',
'  from RCA13_intrack_tags_type_sum',
' order by 1'))
,p_cSize=>120
,p_cMaxlength=>4000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2453339085262049646)
,p_name=>'P28_CUSTOMER_CONTACT_ID'
,p_item_sequence=>190
,p_item_plug_id=>wwv_flow_api.id(2423374994076662819)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Customer Contact'
,p_source=>'CUSTOMER_CONTACT_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select email, id',
'from RCA13_intrack_customer_contact',
'where CUSTOMER_ID = :P28_CUSTOMER_ID',
'order by 1'))
,p_lov_display_null=>'YES'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2675419195740660733)
,p_computation_sequence=>10
,p_computation_item=>'P50_ID'
,p_computation_point=>'AFTER_FOOTER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'&P28_ID.'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(2423157567427637938)
,p_validation_name=>'P28_ASSIGNED_ON must be timestamp'
,p_validation_sequence=>20
,p_validation=>'P28_ASSIGNED_ON'
,p_validation_type=>'ITEM_IS_TIMESTAMP'
,p_error_message=>'#LABEL# must be a valid timestamp.'
,p_always_execute=>'N'
,p_associated_item=>wwv_flow_api.id(2423157294501637937)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2423160980447637947)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_INCIDENTS'
,p_attribute_02=>'RCA13_INTRACK_INCIDENTS'
,p_attribute_03=>'P28_ID'
,p_attribute_04=>'ID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2423161167629637949)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_INCIDENTS'
,p_attribute_02=>'RCA13_INTRACK_INCIDENTS'
,p_attribute_03=>'P28_ID'
,p_attribute_04=>'ID'
,p_attribute_11=>'U'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2423161372263637949)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
);
end;
/
prompt --application/pages/page_00029
begin
wwv_flow_api.create_page(
 p_id=>29
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'New Incidents Time Line'
,p_page_mode=>'NORMAL'
,p_step_title=>'New Incidents Time Line'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_html_page_header=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<style>',
'div.ebaTimeline{border-bottom:1px solid #DDD;clear:both;position:relative;}',
'div.ebaTimeline:last-child{border-bottom:none;}',
'div.ebaTimeline h3{font:bold 11px/12px Arial,sans-serif;margin:0;padding:9px 10px;width:80px;color:#333;position:absolute;top:0;left:0;}',
'div.ebaTimeline h3 + ul{margin:0;list-style:none;padding:0;margin:0 0 0 80px;}',
'div.ebaTimeline ul li{display:table;width:100%;position:relative;}',
'div.ebaTimeline ul.ebaNoHover li:hover span.eS,',
'div.ebaTimeline ul.ebaNoHover li:hover span.eL{background:transparent;}',
'div.ebaTimeline ul li:hover span.eS{background-color:#F8F8F8;}',
'div.ebaTimeline ul li:hover span.eL{background:#F8F8F8;}',
'div.ebaTimeline ul li:hover span.eL a.eN span{text-decoration:underline;}',
'div.ebaTimeline ul li span.eD,',
'div.ebaTimeline ul li span.eS,',
'div.ebaTimeline ul li span.eL{display:table-cell;vertical-align:top;}',
'div.ebaTimeline ul li span.eD{width:20px;padding:0 10px 0 0;font:normal 11px/30px Arial,sans-serif;border-right:1px solid #EEE;text-align:right;color:#666;}',
'div.ebaTimeline ul li span.eS{padding:5px;width:20px;border-bottom:1px dotted #EEE;;}',
'div.ebaTimeline ul li:last-child span.eS,',
'div.ebaTimeline ul li:last-child span.eL{border-bottom:none;}',
'div.ebaTimeline ul li span.eS span{display:block;width:12px;height:12px;border-radius:10px;-moz-border-radius:10px;-webkit-box-shadow:0 1px 1px rgba(255,255,255,.75),0 0 2px rgba(0,0,0,.5) inset;-moz-box-shadow:0 1px 1px rgba(255,255,255,.75),0 0 2px'
||' rgba(0,0,0,.5) inset;box-shadow:0 1px 1px rgba(255,255,255,.75),0 0 2px rgba(0,0,0,.5) inset;background:-webkit-gradient(linear,0 0,0 100%,from(transparent),to(rgba(0,0,0,.25)));background:-moz-linear-gradient(top,transparent,rgba(0,0,0,.25));margin'
||':4px;}',
'div.ebaTimeline ul li span.eS span.ebaRed{background-color:#F00;}',
'div.ebaTimeline ul li span.eS span.ebaYellow{background-color:#FCE709;}',
'div.ebaTimeline ul li span.eS span.ebaGreen{background-color:#22C615;}',
'div.ebaTimeline ul li span.eS span.ebaBlack{background-color:#444;}',
'div.ebaTimeline ul li span.eS span.ebaNull{background-color:#CCC;}',
'div.ebaTimeline ul li span.eL{border-bottom:1px dotted #EEE;}',
'div.ebaTimeline ul li a.eN{display:block;padding:7px 0;text-decoration:none;}',
'div.ebaTimeline ul li a.eN span{display:block;font:bold 12px/16px Arial,sans-serif;color:#333;}',
'div.ebaTimeline ul li a.eN em,',
'div.ebaTimeline ul li span.eL em{display:block;font:normal 11px/16px Arial,sans-serif;color:#666;}',
'div.ebaTimeline ul li a.ebaEditLink{position:absolute;right:0;top:0;display:block;margin:7px 7px 0 0;font:normal 11px/12px Arial,sans-serif;text-decoration:none;color:#666;padding:2px 10px;border-radius:4px;-moz-border-radius:4px;border:1px solid #EE'
||'E;-webkit-transition:background .2s linear,border .2s linear,color .2s linear;}',
'div.ebaTimeline ul li a.ebaEditLink:hover{border:1px solid #BBB;background:#FFF;color:#333;}',
'</style>'))
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131127115108'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2429753269824101701)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2430436197243404486)
,p_plug_name=>'Timeline'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'    p_name       varchar2(500);',
'    c            pls_integer := 0;',
'    is_new_month boolean := true;',
'    l_last_month varchar2(255) := ''x'';',
'    l_this_year  varchar2(4);',
'    l_id         number;',
'    -- labels (edit these)',
'    l_attr_01    varchar2(255) := ''Incident'';',
'    l_attr_02    varchar2(255) := ''Status'';',
'    l_attr_03    varchar2(255) := ''Created By'';',
'',
'    function convert_txt_to_html(',
'        p_txt_message in varchar2 )',
'        return varchar2',
'    is',
'        l_html_message   varchar2(32767) default p_txt_message;',
'        l_temp_url       varchar2(32767) := null;',
'        l_length         number;',
'    begin',
'        l_html_message := replace(l_html_message, chr(10), ''<br />'');',
'        return l_html_message;',
'    end convert_txt_to_html;',
'    ',
'begin',
'l_this_Year := to_char(localtimestamp,''YYYY'');',
'',
'---------------------',
'-- Query (edit this)',
'--',
'for c1 in (',
'select',
'   id,',
'   apex_util.prepare_url(''f?p=''||:APP_ID||'':28:''||:APP_SESSION||'':::28:P28_ID:''||sys.htf.escape_sc(id)) the_link,',
'   INCIDENT_NUMBER     attribute_01,',
'   SUBJECT     primary_label,',
'   status_code||''. ''||STATUS_NAME      attribute_02,',
'   CREATED_BY attribute_03,',
'   to_char(CREATED,''Month'')  the_month,',
'   to_char(CREATED,''YYYY'')   the_year,',
'   to_char(CREATED,''DD'')     the_day',
'from ( select a.* from RCA13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c where a.id = b.ticket_id and b.system_id = c.system_id ) ',
'where (nvl(:P29_OPEN,''0'') = ''0'' or ',
'   (nvl(:P29_OPEN,''0'')  = ''Y'' and status_type = ''OPEN'') or',
'   (nvl(:P29_OPEN,''0'')  = ''N'' and status_type = ''CLOSED'')',
'    )',
'order by CREATED desc',
') loop',
'  c := c + 1;',
'',
'  if l_last_month != c1.the_month||c1.the_year then',
'     is_new_month := true;',
'     if c != 1 then',
'         sys.htp.prn(''</ul><div class="clear"></div></div>'');',
'     end if;',
'     sys.htp.p(''<div class="ebaTimeline">'');',
'     if c1.the_year != l_this_year then',
'        sys.htp.p(''<h3>''||c1.the_month||''<br />''||c1.the_year||''</h3>'');',
'     else',
'        sys.htp.p(''<h3>''||sys.htf.escape_sc(c1.the_month)||''</h3>'');',
'     end if;',
'     sys.htp.p(''<ul class="ebaNoHover">'');',
'  else',
'     is_new_month := false;',
'  end if;',
'',
'  sys.htp.p(''<li><span class="eD">''||c1.the_day||''</span>'');',
'  sys.htp.p(''<span class="eS"><span style="background-color: #EEE"></span></span>'');',
'  sys.htp.prn(''<span class="eL">'');',
'  sys.htp.prn('''');',
'  sys.htp.prn(''<a href="''||sys.htf.escape_sc(c1.the_link)||''" class="eN"><span>''||sys.htf.escape_sc(c1.primary_label)||''</span></a><em>'');',
'  sys.htp.prn(''<strong>''||sys.htf.escape_sc(l_attr_01)||''</strong>: ''||sys.htf.escape_sc(c1.attribute_01) ||''<br />'');',
'  sys.htp.prn(''<strong>''||sys.htf.escape_sc(l_attr_02)||''</strong>: ''||sys.htf.escape_sc(c1.attribute_02) ||''<br />'');',
'  sys.htp.prn(''<strong>''||sys.htf.escape_sc(l_attr_03)||''</strong>: ''||sys.htf.escape_sc(c1.attribute_03));',
'',
'  sys.htp.prn(''<br />'');',
'',
'  sys.htp.prn(''</span>'');',
'  sys.htp.prn(''</li>'');',
'',
'  ',
'  l_last_month := c1.the_month||c1.the_year;',
'',
'end loop;',
'if c = 0 then',
'   sys.htp.prn(''Report contains no data'');',
'else',
'   sys.htp.prn(''</ul><div class="clear"></div></div>'');',
'end if;',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2432907497111445322)
,p_plug_name=>'Button Bar'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712432812910730)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2911868171193745778)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2432907497111445322)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:29:&SESSION.::&DEBUG.:RP,29::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2432938476810448855)
,p_name=>'P29_OPEN'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2432907497111445322)
,p_item_default=>'Y'
,p_prompt=>'Open'
,p_source=>'Y'
,p_source_type=>'STATIC'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'YES NO'
,p_lov=>'.'||wwv_flow_api.id(2406577278280868052)||'.'
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- All -'
,p_lov_null_value=>'0'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'REDIRECT_SET_VALUE'
);
end;
/
prompt --application/pages/page_00030
begin
wwv_flow_api.create_page(
 p_id=>30
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Contacts'
,p_page_mode=>'NORMAL'
,p_step_title=>'Contacts'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Contacts'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122073142'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2470383277539132984)
,p_plug_name=>'Contacts'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select ',
'     c.id,',
'     c.customer_name, ',
'     c.ROW_KEY,',
'     c.ADDRESS,',
'     c.CITY,',
'     c.STATE,',
'     c.postal_code,',
'     c.country,',
'     c.tags,',
'     c.web_site,',
'     c.stock_symbol,',
'     --',
'    --(select avg((systimestamp - i.created) * 24) ',
'    -- from RCA13_intrack_incidents i,',
'	--  RCA13_intrack_status s',
'    -- where i.customer_id = c.id and ',
'	--  i.status_id = s.id and',
'	--  i.DATE_CLOSED > to_date(to_char(localtimestamp,''DD-MON-YYYY''),''DD-MON-YYYY'') - 7 and',
'	--  s.status_type = ''OPEN'') avg_age_open_tickets,',
'     --',
'    (select count(*) ',
'     from RCA13_intrack_incidents i,',
'	  RCA13_intrack_status s',
'     where i.customer_id = c.id and ',
'	  i.status_id = s.id and',
'	  i.DATE_CLOSED > to_date(to_char(localtimestamp,''DD-MON-YYYY''),''DD-MON-YYYY'') - 7 and',
'	  s.status_type = ''CLOSED'') closed_1w,',
'     --',
'     (select count(*) ',
'      from RCA13_intrack_incidents i ',
'      where i.customer_id = c.id) tickets,',
'      (select count(*) ',
'      from RCA13_intrack_incidents i,',
'           RCA13_intrack_status s',
'      where i.customer_id = c.id and ',
'            i.status_id = s.id and',
'            s.status_type = ''OPEN'') open_tickets,',
'     (select count(*) ',
'      from RCA13_intrack_customer_contact cc',
'      where cc.customer_id = c.id) contacts',
'from RCA13_intrack_customers c'))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2470383486688132986)
,p_name=>'Contacts'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'N'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2151480035181812003
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470383597159132988)
,p_db_column_name=>'CUSTOMER_NAME'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'Customer'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CUSTOMER_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470384795873132992)
,p_db_column_name=>'TICKETS'
,p_display_order=>13
,p_column_identifier=>'M'
,p_column_label=>'Tickets'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'TICKETS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470384885710132992)
,p_db_column_name=>'OPEN_TICKETS'
,p_display_order=>14
,p_column_identifier=>'N'
,p_column_label=>'Open Tickets'
,p_column_link=>'f?p=&APP_ID.:2:&SESSION.::&DEBUG.:RP,2,RIR:IR_STATUS_TYPE,IR_CUSTOMER:Open,#CUSTOMER_NAME#'
,p_column_linktext=>'#OPEN_TICKETS#'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'OPEN_TICKETS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470385074318132992)
,p_db_column_name=>'ID'
,p_display_order=>16
,p_column_identifier=>'P'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470409494014135220)
,p_db_column_name=>'ROW_KEY'
,p_display_order=>17
,p_column_identifier=>'Q'
,p_column_label=>'Row Key'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'ROW_KEY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470409570878135223)
,p_db_column_name=>'ADDRESS'
,p_display_order=>18
,p_column_identifier=>'R'
,p_column_label=>'Address'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'ADDRESS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470409667208135224)
,p_db_column_name=>'CITY'
,p_display_order=>19
,p_column_identifier=>'S'
,p_column_label=>'City'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CITY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470409789297135224)
,p_db_column_name=>'STATE'
,p_display_order=>20
,p_column_identifier=>'T'
,p_column_label=>'State'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'STATE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470409889759135224)
,p_db_column_name=>'POSTAL_CODE'
,p_display_order=>21
,p_column_identifier=>'U'
,p_column_label=>'Postal Code'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'POSTAL_CODE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470409995604135224)
,p_db_column_name=>'COUNTRY'
,p_display_order=>22
,p_column_identifier=>'V'
,p_column_label=>'Country'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'COUNTRY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470410097204135224)
,p_db_column_name=>'TAGS'
,p_display_order=>23
,p_column_identifier=>'W'
,p_column_label=>'Tags'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'TAGS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470410183390135225)
,p_db_column_name=>'WEB_SITE'
,p_display_order=>24
,p_column_identifier=>'X'
,p_column_label=>'Web Site'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'WEB_SITE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470410288406135225)
,p_db_column_name=>'STOCK_SYMBOL'
,p_display_order=>25
,p_column_identifier=>'Y'
,p_column_label=>'Stock Symbol'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'STOCK_SYMBOL'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470448266918146358)
,p_db_column_name=>'CONTACTS'
,p_display_order=>26
,p_column_identifier=>'Z'
,p_column_label=>'Contacts'
,p_column_link=>'f?p=&APP_ID.:45:&SESSION.::&DEBUG.:RP,RIR:P45_CUSTOMER:#ID#'
,p_column_linktext=>'#CONTACTS#'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_format_mask=>'999G999G999G999G999G990'
,p_tz_dependent=>'N'
,p_static_id=>'CONTACTS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2470719767142212582)
,p_db_column_name=>'CLOSED_1W'
,p_display_order=>27
,p_column_identifier=>'AA'
,p_column_label=>'Closed Last 7 Days'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'CLOSED_1W'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2470385173557132993)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'21495190'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'CUSTOMER_NAME:OPEN_TICKETS:CLOSED_1W:TICKETS:CONTACTS:TAGS:WEB_SITE:'
,p_sort_column_1=>'OPEN_TICKETS'
,p_sort_direction_1=>'DESC'
,p_sort_column_2=>'TICKETS'
,p_sort_direction_2=>'DESC'
,p_sort_column_3=>'CUSTOMER_NAME'
,p_sort_direction_3=>'ASC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2470385781611132997)
,p_plug_name=>'Contacts'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2470385383609132995)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2470383277539132984)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:30:&SESSION.::&DEBUG.:30,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2675358477039655340)
,p_computation_sequence=>10
,p_computation_item=>'LAST_VIEW'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'30'
);
end;
/
prompt --application/pages/page_00031
begin
wwv_flow_api.create_page(
 p_id=>31
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Manage Access Control List'
,p_page_mode=>'NORMAL'
,p_step_title=>'Manage Access Control List'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_step_template=>wwv_flow_api.id(6040711207304910725)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122073043'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2430933970097506486)
,p_plug_name=>'Manage Access Control List'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  "ID",',
'  "USERNAME",',
'  "ACCESS_LEVEL_ID",',
'  case when account_locked = ''Y'' then ''Yes'' else ''No'' end account_locked,',
'  "CREATED_BY",',
'  "CREATED"',
'from "#OWNER#"."RCA13_INTRACK_USERS"  u',
'  '))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2430934172965506487)
,p_name=>'Users'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:32:&SESSION.::&DEBUG.::P32_ID:#ID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil2_16x16.gif" alt="">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2112030721459185504
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2430934389597506494)
,p_db_column_name=>'ID'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2430934466321506494)
,p_db_column_name=>'USERNAME'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Username'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'USERNAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2430934568253506494)
,p_db_column_name=>'ACCESS_LEVEL_ID'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Access Level'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'LOV_ESCAPE_SC'
,p_tz_dependent=>'N'
,p_static_id=>'ACCESS_LEVEL_ID'
,p_rpt_named_lov=>wwv_flow_api.id(2856545477177897030)
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2430934687527506495)
,p_db_column_name=>'ACCOUNT_LOCKED'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Account Locked'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'ACCOUNT_LOCKED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2430934870510506495)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2430934966160506495)
,p_db_column_name=>'CREATED'
,p_display_order=>8
,p_column_identifier=>'H'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2430940190720506722)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'21100740'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'USERNAME:ACCESS_LEVEL_ID:ACCOUNT_LOCKED:CREATED_BY:CREATED:'
,p_sort_column_1=>'USERNAME'
,p_sort_direction_1=>'ASC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2430935480670506497)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2856546697292907211)
,p_plug_name=>'Information'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_03'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'htp.prn(replace(',
'    apex_lang.message(''ACCESS_CONTROL_INFO''),',
'    ''#IMAGE_PREFIX''||''#'',',
'    :image_prefix));'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2430935376353506496)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2430933970097506486)
,p_button_name=>'CREATE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add User'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:32:&SESSION.::&DEBUG.:32::'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_00032
begin
wwv_flow_api.create_page(
 p_id=>32
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'User Access Control'
,p_page_mode=>'NORMAL'
,p_step_title=>'User Access Control'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122073007'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2430929990842506445)
,p_plug_name=>'User Details'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2430935695714506497)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2430930284266506447)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2430929990842506445)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P32_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2430930569243506448)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2430929990842506445)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:31:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2430930187542506447)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2430929990842506445)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add User'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P32_ID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2430930384460506447)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2430929990842506445)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P32_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2430931166989506451)
,p_branch_action=>'f?p=&APP_ID.:31:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2430931574334506467)
,p_name=>'P32_ID'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2430929990842506445)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Id'
,p_source=>'ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2430931779684506469)
,p_name=>'P32_USERNAME'
,p_is_required=>true
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2430929990842506445)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Username'
,p_source=>'USERNAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2430931976825506469)
,p_name=>'P32_ACCESS_LEVEL_ID'
,p_is_required=>true
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2430929990842506445)
,p_use_cache_before_default=>'NO'
,p_item_default=>'2'
,p_prompt=>'Access Level'
,p_source=>'ACCESS_LEVEL_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_RADIOGROUP'
,p_named_lov=>'ACCESS_LEVELS'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select access_level d, id r',
'  from RCA13_intrack_access_levels',
' order by 1'))
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'1'
,p_attribute_02=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2430932188386506469)
,p_name=>'P32_ACCOUNT_LOCKED'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2430929990842506445)
,p_use_cache_before_default=>'NO'
,p_item_default=>'N'
,p_prompt=>'Account Locked'
,p_source=>'ACCOUNT_LOCKED'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'PLUGIN_COM.ORACLE.APEX.SIMPLE_CHECKBOX'
,p_cSize=>32
,p_cMaxlength=>1
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_display_when=>'P32_ID'
,p_display_when_type=>'ITEM_IS_NOT_NULL'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(2856550091021952739)
,p_validation_name=>'cannot update yourself'
,p_validation_sequence=>10
,p_validation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select 1',
'  from RCA13_intrack_users',
' where upper(username) = :APP_USER',
'   and id = :P32_ID'))
,p_validation_type=>'NOT_EXISTS'
,p_error_message=>'You cannot update your own record.'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(2430930284266506447)
,p_only_for_changed_rows=>'Y'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2430932988290506471)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_USERS'
,p_attribute_02=>'RCA13_INTRACK_USERS'
,p_attribute_03=>'P32_ID'
,p_attribute_04=>'ID'
,p_attribute_07=>'ROW_VERSION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2430933178285506475)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_USERS'
,p_attribute_02=>'RCA13_INTRACK_USERS'
,p_attribute_03=>'P32_ID'
,p_attribute_04=>'ID'
,p_attribute_07=>'ROW_VERSION'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2430933371439506475)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2430930384460506447)
);
end;
/
prompt --application/pages/page_00033
begin
wwv_flow_api.create_page(
 p_id=>33
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Access Control Configuration'
,p_page_mode=>'NORMAL'
,p_step_title=>'Access Control Configuration'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Access Control Configuration'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(312611953325942122)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_last_updated_by=>'ORACHKCM'
,p_last_upd_yyyymmddhh24miss=>'20171009220155'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2856560576318058194)
,p_plug_name=>'Access Control Configuration'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2856561774255058201)
,p_plug_name=>'About Access Control'
,p_parent_plug_id=>wwv_flow_api.id(2856560576318058194)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2674554283312565687)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'htp.prn(replace(',
'    apex_lang.message(''AC_CONFIGURATION_INFO''),',
'    ''#IMAGE_PREFIX''||''#'',',
'    :image_prefix));'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2856562184850058201)
,p_plug_name=>'Access Control Configuration'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2856560797757058196)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2856560576318058194)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_redirect_url=>'f?p=&APP_ID.:4:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2856560992098058196)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2856560576318058194)
,p_button_name=>'APPLY_CHANGES'
,p_button_action=>'DEFINED_BY_DA'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2856565396551058222)
,p_branch_action=>'f?p=&APP_ID.:4:&SESSION.::&DEBUG.:::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>10
,p_branch_comment=>'Created 18-NOV-2011 11:02 by ANTHONY'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2856561175689058197)
,p_name=>'P33_HIDDEN_AC_ENABLED'
,p_is_required=>true
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2856560576318058194)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Enable Access Control'
,p_source=>'return RCA13_intrack_fw.get_preference_value(''ACCESS_CONTROL_ENABLED'');'
,p_source_type=>'FUNCTION_BODY'
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2856561368272058199)
,p_name=>'P33_AC_ENABLED'
,p_is_required=>true
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2856560576318058194)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Enable Access Control'
,p_source=>'return RCA13_intrack_fw.get_preference_value(''ACCESS_CONTROL_ENABLED'');'
,p_source_type=>'FUNCTION_BODY'
,p_display_as=>'PLUGIN_COM.ORACLE.APEX.SIMPLE_CHECKBOX'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2856561575620058200)
,p_name=>'P33_ACCESS_CONTROL_SCOPE'
,p_is_required=>true
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2856560576318058194)
,p_prompt=>'Access Control Scope'
,p_source=>'RCA13_intrack_fw.get_preference_value(''ACCESS_CONTROL_SCOPE'');'
,p_source_type=>'FUNCTION'
,p_display_as=>'NATIVE_RADIOGROUP'
,p_named_lov=>'ACCESS CONTROL SCOPE'
,p_lov=>'.'||wwv_flow_api.id(2856544694736897027)||'.'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'1'
,p_attribute_02=>'NONE'
,p_attribute_04=>'VERTICAL'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(2856563298434058211)
,p_name=>'ENABLE ACCESS CONTROL CHANGED'
,p_event_sequence=>10
,p_triggering_element_type=>'ITEM'
,p_triggering_element=>'P33_AC_ENABLED'
,p_condition_element=>'P33_AC_ENABLED'
,p_triggering_condition_type=>'EQUALS'
,p_triggering_expression=>'Y'
,p_bind_type=>'bind'
,p_bind_event_type=>'change'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(2856563591398058214)
,p_event_id=>wwv_flow_api.id(2856563298434058211)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_SHOW'
,p_affected_elements_type=>'ITEM'
,p_affected_elements=>'P33_ACCESS_CONTROL_SCOPE'
,p_attribute_01=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(2856563797392058217)
,p_event_id=>wwv_flow_api.id(2856563298434058211)
,p_event_result=>'FALSE'
,p_action_sequence=>20
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_HIDE'
,p_affected_elements_type=>'ITEM'
,p_affected_elements=>'P33_ACCESS_CONTROL_SCOPE'
,p_attribute_01=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(2856563898369058217)
,p_name=>'APPLY CHANGES WHEN AC ENABLED'
,p_event_sequence=>20
,p_triggering_element_type=>'BUTTON'
,p_triggering_button_id=>wwv_flow_api.id(2856560992098058196)
,p_triggering_condition_type=>'JAVASCRIPT_EXPRESSION'
,p_triggering_expression=>wwv_flow_string.join(wwv_flow_t_varchar2(
'($v(''P33_HIDDEN_AC_ENABLED'') !== $v(''P33_AC_ENABLED'') &&',
' $v(''P33_AC_ENABLED'') === ''Y'')',
''))
,p_bind_type=>'bind'
,p_bind_event_type=>'click'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(2856564175819058217)
,p_event_id=>wwv_flow_api.id(2856563898369058217)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'N'
,p_action=>'NATIVE_SUBMIT_PAGE'
,p_attribute_01=>'APPLY_CHANGES_AC_ENABLED'
,p_attribute_02=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(2856564276081058217)
,p_name=>'APPLY CHANGES WHEN AC DISABLED'
,p_event_sequence=>30
,p_triggering_element_type=>'BUTTON'
,p_triggering_button_id=>wwv_flow_api.id(2856560992098058196)
,p_triggering_condition_type=>'JAVASCRIPT_EXPRESSION'
,p_triggering_expression=>wwv_flow_string.join(wwv_flow_t_varchar2(
'($v(''P33_HIDDEN_AC_ENABLED'') !== $v(''P33_AC_ENABLED'') &&',
' $v(''P33_AC_ENABLED'') === ''N'')',
''))
,p_bind_type=>'bind'
,p_bind_event_type=>'click'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(2856564572069058218)
,p_event_id=>wwv_flow_api.id(2856564276081058217)
,p_event_result=>'TRUE'
,p_action_sequence=>5
,p_execute_on_page_init=>'N'
,p_action=>'NATIVE_CONFIRM'
,p_attribute_01=>'Disabling Access Control means that all application features are available to any user who can authenticate. Are you sure you want to disable Access Control?'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(2856564776106058218)
,p_event_id=>wwv_flow_api.id(2856564276081058217)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'N'
,p_action=>'NATIVE_SUBMIT_PAGE'
,p_attribute_01=>'APPLY_CHANGES_AC_DISABLED'
,p_attribute_02=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(2856564883590058218)
,p_name=>'APPLY CHANGES WHEN AC UNCHANGED'
,p_event_sequence=>40
,p_triggering_element_type=>'BUTTON'
,p_triggering_button_id=>wwv_flow_api.id(2856560992098058196)
,p_triggering_condition_type=>'JAVASCRIPT_EXPRESSION'
,p_triggering_expression=>wwv_flow_string.join(wwv_flow_t_varchar2(
'($v(''P33_HIDDEN_AC_ENABLED'') === $v(''P33_AC_ENABLED''))',
''))
,p_bind_type=>'bind'
,p_bind_event_type=>'click'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(2856565178655058218)
,p_event_id=>wwv_flow_api.id(2856564883590058218)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'N'
,p_action=>'NATIVE_SUBMIT_PAGE'
,p_attribute_01=>'APPLY_CHANGES_AC_UNCHANGED'
,p_attribute_02=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2856562671627058210)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'ACCESS CONTROL ENABLED'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'    RCA13_intrack_fw.set_preference_value (',
'        p_preference_name  => ''ACCESS_CONTROL_ENABLED'',',
'        p_preference_value => :P33_AC_ENABLED);',
'end;'))
,p_process_error_message=>'Error trying to enable Access Control.'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when=>'APPLY_CHANGES_AC_ENABLED'
,p_process_when_type=>'REQUEST_EQUALS_CONDITION'
,p_process_success_message=>'Access Control enabled. Access to the application and its features are defined by an administrator in the <a href="f?p=&APP_ID.:MANAGE_ACL:&APP_SESSION.:::RP::">Access Control List</a>.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2856562868245058210)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'ACCESS CONTROL DISABLED'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'    RCA13_intrack_fw.set_preference_value (',
'        p_preference_name  => ''ACCESS_CONTROL_ENABLED'',',
'        p_preference_value => :P33_AC_ENABLED);',
'    RCA13_intrack_fw.set_preference_value (',
'        p_preference_name  => ''ACCESS_CONTROL_SCOPE'',',
'        p_preference_value => (case ',
'                                   when :P33_AC_ENABLED = ''Y'' then :P33_ACCESS_CONTROL_SCOPE',
'                                   else ''ACL_ONLY'' ',
'                               end) );',
'end;'))
,p_process_error_message=>'Error trying to disable Access Control.'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when=>'APPLY_CHANGES_AC_DISABLED'
,p_process_when_type=>'REQUEST_EQUALS_CONDITION'
,p_process_success_message=>'Access Control disabled. All application features are now available to any user who can authenticate.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2856563088655058210)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'ACCESS CONTROL UNCHANGED'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'    RCA13_intrack_fw.set_preference_value (',
'        p_preference_name  => ''ACCESS_CONTROL_ENABLED'',',
'        p_preference_value => :P33_AC_ENABLED);',
'end;'))
,p_process_error_message=>'Error trying to save Access Control Configuration.'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when=>'APPLY_CHANGES_AC_UNCHANGED'
,p_process_when_type=>'REQUEST_EQUALS_CONDITION'
,p_process_success_message=>'Access Control Configuration saved.'
);
end;
/
prompt --application/pages/page_00034
begin
wwv_flow_api.create_page(
 p_id=>34
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Access Level'
,p_page_mode=>'NORMAL'
,p_step_title=>'Access Level'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122072654'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2431147169412552148)
,p_plug_name=>'Access Level'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2431151393598552174)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2431147495943552154)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2431147169412552148)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P34_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2431147773532552154)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2431147169412552148)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:33:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2431148369432552161)
,p_branch_action=>'f?p=&APP_ID.:33:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2431148598192552162)
,p_name=>'P34_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2431147169412552148)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Id'
,p_source=>'ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2431148775930552164)
,p_name=>'P34_ACCESS_LEVEL'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2431147169412552148)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Access Level:'
,p_source=>'ACCESS_LEVEL'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>30
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_read_only_when_type=>'ALWAYS'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2431149391991552164)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_ACCESS_LEVELS'
,p_attribute_02=>'RCA13_INTRACK_ACCESS_LEVELS'
,p_attribute_03=>'P34_ID'
,p_attribute_04=>'ID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2431149580640552167)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_ACCESS_LEVELS'
,p_attribute_02=>'RCA13_INTRACK_ACCESS_LEVELS'
,p_attribute_03=>'P34_ID'
,p_attribute_04=>'ID'
,p_attribute_11=>'U'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
end;
/
prompt --application/pages/page_00035
begin
wwv_flow_api.create_page(
 p_id=>35
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Preferences'
,p_page_mode=>'NORMAL'
,p_step_title=>'Preferences'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131209052122'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2433019078014462504)
,p_plug_name=>'Preferences'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select "ROWID", ',
'"ID",',
'"PREFERENCE_NAME",',
'"PREFERENCE_VALUE",',
'preference_description,',
'"CREATED_BY",',
'"CREATED",',
'"UPDATED_BY",',
'"UPDATED"',
'from "#OWNER#"."RCA13_INTRACK_PREFERENCES" ',
'where ID > 2 and PREFERENCE_NAME != ''SYSTEM_NAME''',
'  ',
''))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2433019268119462509)
,p_name=>'Preferences'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:36:&SESSION.::&DEBUG.::P36_ROWID:#ROWID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif"  border="0">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2114115816613141526
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2433019384465462509)
,p_db_column_name=>'ROWID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'ROWID'
,p_allow_sorting=>'N'
,p_allow_filtering=>'N'
,p_allow_highlighting=>'N'
,p_allow_ctrl_breaks=>'N'
,p_allow_aggregations=>'N'
,p_allow_computations=>'N'
,p_allow_charting=>'N'
,p_allow_group_by=>'N'
,p_allow_pivot=>'N'
,p_column_type=>'OTHER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ROWID'
,p_rpt_show_filter_lov=>'N'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2433019497327462510)
,p_db_column_name=>'ID'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2433019595410462510)
,p_db_column_name=>'PREFERENCE_NAME'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'PREFERENCE_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2433019668371462510)
,p_db_column_name=>'PREFERENCE_VALUE'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Value'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'PREFERENCE_VALUE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2433019787847462510)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2433019989684462511)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2466468483815445039)
,p_db_column_name=>'PREFERENCE_DESCRIPTION'
,p_display_order=>9
,p_column_identifier=>'I'
,p_column_label=>'Description'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'PREFERENCE_DESCRIPTION'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919506369305277855)
,p_db_column_name=>'CREATED'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2919506478086277855)
,p_db_column_name=>'UPDATED'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2433024891832462687)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'21121587'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'PREFERENCE_NAME:PREFERENCE_VALUE:PREFERENCE_DESCRIPTION_BY_ON::CREATED:UPDATED'
,p_sort_column_1=>'PREFERENCE_NAME'
,p_sort_direction_1=>'ASC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2433020169672462511)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2466612367717478192)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2433019078014462504)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:35:&SESSION.::&DEBUG.:35,RIR::'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_00036
begin
wwv_flow_api.create_page(
 p_id=>36
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Preference'
,p_page_mode=>'NORMAL'
,p_step_title=>'Preference'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122072514'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2433016491262462493)
,p_plug_name=>'Preference'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2433020386737462512)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2433016690793462494)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2433016491262462493)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P36_ROWID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2433016869620462494)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2433016491262462493)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:35:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2433017075991462496)
,p_branch_action=>'f?p=&APP_ID.:35:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>10
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2433017266549462497)
,p_name=>'P36_ROWID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2433016491262462493)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Rowid'
,p_source=>'ROWID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2433017473216462499)
,p_name=>'P36_PREFERENCE_NAME'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2433016491262462493)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Preference Name:'
,p_source=>'PREFERENCE_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'VALUE'
,p_attribute_04=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2433017698475462500)
,p_name=>'P36_PREFERENCE_VALUE'
,p_is_required=>true
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2433016491262462493)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Value'
,p_source=>'PREFERENCE_VALUE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2466513980137453395)
,p_name=>'P36_PREFERENCE_DESCRIPTION'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2433016491262462493)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Description:'
,p_source=>'PREFERENCE_DESCRIPTION'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'VALUE'
,p_attribute_04=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2433018067434462500)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_PREFERENCES'
,p_attribute_02=>'RCA13_INTRACK_PREFERENCES'
,p_attribute_03=>'P36_ROWID'
,p_attribute_04=>'ROWID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2433018280032462502)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_PREFERENCES'
,p_attribute_02=>'RCA13_INTRACK_PREFERENCES'
,p_attribute_03=>'P36_ROWID'
,p_attribute_04=>'ROWID'
,p_attribute_11=>'U'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2433018491502462503)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
);
end;
/
prompt --application/pages/page_00037
begin
wwv_flow_api.create_page(
 p_id=>37
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Search Results'
,p_page_mode=>'NORMAL'
,p_step_title=>'Search Results'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Search Results'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_html_page_header=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<style>',
'ul.sSearchResultsReport span.title span.highlight {',
'  background-color: #FFEA87;',
'  text-decoration: underline',
'  }',
'ul.sSearchResultsReport span.highlight {',
'  background-color: #FFEA87;',
'  }',
'</style>'))
,p_step_template=>wwv_flow_api.id(6040710906156910724)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131127114658'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2436259585818773723)
,p_plug_name=>'Search'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2988795774295578526)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_02'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2436260981440773734)
,p_plug_name=>'Search Results'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713433409910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'   c             pls_integer := 0;',
'   l_detail      varchar2(32767);',
'   i             pls_integer;',
'   l             pls_integer;',
'   l_max_rows    integer;',
'begin',
'l_max_rows := nvl(:P37_ROWS,10);',
'if :P37_SEARCH is null',
'and :P37_ASSIGNEE is null ',
'and :P37_STATUS is null ',
'and :P37_OPEN is null ',
'and :P37_SEVERITY is null ',
'and nvl(:P37_OPEN,''0'') = ''0'' ',
'then',
'   sys.htp.p(''<p>Please enter at least one search condition.</p>'');',
'else',
'  for c1 in (',
'select',
'	 "PRODUCT_NAME",',
'	 "STATUS_NAME",',
'   status_code||''. ''||status_name status,',
'	 "SEVERITY_NAME",',
'   id,',
'	 "INCIDENT_NUMBER",',
'	 "SUBJECT",',
'	 "BUG_NUMBER",',
'	 "CATEGORY_ID",',
'	 "ASSIGNED_TO_ID",',
'	 "ASSIGNED_ON",',
'	 "DATE_CLOSED",',
'	 "DESCRIPTION",',
'	 "PRODUCT_ID",',
'	 "PRODUCT_VERSION_ID",',
'	 "ADDITIONAL_PRODUCT_INFO",',
'	 "CUSTOMER_ID",',
'	 "CUSTOMER_DEPARTMENT",',
'	 "SEVERITY_ID",',
'	 "STATUS_ID",',
'   status_code,',
'   status_type,',
'	 "URGENCY_ID",',
'	 "ASSIGNED_TO_GROUP_ID",',
'	 "TAGS",',
'	"CREATED",',
'	"CREATED_BY",',
'	"UPDATED",',
'	"UPDATED_BY",',
'	"URGENCY_NAME",',
'    follow_ups,',
'    assignee,',
'    SEVERITY_CODE',
' from ( select a.* from rca13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c',
' where a.id = b.ticket_id and  b.system_id = c.system_id )',
'  where ',
'(   instr(upper(assignee),upper(:P37_ASSIGNEE)) > 0 ',
'         or :P37_ASSIGNEE is null)',
'  and (   status_id= :P37_STATUS or :P37_STATUS is null)',
'  and (',
'    (nvl(:P37_OPEN,''0'') = ''Y'' and status_type = ''OPEN'')',
'     or (nvl(:P37_OPEN,''0'') = ''N'' and status_type = ''CLOSED'')',
'     or (nvl(:P37_OPEN,''0'') = ''0''))',
'  and (nvl(:P37_URGENCY,0) = urgency_id or nvl(:P37_URGENCY,0) = 0)',
'  and (nvl(:P37_SEVERITY,0) = severity_id or nvl(:P37_SEVERITY,0) = 0)',
'  and (   instr(upper(SUBJECT),upper(:P37_SEARCH)) > 0 ',
'       or instr(upper(dbms_lob.substr(DESCRIPTION,2000,1)),upper(:P37_SEARCH)) > 0 ',
'       or instr(upper(dbms_lob.substr(DESCRIPTION,2000,1980)),upper(:P37_SEARCH)) > 0 ',
'       or instr(upper(status_name),upper(:P37_SEARCH)) > 0 ',
'       or instr(upper(incident_number),upper(:P37_SEARCH)) > 0 ',
'       or instr(upper(status_code),upper(:P37_SEARCH)) > 0 ',
'       or instr(upper(product_name),upper(:P37_SEARCH)) > 0 ',
'       or instr(upper(tags),upper(:P37_SEARCH)) > 0 ',
'       or instr(upper(assignee),upper(:P37_SEARCH)) > 0',
'       or :P37_SEARCH is null',
'      )',
'  order by created desc',
'  ) ',
'  loop',
'    c := c + 1;',
'    if c = 1 then',
'       sys.htp.p(''<ul class="sSearchResultsReport">'');',
'    end if;',
'    sys.htp.p(''<li>'');',
'    sys.htp.prn(''<span class="title"><a href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':28:''||:APP_SESSION||',
'        '':::28:P28_ID:''||sys.htf.escape_sc(c1.id))||''">'');',
'    --',
'    --',
'    --',
'    l_detail := c1.SUBJECT;',
'    i := instr(upper(l_detail),upper(:P37_SEARCH));',
'    if  i > 0 then',
'       l := length(:P37_SEARCH);',
'       l_detail := sys.htf.escape_sc(substr(l_detail,1,i-1))||',
'          ''<span class="highlight">''||',
'          sys.htf.escape_sc(substr(l_detail,i,l))||''</span>''||',
'          sys.htf.escape_sc(substr(l_detail,i+l));',
'    end if;',
'    sys.htp.prn(l_detail);                ',
'    sys.htp.prn(''</a></span>'');',
'    sys.htp.prn(''<span class="description">'');',
'    --',
'    --',
'    --',
'    l_detail := c1.product_name;',
'    i := instr(upper(l_detail),upper(:P37_SEARCH));',
'    if  i > 0 then',
'       l := length(:P37_SEARCH);',
'       l_detail := sys.htf.escape_sc(substr(l_detail,1,i-1))||',
'          ''<span class="highlight">''||',
'          sys.htf.escape_sc(substr(l_detail,i,l))||''</span>''||',
'          sys.htf.escape_sc(substr(l_detail,i+l));',
'    end if;',
'    sys.htp.prn(l_detail);',
'    sys.htp.prn(''</span>'');',
'    --',
'    --',
'    --',
'    sys.htp.prn(''<span class="type">Incident: '');',
'    sys.htp.prn(sys.htf.escape_sc(c1.INCIDENT_NUMBER));',
'    sys.htp.prn(''</span>'');',
'    --',
'    --',
'    --',
'    sys.htp.prn(''<br /><span class="type">Assigned to: '');',
'    sys.htp.prn(sys.htf.escape_sc(c1.assignee));',
'    sys.htp.prn(''</span>'');',
'    --',
'    --',
'    --',
'    sys.htp.prn(''<br /><span class="type">Status: '');',
'    sys.htp.prn(sys.htf.escape_sc(c1.status));',
'    sys.htp.prn(''</span>'');',
'    --',
'    --',
'    --',
'    sys.htp.prn(''<br /><span class="type">Urgency: '');',
'    sys.htp.prn(sys.htf.escape_sc(c1.urgency_name));',
'    sys.htp.prn(''</span>'');',
'    --',
'    --',
'    --',
'    sys.htp.prn(''<br /><span class="type">Severity: '');',
'    sys.htp.prn(sys.htf.escape_sc(c1.SEVERITY_CODE)||''. ''||sys.htf.escape_sc(c1.severity_name));',
'    sys.htp.prn(''</span>'');',
'    --',
'    --',
'    --',
'    sys.htp.prn(''<br /><span class="type">Tags: '');',
'    sys.htp.prn(sys.htf.escape_sc(c1.tags));',
'    sys.htp.prn(''</span>'');',
'    --',
'    --',
'    --',
'    sys.htp.prn(''<br /><span class="type">Created: '');',
'    sys.htp.prn(sys.htf.escape_sc(apex_util.get_since(c1.created))||'' by ''||lower(sys.htf.escape_sc(c1.created_by)));',
'    sys.htp.prn(''</span>'');',
'    --',
'    --',
'    --',
'    sys.htp.p(''</li>'');',
'    --',
'    --',
'    --',
'    if c = l_max_rows then',
'       exit;',
'    end if;',
'',
'  end loop;',
'  if c > 0 then ',
'    sys.htp.p(''</ul>'');',
'    sys.htp.p(''<p>''||c||'' results found.</p>'');',
'  else ',
'    sys.htp.p(''<p>No search results.</p>'');',
'  end if;',
'end if;',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2436261175850773734)
,p_plug_name=>'Search Results'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2436259966679773726)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2436259585818773723)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Reset'
,p_button_position=>'BOTTOM'
,p_button_redirect_url=>'f?p=&APP_ID.:37:&SESSION.::&DEBUG.:37,1::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2436259798122773724)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2436259585818773723)
,p_button_name=>'SEARCH'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Search'
,p_button_position=>'BOTTOM'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2436261767291773744)
,p_branch_action=>'f?p=&APP_ID.:37:&SESSION.::&DEBUG.:::'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>10
,p_branch_comment=>'Created 14-DEC-2011 09:16 by SHAKEEB'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2436260189809773727)
,p_name=>'P37_ROWS'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(2436259585818773723)
,p_item_default=>'10'
,p_prompt=>'Rows'
,p_source=>'10'
,p_source_type=>'STATIC'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'ROWS'
,p_lov=>'.'||wwv_flow_api.id(2436261891354773745)||'.'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'REDIRECT_SET_VALUE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2436260382085773728)
,p_name=>'P37_ASSIGNEE'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2436259585818773723)
,p_prompt=>'Assigned to'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2436260591567773733)
,p_name=>'P37_SEARCH'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2436259585818773723)
,p_prompt=>'Search'
,p_source=>'&P1_SEARCH.'
,p_source_type=>'STATIC'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2436260774806773733)
,p_name=>'P37_STATUS'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2436259585818773723)
,p_prompt=>'Status'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'STATUS'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select status_code||''. ''||STATUS_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_STATUS',
' order by display_sequence'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- All Codes -'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2437375292476185034)
,p_name=>'P37_SEVERITY'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2436259585818773723)
,p_prompt=>'Severity'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'SEVERITY WITHOUT CODE'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select SEVERITY_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_SEVERITY',
' order by sequence_number'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- All Codes -'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2437428375984189705)
,p_name=>'P37_URGENCY'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2436259585818773723)
,p_prompt=>'Urgency'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'URGENCY'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select URGENCY_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_URGENCY',
' order by display_sequence'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- All Codes -'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2437466186373192719)
,p_name=>'P37_OPEN'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2436259585818773723)
,p_prompt=>'Open'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'YES NO'
,p_lov=>'.'||wwv_flow_api.id(2406577278280868052)||'.'
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- All -'
,p_lov_null_value=>'0'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
end;
/
prompt --application/pages/page_00038
begin
wwv_flow_api.create_page(
 p_id=>38
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Distribution of Ticket Status Codes'
,p_page_mode=>'NORMAL'
,p_step_title=>'Distribution of Ticket Status Codes'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131127115602'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2448307092674844387)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2448384478411902715)
,p_plug_name=>'Status Codes'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_escape_on_http_output=>'Y'
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select status_code||''. ''||status_name d, ',
'       count(*) c, ',
'       ''f?p=''||:APP_ID||'':2:''||:APP_SESSION||',
'       '':::2,RIR:IR_STATUS_CODE:''||status_code l',
'from ( select a.* from rca13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c where a.id = b.ticket_id and b.system_id = c.system_id )',
'where ((nvl(:P38_OPEN,''0'')=''Y'' and status_type = ''OPEN'') or',
'    (nvl(:P38_OPEN,''0'')=''N'' and status_type = ''CLOSED'') or',
'    (nvl(:P38_OPEN,''0'')=''0''))',
'group by status_code, status_name',
'order by 2 desc'))
,p_plug_source_type=>'PLUGIN_COM.ORACLE.APEX.CSS_BAR_CHART'
,p_plug_query_row_template=>1
,p_attribute_01=>'VALUE_ABSOLUTE'
,p_attribute_10=>'50'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2460395094076987819)
,p_plug_name=>'Button Bar'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712432812910730)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2460564672306009888)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2460395094076987819)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:38:&SESSION.::&DEBUG.:38,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2460395296189987822)
,p_name=>'P38_OPEN'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2460395094076987819)
,p_item_default=>'0'
,p_prompt=>'Open'
,p_source=>'0'
,p_source_type=>'STATIC'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'YES NO'
,p_lov=>'.'||wwv_flow_api.id(2406577278280868052)||'.'
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- All -'
,p_lov_null_value=>'0'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'REDIRECT_SET_VALUE'
);
end;
/
prompt --application/pages/page_00039
begin
wwv_flow_api.create_page(
 p_id=>39
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Distribution of Tickets by Product'
,p_page_mode=>'NORMAL'
,p_step_title=>'Distribution of Tickets by Product'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Distribution of Tickets by Product'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131127115738'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2448543191097939271)
,p_plug_name=>'Status Codes'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_escape_on_http_output=>'Y'
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select product_name d, ',
'       count(*) c, ',
'       ''f?p=''||:APP_ID||'':2:''||:APP_SESSION||',
'       '':::2,RIR:IR_PRODUCT_NAME:''||product_name l',
'from ( select a.* from rca13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c where a.id = b.ticket_id and b.system_id = c.system_id )',
'where ((nvl(:P39_OPEN,''0'')=''Y'' and status_type = ''OPEN'') or',
'    (nvl(:P39_OPEN,''0'')=''N'' and status_type = ''CLOSED'') or',
'    (nvl(:P39_OPEN,''0'')=''0''))',
'group by product_name',
'order by 2 desc'))
,p_plug_source_type=>'PLUGIN_COM.ORACLE.APEX.CSS_BAR_CHART'
,p_plug_query_row_template=>1
,p_attribute_01=>'VALUE_ABSOLUTE'
,p_attribute_10=>'50'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2448543595912939273)
,p_plug_name=>'Distribution of Tickets by Product'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2460594392738015794)
,p_plug_name=>'Button Bar'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712432812910730)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2460594568573015795)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2460594392738015794)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:39:&SESSION.::&DEBUG.:39,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2460594797849015797)
,p_name=>'P39_OPEN'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2460594392738015794)
,p_item_default=>'0'
,p_prompt=>'Open'
,p_source=>'0'
,p_source_type=>'STATIC'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'YES NO'
,p_lov=>'.'||wwv_flow_api.id(2406577278280868052)||'.'
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- All -'
,p_lov_null_value=>'0'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'REDIRECT_SET_VALUE'
);
end;
/
prompt --application/pages/page_00040
begin
wwv_flow_api.create_page(
 p_id=>40
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Recent Activity'
,p_page_mode=>'NORMAL'
,p_step_title=>'Recent Activity'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Recent Activity'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131127113705'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2920603466169533327)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2920603867904533330)
,p_plug_name=>'Recent Activity'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select id, incident_number, subject, a.created, lower(a.created_by) created_by, a.updated, lower(a.updated_by) updated_by, PRODUCT_NAME, row_version_number, STATUS_CODE , tags, status_name status, customer',
'from RCA13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c',
'where a.id = b.ticket_id and b.system_id = c.system_id'))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2920603973058533330)
,p_name=>'Recent Activity'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'N'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2601700521552212347
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2920604191949533334)
,p_db_column_name=>'ID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'ID'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2920604283161533336)
,p_db_column_name=>'SUBJECT'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Subject'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'SUBJECT'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2920604392605533336)
,p_db_column_name=>'CREATED'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2920604469171533336)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2920604568005533336)
,p_db_column_name=>'UPDATED'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2920604675931533336)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2920604775059533336)
,p_db_column_name=>'PRODUCT_NAME'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Product Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'PRODUCT_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2920604869632533336)
,p_db_column_name=>'ROW_VERSION_NUMBER'
,p_display_order=>8
,p_column_identifier=>'H'
,p_column_label=>'Row Version Number'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'ROW_VERSION_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2920609174444569085)
,p_db_column_name=>'INCIDENT_NUMBER'
,p_display_order=>9
,p_column_identifier=>'I'
,p_column_label=>'Incident Number'
,p_column_link=>'f?p=&APP_ID.:50:&SESSION.::&DEBUG.:RP,50:P50_ID:#ID#'
,p_column_linktext=>'<span>#INCIDENT_NUMBER#</span>'
,p_column_link_attr=>'class="uButton uButtonAlt" style="text-decoration: none;"'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'INCIDENT_NUMBER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2920609590028573590)
,p_db_column_name=>'STATUS'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Status'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'STATUS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2920609671578573591)
,p_db_column_name=>'TAGS'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Tags'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'TAGS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2920610285311581709)
,p_db_column_name=>'STATUS_CODE'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Status Code'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'STATUS_CODE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2920610386878581709)
,p_db_column_name=>'CUSTOMER'
,p_display_order=>13
,p_column_identifier=>'M'
,p_column_label=>'Customer'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CUSTOMER'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2920605091928536330)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'25997389'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'INCIDENT_NUMBER:SUBJECT:STATUS:PRODUCT_NAME:UPDATED:UPDATED_BY:'
,p_sort_column_1=>'UPDATED'
,p_sort_direction_1=>'DESC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2920605791713545692)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2920603867904533330)
,p_button_name=>'RESET_REPRORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset Reprort'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:40:&SESSION.::&DEBUG.:40,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2920614091245611801)
,p_computation_sequence=>10
,p_computation_item=>'LAST_VIEW'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'40'
);
end;
/
prompt --application/pages/page_00041
begin
wwv_flow_api.create_page(
 p_id=>41
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Distribution of Tickets by Customer'
,p_page_mode=>'NORMAL'
,p_step_title=>'Distribution of Tickets by Customer'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Distribution of Tickets by Customer'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131127120254'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2448706170284968580)
,p_plug_name=>'Status Codes'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_escape_on_http_output=>'Y'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select customer d, ',
'       count(*) c, ',
'       ''f?p=''||:APP_ID||'':2:''||:APP_SESSION||',
'       '':::2,RIR:IR_CUSTOMER:''||customer l',
'from ( select a.* from rca13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c where a.id = b.ticket_id and b.system_id = c.system_id )',
'group by customer',
'order by 2 desc'))
,p_plug_source_type=>'PLUGIN_COM.ORACLE.APEX.CSS_BAR_CHART'
,p_plug_query_row_template=>1
,p_attribute_01=>'VALUE_ABSOLUTE'
,p_attribute_10=>'50'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2448706589299968582)
,p_plug_name=>'Distribution of Tickets by Customer'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
end;
/
prompt --application/pages/page_00042
begin
wwv_flow_api.create_page(
 p_id=>42
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Distribution of Tickets by Filer'
,p_page_mode=>'NORMAL'
,p_step_title=>'Distribution of Tickets by Filer'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Distribution of Tickets by Filer'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131127120332'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2448818577333989489)
,p_plug_name=>'Status Codes'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_escape_on_http_output=>'Y'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select created_by d, ',
'       count(*) c, ',
'       ''f?p=''||:APP_ID||'':2:''||:APP_SESSION||',
'       '':::2,RIR:IR_CREATED_BY:''||created_by l',
'from ( select a.* from rca13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c where a.id = b.ticket_id and b.system_id = c.system_id )',
'group by created_by',
'order by 2 desc'))
,p_plug_source_type=>'PLUGIN_COM.ORACLE.APEX.CSS_BAR_CHART'
,p_plug_query_row_template=>1
,p_attribute_01=>'VALUE_ABSOLUTE'
,p_attribute_10=>'50'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2448818969328989491)
,p_plug_name=>'Distribution of Tickets by Filer'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
end;
/
prompt --application/pages/page_00043
begin
wwv_flow_api.create_page(
 p_id=>43
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Distribution of Tickets by Product and Version'
,p_page_mode=>'NORMAL'
,p_step_title=>'Distribution of Tickets by Product and Version'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Distribution of Tickets by Product and Version'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131127120202'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2449023797401038360)
,p_plug_name=>'Status Codes'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_escape_on_http_output=>'Y'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select p.product_name || '' - '' || VERSION_NAME d, ',
'       (select count(*) ',
'       from ( select a.* from RCA13_intrack_incidents a,rca13_ac_tickets b,rca13_lob2sys_mapping c where a.id = b.ticket_id and b.system_id = c.system_id) i, RCA13_intrack_status s',
'       where (i.product_version_id = v.id and ',
'             i.product_id = p.id and i.status_id = s.id) and',
'             ((nvl(:P43_OPEN,''0'')=''Y'' and s.status_type = ''OPEN'') or',
'    (nvl(:P43_OPEN,''0'')=''N'' and s.status_type = ''CLOSED'') or',
'    (nvl(:P43_OPEN,''0'')=''0''))',
'             )',
'       tickets,',
'       ''f?p=''||:APP_ID||'':2:''||:APP_SESSION||',
'       '':::2,RIR:IR_PRODUCT_NAME:''||product_name l',
'from RCA13_intrack_version v, ',
'     RCA13_intrack_product p',
'where v.product_id = p.id and',
'(nvl(:P43_PRODUCT,0) = 0 or p.id = nvl(:P43_PRODUCT,0))',
'order by 2 desc, 1'))
,p_plug_source_type=>'PLUGIN_COM.ORACLE.APEX.CSS_BAR_CHART'
,p_plug_query_row_template=>1
,p_attribute_01=>'VALUE_ABSOLUTE'
,p_attribute_10=>'50'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2449024180866038361)
,p_plug_name=>'Distribution of Tickets by Product and Version'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2449791897936267944)
,p_plug_name=>'Button Bar'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712432812910730)
,p_plug_display_sequence=>3
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2460960280018068933)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2449791897936267944)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:43:&SESSION.::&DEBUG.:43,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2449872569455278654)
,p_name=>'P43_PRODUCT'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2449791897936267944)
,p_item_default=>'0'
,p_prompt=>'Product'
,p_source=>'0'
,p_source_type=>'STATIC'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'PRODUCTS'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select product_name, id',
'from RCA13_intrack_product',
'order by 1'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- All Products -'
,p_lov_null_value=>'0'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'REDIRECT_SET_VALUE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2460726066681027202)
,p_name=>'P43_OPEN'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2449791897936267944)
,p_item_default=>'0'
,p_prompt=>'Open'
,p_source=>'0'
,p_source_type=>'STATIC'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'YES NO'
,p_lov=>'.'||wwv_flow_api.id(2406577278280868052)||'.'
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- All -'
,p_lov_null_value=>'0'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'REDIRECT_SET_VALUE'
);
end;
/
prompt --application/pages/page_00044
begin
wwv_flow_api.create_page(
 p_id=>44
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Ticket Links'
,p_page_mode=>'NORMAL'
,p_step_title=>'Ticket Links'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122071028'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2832200271670201642)
,p_plug_name=>'Ticket Links'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select incident_id, ',
'id, ',
'nvl(LINK_TEXT,link_target) link_text, ',
'LINK_Target, ',
'replace(replace(LINK_TARGET,''&''||''APP_SESSION.'',v(''APP_SESSION'')),''&''||''APP_ID.'',v(''APP_ID'')) LT,',
'TAGS, ',
'LINK_COMMENTS, ',
'created, ',
'lower(created_by) created_by, ',
'updated, ',
'lower(updated_by) updated_by,',
'''#'' delete_link',
'from RCA13_intrack_links',
'where incident_id = :P44_ID',
'  ',
''))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2832200480881201643)
,p_name=>'Ticket Links'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:49:&SESSION.::&DEBUG.::P49_ID:#ID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif"  border="0">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'CBCHO'
,p_internal_uid=>2513297029374880660
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2832200594559201647)
,p_db_column_name=>'ID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2832200690233201651)
,p_db_column_name=>'INCIDENT_ID'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Incident Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'INCIDENT_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2832200788594201651)
,p_db_column_name=>'LINK_TARGET'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Link Target'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'LINK_TARGET'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2832200880847201653)
,p_db_column_name=>'LINK_TEXT'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Name'
,p_column_link=>'#LT#'
,p_column_linktext=>'#LINK_TEXT#'
,p_column_link_attr=>'target="_blank"'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'LINK_TEXT'
,p_column_comment=>'target="_blank"'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2832200979379201655)
,p_db_column_name=>'LINK_COMMENTS'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Description'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'LINK_COMMENTS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2832201092914201655)
,p_db_column_name=>'TAGS'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'Tags'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'TAGS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2832201178264201655)
,p_db_column_name=>'CREATED'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Date Added'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2832201282427201655)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>8
,p_column_identifier=>'H'
,p_column_label=>'Added By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2832201386776201655)
,p_db_column_name=>'UPDATED'
,p_display_order=>9
,p_column_identifier=>'I'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2832201496230201655)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2832202787737212894)
,p_db_column_name=>'DELETE_LINK'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'&nbsp;'
,p_column_link=>'f?p=&APP_ID.:44:&SESSION.:DELETE_LINK:&DEBUG.::P44_DELETE_LINK_ID:#ID#'
,p_column_linktext=>'<img src="#IMAGE_PREFIX#red_x_16.png" alt="">'
,p_allow_sorting=>'N'
,p_allow_filtering=>'N'
,p_allow_highlighting=>'N'
,p_allow_ctrl_breaks=>'N'
,p_allow_aggregations=>'N'
,p_allow_computations=>'N'
,p_allow_charting=>'N'
,p_allow_group_by=>'N'
,p_allow_pivot=>'N'
,p_allow_hide=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'DELETE_LINK'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(312193055390436272)
,p_db_column_name=>'LT'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Lt'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'LT'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2832211494775423087)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'25113453'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'LINK_TEXT:LINK_TARGET:CREATED:CREATED_BY:TAGS:DELETE_LINK::LT'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2832201791053201657)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2832203088214222456)
,p_plug_name=>'button bar'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_translate_title=>'N'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2832209291612393844)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2832200271670201642)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:44:&SESSION.::&DEBUG.:RP,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2832201675102201656)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2832200271670201642)
,p_button_name=>'CREATE_LINK'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Link'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:49:&SESSION.::&DEBUG.:49:P49_INCIDENT_ID:&P44_ID.'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2832210081700400383)
,p_name=>'P44_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2832203088214222456)
,p_prompt=>'Ticket:'
,p_pre_element_text=>'<a href="f?p=&APP_ID.:50:&APP_SESSION.::::P50_ID:&P44_ID.">'
,p_post_element_text=>'</a>'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_named_lov=>'TICKETS'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select subject, id',
'from RCA13_intrack_incidents_view',
'order by 1'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
,p_attribute_02=>'LOV'
,p_attribute_04=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2832210289319402628)
,p_name=>'P44_DELETE_LINK_ID'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2832203088214222456)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2832212766771443359)
,p_computation_sequence=>10
,p_computation_item=>'P50_ID'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'ITEM_VALUE'
,p_computation=>'P44_ID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2832215482055476180)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'delete link'
,p_process_sql_clob=>'delete from RCA13_intrack_links where id = :P44_DELETE_LINK_ID;'
,p_process_when=>'DELETE_LINK'
,p_process_when_type=>'REQUEST_EQUALS_CONDITION'
,p_process_success_message=>'Link deleted'
);
end;
/
prompt --application/pages/page_00045
begin
wwv_flow_api.create_page(
 p_id=>45
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Contacts'
,p_page_mode=>'NORMAL'
,p_step_title=>'Contacts'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122070833'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2450746980615362955)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2450834495352380693)
,p_plug_name=>'Contacts'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select c.customer_name, ',
'     cc.id,',
'     cc.first_name, ',
'     cc.last_name,',
'     decode(cc.last_name,null,null,cc.last_name||'', ''||cc.first_name) name,',
'     cc.email,',
'     cc.phone,',
'     cc.country_id,',
'     cc.department_name,',
'     cc.additional_info,',
'     cc.created as created_on,',
'     cc.created_by,',
'     cc.updated as updated_on,',
'     cc.updated_by,',
'     (select count(*) ',
'      from RCA13_intrack_incidents i ',
'      where i.customer_contact_id = cc.id) tickets,',
'      (select count(*) ',
'      from RCA13_intrack_incidents i,',
'           RCA13_intrack_status s',
'      where i.customer_contact_id = cc.id and ',
'            i.status_id = s.id and',
'            s.status_type = ''OPEN'') open_tickets     ',
'from RCA13_intrack_customers c,',
'     RCA13_intrack_customer_contact cc',
'where c.id = cc.customer_id(+)',
'and (c.id = :P45_CUSTOMER or nvl(:P45_CUSTOMER,0) = 0)'))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2450834597378380693)
,p_name=>'Contacts'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'N'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2131931145872059710
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2450834795303380702)
,p_db_column_name=>'CUSTOMER_NAME'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'Customer'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CUSTOMER_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2450834889354380702)
,p_db_column_name=>'FIRST_NAME'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'First Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'FIRST_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2450834982312380702)
,p_db_column_name=>'LAST_NAME'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Last Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'LAST_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2450835069729380702)
,p_db_column_name=>'EMAIL'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Email'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'EMAIL'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2450835198381380702)
,p_db_column_name=>'PHONE'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Phone'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'PHONE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2450835266685380703)
,p_db_column_name=>'COUNTRY_ID'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'Country'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'COUNTRY_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2450835368264380703)
,p_db_column_name=>'DEPARTMENT_NAME'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Department'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'DEPARTMENT_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2450835487152380703)
,p_db_column_name=>'ADDITIONAL_INFO'
,p_display_order=>8
,p_column_identifier=>'H'
,p_column_label=>'Info'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'ADDITIONAL_INFO'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2450835573170380703)
,p_db_column_name=>'CREATED_ON'
,p_display_order=>9
,p_column_identifier=>'I'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED_ON'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2450835670269380703)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2450835775967380703)
,p_db_column_name=>'UPDATED_ON'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED_ON'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2450835878810380704)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2452617585458888787)
,p_db_column_name=>'TICKETS'
,p_display_order=>13
,p_column_identifier=>'M'
,p_column_label=>'Tickets'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'TICKETS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2452686371568932120)
,p_db_column_name=>'OPEN_TICKETS'
,p_display_order=>14
,p_column_identifier=>'N'
,p_column_label=>'Open Tickets'
,p_column_link=>'f?p=&APP_ID.:2:&SESSION.::&DEBUG.:RP,2,RIR:IR_CUSTOMER_CONTACT_EMAIL,IR_STATUS_TYPE:#EMAIL#,Open'
,p_column_linktext=>'#OPEN_TICKETS#'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'OPEN_TICKETS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2453431987471059729)
,p_db_column_name=>'NAME'
,p_display_order=>15
,p_column_identifier=>'O'
,p_column_label=>'Name'
,p_column_link=>'f?p=&APP_ID.:47:&SESSION.::&DEBUG.:RP,47:P47_CONTACT_ID:#ID#'
,p_column_linktext=>'#NAME#'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2453634971026092820)
,p_db_column_name=>'ID'
,p_display_order=>16
,p_column_identifier=>'P'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2450843296045380975)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'21299771'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'NAME:CUSTOMER_NAME:EMAIL:COUNTRY_UPDATED_ON:UPDATED_BY:OPEN_TICKETS'
,p_sort_column_1=>'OPEN_TICKETS'
,p_sort_direction_1=>'DESC'
,p_sort_column_2=>'TICKETS'
,p_sort_direction_2=>'DESC'
,p_sort_column_3=>'CUSTOMER_NAME'
,p_sort_direction_3=>'ASC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2470351576006130026)
,p_plug_name=>'Button Bar'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712432812910730)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2459524888956891692)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2470351576006130026)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:45:&SESSION.::&DEBUG.:45,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2470531093368163449)
,p_name=>'P45_CUSTOMER'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2470351576006130026)
,p_item_default=>'0'
,p_prompt=>'Customer'
,p_source=>'0'
,p_source_type=>'STATIC'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_named_lov=>'CUSTOMER'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select CUSTOMER_NAME as display_value, ID as return_value ',
'  from RCA13_INTRACK_CUSTOMERS',
' order by 1'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- All Customers -'
,p_lov_null_value=>'0'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'REDIRECT_SET_VALUE'
);
end;
/
prompt --application/pages/page_00046
begin
wwv_flow_api.create_page(
 p_id=>46
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Manage Sample Data'
,p_page_mode=>'NORMAL'
,p_step_title=>'Manage Sample Data'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131209031452'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2451932397350640084)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2451990166253646744)
,p_plug_name=>'Manage Sample Data'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>'sys.htp.p(''Delete All data tagged with "SAMPLE".'');'
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2452039287378652874)
,p_plug_name=>'Button Bar'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040714228547910735)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_02'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2452062098113655940)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2451990166253646744)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:4:&SESSION.::&DEBUG.:RP::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2452062293705655940)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2451990166253646744)
,p_button_name=>'REMOVESAMPLE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Remove Sample Data'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2600838868125851629)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2451990166253646744)
,p_button_name=>'RELOAD_SAMPLE_DATA'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Reload Sample Data'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2600699497299841200)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2451990166253646744)
,p_button_name=>'LOAD_SAMPLE_DATA'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Load Sample Data'
,p_button_position=>'REGION_TEMPLATE_EDIT'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2452119475865668382)
,p_branch_action=>'f?p=&APP_ID.:4:&SESSION.::&DEBUG.:::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>10
,p_branch_comment=>'Created 30-DEC-2011 12:30 by MIKE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2452142490064672563)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'delete sample data'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'--We will not delete any default values from product, category etc.. we will delete only data and it''s corresponding info',
'',
'delete from rca13_ac_tickets where ticket_id in (    select content_id     from   RCA13_intrack_tags    where  tag = ''SAMPLE_DATA'' );',
'',
'delete from RCA13_intrack_incidents where id in (    select content_id     from   RCA13_intrack_tags    where  tag = ''SAMPLE_DATA'' );',
'',
'--Delete sample data from auditcheck_result table',
'delete from auditcheck_result where collection_date in (''19-SEP-13 03.17.11.000000 PM'',''27-SEP-13 04.39.19.000000 PM'') ',
'and upload_collection_name in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');',
'',
'--Delete data from ',
'',
'commit;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2452062293705655940)
,p_process_success_message=>'Sample data has been removed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2600819491889849034)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'load sample data'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'RCA13_intrack_load_sample;',
'commit;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Sample Data Loaded'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2600926888557857586)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'reload_SAMPLE_DATA'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'delete from rca13_ac_tickets',
'where ticket_id in (',
'   select content_id ',
'    from   RCA13_intrack_tags',
'    where  tag = ''SAMPLE_DATA''',
');',
'',
'delete from RCA13_intrack_incidents',
'where id in (',
'    select content_id ',
'    from   RCA13_intrack_tags',
'    where  tag = ''SAMPLE_DATA'' );',
'',
'delete from auditcheck_result where collection_date in (''19-SEP-13 03.17.11.000000 PM'',''27-SEP-13 04.39.19.000000 PM'') ',
'and upload_collection_name in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');',
'',
'commit;',
'',
'RCA13_intrack_load_sample;',
'commit;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2600838868125851629)
,p_process_success_message=>'Sample Data Reloaded'
);
end;
/
prompt --application/pages/page_00047
begin
wwv_flow_api.create_page(
 p_id=>47
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Contact Details'
,p_page_mode=>'NORMAL'
,p_step_title=>'Contact Details'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122070613'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2453467068128067094)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2453490386563068901)
,p_plug_name=>'button bar'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712432812910730)
,p_plug_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2453513578036075948)
,p_name=>'P47_CONTACT_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2453490386563068901)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2453604585440087482)
,p_name=>'P47_CONTACT_NAME'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2453490386563068901)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Contact Name:'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select last_name||'', ''||first_name n',
'from RCA13_intrack_customer_contact',
'where id = :P47_CONTACT_ID'))
,p_source_type=>'QUERY'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'VALUE'
,p_attribute_04=>'Y'
);
end;
/
prompt --application/pages/page_00048
begin
wwv_flow_api.create_page(
 p_id=>48
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Assignees'
,p_page_mode=>'NORMAL'
,p_step_title=>'Assignees'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Assignees'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122070548'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2461559187613165924)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2461559579615165928)
,p_plug_name=>'Assignees'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select u.assignee_name USERNAME, ',
'     u.id,',
'     u.email,',
'     u.created,',
'     u.created_by,',
'     u.updated,',
'     u.updated_by,',
'     (select count(*) ',
'      from RCA13_intrack_incidents i ',
'      where i.assigned_to_id = u.id) tickets,',
'      (select count(*) ',
'      from RCA13_intrack_incidents i,',
'           RCA13_intrack_status s',
'      where i.assigned_to_id = u.id and ',
'            i.status_id = s.id and',
'            s.status_type = ''OPEN'') open_tickets,',
'      (select count(*) ',
'      from RCA13_intrack_incidents i,',
'           RCA13_intrack_status s',
'      where i.assigned_to_id = u.id and ',
'            i.status_id = s.id and',
'            s.status_type = ''CLOSED'') closed_tickets,',
'      (select max(date_closed)',
'      from RCA13_intrack_incidents i,',
'           RCA13_intrack_status s',
'      where i.assigned_to_id = u.id and ',
'            i.status_id = s.id and',
'            s.status_type = ''CLOSED'') last_closed   ',
'from RCA13_intrack_assignees u'))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2461559667811165928)
,p_name=>'Assignees'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'N'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'MIKE'
,p_internal_uid=>2142656216304844945
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2461559881069165930)
,p_db_column_name=>'USERNAME'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'Username'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'USERNAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2461559985314165931)
,p_db_column_name=>'ID'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2461560067247165931)
,p_db_column_name=>'EMAIL'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Email'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'EMAIL'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2461560492962165931)
,p_db_column_name=>'CREATED'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2461560568376165931)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>8
,p_column_identifier=>'H'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2461560683153165932)
,p_db_column_name=>'UPDATED'
,p_display_order=>9
,p_column_identifier=>'I'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2461560782815165932)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2461560884719165932)
,p_db_column_name=>'TICKETS'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Tickets'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_format_mask=>'999G999G999G999G999G990'
,p_tz_dependent=>'N'
,p_static_id=>'TICKETS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2461560994083165932)
,p_db_column_name=>'OPEN_TICKETS'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Open Tickets'
,p_column_link=>'f?p=&APP_ID.:2:&SESSION.::&DEBUG.:2,RIR:IR_ASSIGNEE,IR_STATUS_TYPE:#USERNAME#,Open'
,p_column_linktext=>'#OPEN_TICKETS#'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_format_mask=>'999G999G999G999G999G990'
,p_tz_dependent=>'N'
,p_static_id=>'OPEN_TICKETS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2461672585400183971)
,p_db_column_name=>'LAST_CLOSED'
,p_display_order=>13
,p_column_identifier=>'M'
,p_column_label=>'Last Closed'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'LAST_CLOSED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2461770875965200246)
,p_db_column_name=>'CLOSED_TICKETS'
,p_display_order=>14
,p_column_identifier=>'N'
,p_column_label=>'Closed Tickets'
,p_column_link=>'f?p=&APP_ID.:2:&SESSION.::&DEBUG.:2,RIR:IR_ASSIGNEE,IR_STATUS_TYPE:#USERNAME#,Closed'
,p_column_linktext=>'#CLOSED_TICKETS#'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_format_mask=>'999G999G999G999G999G990'
,p_tz_dependent=>'N'
,p_static_id=>'CLOSED_TICKETS'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2461564988947166085)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'21406988'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'USERNAME:EMAIL:OPEN_TICKETS:CLOSED_TICKETS:LAST_CLOSED:'
,p_sort_column_1=>'OPEN_TICKETS'
,p_sort_direction_1=>'DESC'
,p_sort_column_2=>'USERNAME'
,p_sort_direction_2=>'ASC'
,p_sort_column_3=>'0'
,p_sort_direction_3=>'ASC'
,p_sort_column_4=>'0'
,p_sort_direction_4=>'ASC'
,p_sort_column_5=>'0'
,p_sort_direction_5=>'ASC'
,p_sort_column_6=>'0'
,p_sort_direction_6=>'ASC'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2461710767177188184)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2461559579615165928)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:48:&SESSION.::&DEBUG.:48,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2987466386767456631)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2461559579615165928)
,p_button_name=>'ADD_ASSIGNEE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Assignee'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:58:&SESSION.::&DEBUG.:RP,58::'
,p_grid_new_grid=>false
,p_security_scheme=>wwv_flow_api.id(2856539680683820579)
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2675384982234656843)
,p_computation_sequence=>10
,p_computation_item=>'LAST_VIEW'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'48'
);
end;
/
prompt --application/pages/page_00049
begin
wwv_flow_api.create_page(
 p_id=>49
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Link'
,p_page_mode=>'NORMAL'
,p_step_title=>'Link'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122070448'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2832195988534201611)
,p_plug_name=>'Link'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2832201990766201657)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2832196285047201613)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2832195988534201611)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P49_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2832196572588201615)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2832195988534201611)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:44:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2832196175313201613)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2832195988534201611)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Link'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P49_ID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2832196394449201613)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2832195988534201611)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P49_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2832197166087201615)
,p_branch_action=>'f?p=&APP_ID.:44:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2832197376545201621)
,p_name=>'P49_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2832195988534201611)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Id'
,p_source=>'ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2832197584672201632)
,p_name=>'P49_INCIDENT_ID'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2832195988534201611)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Ticket:'
,p_pre_element_text=>'<a href="f?p=&APP_ID.:50:&APP_SESSION.::::P50_ID:&P44_ID.">'
,p_post_element_text=>'</a>'
,p_source=>'INCIDENT_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_named_lov=>'TICKETS'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select subject, id',
'from RCA13_intrack_incidents_view',
'order by 1'))
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
,p_attribute_02=>'LOV'
,p_attribute_04=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2832197766236201633)
,p_name=>'P49_LINK_TARGET'
,p_is_required=>true
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2832195988534201611)
,p_use_cache_before_default=>'NO'
,p_item_default=>'http://'
,p_prompt=>'Link Target'
,p_source=>'LINK_TARGET'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2832197981502201634)
,p_name=>'P49_LINK_TEXT'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2832195988534201611)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Name'
,p_source=>'LINK_TEXT'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2832198181640201634)
,p_name=>'P49_LINK_COMMENTS'
,p_item_sequence=>90
,p_item_plug_id=>wwv_flow_api.id(2832195988534201611)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Description'
,p_source=>'LINK_COMMENTS'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2832198391264201634)
,p_name=>'P49_TAGS'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2832195988534201611)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Tags'
,p_source=>'TAGS'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2832214874998464709)
,p_computation_sequence=>10
,p_computation_item=>'P49_LINK_TEXT'
,p_computation_type=>'ITEM_VALUE'
,p_computation=>'P49_LINK_TARGET'
,p_compute_when=>'P49_LINK_TEXT'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2832199266351201636)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_LINKS'
,p_attribute_02=>'RCA13_INTRACK_LINKS'
,p_attribute_03=>'P49_ID'
,p_attribute_04=>'ID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2832199493583201636)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_LINKS'
,p_attribute_02=>'RCA13_INTRACK_LINKS'
,p_attribute_03=>'P49_ID'
,p_attribute_04=>'ID'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2832199684439201636)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2832196394449201613)
);
end;
/
prompt --application/pages/page_00050
begin
wwv_flow_api.create_page(
 p_id=>50
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Ticket'
,p_page_mode=>'NORMAL'
,p_step_title=>'Ticket'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Bug Details'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_html_page_header=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<link rel="stylesheet" href="#IMAGE_PREFIX#eba/css/eba_timeline.css" type="text/css" media="all" charset="utf-8">',
'<link rel="stylesheet" href="#IMAGE_PREFIX#eba/css/eba_details_page.css" type="text/css" media="all" charset="utf-8">',
'<link rel="stylesheet" href="#IMAGE_PREFIX#eba/css/eba_file_types.css" type="text/css" media="all" charset="utf-8">',
'<link rel="stylesheet" href="#IMAGE_PREFIX#eba/css/eba_info_bubble.css" type="text/css" media="all" charset="utf-8">',
'<script type="text/javascript" charset="utf-8">',
'jQuery(window).ready(function(){',
'	jQuery("a.ebaDSControl").click(function(){',
'		link = jQuery(this)',
'		content = link.closest("div").find("div.ebaDSBody");',
'		link.toggleClass("ebaDSControlCollapsed");',
'		if (content.css("display") == "block") {',
'			content.slideUp("fast","swing");',
'		} else {',
'			content.slideDown("fast","swing");',
'		}',
'	});',
'})',
'</script>',
'',
'<link rel="stylesheet" href="#IMAGE_PREFIX#eba/css/eba_status_list.css" type="text/css" charset="utf-8">',
''))
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_step_template=>wwv_flow_api.id(2674750967371591026)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131127104757'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2675037571796627152)
,p_plug_name=>'Side Buttons'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712432812910730)
,p_plug_display_sequence=>110
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_03'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2675038167175627157)
,p_plug_name=>'Hidden Items'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2674561286370567975)
,p_plug_display_sequence=>130
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_08'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2675038589569627162)
,p_plug_name=>'Right Side'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>100
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_03'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'for c1 in (select INCIDENT_NUMBER row_key, id',
'from RCA13_INTRACK_INCIDENTS',
'where id = :P50_ID) loop',
'    sys.htp.prn(''<div class="uniqueKey">''||''Ticket #''||'' <span>''||sys.htf.escape_sc(c1.row_key)||''</span></div>'');',
'',
'end loop;',
''))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2675038794175627163)
,p_plug_name=>'Incident'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2674974881923618883)
,p_plug_display_sequence=>80
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'TEXT'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2675038977826627163)
,p_name=>'Updates'
,p_parent_plug_id=>wwv_flow_api.id(2675038794175627163)
,p_template=>wwv_flow_api.id(6040712922645910731)
,p_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select ',
'        '''' class, --use grayComment for gray look',
'        ''Note'' note_type,',
'        replace(sys.htf.escape_sc(dbms_lob.substr(note,2000,1)),chr(10),''<br />'') note_text,',
'        '''' attribute_1,',
'        '''' attribute_2,',
'        '''' attribute_3,',
'        '''' attribute_4,',
'        lower(created_by)||'' - ''||to_char(created,''Day DD-MON-YYYY HH24:MI'') created_by,',
'        apex_util.get_since(created) created_on,',
'        '''' attribute_5,',
'        created',
'from RCA13_INTRACK_NOTES ',
'where   INCIDENT_ID = :P50_ID ',
'union all',
'select ',
'        ''grayComment'' class, --use grayComment for gray look',
'        ''Update'' note_type,',
'        case  follow_up_type ',
'        when ''STATUS_CHANGE'' then',
'           ''Status changed from <strong>''||',
'           (select status_name from RCA13_INTRACK_STATUS where id = status_old_val)||''</strong> to <strong>''||',
'           (select status_name from RCA13_INTRACK_STATUS where id = status_new_val) ||''</strong>''',
'        when ''CLOSE_DATE_CHANGE'' then',
'           ''Close date changed from <strong>''||status_old_val||''</strong> to <strong>''||status_new_val||''</strong>''',
'/*      when ''ASSIGNEE_CHANGE'' then',
'         ''Assignee changed from <strong>''||sys.htf.escape_sc(nvl((select assignee_name from RCA13_intrack_assignees where id = status_old_val),''None''))||''</strong> to <strong>''||sys.htf.escape_sc((select assignee_name from RCA13_intrack_assignees whe'
||'re id = status_new_val))||''</strong>''',
'*/              ',
'        when ''ASSIGNEE_CHANGE'' then',
'         ''Assignee changed from <strong>''||sys.htf.escape_sc(nvl((select username from RCA13_intrack_users where id = status_old_val),''None''))||''</strong> to <strong>''||sys.htf.escape_sc((select username from RCA13_intrack_users where id = status_new'
||'_val))||''</strong>''',
'        when ''URGENCY_CHANGE'' then',
'            ''Urgency changed from <strong>''||',
'            (select URGENCY_NAME from RCA13_INTRACK_URGENCY where id = status_old_val)||''</strong> to <strong>''||',
'            (select URGENCY_NAME from RCA13_INTRACK_URGENCY where id = status_new_val) ||''</strong>''',
'	    when ''SEVERITY_CHANGE'' then',
'	        ''Severity changed from <strong>''||',
'	        (select SEVERITY_NAME from RCA13_INTRACK_SEVERITY where id = status_old_val)||''</strong> to <strong>''||',
'	        (select SEVERITY_NAME from RCA13_INTRACK_SEVERITY where id = status_new_val) ||''</strong>''',
'		when ''CATEGORY_CHANGE'' then',
'		    ''Category changed from <strong>''||',
'		    (select CATEGORY_NAME from RCA13_INTRACK_CATEGORY where id = status_old_val)||''</strong> to <strong>''||',
'		    (select CATEGORY_NAME from RCA13_INTRACK_CATEGORY where id = status_new_val) ||''</strong>''',
'		when ''GROUP_CHANGE'' then',
'		    ''Group changed from <strong>''||',
'		    (select GROUP_NAME from RCA13_INTRACK_GROUP where id = status_old_val)||''</strong> to <strong>''||',
'		    (select GROUP_NAME from RCA13_INTRACK_GROUP where id = status_new_val) ||''</strong>''',
'		when ''PRODUCT_CHANGE'' then',
'		    ''Product changed from <strong>''||',
'		    (select PRODUCT_NAME from RCA13_INTRACK_PRODUCT where id = status_old_val)||''</strong> to <strong>''||',
'		    (select PRODUCT_NAME from RCA13_INTRACK_PRODUCT where id = status_new_val) ||''</strong>''',
'	    when ''PRODUCT_VERSION_CHANGE'' then',
'	        ''Product version changed from <strong>''||',
'	        (select VERSION_NAME from RCA13_INTRACK_VERSION where id = status_old_val)||''</strong> to <strong>''||',
'	        (select VERSION_NAME from RCA13_INTRACK_VERSION where id = status_new_val) ||''</strong>''',
'	    when ''CUSTOMER_CHANGE'' then',
'	        ''Customer changed from <strong>''||',
'	        (select CUSTOMER_NAME from RCA13_INTRACK_CUSTOMERS where id = status_old_val)||''</strong> to <strong>''||',
'	        (select CUSTOMER_NAME from RCA13_INTRACK_CUSTOMERS where id = status_new_val) ||''</strong>''',
'	    when ''BUG_CHANGE'' then',
'	       ''Bug changed from <strong>''||sys.htf.escape_sc(status_old_val)||''</strong> to <strong>''||sys.htf.escape_sc(status_new_val)||''</strong>''',
'	    when ''SUBJECT_CHANGE'' then',
'	       ''Subject changed from <strong>''||sys.htf.escape_sc(status_old_val)||''</strong> to <strong>''||sys.htf.escape_sc(status_new_val)||''</strong>''',
'	    when ''TAG_CHANGE'' then',
'	       ''Tags changed from <strong>''||sys.htf.escape_sc(status_old_val)||''</strong> to <strong>''||sys.htf.escape_sc(status_new_val)||''</strong>''	',
'        end note_text,',
'        '''' attribute_1,',
'        '''' attribute_2,',
'        '''' attribute_3,',
'        '''' attribute_4,',
'        lower(created_by)||'' - ''||to_char(created,''Day DD-MON-YYYY HH24:MI'') created_by,',
'        apex_util.get_since(created) created_on,',
'        '''' attribute_5,',
'        created',
'from RCA13_INTRACK_INC_FOLLOWUP ',
'where   INCIDENT_ID = :P50_ID ',
'order by 11 desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2674805188332596178)
,p_query_headings_type=>'QUERY_COLUMNS'
,p_query_num_rows=>15
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675040181610627165)
,p_query_column_id=>1
,p_column_alias=>'CLASS'
,p_column_display_sequence=>1
,p_column_heading=>'Class'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675039178338627164)
,p_query_column_id=>2
,p_column_alias=>'NOTE_TYPE'
,p_column_display_sequence=>2
,p_column_heading=>'Note Type'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675039272665627165)
,p_query_column_id=>3
,p_column_alias=>'NOTE_TEXT'
,p_column_display_sequence=>3
,p_column_heading=>'Note Text'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675039387245627165)
,p_query_column_id=>4
,p_column_alias=>'ATTRIBUTE_1'
,p_column_display_sequence=>4
,p_column_heading=>'Attribute 1'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675039498327627165)
,p_query_column_id=>5
,p_column_alias=>'ATTRIBUTE_2'
,p_column_display_sequence=>5
,p_column_heading=>'Attribute 2'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675039570010627165)
,p_query_column_id=>6
,p_column_alias=>'ATTRIBUTE_3'
,p_column_display_sequence=>6
,p_column_heading=>'Attribute 3'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675039672341627165)
,p_query_column_id=>7
,p_column_alias=>'ATTRIBUTE_4'
,p_column_display_sequence=>7
,p_column_heading=>'Attribute 4'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675039786461627165)
,p_query_column_id=>8
,p_column_alias=>'CREATED_BY'
,p_column_display_sequence=>8
,p_column_heading=>'Created By'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675039888886627165)
,p_query_column_id=>9
,p_column_alias=>'CREATED_ON'
,p_column_display_sequence=>9
,p_column_heading=>'Created On'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675039988336627165)
,p_query_column_id=>10
,p_column_alias=>'ATTRIBUTE_5'
,p_column_display_sequence=>10
,p_column_heading=>'Attribute 5'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675040078447627165)
,p_query_column_id=>11
,p_column_alias=>'CREATED'
,p_column_display_sequence=>11
,p_column_heading=>'Created'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2675040684572627165)
,p_name=>'Attachments'
,p_parent_plug_id=>wwv_flow_api.id(2675038794175627163)
,p_template=>wwv_flow_api.id(6040712922645910731)
,p_display_sequence=>60
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'    id,',
'    ''<a href="''||APEX_UTIL.GET_BLOB_FILE_SRC(''P54_FILE_BLOB'',id)||''">''||sys.htf.escape_sc(FILENAME)||''</a>'' FILE_NAME,',
'    FILE_MIMETYPE,',
'    FILE_CHARSET,',
'    apex_util.filesize_mask(dbms_lob.getlength(FILE_BLOB)) f_len,',
'    substr(FILE_COMMENTS,1,50)||decode(greatest(length(FILE_COMMENTS),50),50,'''',''...'') FILE_COMMENTS,',
'    case when instr(upper(FILENAME),''.PPT'') > 0or instr(upper(FILENAME),''.PPTX'') > 0 then',
'        ''uFileIcon powerpoint''',
'    when instr(upper(FILENAME),''.XLS'') > 0 or instr(upper(FILENAME),''.XLSX'') > 0 then',
'        ''uFileIcon excel''',
'    when instr(upper(FILENAME),''.DOC'') > 0 or instr(upper(FILENAME),''.DOCX'') > 0 then',
'        ''uFileIcon word''',
'    when instr(upper(FILENAME),''.PDF'') > 0 then',
'        ''uFileIcon pdf''',
'    when instr(upper(FILENAME),''.GIF'') > 0 or',
'         instr(upper(FILENAME),''.PNG'') > 0 or',
'         instr(upper(FILENAME),''.TIFF'') > 0 or',
'         instr(upper(FILENAME),''.JPG'') > 0 then',
'        ''uFileIcon image''',
'    else',
'        ''uFileIcon generic''',
'    end file_type,',
'    created,',
'    lower(created_by) created_by',
'from RCA13_INTRACK_FILES f',
'where INCIDENT_ID = :P50_ID ',
'order by created desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715214521910736)
,p_query_num_rows=>15
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'No Attachments'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675041674029627166)
,p_query_column_id=>1
,p_column_alias=>'ID'
,p_column_display_sequence=>1
,p_column_heading=>'Id'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675574285444714528)
,p_query_column_id=>2
,p_column_alias=>'FILE_NAME'
,p_column_display_sequence=>3
,p_column_heading=>'File Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675748883375789678)
,p_query_column_id=>3
,p_column_alias=>'FILE_MIMETYPE'
,p_column_display_sequence=>8
,p_column_heading=>'Mimetype'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675748997013789678)
,p_query_column_id=>4
,p_column_alias=>'FILE_CHARSET'
,p_column_display_sequence=>9
,p_column_heading=>'Charset'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675041175602627165)
,p_query_column_id=>5
,p_column_alias=>'F_LEN'
,p_column_display_sequence=>4
,p_column_heading=>'Size'
,p_column_alignment=>'RIGHT'
,p_heading_alignment=>'RIGHT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675041297796627165)
,p_query_column_id=>6
,p_column_alias=>'FILE_COMMENTS'
,p_column_display_sequence=>5
,p_column_heading=>'Description'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675041377436627166)
,p_query_column_id=>7
,p_column_alias=>'FILE_TYPE'
,p_column_display_sequence=>2
,p_use_as_row_header=>'N'
,p_column_html_expression=>'<img src="#IMAGE_PREFIX#f_spacer.gif" alt="" class="#FILE_TYPE#" />'
,p_heading_alignment=>'LEFT'
,p_lov_show_nulls=>'NO'
,p_report_column_width=>16
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675041466057627166)
,p_query_column_id=>8
,p_column_alias=>'CREATED'
,p_column_display_sequence=>7
,p_column_heading=>'Date Added'
,p_use_as_row_header=>'N'
,p_column_format=>'SINCE'
,p_column_alignment=>'RIGHT'
,p_heading_alignment=>'RIGHT'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675041591353627166)
,p_query_column_id=>9
,p_column_alias=>'CREATED_BY'
,p_column_display_sequence=>6
,p_column_heading=>'Added By'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2675042186768627166)
,p_name=>'Links'
,p_parent_plug_id=>wwv_flow_api.id(2675038794175627163)
,p_template=>wwv_flow_api.id(6040712922645910731)
,p_display_sequence=>50
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select link_text, sys.htf.escape_sc(link_target) link_target, lower(created_by) created_by, created, link_comments,',
'replace(replace(LINK_TARGET,''&''||''APP_SESSION.'',v(''APP_SESSION'')),''&''||''APP_ID.'',v(''APP_ID'')) lt ',
'from RCA13_INTRACK_LINKS ',
'where INCIDENT_ID = :P50_ID ',
'order by created desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715214521910736)
,p_query_num_rows=>15
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'No Links'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675042385316627167)
,p_query_column_id=>1
,p_column_alias=>'LINK_TEXT'
,p_column_display_sequence=>2
,p_column_heading=>'Name'
,p_use_as_row_header=>'N'
,p_column_link=>'#LT#'
,p_column_linktext=>'#LINK_TEXT#'
,p_column_link_attr=>'target="_blank"'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2919993379567146713)
,p_query_column_id=>2
,p_column_alias=>'LINK_TARGET'
,p_column_display_sequence=>5
,p_column_heading=>'Link Target'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675042571195627167)
,p_query_column_id=>3
,p_column_alias=>'CREATED_BY'
,p_column_display_sequence=>3
,p_column_heading=>'Added By'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675042679138627167)
,p_query_column_id=>4
,p_column_alias=>'CREATED'
,p_column_display_sequence=>4
,p_column_heading=>'Date Added'
,p_use_as_row_header=>'N'
,p_column_format=>'SINCE'
,p_heading_alignment=>'LEFT'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675042796179627167)
,p_query_column_id=>5
,p_column_alias=>'LINK_COMMENTS'
,p_column_display_sequence=>1
,p_column_heading=>'Description'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312193544126502291)
,p_query_column_id=>6
,p_column_alias=>'LT'
,p_column_display_sequence=>6
,p_column_heading=>'Lt'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2675043273449627167)
,p_name=>'Summary'
,p_template=>wwv_flow_api.id(6040713703191910732)
,p_display_sequence=>120
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'REGION_POSITION_03'
,p_item_display_point=>'BELOW'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select ''Attachments'' v, count(*) c',
'  from RCA13_INTRACK_FILES',
'  where INCIDENT_ID = :P50_ID',
'union all',
'select ''Attachments Size'' v, sum(dbms_lob.getlength(FILE_BLOB)) c',
'  from RCA13_INTRACK_FILES',
'  where INCIDENT_ID = :P50_ID',
'union all',
'select ''Notes'' v, count(*) c',
'  from RCA13_INTRACK_NOTES',
'  where INCIDENT_ID = :P50_ID',
'union all',
'select ''Links'' v, count(*) c',
'  from RCA13_INTRACK_LINKS',
'  where INCIDENT_ID = :P50_ID',
'order by 1'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715317748910736)
,p_query_headings_type=>'QUERY_COLUMNS'
,p_query_num_rows=>15
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675043485786627168)
,p_query_column_id=>1
,p_column_alias=>'V'
,p_column_display_sequence=>1
,p_column_heading=>'V'
,p_use_as_row_header=>'N'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675043587705627168)
,p_query_column_id=>2
,p_column_alias=>'C'
,p_column_display_sequence=>2
,p_column_heading=>'C'
,p_use_as_row_header=>'N'
,p_column_format=>'999G999G999G999G999G990'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2675043691768627168)
,p_plug_name=>'Add Update'
,p_region_name=>'ADDNOTEM'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2674547298698564458)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'AFTER_HEADER'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2675044476546627171)
,p_plug_name=>'Add Link'
,p_region_name=>'add_link_modal'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2674547298698564458)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'AFTER_HEADER'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2675045682525627175)
,p_plug_name=>'Add Attachment'
,p_region_name=>'add_file_modal'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2674547298698564458)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'AFTER_HEADER'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2675046887090627176)
,p_name=>'Ticket'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>70
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'	 product_name||'', ''||nvl(product_version,''(no version provided)'') "PRODUCT_NAME",',
'         customer ||'' - '' || customer_contact_name || ',
'            '' ( ''||       customer_contact_email||'' )'' customer,',
'         status_code||''. ''||status_name || '' ( ''||',
'            decode(status_type,''OPEN'',''Open'',''CLOSED'',',
'            ''Closed'',status_type) ||'' )'' status,',
'	 "SEVERITY_NAME",',
'	 "SUBJECT",',
'         assignee||'', assigned ''||apex_util.get_since(assigned_on) assignee,',
'	 apex_util.get_since(DATE_CLOSED)||'' - ''||to_char(DATE_CLOSED,''Day DD-MON-YYYY HH24:MI'') "DATE_CLOSED",',
'	 "DESCRIPTION",',
'	"URGENCY_NAME",',
'        apex_util.get_since(created)||'' - ''||to_char(created,''Day DD-MON-YYYY HH24:MI'') created',
' from RCA13_intrack_incidents_view',
'where id = :P50_ID',
'order by 1'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2674800768777595033)
,p_query_num_rows=>15
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675048269903627176)
,p_query_column_id=>1
,p_column_alias=>'PRODUCT_NAME'
,p_column_display_sequence=>3
,p_column_heading=>'Product'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675147267819636081)
,p_query_column_id=>2
,p_column_alias=>'CUSTOMER'
,p_column_display_sequence=>4
,p_column_heading=>'Customer'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675147387341636081)
,p_query_column_id=>3
,p_column_alias=>'STATUS'
,p_column_display_sequence=>5
,p_column_heading=>'Status'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675147467050636081)
,p_query_column_id=>4
,p_column_alias=>'SEVERITY_NAME'
,p_column_display_sequence=>6
,p_column_heading=>'Severity'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675047593605627176)
,p_query_column_id=>5
,p_column_alias=>'SUBJECT'
,p_column_display_sequence=>1
,p_column_heading=>'Subject'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675147689184636081)
,p_query_column_id=>6
,p_column_alias=>'ASSIGNEE'
,p_column_display_sequence=>8
,p_column_heading=>'Assignee'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675148084733636081)
,p_query_column_id=>7
,p_column_alias=>'DATE_CLOSED'
,p_column_display_sequence=>9
,p_column_heading=>'Date Closed'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675048776773627177)
,p_query_column_id=>8
,p_column_alias=>'DESCRIPTION'
,p_column_display_sequence=>2
,p_column_heading=>'Description'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2675047789274627176)
,p_query_column_id=>9
,p_column_alias=>'URGENCY_NAME'
,p_column_display_sequence=>7
,p_column_heading=>'Resolution Urgency'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2992856988182847207)
,p_query_column_id=>10
,p_column_alias=>'CREATED'
,p_column_display_sequence=>10
,p_column_heading=>'Date Created'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2675048895305627177)
,p_plug_name=>'Ticket'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>90
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2677649375624828270)
,p_plug_name=>'Tags'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>180
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_03'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'for c1 in (select tags',
'from RCA13_INTRACK_INCIDENTS',
'where id = :P50_ID) loop',
'   sys.htp.p(''<div class="sideBadge">'');',
'   sys.htp.prn(sys.htf.escape_sc(c1.tags));',
'   sys.htp.prn(''</div>'');',
'end loop;',
''))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'EXISTS'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select 1 x',
'from RCA13_INTRACK_INCIDENTS',
'where id = :P50_ID and tags is not null'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2990419976247905829)
,p_plug_name=>'Severity'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>150
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_03'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'    l_max number := 0;',
'    l_id  number := 0;',
'    l_percent number := 0;',
'    c number;',
'    l_name  varchar2(255) := null;',
'    l_color varchar2(255);',
'begin',
'',
'select id, SEVERITY_NAME into l_id, l_name',
'from RCA13_INTRACK_SEVERITY',
'where id = (select severity_id from RCA13_intrack_incidents where id = :P50_ID);',
'',
'select count(*) c into l_max',
'from RCA13_INTRACK_SEVERITY;',
'',
'c := 0;',
'for c1 in (select id',
'  from RCA13_INTRACK_SEVERITY',
'  order by sequence_number desc) loop',
'  c := c + 1;',
'  if c1.id = l_id then',
'     exit;',
'  end if;',
'end loop;',
'',
'if c = l_max then ',
'  l_color := ''red'';',
'end if;',
'',
'if l_max > 0 and c > 0 then',
'   l_percent := round(100*c/l_max,0);',
'end if;',
'',
'    sys.htp.p(''<ul class="uChartList smallChart">'');',
'    sys.htp.p(''<li class="uBarChart uGrid col_full">'');',
'    sys.htp.p(''<a href="#">'');',
'    sys.htp.p(''<big class="uValue">'');',
'    sys.htp.p(''<span>'');',
'    sys.htp.p(''<small>''||sys.htf.escape_sc(l_name)||''</small>'');',
'    sys.htp.p(''<big style="width:''||l_percent||''%;"></big>'');',
'    sys.htp.p(''</span>'');',
'    sys.htp.p(''</big>'');',
'    sys.htp.p(''<small class="uLabel">Severity</small>'');',
'    sys.htp.p(''</a>'');',
'    sys.htp.p(''</li>'');',
'    sys.htp.p(''</ul>'');',
'end;',
'',
''))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
end;
/
begin
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2990421577521048134)
,p_plug_name=>'Resolution Urgency'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>160
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_03'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'    l_max number := 0;',
'    l_id  number := 0;',
'    l_percent number := 0;',
'    c number;',
'    l_name  varchar2(255) := null;',
'    l_color varchar2(255);',
'begin',
'',
'select id, urgency_NAME into l_id, l_name',
'from RCA13_INTRACK_URGENCY',
'where id = (select urgency_id from RCA13_intrack_incidents where id = :P50_ID);',
'',
'select count(*) c into l_max',
'from RCA13_INTRACK_URGENCY;',
'',
'c := 0;',
'for c1 in (select id',
'  from RCA13_INTRACK_URGENCY',
'  order by DISPLAY_SEQUENCE desc) loop',
'  c := c + 1;',
'  if c1.id = l_id then',
'     exit;',
'  end if;',
'end loop;',
'',
'if c = l_max then ',
'  l_color := ''red'';',
'end if;',
'',
'if l_max > 0 and c > 0 then',
'   l_percent := round(100*c/l_max,0);',
'end if;',
'',
'    sys.htp.p(''<ul class="uChartList smallChart">'');',
'    sys.htp.p(''<li class="uBarChart uGrid col_full">'');',
'    sys.htp.p(''<a href="#">'');',
'    sys.htp.p(''<big class="uValue">'');',
'    sys.htp.p(''<span>'');',
'    sys.htp.p(''<small>''||sys.htf.escape_sc(l_name)||''</small>'');',
'    sys.htp.p(''<big style="width:''||l_percent||''%;"></big>'');',
'    sys.htp.p(''</span>'');',
'    sys.htp.p(''</big>'');',
'    sys.htp.p(''<small class="uLabel">Resolution Urgency</small>'');',
'    sys.htp.p(''</a>'');',
'    sys.htp.p(''</li>'');',
'    sys.htp.p(''</ul>'');',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2991220097738876393)
,p_plug_name=>'Date Closed'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>170
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_03'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'    cursor query_cursor is',
'        select DATE_CLOSED,',
'            extract(day from localtimestamp) today,',
'            extract(day from DATE_CLOSED) bug_day,',
'            to_char(DATE_CLOSED,''Month'') bug_month,',
'            extract(year from DATE_CLOSED) bug_year,',
'            to_char(to_date(''01''||to_char(DATE_CLOSED,''MMYYYY''),''DDMMYYYY''),''D'') first_day,',
'            to_number(to_char(last_day(DATE_CLOSED),''DD'')) last_day,',
'            decode( sign( to_number(to_char(localtimestamp,''YYYYMM''))',
'                    - to_number(to_char(DATE_CLOSED,''YYYYMM''))),',
'                0, ''Y'', ''N'' ) show_today',
'        from RCA13_intrack_incidents_view',
'        where id = :P50_ID and DATE_CLOSED is not null;',
'    query_rec       query_cursor%ROWTYPE;',
'    l_dayofweek  number := 0;',
'    l_day        number := 0;',
'    l_class      varchar2(512) := '''';',
'    l_disp       varchar2(64) := '''';',
'    l_title      varchar2(255) := ''Date Closed'';',
'begin',
'    for query_rec in query_cursor loop',
'        sys.htp.prn(''<table class="uCalendarSmall">'');',
'        sys.htp.prn(''<caption>''||query_rec.bug_month||'' ''||query_rec.bug_year||''</caption>'');',
'        sys.htp.prn(''<thead>'');',
'        sys.htp.prn(''<tr>'');',
'        sys.htp.prn(''<th scope="col" title="Sunday">S</th>'');',
'        sys.htp.prn(''<th scope="col" title="Monday">M</th>'');',
'        sys.htp.prn(''<th scope="col" title="Tuesday">T</th>'');',
'        sys.htp.prn(''<th scope="col" title="Wednesday">W</th>'');',
'        sys.htp.prn(''<th scope="col" title="Thursday">T</th>'');',
'        sys.htp.prn(''<th scope="col" title="Friday">F</th>'');',
'        sys.htp.prn(''<th scope="col" title="Saturday">S</th>'');',
'        sys.htp.prn(''</tr>'');',
'        sys.htp.prn(''</thead>'');',
'        sys.htp.prn(''<tbody>'');',
'        for l_day in (2-query_rec.first_day)..40 loop',
'            l_dayofweek := l_dayofweek + 1;',
'            if l_dayofweek > 7 then l_dayofweek := 1; end if;',
'            l_class := ''''; l_disp := l_day;',
'            if l_day < 1 or l_day > query_rec.last_day then',
'                l_class := ''inactive'';',
'                l_disp := '''';',
'            else',
'                if l_dayofweek = 1 or l_dayofweek = 7 then',
'                    l_class := l_class || ''weekend '';',
'                end if;',
'                if query_rec.show_today = ''Y'' and l_day = query_rec.today then',
'                    l_class := l_class || ''today '';',
'                end if;',
'                if l_day = query_rec.bug_day then',
'                    l_class := l_class || ''active '';',
'                    l_disp := ''<span title="''||sys.htf.escape_sc(l_title)||''">''||l_day||''</span>'';',
'                end if;',
'            end if;',
'            if l_dayofweek = 1 then',
'                sys.htp.prn(''<tr>'');',
'            end if;',
'            sys.htp.prn(''<td class="''||l_class||''">''||l_disp||''</td>'');',
'            if l_dayofweek = 7 then',
'                sys.htp.prn(''</tr>'');',
'                if l_day >= query_rec.last_day then',
'                    exit;',
'                end if;',
'            end if;',
'        end loop;',
'        sys.htp.prn(''</tbody>'');',
'        sys.htp.prn(''</table>'');',
'    end loop;',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'EXISTS'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select 1',
'from RCA13_intrack_incidents_view',
'        where id = :P50_ID and DATE_CLOSED is not null'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2992857184850855668)
,p_plug_name=>'Date Created'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>172
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_03'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'    cursor query_cursor is',
'        select created,',
'            extract(day from localtimestamp) today,',
'            extract(day from created) bug_day,',
'            to_char(created,''Month'') bug_month,',
'            extract(year from created) bug_year,',
'            to_char(to_date(''01''||to_char(created,''MMYYYY''),''DDMMYYYY''),''D'') first_day,',
'            to_number(to_char(last_day(created),''DD'')) last_day,',
'            decode( sign( to_number(to_char(localtimestamp,''YYYYMM''))',
'                    - to_number(to_char(created,''YYYYMM''))),',
'                0, ''Y'', ''N'' ) show_today',
'        from RCA13_intrack_incidents_view',
'        where id = :P50_ID and created is not null;',
'    query_rec       query_cursor%ROWTYPE;',
'    l_dayofweek  number := 0;',
'    l_day        number := 0;',
'    l_class      varchar2(512) := '''';',
'    l_disp       varchar2(64) := '''';',
'    l_title      varchar2(255) := ''Date Closed'';',
'begin',
'    for query_rec in query_cursor loop',
'        sys.htp.prn(''<table class="uCalendarSmall">'');',
'        sys.htp.prn(''<caption>''||query_rec.bug_month||'' ''||query_rec.bug_year||''</caption>'');',
'        sys.htp.prn(''<thead>'');',
'        sys.htp.prn(''<tr>'');',
'        sys.htp.prn(''<th scope="col" title="Sunday">S</th>'');',
'        sys.htp.prn(''<th scope="col" title="Monday">M</th>'');',
'        sys.htp.prn(''<th scope="col" title="Tuesday">T</th>'');',
'        sys.htp.prn(''<th scope="col" title="Wednesday">W</th>'');',
'        sys.htp.prn(''<th scope="col" title="Thursday">T</th>'');',
'        sys.htp.prn(''<th scope="col" title="Friday">F</th>'');',
'        sys.htp.prn(''<th scope="col" title="Saturday">S</th>'');',
'        sys.htp.prn(''</tr>'');',
'        sys.htp.prn(''</thead>'');',
'        sys.htp.prn(''<tbody>'');',
'        for l_day in (2-query_rec.first_day)..40 loop',
'            l_dayofweek := l_dayofweek + 1;',
'            if l_dayofweek > 7 then l_dayofweek := 1; end if;',
'            l_class := ''''; l_disp := l_day;',
'            if l_day < 1 or l_day > query_rec.last_day then',
'                l_class := ''inactive'';',
'                l_disp := '''';',
'            else',
'                if l_dayofweek = 1 or l_dayofweek = 7 then',
'                    l_class := l_class || ''weekend '';',
'                end if;',
'                if query_rec.show_today = ''Y'' and l_day = query_rec.today then',
'                    l_class := l_class || ''today '';',
'                end if;',
'                if l_day = query_rec.bug_day then',
'                    l_class := l_class || ''active '';',
'                    l_disp := ''<span title="''||sys.htf.escape_sc(l_title)||''">''||l_day||''</span>'';',
'                end if;',
'            end if;',
'            if l_dayofweek = 1 then',
'                sys.htp.prn(''<tr>'');',
'            end if;',
'            sys.htp.prn(''<td class="''||l_class||''">''||l_disp||''</td>'');',
'            if l_dayofweek = 7 then',
'                sys.htp.prn(''</tr>'');',
'                if l_day >= query_rec.last_day then',
'                    exit;',
'                end if;',
'            end if;',
'        end loop;',
'        sys.htp.prn(''</tbody>'');',
'        sys.htp.prn(''</table>'');',
'    end loop;',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'NOT_EXISTS'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select 1',
'from RCA13_intrack_incidents_view',
'        where id = :P50_ID and DATE_CLOSED is not null'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675044697683627171)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2675044476546627171)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'javascript:closeModal();'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675044072855627169)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2675043691768627168)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'javascript:closeModal();'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675045890784627175)
,p_button_sequence=>50
,p_button_plug_id=>wwv_flow_api.id(2675045682525627175)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'javascript:closeModal();'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675044884823627174)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2675044476546627171)
,p_button_name=>'ADD_LINK_SUBMIT'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Link'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675043892483627168)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2675043691768627168)
,p_button_name=>'ADD_NOTE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Update'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675046080517627175)
,p_button_sequence=>60
,p_button_plug_id=>wwv_flow_api.id(2675045682525627175)
,p_button_name=>'ADD_FILE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Attachment'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675040284248627165)
,p_button_sequence=>70
,p_button_plug_id=>wwv_flow_api.id(2675038977826627163)
,p_button_name=>'GONOTES'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714674026585862)
,p_button_image_alt=>'View Updates'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:52:&SESSION.:::52:P52_ID:&P50_ID.'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675042892149627167)
,p_button_sequence=>100
,p_button_plug_id=>wwv_flow_api.id(2675042186768627166)
,p_button_name=>'VIEW_LINKS'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714674026585862)
,p_button_image_alt=>'View Links'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:44:&SESSION.:::44:P44_ID:&P50_ID.'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675041984694627166)
,p_button_sequence=>120
,p_button_plug_id=>wwv_flow_api.id(2675040684572627165)
,p_button_name=>'VIEW_ATTACHMENTS'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714674026585862)
,p_button_image_alt=>'View Attachments'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:53:&SESSION.:::53:P53_ID:&P50_ID.'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675040480261627165)
,p_button_sequence=>80
,p_button_plug_id=>wwv_flow_api.id(2675038977826627163)
,p_button_name=>'POPNOTE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714476264585861)
,p_button_image_alt=>'Add Update'
,p_button_position=>'REGION_TEMPLATE_EDIT'
,p_button_redirect_url=>'javascript:openModal(''ADDNOTEM'');'
,p_grid_new_grid=>false
,p_security_scheme=>wwv_flow_api.id(2856539680683820579)
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675043091165627167)
,p_button_sequence=>90
,p_button_plug_id=>wwv_flow_api.id(2675042186768627166)
,p_button_name=>'POP_LINK'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714476264585861)
,p_button_image_alt=>'Add Link'
,p_button_position=>'REGION_TEMPLATE_EDIT'
,p_button_redirect_url=>'javascript:openModal(''add_link_modal'')'
,p_grid_new_grid=>false
,p_security_scheme=>wwv_flow_api.id(2856539680683820579)
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675041786170627166)
,p_button_sequence=>110
,p_button_plug_id=>wwv_flow_api.id(2675040684572627165)
,p_button_name=>'POPATTACHMENT'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714476264585861)
,p_button_image_alt=>'Add Attachment'
,p_button_position=>'REGION_TEMPLATE_EDIT'
,p_button_redirect_url=>'javascript:openModal(''add_file_modal'');'
,p_grid_new_grid=>false
,p_security_scheme=>wwv_flow_api.id(2856539680683820579)
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675037795448627155)
,p_button_sequence=>130
,p_button_plug_id=>wwv_flow_api.id(2675037571796627152)
,p_button_name=>'EDIT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Edit Ticket'
,p_button_position=>'REGION_TEMPLATE_EDIT'
,p_button_redirect_url=>'f?p=&APP_ID.:28:&SESSION.::&DEBUG.:RP,28:P28_ID:&P50_ID.'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2675037981798627155)
,p_button_sequence=>140
,p_button_plug_id=>wwv_flow_api.id(2675037571796627152)
,p_button_name=>'ADD_ATTACHMENT'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_image_alt=>'Add Attachment'
,p_button_position=>'REGION_TEMPLATE_EDIT'
,p_button_redirect_url=>'javascript:openModal(''add_file_modal'');'
,p_grid_new_grid=>false
,p_security_scheme=>wwv_flow_api.id(2856539680683820579)
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2675050190810627182)
,p_branch_action=>'f?p=&APP_ID.:50:&SESSION.::&DEBUG.::P50_ID:&P50_ID.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>10
,p_branch_comment=>'Created 11-JAN-2012 16:02 by MIKE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2675038390867627157)
,p_name=>'P50_ID'
,p_item_sequence=>80
,p_item_plug_id=>wwv_flow_api.id(2675038167175627157)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2675044281855627171)
,p_name=>'P50_NOTE'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2675043691768627168)
,p_prompt=>'Note'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>80
,p_cMaxlength=>4000
,p_cHeight=>5
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2675045072153627174)
,p_name=>'P50_LINK_NAME'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2675044476546627171)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Link Name'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2675045297022627174)
,p_name=>'P50_LINK_TARGET'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2675044476546627171)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Target'
,p_source=>'http://'
,p_source_type=>'STATIC'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>80
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2675045494650627175)
,p_name=>'P50_LINK_COMMENTS'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2675044476546627171)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Description'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>3
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2675046278198627175)
,p_name=>'P50_FILE_COMMENTS'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(2675045682525627175)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Comments'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>80
,p_cMaxlength=>4000
,p_cHeight=>5
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2675046497426627175)
,p_name=>'P50_FILE'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2675045682525627175)
,p_prompt=>'File'
,p_post_element_text=>'<p><em>Attachments must be under 15M in size.</em></p>'
,p_display_as=>'NATIVE_FILE'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'WWV_FLOW_FILES'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2675046682316627175)
,p_name=>'P50_FILE_TAGS'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2675045682525627175)
,p_use_cache_before_default=>'NO'
,p_prompt=>'File Tags'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2675049379450627179)
,p_computation_sequence=>10
,p_computation_item=>'LAST_VIEW'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'50'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2675049493459627179)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'add link'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'insert into RCA13_INTRACK_LINKS ',
'(INCIDENT_ID, LINK_TEXT, link_target, LINK_COMMENTS) ',
'values ',
'(:P50_ID, nvl(:P50_LINK_NAME,:P50_LINK_TARGET), :P50_LINK_TARGET,:P50_LINK_COMMENTS);',
'',
':P50_LINK_TARGET := null;',
':P50_LINK_NAME := null;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2675044884823627174)
,p_process_when=>'P50_LINK_TARGET'
,p_process_when_type=>'VAL_OF_ITEM_IN_COND_NOT_EQ_COND2'
,p_process_when2=>'http://'
,p_process_success_message=>'Link added'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2675049886554627181)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'add note'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P50_NOTE is not null then',
'insert into RCA13_INTRACK_NOTES (INCIDENT_ID, note) values (:P50_ID, :P50_NOTE);',
'commit;',
'end if;',
':P50_NOTE := null;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2675043892483627168)
,p_process_when=>'P50_NOTE'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
,p_process_success_message=>'Note Added.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2675049693011627181)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'add file'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'  l_attachment_id RCA13_INTRACK_FILES.ID%type;',
'  l_attachment    RCA13_INTRACK_FILES.FILE_BLOB%type;',
'  l_filename      RCA13_INTRACK_FILES.FILENAME%type;',
'  l_mimetype      RCA13_INTRACK_FILES.FILE_MIMETYPE%type;',
'  l_charset       RCA13_INTRACK_FILES.FILE_CHARSET%type;',
'begin',
'  -- Get the data we need to insert into RCA13_MTGMIN_ATTACHMENT with',
'  begin',
'    select f.blob_content,',
'           f.filename,',
'           f.mime_type,',
'           nvl(f.file_charset, f.dad_charset)',
'      into l_attachment,',
'           l_filename,',
'           l_mimetype,',
'           l_charset',
'      from wwv_flow_files f',
'     where f.name = :P50_FILE;',
'  exception',
'    when no_data_found then',
'      l_attachment := null;',
'  end;',
'',
'  if l_attachment is not null then',
'    insert into RCA13_INTRACK_FILES',
'    (',
'      ID,',
'      INCIDENT_ID,',
'      FILENAME,',
'      FILE_BLOB,',
'      FILE_MIMETYPE,',
'      FILE_CHARSET,',
'      FILE_COMMENTS',
'    )',
'    values',
'    (',
'      l_attachment_id,',
'      :P50_ID,',
'      l_filename,',
'      l_attachment,',
'      l_mimetype,',
'      l_charset,',
'      :P50_FILE_COMMENTS',
'    ) returning ID into l_attachment_id;',
'',
'    --delete from wwv_flow_files where name = :P50_FILE;',
'',
'    :P50_FILE_TAGS := null;',
'    :P50_FILE  := null;',
'    --:FILE_COMMENTS := null;',
'  end if;',
'end;'))
,p_process_error_message=>'#SQLERRM_TEXT#'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2675046080517627175)
,p_process_success_message=>'Attachment uploaded.'
);
end;
/
prompt --application/pages/page_00051
begin
wwv_flow_api.create_page(
 p_id=>51
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Set Preferences'
,p_page_mode=>'NORMAL'
,p_step_title=>'Set Preferences'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122065355'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2862955884073891489)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2862956372598893374)
,p_plug_name=>'Set Preference'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2862956777100894705)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2862956372598893374)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:&LAST_VIEW.:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2862956970599894707)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2862956372598893374)
,p_button_name=>'APPLY_CHANGES'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2862957285065897000)
,p_branch_action=>'f?p=&APP_ID.:&LAST_VIEW.:&SESSION.::&DEBUG.:::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>10
,p_branch_comment=>'Created 02-MAR-2012 11:37 by MIKE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2862958398356910256)
,p_name=>'P51_TIMEZONE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2862956372598893374)
,p_item_default=>'UTC'
,p_prompt=>'Time Zone'
,p_source=>'select timezone_preference from RCA13_intrack_tz_pref where userid = :APP_USER'
,p_source_type=>'QUERY'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct tzname d, tzname r',
'  from V$TIMEZONE_NAMES',
' order by 1'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2862957574807903500)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'time zone'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'   c integer := 0;',
'begin',
'   for c1 in (select id, timezone_preference ',
'              from RCA13_intrack_tz_pref ',
'              where userid = :APP_USER) loop',
'      update RCA13_intrack_tz_pref',
'      set timezone_preference = nvl(:P51_TIMEZONE,''UTC'')',
'      where id = c1.id;',
'      c := c + 1;',
'   end loop;',
'   if c = 0 then',
'      insert into RCA13_intrack_tz_pref (userid, timezone_preference)',
'      values (:APP_USER,:P51_TIMEZONE);',
'   end if;',
'   APEX_UTIL.SET_SESSION_TIME_ZONE (  ',
'          P_TIME_ZONE => :P51_TIMEZONE); ',
'   commit;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2862956970599894707)
,p_process_success_message=>'Time Zone Set'
);
end;
/
prompt --application/pages/page_00052
begin
wwv_flow_api.create_page(
 p_id=>52
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Ticket Notes'
,p_page_mode=>'NORMAL'
,p_step_title=>'Ticket Notes'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122065304'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2677007373634689133)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2677030690282690489)
,p_plug_name=>'Button Bar'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_translate_title=>'N'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2958177680926405678)
,p_plug_name=>'Updates and Notes'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'    id,',
'    note,',
'    tags,',
'    created,',
'    created_by,',
'    updated,',
'    updated_by,',
'    ''#'' delete_note',
'from',
'    RCA13_INTRACK_NOTES',
'where',
'    incident_id = :P52_ID;'))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2958177791207405688)
,p_name=>'Updates and Notes'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:55:&SESSION.::&DEBUG.::P55_ID:#ID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif"  border="0" alt="Edit note" />'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'ASITTERS'
,p_internal_uid=>2639274339701084705
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2958178293373405704)
,p_db_column_name=>'NOTE'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Note'
,p_allow_sorting=>'N'
,p_allow_ctrl_breaks=>'N'
,p_allow_aggregations=>'N'
,p_allow_computations=>'N'
,p_allow_charting=>'N'
,p_allow_group_by=>'N'
,p_allow_pivot=>'N'
,p_column_type=>'CLOB'
,p_tz_dependent=>'N'
,p_static_id=>'NOTE'
,p_rpt_show_filter_lov=>'N'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2958178393545405704)
,p_db_column_name=>'TAGS'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'Tags'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'TAGS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2958178473342405704)
,p_db_column_name=>'CREATED'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'Created'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2958178583908405704)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2958178675313405704)
,p_db_column_name=>'UPDATED'
,p_display_order=>8
,p_column_identifier=>'H'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'since'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2958178788003405704)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>9
,p_column_identifier=>'I'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2958181780776594888)
,p_db_column_name=>'ID'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2958182170649610851)
,p_db_column_name=>'DELETE_NOTE'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'&nbsp;'
,p_column_link=>'f?p=&APP_ID.:52:&SESSION.:DELETE_NOTE:&DEBUG.::P52_DELETE_NOTE_ID:#ID#'
,p_column_linktext=>'<img src="#IMAGE_PREFIX#red_x_16.png" alt="Delete Note" />'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_display_text_as=>'WITHOUT_MODIFICATION'
,p_tz_dependent=>'N'
,p_static_id=>'DELETE_NOTE'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2958178895817410016)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'26373127'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'NOTE:TAGS:CREATED:CREATED_BY:UPDATED:UPDATED_BY:DELETE_NOTE:'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2958180280766519185)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2958177680926405678)
,p_button_name=>'RESET'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:52:&SESSION.::&DEBUG.:52,RIR:P52_ID:&P52_ID.'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2958180571547526030)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2958177680926405678)
,p_button_name=>'ADD_NOTE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Note'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2958203286756003500)
,p_branch_action=>'f?p=&APP_ID.:55:&SESSION.::&DEBUG.:55:P55_INCIDENT_ID:&P52_ID.'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(2958180571547526030)
,p_branch_sequence=>10
,p_branch_comment=>'Created 10-JUL-2012 08:44 by ASITTERS'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2677080470673694311)
,p_name=>'P52_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2677030690282690489)
,p_prompt=>'Ticket:'
,p_pre_element_text=>'<a href="f?p=&APP_ID.:50:&APP_SESSION.:::50:P50_ID:&P52_ID.">'
,p_post_element_text=>'</a>'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select INCIDENT_NUMBER||''. ''|| SUBJECT d, id r',
'from RCA13_INTRACK_INCIDENTS where id = :P52_ID'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'LOV'
,p_attribute_04=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2958181996013599329)
,p_name=>'P52_DELETE_NOTE_ID'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2958177680926405678)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2677144867472712333)
,p_computation_sequence=>10
,p_computation_item=>'P50_ID'
,p_computation_point=>'AFTER_FOOTER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'&P52_ID.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2958182782732661689)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Delete Note'
,p_process_sql_clob=>'delete from RCA13_intrack_notes where id = :P52_DELETE_NOTE_ID;'
,p_process_error_message=>'#SQLERRM#'
,p_process_when=>'DELETE_NOTE'
,p_process_when_type=>'REQUEST_EQUALS_CONDITION'
,p_process_success_message=>'Note deleted'
);
end;
/
prompt --application/pages/page_00053
begin
wwv_flow_api.create_page(
 p_id=>53
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Ticket Attachments'
,p_page_mode=>'NORMAL'
,p_step_title=>'Ticket Attachments'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122065157'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2758014072716545183)
,p_plug_name=>'Ticket Attachments'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select incident_id, ',
'id,',
'''<a href="''||APEX_UTIL.GET_BLOB_FILE_SRC(''P54_FILE_BLOB'',id)||''">''||sys.htf.escape_sc(filename)||''</a>'' name,',
'substr(file_comments,1,50)||decode(greatest(length(file_comments),50),50,'''',''...'') description,',
'TAGS,',
'dbms_lob.getlength(FILE_BLOB) file_size,',
'FILE_MIMETYPE mimetype,',
'created date_added, lower(created_by) added_by,',
'updated, lower(updated_by) updated_by,',
'''#'' delete_file',
'from RCA13_intrack_files',
'where incident_id = :P53_ID'))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2758014285545545184)
,p_name=>'Ticket Attachments'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:54:&SESSION.::&DEBUG.::P54_ID:#ID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif"  border="0">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'CBCHO'
,p_internal_uid=>2439110834039224201
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2758014388934545187)
,p_db_column_name=>'ID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2758014491507545188)
,p_db_column_name=>'INCIDENT_ID'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Incident Id'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'INCIDENT_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2758014998140545189)
,p_db_column_name=>'TAGS'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'Tags'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'TAGS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2758015280336545190)
,p_db_column_name=>'UPDATED'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Updated'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'UPDATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2758015386963545191)
,p_db_column_name=>'UPDATED_BY'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Updated By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'UPDATED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2758035597072550545)
,p_db_column_name=>'NAME'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_display_text_as=>'WITHOUT_MODIFICATION'
,p_tz_dependent=>'N'
,p_static_id=>'NAME'
,p_rpt_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select filename',
'from RCA13_intrack_files',
'where incident_id = :P53_ID',
'order by 1'))
,p_rpt_show_filter_lov=>'C'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2758035691107550546)
,p_db_column_name=>'DESCRIPTION'
,p_display_order=>13
,p_column_identifier=>'M'
,p_column_label=>'Description'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'DESCRIPTION'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2758035792493550546)
,p_db_column_name=>'FILE_SIZE'
,p_display_order=>14
,p_column_identifier=>'N'
,p_column_label=>'Size'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'FILE_SIZE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2758035878933550546)
,p_db_column_name=>'MIMETYPE'
,p_display_order=>15
,p_column_identifier=>'O'
,p_column_label=>'Mimetype'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'MIMETYPE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2758035992896550546)
,p_db_column_name=>'DATE_ADDED'
,p_display_order=>16
,p_column_identifier=>'P'
,p_column_label=>'Date Added'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'SINCE'
,p_tz_dependent=>'Y'
,p_static_id=>'DATE_ADDED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2758036077760550546)
,p_db_column_name=>'ADDED_BY'
,p_display_order=>17
,p_column_identifier=>'Q'
,p_column_label=>'Added By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'ADDED_BY'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2758036178824550547)
,p_db_column_name=>'DELETE_FILE'
,p_display_order=>18
,p_column_identifier=>'R'
,p_column_label=>'&nbsp;'
,p_column_link=>'f?p=&APP_ID.:53:&SESSION.:DELETE_FILE:&DEBUG.::P53_DELETE_FILE_ID:#ID#'
,p_column_linktext=>'<img src="#IMAGE_PREFIX#red_x_16.png" alt="">'
,p_allow_sorting=>'N'
,p_allow_filtering=>'N'
,p_allow_highlighting=>'N'
,p_allow_ctrl_breaks=>'N'
,p_allow_aggregations=>'N'
,p_allow_computations=>'N'
,p_allow_charting=>'N'
,p_allow_group_by=>'N'
,p_allow_pivot=>'N'
,p_allow_hide=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'DELETE_FILE'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2758088776771554089)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'24372226'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'NAME:FILE_SIZE:DESCRIPTION:DATE_ADDED:ADDED_BY:TAGS:DELETE_FILE:'
,p_sort_column_1=>'DATE_ADDED'
,p_sort_direction_1=>'ASC'
,p_sum_columns_on_break=>'FILE_SIZE'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2758015676110545191)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2758066473308553141)
,p_plug_name=>'Button Bar'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_translate_title=>'N'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2758236491924577459)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2758014072716545183)
,p_button_name=>'RESET_REPORT'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:53:&SESSION.::&DEBUG.:RP,RIR::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2758015578709545191)
,p_button_sequence=>50
,p_button_plug_id=>wwv_flow_api.id(2758014072716545183)
,p_button_name=>'ATTACH_FILE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Attachment'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:54:&SESSION.::&DEBUG.:54:P54_INCIDENT_ID:&P53_ID.'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2758693180674611989)
,p_name=>'P53_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2758066473308553141)
,p_prompt=>'Ticket:'
,p_pre_element_text=>'<a href="f?p=&APP_ID.:50:&APP_SESSION.:::50:P50_ID:&P53_ID.">'
,p_post_element_text=>'</a>'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_named_lov=>'TICKETS'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select subject, id',
'from RCA13_intrack_incidents_view',
'order by 1'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'LOV'
,p_attribute_04=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2758788688077623572)
,p_name=>'P53_DELETE_FILE_ID'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2758066473308553141)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(2758735294180615923)
,p_computation_sequence=>10
,p_computation_item=>'P50_ID'
,p_computation_point=>'AFTER_FOOTER'
,p_computation_type=>'ITEM_VALUE'
,p_computation=>'P53_ID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2758819473317628854)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'delete file'
,p_process_sql_clob=>'delete from RCA13_intrack_files where id = :P53_DELETE_FILE_ID;'
,p_process_when=>'DELETE_FILE'
,p_process_when_type=>'REQUEST_EQUALS_CONDITION'
,p_process_success_message=>'File deleted.'
);
end;
/
prompt --application/pages/page_00054
begin
wwv_flow_api.create_page(
 p_id=>54
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Attachment'
,p_page_mode=>'NORMAL'
,p_step_title=>'Attachment'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122065039'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2758009496315545093)
,p_plug_name=>'Attachment'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2758015886088545191)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2758009779398545097)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2758009496315545093)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P54_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2758010070071545097)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2758009496315545093)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:53:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2758009688800545097)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2758009496315545093)
,p_button_name=>'ATTACH_FILE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Attachment'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P54_ID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2758009893493545097)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2758009496315545093)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P54_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2758010677160545099)
,p_branch_action=>'f?p=&APP_ID.:53:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2758010873893545102)
,p_name=>'P54_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2758009496315545093)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Id'
,p_source=>'ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2758011096922545111)
,p_name=>'P54_INCIDENT_ID'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2758009496315545093)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Ticket:'
,p_pre_element_text=>'<a href="f?p=&APP_ID.:50:&APP_SESSION.:::50:P50_ID:&P53_ID.">'
,p_post_element_text=>'</a>'
,p_source=>'INCIDENT_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_named_lov=>'TICKETS'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select subject, id',
'from RCA13_intrack_incidents_view',
'order by 1'))
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
,p_attribute_02=>'LOV'
,p_attribute_04=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2758011271445545113)
,p_name=>'P54_FILENAME'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2758009496315545093)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Name:'
,p_source=>'FILENAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_display_when=>'P54_ID'
,p_display_when_type=>'ITEM_IS_NOT_NULL'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'VALUE'
,p_attribute_04=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2758011480357545113)
,p_name=>'P54_FILE_MIMETYPE'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2758009496315545093)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Mimetype:'
,p_source=>'FILE_MIMETYPE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_cSize=>60
,p_cMaxlength=>512
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_display_when=>'P54_ID'
,p_display_when_type=>'ITEM_IS_NOT_NULL'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'VALUE'
,p_attribute_04=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2758011667698545113)
,p_name=>'P54_FILE_BLOB'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2758009496315545093)
,p_use_cache_before_default=>'NO'
,p_prompt=>'File'
,p_post_element_text=>'<p><em>Attachments must be under 15M in size.</em></p>'
,p_source=>'FILE_BLOB'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_FILE'
,p_cSize=>60
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'DB_COLUMN'
,p_attribute_02=>'FILE_MIMETYPE'
,p_attribute_03=>'FILENAME'
,p_attribute_04=>'FILE_CHARSET'
,p_attribute_05=>'UPDATED'
,p_attribute_06=>'Y'
,p_attribute_08=>'attachment'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2758011874299545114)
,p_name=>'P54_FILE_COMMENTS'
,p_item_sequence=>80
,p_item_plug_id=>wwv_flow_api.id(2758009496315545093)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Description'
,p_source=>'FILE_COMMENTS'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2758012086828545114)
,p_name=>'P54_TAGS'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2758009496315545093)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Tags'
,p_source=>'TAGS'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2758013077724545117)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_FILES'
,p_attribute_02=>'RCA13_INTRACK_FILES'
,p_attribute_03=>'P54_ID'
,p_attribute_04=>'ID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2758013278635545117)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_FILES'
,p_attribute_02=>'RCA13_INTRACK_FILES'
,p_attribute_03=>'P54_ID'
,p_attribute_04=>'ID'
,p_attribute_11=>'I:U:D'
,p_process_error_message=>'#SQLERRM_TEXT#'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2758013478210545117)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2758009893493545097)
);
end;
/
prompt --application/pages/page_00055
begin
wwv_flow_api.create_page(
 p_id=>55
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Note'
,p_page_mode=>'NORMAL'
,p_step_title=>'Note'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Note'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122064938'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2958183996982712400)
,p_plug_name=>'Note'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2958186371438712411)
,p_plug_name=>'Note'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2958184783971712405)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2958183996982712400)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P55_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2958184186975712403)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2958183996982712400)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:52:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2958184395552712404)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2958183996982712400)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Note'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P55_ID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2958184598512712405)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2958183996982712400)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P55_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2958187767421712433)
,p_branch_action=>'f?p=&APP_ID.:52:&SESSION.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2958184991675712405)
,p_name=>'P55_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2958183996982712400)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Id'
,p_source=>'ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2958185167038712406)
,p_name=>'P55_INCIDENT_ID'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2958183996982712400)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Ticket:'
,p_pre_element_text=>'<a href="f?p=&APP_ID.:50:&APP_SESSION.::::P50_ID:&P44_ID.">'
,p_post_element_text=>'</a>'
,p_source=>'INCIDENT_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_named_lov=>'TICKETS'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select subject, id',
'from RCA13_intrack_incidents_view',
'order by 1'))
,p_cSize=>32
,p_cMaxlength=>255
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
,p_attribute_02=>'LOV'
,p_attribute_04=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2958185768613712408)
,p_name=>'P55_NOTE'
,p_is_required=>true
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2958183996982712400)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Description'
,p_source=>'NOTE'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT-TOP'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2958185998041712408)
,p_name=>'P55_TAGS'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2958183996982712400)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Tags'
,p_source=>'TAGS'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>63
,p_cMaxlength=>4000
,p_cHeight=>4
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2958187066604712431)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_NOTES'
,p_attribute_02=>'RCA13_INTRACK_NOTES'
,p_attribute_03=>'P55_ID'
,p_attribute_04=>'ID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2958187284348712432)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_NOTES'
,p_attribute_02=>'RCA13_INTRACK_NOTES'
,p_attribute_03=>'P55_ID'
,p_attribute_04=>'ID'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2958187473911712432)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2958184598512712405)
);
end;
/
prompt --application/pages/page_00056
begin
wwv_flow_api.create_page(
 p_id=>56
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Preferences'
,p_page_mode=>'NORMAL'
,p_step_title=>'Preferences'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Preferences'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122064858'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2866757380387280838)
,p_plug_name=>'Preference'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2866758175252280844)
,p_plug_name=>'Preferences'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2866757594874280839)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2866757380387280838)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:&LAST_VIEW.:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2866757785329280840)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2866757380387280838)
,p_button_name=>'APPLY_CHANGES'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2866758895076280847)
,p_branch_action=>'f?p=&APP_ID.:&LAST_VIEW.:&SESSION.::&DEBUG.:::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>10
,p_branch_comment=>'Created 02-MAR-2012 10:23 by MIKE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2866757988992280841)
,p_name=>'P56_TIMEZONE'
,p_is_required=>true
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2866757380387280838)
,p_use_cache_before_default=>'NO'
,p_item_default=>'return apex_util.get_session_time_zone;'
,p_item_default_type=>'PLSQL_FUNCTION_BODY'
,p_prompt=>'Time Zone'
,p_source=>'select timezone_preference from RCA13_intrack_tz_pref where userid = upper(:APP_USER)'
,p_source_type=>'QUERY'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct tzname d, tzname r',
'  from V$TIMEZONE_NAMES',
' order by 1'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2866758575510280846)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'set time zone'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'   c integer := 0;',
'begin',
'   for c1 in (select id, timezone_preference ',
'              from RCA13_intrack_tz_pref ',
'              where userid = :APP_USER) loop',
'      update RCA13_intrack_tz_pref',
'      set timezone_preference = nvl(:P56_TIMEZONE,''UTC'')',
'      where id = c1.id;',
'      c := c + 1;',
'   end loop;',
'   if c = 0 then',
'      insert into RCA13_intrack_tz_pref (userid, timezone_preference)',
'      values (:APP_USER,:P56_TIMEZONE);',
'   end if;',
'   APEX_UTIL.SET_SESSION_TIME_ZONE (P_TIME_ZONE => :P56_TIMEZONE); ',
'   commit;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Time Zone Set'
);
end;
/
prompt --application/pages/page_00057
begin
wwv_flow_api.create_page(
 p_id=>57
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Help'
,p_alias=>'HELP'
,p_page_mode=>'NORMAL'
,p_step_title=>'Help'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Help'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_html_page_header=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<style>',
'div#uOneCol div.helpContainer div.helpSide h1.appNameHeader {margin-top: 8px; font-size: 16px; line-height: 24px;}',
'div.helpContainer div.helpSide ul.vapList {',
'padding-top: 8px;}',
'</style>'))
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_protection_level=>'C'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122064744'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2911877768679864232)
,p_plug_name=>'Help Container'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'class="helpContainer"'
,p_plug_template=>wwv_flow_api.id(2674561286370567975)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_num_rows=>15
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2911877966137864233)
,p_plug_name=>'Help Side'
,p_parent_plug_id=>wwv_flow_api.id(2911877768679864232)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'class="helpSide"'
,p_plug_template=>wwv_flow_api.id(2674561286370567975)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY'
,p_plug_source=>'RCA13_intrack_fw.show_help_sidebar;'
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_num_rows=>15
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2911878169911864236)
,p_plug_name=>'Help Content'
,p_parent_plug_id=>wwv_flow_api.id(2911877768679864232)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'class="helpMain"'
,p_plug_template=>wwv_flow_api.id(2674561286370567975)
,p_plug_display_sequence=>50
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY'
,p_plug_source=>'RCA13_intrack_fw.show_help_main;'
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_num_rows=>15
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2911878969508864239)
,p_plug_name=>'Help'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>80
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
,p_plug_display_condition_type=>'NEVER'
);
end;
/
prompt --application/pages/page_00058
begin
wwv_flow_api.create_page(
 p_id=>58
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Assignee'
,p_page_mode=>'NORMAL'
,p_step_title=>'Assignee'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539680683820579)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122064717'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2987460393110443036)
,p_plug_name=>'Assignee'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2987464188627443067)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2987460695638443038)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2987460393110443036)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P58_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2987460983555443039)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2987460393110443036)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:48:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2987460570358443038)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2987460393110443036)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Assignee'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P58_ID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2987460793873443038)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2987460393110443036)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>'P58_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(2987461570805443041)
,p_branch_action=>'f?p=&APP_ID.:48:&SESSION.::&DEBUG.:::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2987461766156443049)
,p_name=>'P58_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2987460393110443036)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Id'
,p_source=>'ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2987461986033443062)
,p_name=>'P58_ASSIGNEE_NAME'
,p_is_required=>true
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2987460393110443036)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Assignee Name'
,p_source=>'ASSIGNEE_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717628245910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2987462189776443063)
,p_name=>'P58_EMAIL'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2987460393110443036)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Email'
,p_source=>'EMAIL'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717419700910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2987462368776443063)
,p_name=>'P58_IM'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2987460393110443036)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Im'
,p_source=>'IM'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717419700910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2987462576643443063)
,p_name=>'P58_PHONE1'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2987460393110443036)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Phone1'
,p_source=>'PHONE1'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717419700910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2987462768125443063)
,p_name=>'P58_PHONE2'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2987460393110443036)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Phone2'
,p_source=>'PHONE2'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>32
,p_cMaxlength=>255
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717419700910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2987463681596443065)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_INTRACK_ASSIGNEES'
,p_attribute_02=>'RCA13_INTRACK_ASSIGNEES'
,p_attribute_03=>'P58_ID'
,p_attribute_04=>'ID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2987463870501443067)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_INTRACK_ASSIGNEES'
,p_attribute_02=>'RCA13_INTRACK_ASSIGNEES'
,p_attribute_03=>'P58_ID'
,p_attribute_04=>'ID'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(2987464096529443067)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(2987460793873443038)
);
end;
/
prompt --application/pages/page_00059
begin
wwv_flow_api.create_page(
 p_id=>59
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Ticket Calendar'
,p_page_mode=>'NORMAL'
,p_step_title=>'Ticket Calendar'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131127115307'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2990423186619163388)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_calendar(
 p_id=>wwv_flow_api.id(2992936292794457041)
,p_plug_name=>'Incidents'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select ',
'	 "PRODUCT_NAME",',
'         product_version,',
'         customer,',
'	 "STATUS_NAME",',
'         status_code||''. ''||status_name status,',
'	 "SEVERITY_NAME",',
'         id,',
'	 "INCIDENT_NUMBER",',
'	 "SUBJECT",',
'         assignee,',
'	 "BUG_NUMBER",',
'	 "CATEGORY_ID",',
'	 "ASSIGNED_TO_ID",',
'	 "ASSIGNED_ON",',
'	 "DATE_CLOSED",',
'	 "DESCRIPTION",',
'	 "PRODUCT_ID",',
'	 "PRODUCT_VERSION_ID",',
'	 "ADDITIONAL_PRODUCT_INFO",',
'	 "CUSTOMER_ID",',
'	 "CUSTOMER_DEPARTMENT",',
'	 "SEVERITY_ID",',
'	 "STATUS_ID",',
'         status_code,',
'         decode(status_type,''OPEN'',''Open'',''CLOSED'',''Closed'',status_type)',
'            status_type,',
'	 "TAGS",',
'	"CREATED",',
'	"CREATED_BY",',
'	"UPDATED"',
' from ( select a.* from RCA13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c',
'where a.id = b.ticket_id and b.system_id = c.system_id )'))
,p_plug_source_type=>'NATIVE_CALENDAR'
,p_plug_display_sequence=>10
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_item_display_point=>'ABOVE'
,p_cal_id=>wwv_flow_api.id(2992936476788457042)
,p_begin_at_start_of_interval=>'Y'
,p_date_item=>'P59_CALENDAR_DATE'
,p_display_as=>'M'
,p_display_item=>'P59_CALENDAR_DISPLAY'
,p_display_type=>'CUS'
,p_item_format=>'#INCIDENT_NUMBER# - #CUSTOMER# - #PRODUCT_NAME# - #CREATED_BY#'
,p_date_column=>'CREATED'
,p_start_of_week=>19721105
,p_item_link=>'f?p=&FLOW_ID.:50:&SESSION.::&DEBUG.:50:P50_ID:#ID#'
,p_start_time=>0
,p_end_time=>23
,p_time_format=>'24HOUR'
,p_week_start_day=>19721105
,p_week_end_day=>19721111
,p_date_type_column=>'P59_CALENDAR_TYPE'
,p_end_date_item=>'P59_CALENDAR_END_DATE'
,p_include_custom_cal=>'N'
,p_custom_cal_days=>3
,p_primary_key_column=>'ID'
,p_item_link_open_in=>'W'
,p_include_time_with_date=>'Y'
,p_agenda_cal_days_type=>'MONTH'
,p_agenda_cal_days=>30
,p_calendar_type=>'A'
,p_template_id=>wwv_flow_api.id(2992934873270441981)
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2992937872876457047)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2992936292794457041)
,p_button_name=>'PREVIOUS'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204585164343995)
,p_button_image_alt=>'Previous'
,p_button_position=>'TOP'
,p_button_redirect_url=>'javascript:apex.widget.calendar.ajax_calendar(''S'',''previous'');'
,p_grid_new_grid=>false
,p_button_comment=>'Generated 08/13/2012'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2992938075991457047)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(2992936292794457041)
,p_button_name=>'TODAY'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Today'
,p_button_position=>'TOP'
,p_button_redirect_url=>'javascript:apex.widget.calendar.ajax_calendar(''S'',''today'');'
,p_grid_new_grid=>false
,p_button_comment=>'Generated 08/13/2012'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2992938281880457049)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(2992936292794457041)
,p_button_name=>'NEXT'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204383161343979)
,p_button_image_alt=>'Next'
,p_button_position=>'TOP'
,p_button_redirect_url=>'javascript:apex.widget.calendar.ajax_calendar(''S'',''next'');'
,p_grid_new_grid=>false
,p_button_comment=>'Generated 08/13/2012'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2992936775837457042)
,p_name=>'P59_CALENDAR_TYPE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2992936292794457041)
,p_use_cache_before_default=>'NO'
,p_prompt=>'P59_CALENDAR_DISPLAY'
,p_source=>'P59_CALENDAR_TYPE'
,p_source_type=>'ITEM'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_item_comment=>'Generated by Calendar wizard on 08/13/2012'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2992936968264457042)
,p_name=>'P59_CALENDAR_DATE'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2992936292794457041)
,p_use_cache_before_default=>'NO'
,p_item_default=>'return sysdate;'
,p_item_default_type=>'PLSQL_FUNCTION_BODY'
,p_prompt=>'Start Date'
,p_source=>'P59_CALENDAR_DATE'
,p_source_type=>'ITEM'
,p_display_as=>'NATIVE_HIDDEN'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_item_comment=>'Generated by Calendar wizard on 08/13/2012'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2992937178900457046)
,p_name=>'P59_CALENDAR_END_DATE'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2992936292794457041)
,p_use_cache_before_default=>'NO'
,p_item_default=>'return sysdate+7;'
,p_item_default_type=>'PLSQL_FUNCTION_BODY'
,p_prompt=>'End Date'
,p_source=>'P59_CALENDAR_END_DATE'
,p_source_type=>'ITEM'
,p_display_as=>'NATIVE_HIDDEN'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_item_comment=>'Generated by Calendar wizard on 08/13/2012'
);
end;
/
prompt --application/pages/page_00060
begin
wwv_flow_api.create_page(
 p_id=>60
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Activity Calendar'
,p_page_mode=>'NORMAL'
,p_step_title=>'Activity Calendar'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_last_updated_by=>'MIKE'
,p_last_upd_yyyymmddhh24miss=>'20120813160951'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2992930375584426632)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_calendar(
 p_id=>wwv_flow_api.id(2992931694133429089)
,p_plug_name=>'Activity Calendar'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'lower(USERID)      "THE_USER",',
'trim(to_char(count(*),''999G999G999G990''))   "Page Events",',
'trunc(time_stamp) the_day',
'from apex_activity_log l',
'where flow_id = :app_id and userid is not null and userid != ''nobody''',
'group by trunc(time_stamp), lower(USERID)'))
,p_plug_source_type=>'NATIVE_CALENDAR'
,p_plug_display_sequence=>11
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_item_display_point=>'ABOVE'
,p_cal_id=>wwv_flow_api.id(2992931871637429089)
,p_begin_at_start_of_interval=>'Y'
,p_date_item=>'P60_CALENDAR_DATE'
,p_display_as=>'M'
,p_display_item=>'P60_CALENDAR_DISPLAY'
,p_display_type=>'CUS'
,p_item_format=>'#THE_USER# - #Page Events#'
,p_date_column=>'THE_DAY'
,p_start_of_week=>19721105
,p_item_link=>'#'
,p_start_time=>0
,p_end_time=>23
,p_time_format=>'24HOUR'
,p_week_start_day=>19721105
,p_week_end_day=>19721111
,p_date_type_column=>'P60_CALENDAR_TYPE'
,p_end_date_item=>'P60_CALENDAR_END_DATE'
,p_include_custom_cal=>'N'
,p_custom_cal_days=>3
,p_primary_key_column=>'THE_USER'
,p_item_link_open_in=>'W'
,p_include_time_with_date=>'Y'
,p_agenda_cal_days_type=>'MONTH'
,p_agenda_cal_days=>30
,p_calendar_type=>'A'
,p_template_id=>wwv_flow_api.id(2992934873270441981)
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2992933296575429090)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(2992931694133429089)
,p_button_name=>'PREVIOUS'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204585164343995)
,p_button_image_alt=>'Previous'
,p_button_position=>'TOP'
,p_button_redirect_url=>'javascript:apex.widget.calendar.ajax_calendar(''S'',''previous'');'
,p_grid_new_grid=>false
,p_button_comment=>'Generated 08/13/2012'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2992933480032429090)
,p_button_sequence=>50
,p_button_plug_id=>wwv_flow_api.id(2992931694133429089)
,p_button_name=>'TODAY'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Today'
,p_button_position=>'TOP'
,p_button_redirect_url=>'javascript:apex.widget.calendar.ajax_calendar(''S'',''today'');'
,p_grid_new_grid=>false
,p_button_comment=>'Generated 08/13/2012'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2992933682829429091)
,p_button_sequence=>60
,p_button_plug_id=>wwv_flow_api.id(2992931694133429089)
,p_button_name=>'NEXT'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204383161343979)
,p_button_image_alt=>'Next'
,p_button_position=>'TOP'
,p_button_redirect_url=>'javascript:apex.widget.calendar.ajax_calendar(''S'',''next'');'
,p_grid_new_grid=>false
,p_button_comment=>'Generated 08/13/2012'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2992932184737429089)
,p_name=>'P60_CALENDAR_TYPE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2992931694133429089)
,p_use_cache_before_default=>'NO'
,p_prompt=>'P60_CALENDAR_DISPLAY'
,p_source=>'P60_CALENDAR_TYPE'
,p_source_type=>'ITEM'
,p_display_as=>'NATIVE_HIDDEN'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_item_comment=>'Generated by Calendar wizard on 08/13/2012'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2992932385444429090)
,p_name=>'P60_CALENDAR_DATE'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2992931694133429089)
,p_use_cache_before_default=>'NO'
,p_item_default=>'return sysdate;'
,p_item_default_type=>'PLSQL_FUNCTION_BODY'
,p_prompt=>'Start Date'
,p_source=>'P60_CALENDAR_DATE'
,p_source_type=>'ITEM'
,p_display_as=>'NATIVE_HIDDEN'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_item_comment=>'Generated by Calendar wizard on 08/13/2012'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2992932569594429090)
,p_name=>'P60_CALENDAR_END_DATE'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2992931694133429089)
,p_use_cache_before_default=>'NO'
,p_item_default=>'return sysdate+7;'
,p_item_default_type=>'PLSQL_FUNCTION_BODY'
,p_prompt=>'End Date'
,p_source=>'P60_CALENDAR_END_DATE'
,p_source_type=>'ITEM'
,p_display_as=>'NATIVE_HIDDEN'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_item_comment=>'Generated by Calendar wizard on 08/13/2012'
);
end;
/
prompt --application/pages/page_00062
begin
wwv_flow_api.create_page(
 p_id=>62
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_name=>'Manage Users'
,p_page_mode=>'NORMAL'
,p_step_title=>'Manage Users'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'ADMIN'
,p_last_upd_yyyymmddhh24miss=>'20160411051648'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(81485010083648789)
,p_name=>'Manage Users'
,p_template=>wwv_flow_api.id(6040713703191910732)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>'select username,decode(access_level_id,1,''Reader'',2,''Contributor'',3,''Administrator'',''Unknown'') Access_Level from RCA13_intrack_users'
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>15
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(81485316008648791)
,p_query_column_id=>1
,p_column_alias=>'USERNAME'
,p_column_display_sequence=>1
,p_column_heading=>'USERNAME'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(81485411769648794)
,p_query_column_id=>2
,p_column_alias=>'ACCESS_LEVEL'
,p_column_display_sequence=>2
,p_column_heading=>'ACCESS_LEVEL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(81485621873655819)
,p_name=>'P62_USER_NAME'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(81485010083648789)
,p_prompt=>'User Name'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
end;
/
prompt --application/pages/page_00101
begin
wwv_flow_api.create_page(
 p_id=>101
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_name=>'Login'
,p_alias=>'LOGIN'
,p_page_mode=>'NORMAL'
,p_step_title=>'Login'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'OFF'
,p_step_template=>wwv_flow_api.id(6040710423386910722)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'Y'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_last_updated_by=>'ASITTERS'
,p_last_upd_yyyymmddhh24miss=>'20120508073509'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(4053495551120880322)
,p_plug_name=>'&APP_NAME.'
,p_region_name=>'incident_tracking'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2803122468068211582)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2803219884605217137)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(4053495551120880322)
,p_button_name=>'LOGIN'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Login'
,p_button_position=>'REGION_TEMPLATE_NEXT'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(4053495652978880324)
,p_name=>'P101_USERNAME'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(4053495551120880322)
,p_prompt=>'Username'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>40
,p_cMaxlength=>100
,p_cHeight=>1
,p_colspan=>2
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(4053495746815880326)
,p_name=>'P101_PASSWORD'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(4053495551120880322)
,p_prompt=>'Password'
,p_display_as=>'NATIVE_PASSWORD'
,p_cSize=>40
,p_cMaxlength=>100
,p_cHeight=>1
,p_colspan=>1
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_restricted_characters=>'WEB_SAFE'
,p_attribute_01=>'Y'
,p_attribute_02=>'Y'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(2922320672876261517)
,p_name=>'Set Focus'
,p_event_sequence=>10
,p_triggering_condition_type=>'JAVASCRIPT_EXPRESSION'
,p_triggering_expression=>'( $v( "P101_USERNAME" ) === "" )'
,p_bind_type=>'bind'
,p_bind_event_type=>'ready'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(2922320970009261518)
,p_event_id=>wwv_flow_api.id(2922320672876261517)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'N'
,p_action=>'NATIVE_SET_FOCUS'
,p_affected_elements_type=>'ITEM'
,p_affected_elements=>'P101_USERNAME'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(2922321172881261518)
,p_event_id=>wwv_flow_api.id(2922320672876261517)
,p_event_result=>'FALSE'
,p_action_sequence=>20
,p_execute_on_page_init=>'N'
,p_action=>'NATIVE_SET_FOCUS'
,p_affected_elements_type=>'ITEM'
,p_affected_elements=>'P101_PASSWORD'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(4053496060978880328)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Set Username Cookie'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'owa_util.mime_header(''text/html'', FALSE);',
'owa_cookie.send(',
'    name=>''LOGIN_USERNAME_COOKIE'',',
'    value=>lower(:P101_USERNAME));',
'exception when others then null;',
'end;'))
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(4053495941578880327)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Login'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'wwv_flow_custom_auth_std.login(',
'    P_UNAME       => :P101_USERNAME,',
'    P_PASSWORD    => :P101_PASSWORD,',
'    P_SESSION_ID  => v(''APP_SESSION''),',
'    P_FLOW_PAGE   => :APP_ID||'':1''',
'    );'))
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(4053496237170880329)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'Clear Page(s) Cache'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(4053496142130880329)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Get Username Cookie'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'    v varchar2(255) := null;',
'    c owa_cookie.cookie;',
'begin',
'   c := owa_cookie.get(''LOGIN_USERNAME_COOKIE'');',
'   :P101_USERNAME := c.vals(1);',
'exception when others then null;',
'end;'))
);
end;
/
prompt --application/pages/page_00175
begin
wwv_flow_api.create_page(
 p_id=>175
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Error Report'
,p_page_mode=>'NORMAL'
,p_step_title=>'Error Report'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Error Report'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(2856539191958820577)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122064614'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2964867166461123290)
,p_plug_name=>'Errors'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'    ID,',
'    ERR_TIME,',
'    APP_ID,',
'    APP_PAGE_ID,',
'    APP_USER,',
'    USER_AGENT,',
'    IP_ADDRESS,',
'    IP_ADDRESS2,',
'    MESSAGE,',
'    PAGE_ITEM_NAME,',
'    REGION_ID,',
'    COLUMN_ALIAS,',
'    ROW_NUM,',
'    APEX_ERROR_CODE,',
'    ORA_SQLCODE,',
'    ORA_SQLERRM,',
'    ERROR_BACKTRACE',
'from RCA13_intrack_errors'))
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(2964867368314123290)
,p_name=>'Errors'
,p_max_row_count=>'100000'
,p_max_row_count_message=>'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.'
,p_no_data_found_message=>'No data found.'
,p_base_pk1=>'ID'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#magnifying_glass_white_bg.gif" alt="">'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'DAVID.GALE'
,p_internal_uid=>2645963916807802307
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964867468544123290)
,p_db_column_name=>'ID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'ID'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964867594207123291)
,p_db_column_name=>'ERR_TIME'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Time'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_tz_dependent=>'Y'
,p_static_id=>'ERR_TIME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964867682735123292)
,p_db_column_name=>'APP_ID'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Application ID'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_display_text_as=>'HIDDEN'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'APP_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964867770719123292)
,p_db_column_name=>'APP_USER'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'User'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'APP_USER'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964867898443123292)
,p_db_column_name=>'USER_AGENT'
,p_display_order=>5
,p_column_identifier=>'E'
,p_column_label=>'User Agent'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'USER_AGENT'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964867995728123292)
,p_db_column_name=>'IP_ADDRESS'
,p_display_order=>6
,p_column_identifier=>'F'
,p_column_label=>'IP Address'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'IP_ADDRESS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964868083749123292)
,p_db_column_name=>'IP_ADDRESS2'
,p_display_order=>7
,p_column_identifier=>'G'
,p_column_label=>'IP Address 2'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'IP_ADDRESS2'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964868177650123292)
,p_db_column_name=>'MESSAGE'
,p_display_order=>8
,p_column_identifier=>'H'
,p_column_label=>'Error Message'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'MESSAGE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964868279156123293)
,p_db_column_name=>'PAGE_ITEM_NAME'
,p_display_order=>9
,p_column_identifier=>'I'
,p_column_label=>'Page Item'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'PAGE_ITEM_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964868386499123293)
,p_db_column_name=>'REGION_ID'
,p_display_order=>10
,p_column_identifier=>'J'
,p_column_label=>'Region ID'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'REGION_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964868487778123293)
,p_db_column_name=>'COLUMN_ALIAS'
,p_display_order=>11
,p_column_identifier=>'K'
,p_column_label=>'Column Alias'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'COLUMN_ALIAS'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964868571206123293)
,p_db_column_name=>'ROW_NUM'
,p_display_order=>12
,p_column_identifier=>'L'
,p_column_label=>'Row Number'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'ROW_NUM'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964868690802123293)
,p_db_column_name=>'APEX_ERROR_CODE'
,p_display_order=>13
,p_column_identifier=>'M'
,p_column_label=>'Apex Error Code'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'APEX_ERROR_CODE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964868774579123293)
,p_db_column_name=>'ORA_SQLCODE'
,p_display_order=>14
,p_column_identifier=>'N'
,p_column_label=>'SQLCODE'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'ORA_SQLCODE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964868891951123293)
,p_db_column_name=>'ORA_SQLERRM'
,p_display_order=>15
,p_column_identifier=>'O'
,p_column_label=>'SQLERRM'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'ORA_SQLERRM'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964868989770123293)
,p_db_column_name=>'ERROR_BACKTRACE'
,p_display_order=>16
,p_column_identifier=>'P'
,p_column_label=>'Error Backtrace'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'ERROR_BACKTRACE'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(2964869072423123293)
,p_db_column_name=>'APP_PAGE_ID'
,p_display_order=>17
,p_column_identifier=>'Q'
,p_column_label=>'Page'
,p_allow_pivot=>'N'
,p_column_type=>'NUMBER'
,p_column_alignment=>'RIGHT'
,p_tz_dependent=>'N'
,p_static_id=>'APP_PAGE_ID'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(2964869180986123298)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'26440030'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'ERR_TIME:APP_USER:APP_PAGE_ID:PAGE_ITEM_NAME:MESSAGE:APEX_ERROR_CODE:'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2964869566621123299)
,p_plug_name=>'Error Report'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(2988902985903243607)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(2964867166461123290)
,p_button_name=>'RESET'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset Report'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:175:&SESSION.::&DEBUG.:RP,RIR::'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_00300
begin
wwv_flow_api.create_page(
 p_id=>300
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_name=>'Incident Tracking Mobile'
,p_alias=>'MOBILE'
,p_page_mode=>'NORMAL'
,p_step_title=>'Incident Tracking Mobile'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_html_page_header=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<style>',
'table.mobile-value-attribute-pairs tbody tr th.mValueHeading {',
'  width: 150px;',
'  text-align:right;',
'  }',
'</style>'))
,p_step_template=>wwv_flow_api.id(2915926996047955784)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_last_updated_by=>'ASITTERS'
,p_last_upd_yyyymmddhh24miss=>'20120509114127'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(2918060182931797642)
,p_plug_name=>'Mobile Menu'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_column=>1
,p_plug_display_point=>'BODY_3'
,p_list_id=>wwv_flow_api.id(2918059382061759530)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(2915929882398958515)
,p_plug_query_row_template=>1
);
end;
/
prompt --application/pages/page_00301
begin
wwv_flow_api.create_page(
 p_id=>301
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_name=>'Summary'
,p_page_mode=>'NORMAL'
,p_step_title=>'Summary'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_html_page_header=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<style>',
'table.mobile-value-attribute-pairs tbody tr th.mValueHeading {',
'  width: 150px;',
'  text-align:right;',
'  }',
'</style>'))
,p_step_template=>wwv_flow_api.id(2915926996047955784)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20140821232713'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918067998459048110)
,p_name=>'System Details'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  preference_value as system',
'from',
'  RCA13_intrack_preferences',
'where',
'  preference_name = ''SYSTEM_NAME'''))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920672092583814595)
,p_query_headings_type=>'QUERY_COLUMNS_INITCAP'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918068777596060964)
,p_query_column_id=>1
,p_column_alias=>'SYSTEM'
,p_column_display_sequence=>1
,p_column_heading=>'SYSTEM'
,p_default_sort_column_sequence=>1
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918070289810121310)
,p_name=>'Incident Details'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  v1.num_total || ''<br />'' || ',
'  ''<a href="f?p=''||:APP_ID||'':305:''||:APP_SESSION||'':::305:P305_BUG_TYPE:OPEN" class="ui-link">''||v1.num_open||''</a>'' || ''<br />'' || ',
'  ''<a href="f?p=''||:APP_ID||'':305:''||:APP_SESSION||'':::305:P305_BUG_TYPE:CLOSED" class="ui-link">''||v1.num_closed||''</a>'' as incidents',
'from',
'  (',
'    select',
'      count(*) || '' Total'' as num_total,',
'      sum(decode(status_type,''OPEN'',1,0)) || '' Open'' as num_open,',
'      sum(decode(status_type,''CLOSED'',1,0)) || '' Closed'' as num_closed',
'    from',
'      RCA13_intrack_incidents_view',
'  ) v1',
'order by 1'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920672092583814595)
,p_query_headings_type=>'QUERY_COLUMNS_INITCAP'
,p_query_num_rows=>1
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>1
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2920760192582351776)
,p_query_column_id=>1
,p_column_alias=>'INCIDENTS'
,p_column_display_sequence=>1
,p_column_heading=>'INCIDENTS'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918072871034560556)
,p_name=>'Top Severity Counts'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  RCA13_intrack.get_mobile_incident_details(''SEVERITY_ID'',',
'                                          :APP_SESSION) as severity_counts',
'from dual',
'order by 1'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920672092583814595)
,p_query_headings_type=>'QUERY_COLUMNS_INITCAP'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2922475876962651740)
,p_query_column_id=>1
,p_column_alias=>'SEVERITY_COUNTS'
,p_column_display_sequence=>1
,p_column_heading=>'SEVERITY_COUNTS'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918074986805678661)
,p_name=>'Top Urgency Counts'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  RCA13_intrack.get_mobile_incident_details(''URGENCY_NAME'',',
'                                          :APP_SESSION) as urgency_counts',
'from dual',
'order by 1'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920672092583814595)
,p_query_headings_type=>'QUERY_COLUMNS_INITCAP'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2922476196140666756)
,p_query_column_id=>1
,p_column_alias=>'URGENCY_COUNTS'
,p_column_display_sequence=>1
,p_column_heading=>'URGENCY_COUNTS'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918075396848681590)
,p_name=>'Top Status Codes'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>50
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  RCA13_intrack.get_mobile_incident_details(''STATUS_CODE'',',
'                                          :APP_SESSION) as status_counts',
'from dual',
'order by 1'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920672092583814595)
,p_query_headings_type=>'QUERY_COLUMNS_INITCAP'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2922476490730674663)
,p_query_column_id=>1
,p_column_alias=>'STATUS_COUNTS'
,p_column_display_sequence=>1
,p_column_heading=>'STATUS_COUNTS'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918075774123684517)
,p_name=>'Top Products'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>60
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  RCA13_intrack.get_mobile_incident_details(''PRODUCT'',',
'                                          :APP_SESSION) as top_products',
'from dual',
'order by 1'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920672092583814595)
,p_query_headings_type=>'QUERY_COLUMNS_INITCAP'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2922477498264695755)
,p_query_column_id=>1
,p_column_alias=>'TOP_PRODUCTS'
,p_column_display_sequence=>1
,p_column_heading=>'TOP_PRODUCTS'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918076180010686188)
,p_name=>'Top Customers'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>70
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  RCA13_intrack.get_mobile_incident_details(''CUSTOMER_ID'',',
'                                          :APP_SESSION ) as top_customers',
'from dual',
'order by 1'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920672092583814595)
,p_query_headings_type=>'QUERY_COLUMNS_INITCAP'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2922492098657074315)
,p_query_column_id=>1
,p_column_alias=>'TOP_CUSTOMERS'
,p_column_display_sequence=>1
,p_column_heading=>'TOP_CUSTOMERS'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
end;
/
prompt --application/pages/page_00302
begin
wwv_flow_api.create_page(
 p_id=>302
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_name=>'Recent Activity'
,p_page_mode=>'NORMAL'
,p_step_title=>'Recent Activity'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Recent Activity'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(2915926996047955784)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122064326'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918081885531886464)
,p_name=>'Recent Activity'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  ''<a href="''||apex_util.prepare_url(''f?p='' || :APP_ID || '':303:'' || :APP_SESSION || '':::303:P303_BUG_ID:'' || sys.htf.escape_sc(v1.id)) || ''">'' || sys.htf.escape_sc(v1.incident_number) || '' - '' || sys.htf.escape_sc(v1.subject) || ''<br /><small>'' || s'
||'ys.htf.escape_sc(v1.action) || ''</small></a>'' as info,',
'  v1.last_updated_on',
'from',
'  (',
'    select',
'      subject,',
'      case',
'        when updated > created then',
'          ''Updated by '' || lower(updated_by)',
'        when updated is null or updated = created then',
'          ''Created by '' || lower(created_by)',
'      end as action,',
'      nvl(updated, created) as last_updated_on,',
'      incident_number,',
'      id',
'    from',
'      RCA13_intrack_incidents_view',
'    order by',
'      updated desc',
'  ) v1'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920671482959814591)
,p_query_headings_type=>'QUERY_COLUMNS'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918195597173348656)
,p_query_column_id=>1
,p_column_alias=>'INFO'
,p_column_display_sequence=>2
,p_column_heading=>'Info'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918082288846886467)
,p_query_column_id=>2
,p_column_alias=>'LAST_UPDATED_ON'
,p_column_display_sequence=>1
,p_column_heading=>'Last Updated On'
,p_use_as_row_header=>'N'
,p_column_format=>'since'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
end;
/
prompt --application/pages/page_00303
begin
wwv_flow_api.create_page(
 p_id=>303
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_name=>'Details'
,p_page_mode=>'NORMAL'
,p_step_title=>'Details'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Bug Details'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(2915926996047955784)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122064232'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918196973896436504)
,p_name=>'Incident Details'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  product_name || '', '' || nvl(product_version,''(no version provided)'') as "PRODUCT_NAME",',
'  customer || '' - '' || customer_contact_name || ',
'      '' ( '' ||       customer_contact_email || '' )'' as customer,',
'  status_code || ''. '' || status_name || '' ( ''||',
'      decode(status_type,''OPEN'',''Open'',''CLOSED'',',
'      ''Closed'',status_type) ||'' )'' as status,',
'  "SEVERITY_NAME",',
'  incident_number || '' - '' || SUBJECT as subject,',
'  case',
'    when assignee is not null and assigned_on is not null then',
'      assignee || '', assigned '' || apex_util.get_since(assigned_on)',
'    else',
'      ''Unassigned''',
'  end as assignee,',
'  "DATE_CLOSED",',
'  "DESCRIPTION",',
'  "URGENCY_NAME"',
'from',
'  RCA13_intrack_incidents_view',
'where',
'  id = :P303_BUG_ID',
'order by',
'  1'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_footer=>'<br clear="all" />'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920672092583814595)
,p_query_num_rows=>1
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>1
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918197266638436534)
,p_query_column_id=>1
,p_column_alias=>'PRODUCT_NAME'
,p_column_display_sequence=>3
,p_column_heading=>'Product'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918197372609436534)
,p_query_column_id=>2
,p_column_alias=>'CUSTOMER'
,p_column_display_sequence=>4
,p_column_heading=>'Customer'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918197493904436534)
,p_query_column_id=>3
,p_column_alias=>'STATUS'
,p_column_display_sequence=>5
,p_column_heading=>'Status'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918197582577436534)
,p_query_column_id=>4
,p_column_alias=>'SEVERITY_NAME'
,p_column_display_sequence=>6
,p_column_heading=>'Severity'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918197696244436534)
,p_query_column_id=>5
,p_column_alias=>'SUBJECT'
,p_column_display_sequence=>1
,p_column_heading=>'Bug'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918197794355436534)
,p_query_column_id=>6
,p_column_alias=>'ASSIGNEE'
,p_column_display_sequence=>8
,p_column_heading=>'Assignee'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918197877169436534)
,p_query_column_id=>7
,p_column_alias=>'DATE_CLOSED'
,p_column_display_sequence=>9
,p_column_heading=>'Date Closed'
,p_use_as_row_header=>'N'
,p_column_format=>'since'
,p_heading_alignment=>'LEFT'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918197983093436534)
,p_query_column_id=>8
,p_column_alias=>'DESCRIPTION'
,p_column_display_sequence=>2
,p_column_heading=>'Description'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918198088243436534)
,p_query_column_id=>9
,p_column_alias=>'URGENCY_NAME'
,p_column_display_sequence=>7
,p_column_heading=>'Urgency'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918201089189544978)
,p_name=>'Updates'
,p_template=>wwv_flow_api.id(2918061190793017545)
,p_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  ''Note'' note_type,',
'  replace(sys.htf.escape_sc(dbms_lob.substr(note,2000,1)),chr(10),''<br />'') note_text,',
'  lower(created_by) created_by,',
'  apex_util.get_since(created) created_on,',
'  '''' attribute_1,',
'  ''star'' as class,',
'  '''' attribute_2,',
'  '''' attribute_3,',
'  '''' attribute_4,',
'  created',
'from RCA13_INTRACK_NOTES ',
'where   INCIDENT_ID = :P303_BUG_ID',
'union all',
'select ',
'  ''Update'' note_type,',
'  case  follow_up_type ',
'    when ''STATUS_CHANGE'' then',
'       ''Status changed from <strong>''||',
'       (select status_name from RCA13_INTRACK_STATUS where id = status_old_val)||''</strong> to <strong>''||',
'       (select status_name from RCA13_INTRACK_STATUS where id = status_new_val) ||''</strong>''',
'    when ''CLOSE_DATE_CHANGE'' then',
'       ''Close date changed from <strong>''||status_old_val||''</strong> to <strong>''||status_new_val||''</strong>''',
'    when ''ASSIGNEE_CHANGE'' then',
'       ''Assignee changed from <strong>''||sys.htf.escape_sc(status_old_val)||''</strong> to <strong>''||sys.htf.escape_sc(status_new_val)||''</strong>''',
'    when ''URGENCY_CHANGE'' then',
'        ''Urgency changed from <strong>''||',
'        (select URGENCY_NAME from RCA13_INTRACK_URGENCY where id = status_old_val)||''</strong> to <strong>''||',
'        (select URGENCY_NAME from RCA13_INTRACK_URGENCY where id = status_new_val) ||''</strong>''',
'    when ''SEVERITY_CHANGE'' then',
'        ''Severity changed from <strong>''||',
'        (select SEVERITY_NAME from RCA13_INTRACK_SEVERITY where id = status_old_val)||''</strong> to <strong>''||',
'        (select SEVERITY_NAME from RCA13_INTRACK_SEVERITY where id = status_new_val) ||''</strong>''',
'    when ''CATEGORY_CHANGE'' then',
'        ''Category changed from <strong>''||',
'        (select CATEGORY_NAME from RCA13_INTRACK_CATEGORY where id = status_old_val)||''</strong> to <strong>''||',
'        (select CATEGORY_NAME from RCA13_INTRACK_CATEGORY where id = status_new_val) ||''</strong>''',
'    when ''GROUP_CHANGE'' then',
'        ''Group changed from <strong>''||',
'        (select GROUP_NAME from RCA13_INTRACK_GROUP where id = status_old_val)||''</strong> to <strong>''||',
'        (select GROUP_NAME from RCA13_INTRACK_GROUP where id = status_new_val) ||''</strong>''',
'    when ''PRODUCT_CHANGE'' then',
'        ''Product changed from <strong>''||',
'        (select PRODUCT_NAME from RCA13_INTRACK_PRODUCT where id = status_old_val)||''</strong> to <strong>''||',
'        (select PRODUCT_NAME from RCA13_INTRACK_PRODUCT where id = status_new_val) ||''</strong>''',
'    when ''PRODUCT_VERSION_CHANGE'' then',
'        ''Product version changed from <strong>''||',
'        (select VERSION_NAME from RCA13_INTRACK_VERSION where id = status_old_val)||''</strong> to <strong>''||',
'        (select VERSION_NAME from RCA13_INTRACK_VERSION where id = status_new_val) ||''</strong>''',
'    when ''CUSTOMER_CHANGE'' then',
'        ''Customer changed from <strong>''||',
'        (select CUSTOMER_NAME from RCA13_INTRACK_CUSTOMERS where id = status_old_val)||''</strong> to <strong>''||',
'        (select CUSTOMER_NAME from RCA13_INTRACK_CUSTOMERS where id = status_new_val) ||''</strong>''',
'    when ''BUG_CHANGE'' then',
'       ''Bug changed from <strong>''||sys.htf.escape_sc(status_old_val)||''</strong> to <strong>''||sys.htf.escape_sc(status_new_val)||''</strong>''',
'    when ''SUBJECT_CHANGE'' then',
'       ''Subject changed from <strong>''||sys.htf.escape_sc(status_old_val)||''</strong> to <strong>''||sys.htf.escape_sc(status_new_val)||''</strong>''',
'    when ''TAG_CHANGE'' then',
'       ''Tags changed from <strong>''||sys.htf.escape_sc(status_old_val)||''</strong> to <strong>''||sys.htf.escape_sc(status_new_val)||''</strong>''  ',
'  end note_text,',
'  lower(created_by) created_by,',
'  apex_util.get_since(created) created_on,',
'  '''' attribute_1,',
'  ''alert'' as class,',
'  '''' attribute_2,',
'  '''' attribute_3,',
'  '''' attribute_4,',
'  created',
'from',
'  RCA13_INTRACK_INC_FOLLOWUP ',
'where',
'  INCIDENT_ID = :P303_BUG_ID ',
'order by',
'  9 desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  1',
'from RCA13_INTRACK_NOTES ',
'where   INCIDENT_ID = :P303_BUG_ID',
'union all',
'select ',
'  1',
'from',
'  RCA13_INTRACK_INC_FOLLOWUP ',
'where',
'  INCIDENT_ID = :P303_BUG_ID'))
,p_display_condition_type=>'EXISTS'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920731597684874613)
,p_query_headings_type=>'QUERY_COLUMNS'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'This incident has no updates.'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918203368298031061)
,p_query_column_id=>1
,p_column_alias=>'NOTE_TYPE'
,p_column_display_sequence=>1
,p_column_heading=>'Note Type'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918203495258031061)
,p_query_column_id=>2
,p_column_alias=>'NOTE_TEXT'
,p_column_display_sequence=>2
,p_column_heading=>'Note Text'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918203993726031061)
,p_query_column_id=>3
,p_column_alias=>'CREATED_BY'
,p_column_display_sequence=>7
,p_column_heading=>'Created By'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918204096980031061)
,p_query_column_id=>4
,p_column_alias=>'CREATED_ON'
,p_column_display_sequence=>8
,p_column_heading=>'Created On'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918203566803031061)
,p_query_column_id=>5
,p_column_alias=>'ATTRIBUTE_1'
,p_column_display_sequence=>3
,p_column_heading=>'Attribute 1'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2920738997467955769)
,p_query_column_id=>6
,p_column_alias=>'CLASS'
,p_column_display_sequence=>10
,p_column_heading=>'Class'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918203673201031061)
,p_query_column_id=>7
,p_column_alias=>'ATTRIBUTE_2'
,p_column_display_sequence=>4
,p_column_heading=>'Attribute 2'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918203780033031061)
,p_query_column_id=>8
,p_column_alias=>'ATTRIBUTE_3'
,p_column_display_sequence=>5
,p_column_heading=>'Attribute 3'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918203879666031061)
,p_query_column_id=>9
,p_column_alias=>'ATTRIBUTE_4'
,p_column_display_sequence=>6
,p_column_heading=>'Attribute 4'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918204170264031061)
,p_query_column_id=>10
,p_column_alias=>'CREATED'
,p_column_display_sequence=>9
,p_column_heading=>'Created'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918201497847547548)
,p_name=>'Links'
,p_template=>wwv_flow_api.id(2918061190793017545)
,p_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  link_text,',
'  null,',
'  lower(created_by) created_by,',
'  created,',
'  link_comments,',
'  ''info'' as class,',
'  link_target',
'from',
'  RCA13_INTRACK_LINKS ',
'where',
'  INCIDENT_ID = :P303_BUG_ID ',
'order by',
'  created desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  1',
'from',
'  RCA13_INTRACK_LINKS ',
'where',
'  INCIDENT_ID = :P303_BUG_ID'))
,p_display_condition_type=>'EXISTS'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920731597684874613)
,p_query_headings_type=>'QUERY_COLUMNS'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'This incident has no links.'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918204367044040113)
,p_query_column_id=>1
,p_column_alias=>'LINK_TEXT'
,p_column_display_sequence=>1
,p_column_heading=>'Link Text'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2920739387902962551)
,p_query_column_id=>2
,p_column_alias=>'NULL'
,p_column_display_sequence=>6
,p_column_heading=>'Null'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918204571284040113)
,p_query_column_id=>3
,p_column_alias=>'CREATED_BY'
,p_column_display_sequence=>3
,p_column_heading=>'Created By'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918204690555040113)
,p_query_column_id=>4
,p_column_alias=>'CREATED'
,p_column_display_sequence=>4
,p_column_heading=>'Created'
,p_use_as_row_header=>'N'
,p_column_format=>'since'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918204791250040114)
,p_query_column_id=>5
,p_column_alias=>'LINK_COMMENTS'
,p_column_display_sequence=>5
,p_column_heading=>'Link Comments'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2920739471959962551)
,p_query_column_id=>6
,p_column_alias=>'CLASS'
,p_column_display_sequence=>7
,p_column_heading=>'Class'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918204475633040113)
,p_query_column_id=>7
,p_column_alias=>'LINK_TARGET'
,p_column_display_sequence=>2
,p_column_heading=>'Link Target'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918201977892551184)
,p_name=>'Attachments'
,p_template=>wwv_flow_api.id(2918061190793017545)
,p_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  ''<a href="''||APEX_UTIL.GET_BLOB_FILE_SRC(''P54_FILE_BLOB'',id)||''" data-ajax="false">''||sys.htf.escape_sc(FILENAME)||''</a>'' FILENAME,',
'  ''&nbsp;<span style="font-weight:normal;">('' || ltrim(apex_util.filesize_mask(dbms_lob.getlength(file_blob))) || '')</span>'' as filesize,',
'  created,',
'  lower(created_by) as created_by,',
'  substr(file_comments,1,50)||decode(greatest(length(file_comments),50),50,'''',''...'') as file_comments,',
'  ''grid'' as class,',
'  file_mimetype,',
'  file_charset,',
'  id',
'from',
'  RCA13_INTRACK_FILES f',
'where',
'  INCIDENT_ID = :P303_BUG_ID ',
'order by',
'  created desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  1',
'from',
'  RCA13_INTRACK_FILES f',
'where',
'  INCIDENT_ID = :P303_BUG_ID'))
,p_display_condition_type=>'EXISTS'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920731597684874613)
,p_query_headings_type=>'QUERY_COLUMNS'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'This incident has no attachments.'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918208885454149550)
,p_query_column_id=>1
,p_column_alias=>'FILENAME'
,p_column_display_sequence=>8
,p_column_heading=>'Filename'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918208382899139336)
,p_query_column_id=>2
,p_column_alias=>'FILESIZE'
,p_column_display_sequence=>7
,p_column_heading=>'Filesize'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918205576207120948)
,p_query_column_id=>3
,p_column_alias=>'CREATED'
,p_column_display_sequence=>5
,p_column_heading=>'Created'
,p_use_as_row_header=>'N'
,p_column_format=>'since'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918205672962120948)
,p_query_column_id=>4
,p_column_alias=>'CREATED_BY'
,p_column_display_sequence=>6
,p_column_heading=>'Created By'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918205495062120948)
,p_query_column_id=>5
,p_column_alias=>'FILE_COMMENTS'
,p_column_display_sequence=>4
,p_column_heading=>'File Comments'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2920745886778981092)
,p_query_column_id=>6
,p_column_alias=>'CLASS'
,p_column_display_sequence=>9
,p_column_heading=>'Class'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918205190541120938)
,p_query_column_id=>7
,p_column_alias=>'FILE_MIMETYPE'
,p_column_display_sequence=>2
,p_column_heading=>'File Mimetype'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918205293407120938)
,p_query_column_id=>8
,p_column_alias=>'FILE_CHARSET'
,p_column_display_sequence=>3
,p_column_heading=>'File Charset'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918204984714120938)
,p_query_column_id=>9
,p_column_alias=>'ID'
,p_column_display_sequence=>1
,p_column_heading=>'Id'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2918200580831514179)
,p_name=>'P303_BUG_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2918196973896436504)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
end;
/
prompt --application/pages/page_00305
begin
wwv_flow_api.create_page(
 p_id=>305
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_name=>'Incidents'
,p_page_mode=>'NORMAL'
,p_step_title=>'Incidents'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(2915926996047955784)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20131122063909'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918209872696249924)
,p_name=>'Bugs By Type'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  INCIDENT_NUMBER || '' - '' || SUBJECT as INCIDENT_NUMBER,',
'  CREATED,',
'  sys.htf.escape_sc(id) id',
'from',
'  RCA13_intrack_incidents_view',
'where',
'  status_type = :P305_BUG_TYPE',
'order by',
'  "CREATED" desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'P305_BUG_TYPE'
,p_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920671482959814591)
,p_query_headings_type=>'QUERY_COLUMNS'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918210886045249927)
,p_query_column_id=>1
,p_column_alias=>'INCIDENT_NUMBER'
,p_column_display_sequence=>1
,p_column_heading=>'Incident Number'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:303:&SESSION.::&DEBUG.:303:P303_BUG_ID:#ID#'
,p_column_linktext=>'#INCIDENT_NUMBER#'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2922609780834882961)
,p_query_column_id=>2
,p_column_alias=>'CREATED'
,p_column_display_sequence=>2
,p_column_heading=>'Created'
,p_use_as_row_header=>'N'
,p_column_format=>'since'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2922610075078890752)
,p_query_column_id=>3
,p_column_alias=>'ID'
,p_column_display_sequence=>3
,p_column_heading=>'Id'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918214190620273981)
,p_name=>'Bugs By Severity'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  INCIDENT_NUMBER || '' - '' || SUBJECT as INCIDENT_NUMBER,',
'  CREATED,',
'  sys.htf.escape_sc(id) id',
'from',
'  RCA13_intrack_incidents_view',
'where',
'  severity_id = :P305_SEVERITY_ID',
'and',
'  status_type = ''OPEN''',
'order by',
'  CREATED desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'P305_SEVERITY_ID'
,p_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920671482959814591)
,p_query_headings_type=>'QUERY_COLUMNS'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918215072903273991)
,p_query_column_id=>1
,p_column_alias=>'INCIDENT_NUMBER'
,p_column_display_sequence=>2
,p_column_heading=>'Incident Number'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:303:&SESSION.::&DEBUG.:303:P303_BUG_ID:#ID#'
,p_column_linktext=>'#INCIDENT_NUMBER#'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2922610278672901221)
,p_query_column_id=>2
,p_column_alias=>'CREATED'
,p_column_display_sequence=>3
,p_column_heading=>'Created'
,p_use_as_row_header=>'N'
,p_column_format=>'since'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918214993695273991)
,p_query_column_id=>3
,p_column_alias=>'ID'
,p_column_display_sequence=>1
,p_column_heading=>'Id'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918218493484331625)
,p_name=>'Bugs By Urgency'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  INCIDENT_NUMBER || '' - '' || SUBJECT as INCIDENT_NUMBER,',
'  CREATED,',
'  sys.htf.escape_sc(id) id',
'from',
'  RCA13_intrack_incidents_view',
'where',
'  urgency_name = :P305_URGENCY_NAME',
'and',
'  status_type = ''OPEN''',
'order by',
'  CREATED desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'P305_URGENCY_NAME'
,p_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920671482959814591)
,p_query_headings_type=>'QUERY_COLUMNS'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918219393432331626)
,p_query_column_id=>1
,p_column_alias=>'INCIDENT_NUMBER'
,p_column_display_sequence=>2
,p_column_heading=>'Incident Number'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:303:&SESSION.::&DEBUG.:303:P303_BUG_ID:#ID#'
,p_column_linktext=>'#INCIDENT_NUMBER#'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2922610569453908074)
,p_query_column_id=>2
,p_column_alias=>'CREATED'
,p_column_display_sequence=>3
,p_column_heading=>'Created'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918219276412331626)
,p_query_column_id=>3
,p_column_alias=>'ID'
,p_column_display_sequence=>1
,p_column_heading=>'Id'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918222583619366582)
,p_name=>'Bugs By Status Code'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  INCIDENT_NUMBER || '' - '' || SUBJECT as INCIDENT_NUMBER,',
'  CREATED,',
'  sys.htf.escape_sc(id) id',
'from',
'  RCA13_intrack_incidents_view',
'where',
'  status_code = :P305_STATUS_CODE',
'and',
'  status_type = ''OPEN''',
'order by',
'  CREATED desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'P305_STATUS_CODE'
,p_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920671482959814591)
,p_query_headings_type=>'QUERY_COLUMNS'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918223480192366582)
,p_query_column_id=>1
,p_column_alias=>'INCIDENT_NUMBER'
,p_column_display_sequence=>2
,p_column_heading=>'Incident Number'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:303:&SESSION.::&DEBUG.:303:P303_BUG_ID:#ID#'
,p_column_linktext=>'#INCIDENT_NUMBER#'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2922610888500913496)
,p_query_column_id=>2
,p_column_alias=>'CREATED'
,p_column_display_sequence=>3
,p_column_heading=>'Created'
,p_use_as_row_header=>'N'
,p_column_format=>'since'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918223395491366582)
,p_query_column_id=>3
,p_column_alias=>'ID'
,p_column_display_sequence=>1
,p_column_heading=>'Id'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918226682496385254)
,p_name=>'Bugs By Product'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>50
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  INCIDENT_NUMBER || '' - '' || SUBJECT as INCIDENT_NUMBER,',
'  CREATED,',
'  sys.htf.escape_sc(id) id',
'from',
'  RCA13_intrack_incidents_view',
'where',
'  product_name = :P305_PRODUCT',
'and',
'  status_type = ''OPEN''',
'order by',
'  CREATED desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'P305_PRODUCT'
,p_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920671482959814591)
,p_query_headings_type=>'QUERY_COLUMNS'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918227291445385258)
,p_query_column_id=>1
,p_column_alias=>'INCIDENT_NUMBER'
,p_column_display_sequence=>2
,p_column_heading=>'Incident Number'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:303:&SESSION.::&DEBUG.:303:P303_BUG_ID:#ID#'
,p_column_linktext=>'#INCIDENT_NUMBER#'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2922611386553922439)
,p_query_column_id=>2
,p_column_alias=>'CREATED'
,p_column_display_sequence=>3
,p_column_heading=>'Created'
,p_use_as_row_header=>'N'
,p_column_format=>'since'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918227183060385258)
,p_query_column_id=>3
,p_column_alias=>'ID'
,p_column_display_sequence=>1
,p_column_heading=>'Id'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(2918230785744395603)
,p_name=>'Bugs By Customer'
,p_template=>wwv_flow_api.id(320866266049858514)
,p_display_sequence=>60
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_new_grid_column=>false
,p_display_column=>1
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select',
'  INCIDENT_NUMBER || '' - '' || SUBJECT as INCIDENT_NUMBER,',
'  CREATED,',
'  sys.htf.escape_sc(id) id',
'from',
'  RCA13_intrack_incidents_view',
'where',
'  customer_id = :P305_CUSTOMER_ID',
'and',
'  status_type = ''OPEN''',
'order by',
'  CREATED desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'P305_CUSTOMER_ID'
,p_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(2920671482959814591)
,p_query_headings_type=>'QUERY_COLUMNS'
,p_query_num_rows=>200
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>200
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918231378136395604)
,p_query_column_id=>1
,p_column_alias=>'INCIDENT_NUMBER'
,p_column_display_sequence=>2
,p_column_heading=>'Incident Number'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:303:&SESSION.::&DEBUG.:303:P303_BUG_ID:#ID#'
,p_column_linktext=>'#INCIDENT_NUMBER#'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2922611096811915963)
,p_query_column_id=>2
,p_column_alias=>'CREATED'
,p_column_display_sequence=>3
,p_column_heading=>'Created'
,p_use_as_row_header=>'N'
,p_column_format=>'since'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(2918231267791395604)
,p_query_column_id=>3
,p_column_alias=>'ID'
,p_column_display_sequence=>1
,p_column_heading=>'Id'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2918213884471253315)
,p_name=>'P305_BUG_TYPE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(2918209872696249924)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2918218370282324906)
,p_name=>'P305_SEVERITY_ID'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(2918214190620273981)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2918222476431345605)
,p_name=>'P305_URGENCY_NAME'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(2918218493484331625)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2918226579941375025)
,p_name=>'P305_STATUS_CODE'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(2918222583619366582)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2918230671545391532)
,p_name=>'P305_PRODUCT'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(2918226682496385254)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(2918234883450404471)
,p_name=>'P305_CUSTOMER_ID'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(2918230785744395603)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_cAttributes=>'nowrap="nowrap"'
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_rowspan=>1
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
end;
/
prompt --application/pages/page_01001
begin
wwv_flow_api.create_page(
 p_id=>1001
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Home'
,p_page_mode=>'NORMAL'
,p_step_title=>'Home'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Home'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_welcome_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<div id="DYN_REFRESH"></div>',
'<style>',
'.refresh_class {}',
'</style>'))
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function syschart_width() {',
' var w = $(window).width();',
' $(''#syschart_chart'').css(''width'',w);',
'}',
'',
'function loadColChart(systemId) {',
'alert(systemId);',
'/*',
'  var get = new htmldb_Get(null,$x(''pFlowId'').value,null,0); // initialize get ',
'  get.add(''P1001_SYSTEM_ID'',systemId)',
'  var gReturn = get.get();',
'  $s(''P1001_SYSTEM_ID'',systemId)',
'  get = null; ',
'*/',
'  $("#syschart_chart").trigger("apexrefresh");',
'}',
'',
'function changeColor() {',
'  var x = document.getElementsByClassName("regionlayout");',
' // We need to cahnge color of time period on selction',
' var val = document.getElementById(''P1001_TIME'').value;',
' document.getElementById(''TIMEP_''+val).style.color="RED";',
'}',
'var timer;',
'',
'function startTimeout()',
'{   ',
'    //var cevent = new CustomEvent("REFRES");',
'    document.getElementById("DYN_REFRESH").click();',
'    timer = setTimeout(startTimeout,30000);',
'',
'}',
'',
'function endTimeout() {',
'    clearTimeout(timer);',
'}',
'',
'function chartRefresh() {',
' alert(''test'');',
' //document.getElementById("HOSTS_CHART" ).trigger( "apexrefresh" );',
' $(''#HOSTS_CHART'').trigger( "apexrefresh" ); ',
' alert(''test1'');',
'}',
'',
'function open_dialog (v1) ',
'{',
'  var scrollTop = $(window).scrollTop();',
'  if ( !  document.getElementById(v1+''_rec'').innerHTML )',
'  {',
'    var get = new htmldb_Get(null, &APP_ID., ''APPLICATION_PROCESS=GETRECO'', &APP_PAGE_ID.);',
'    get.add(''G_RATIONAL_CID'' , v1);',
'    gReturn = get.get();',
'    document.getElementById(v1+''_rec'').innerHTML = gReturn;',
'    get = null;',
'  }',
'  var w = $(window).width()-200;',
'  var h = $(window).height()-200;',
'  $(''#''+v1+''_rec'').dialog({',
'      autoOpen: true,',
'      show: {',
'        effect: "blind",',
'        duration: 500',
'      },',
'      hide: {',
'        effect: "explode",',
'        duration: 500',
'      },',
'      width: w,',
'      height: h',
'    });',
'     $(window).scrollTop(scrollTop + 30);   ',
'}',
'',
'',
''))
,p_javascript_code_onload=>'syschart_width();'
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'div#syschart_chart {',
'        overflow: auto;',
'      }',
'',
'.failcnt_0 { ',
'   pointer-events: none;',
'   cursor: default;',
'   text-decoration:none;',
'}',
'',
'.rationale_class {',
'',
'}',
'',
'.regionlayout {',
' width:100%;',
'}',
'',
'.alert_1, .alert_2 { ',
'   text-decoration:none;',
'   background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACS0lEQVR4XpWPTUhUYRSGn++7d2ZMMZhoE23atQiEatUPZIUgUkqLaF0t2iUFaa0y2thkGkQErSKyhahlEFSjSZKL0pQwdaGkEKnjNOowvz937mnufItZVfTAC4fvnvvwHjVw68iQ7ermn3asd3Db3Jgucsl'
||'1OeAKiIBSYFvk/Db3teI6CoP5Bv03D8nCy1Y5HELaX9RJ78R5mV59KFvFYUlJuJzx5ZA0dCJnH1TT1MX+xrucawwxfOoeYgOI61J0oKMlzKcfPUSyo3xf6qK2GoqS5+juUXKFNjK5tOzZuY8qu4YL9SGu9tZjAyAmSxsfGVnsJFgL22vAtcARiCRnKTjw6OIkVb5qhAKBgEXRxQgU5p5Ebh1Lg6VMtBcgVYggAlH7BjMrYdZicGbvAGAEg'
||'EIBqfy6JyoHMDOQ9t6B1VQYI/d2f6GMADCLJHJraIWJBm2WS4II2sjQmPekkaIBM2jIOFH8Nvh9kM/BegwQyBHF0lSalRusoVTlhLJg5Fs/qTjENjEAIrAj2IdtgWlHWZZ2ouXZFiDhZghoWJjjVXyRN9PP+YyB091MJlNQFTDNAgHIZuH1fB/5BIM2CAHbx5X4MZpuf2gFYs09JBSGla9c3lVHNxr7zmPTqJDkXWSGZ7NDjNkCFHHJqQJ'
||'vO04sh4LvcQQsAQ1MPOEpMA4oKmwAkZYe0jYGHOWSVQXaNk/SGRzBD/gESktxYIo/oBWgtAYUDi4Znefa1nHatxpwFAh/R3s/z09NoTyVMufklUPem/4tQAEHqfCF/+Q3MMb/H49YVLUAAAAASUVORK5CYII=);',
'',
'}',
'',
'.alert_3 {',
'   text-decoration:none;',
'   background-image: url(data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgBAQEBBwEBCgkLDQoDDQwMDRsUFRAWIBEiIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzctNy'
||'w3N//AABEIABAAEAMBEQACEQEDEQH/xAAVAAEBAAAAAAAAAAAAAAAAAAAFAf/EACMQAAEDAwQCAwAAAAAAAAAAAAECAwcEBSEABggREjETMkH/xAAYAQACAwAAAAAAAAAAAAAAAAADBQEEBv/EACIRAAIBAwMFAQAAAAAAAAAAAAECAwAEEQUxUSEiQYHwEv/aAAwDAQACEQMRAD8ASvu4bpxJ52zps+mnXdiGCXrshvBSD8yk+iM/X91S'
||'nmeN8A1ptJ0+3u7Ys69QceeBVs0qXeWZmgiHqiJIACXH6e2uuJSrspKwD0O8HrULdsSBjeiTaBEiSOHPaCR6FMXHYaOf8mcjpyXyC3TTvCoqrM2kNgpADhOc9nJOjTW4lOSaXadrL2KfhUBB35+9UNZItvEQctImkWpknj2qlZfYuyihavJQSsHoDx940FbVgwOdqYz6/DJA6BTlgR4x1+4r/9k=);',
'}',
'',
'.alert_0 {',
'   pointer-events: none;',
'   cursor: default;',
'   text-decoration:none;',
'   background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACS0lEQVR4XpWPTUhUYRSGn++7d2ZMMZhoE23atQiEatUPZIUgUkqLaF0t2iUFaa0y2thkGkQErSKyhahlEFSjSZKL0pQwdaGkEKnjNOowvz937mnufItZVfTAC4fvnvvwHjVw68iQ7ermn3asd3Db3Jgucsl'
||'1OeAKiIBSYFvk/Db3teI6CoP5Bv03D8nCy1Y5HELaX9RJ78R5mV59KFvFYUlJuJzx5ZA0dCJnH1TT1MX+xrucawwxfOoeYgOI61J0oKMlzKcfPUSyo3xf6qK2GoqS5+juUXKFNjK5tOzZuY8qu4YL9SGu9tZjAyAmSxsfGVnsJFgL22vAtcARiCRnKTjw6OIkVb5qhAKBgEXRxQgU5p5Ebh1Lg6VMtBcgVYggAlH7BjMrYdZicGbvAGAEg'
||'EIBqfy6JyoHMDOQ9t6B1VQYI/d2f6GMADCLJHJraIWJBm2WS4II2sjQmPekkaIBM2jIOFH8Nvh9kM/BegwQyBHF0lSalRusoVTlhLJg5Fs/qTjENjEAIrAj2IdtgWlHWZZ2ouXZFiDhZghoWJjjVXyRN9PP+YyB091MJlNQFTDNAgHIZuH1fB/5BIM2CAHbx5X4MZpuf2gFYs09JBSGla9c3lVHNxr7zmPTqJDkXWSGZ7NDjNkCFHHJqQJ'
||'vO04sh4LvcQQsAQ1MPOEpMA4oKmwAkZYe0jYGHOWSVQXaNk/SGRzBD/gESktxYIo/oBWgtAYUDi4Znefa1nHatxpwFAh/R3s/z09NoTyVMufklUPem/4tQAEHqfCF/+Q3MMb/H49YVLUAAAAASUVORK5CYII=);',
'}',
'',
'.alert_4 {',
'   text-decoration:none;',
'   background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAADVUlEQVR42mL8//8/g7CoOBMPGzPX0vDnDMLCbAFM3Lxmf75'
||'9f/L3+4+Vf3/+e8jEyoAJ/jMw6Lf9ZwAIIBYQW1pCck2WL5eZurv8N35JLVVmHlmGf79/Mvz+fLfy+fHDKz/deVEPVPaSkRmi8f9fBgZmdiYtIO8aQACBDRDh+OoVZc3EziehwvDnL9C6n38YmP4zMXCwCgrIW5imf1Z44P76+sM1P95+O8/MziwprK/nxszILQvUqgUQQGADhDh//uBgE2L/8+4zw38uTqDxP4DW/GP49/ULw/+v3xl4u'
||'fgVuE21S/78+sXAxMbJwCGhy/D66q3jIL0AATgegxUAICAKjsTB//+lFAfFYrOc3uXN1HxBigevC50GhgnRVhUsAxls6Tj7vQIni1Mb0kp+7BWAAypIAQCEQUas/z81KDYIytwOCgqKWAXWH1qGMSRC8FrAE2D6Aus4sV0wFq7PndYXQGADGP79BwoCFf0Dclk/A81hBbvg/w+gF75/AxryHRryQAP+AA348QkYyD/+gIQAAghswK/f/xm'
||'AUQZUwMTAwAE0+A8LxAu/gGygAQxg10EM+A80gOH3VwZmZkZOkBBAAIEN+PKTieHP958MHEDen1/MQBv+Av38n4HpzxeGv2Bv/IIaADT03x8GRqABLGyMAiAhgAACG/D+JxvDt6+fGL7++P7y16t3c77+YnjCxMwszsPJHMPHzKjC9OsPyJcQL/wDuuDXRwZOzl9KIL0AAQQx4Dc3Q+95IYbjFx/Md1X5VuOv/YvhL9AyYGhMe8/GmCTIx'
||'lTDy8LIA4oJRoY/DL++fmD49OHPXZATAAIIbMCff0wMx19JMZx9+vzXqcesDB+B0ZZm/o3h2y+G1z9+/+988fvv2o/MDD5sTAyOwGD6/PPT7x0/fzJskQPqBQggFkjY/GNgZfjFwMn6j+n33/8Ms09yMSgI/mFwUf3F8P032Pd3vv9jmPDtL8MEBrArgJgJEiwAAQSlGBhBmQpEMzMCY+QfI8PEIzwMD94zM7CzQBWAFDNCMCMjIk8BBBD'
||'YgN+/f7N9/vwZrA4IgJr+MzwCap5+nBtsGBMjA04AEECQaPzyZfaPHz/MgMytMAlO1v8Mp4Hh8QGYBPg5ILkQGwAIMACcdF0cXKsEMgAAAABJRU5ErkJggg==);',
'}',
'',
'.recommendation {',
'   text-decoration:none;',
'background-image: url(data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gAxSW1hZ2UgUmVzaXplZCBhdCBodHRwOi8vd3d3LnNocmlua3BpY3R1cmVzLmNvbQr/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQE'
||'Bw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAATABMDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0R'
||'FRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzU'
||'vAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDR0yJruC5AyXijUxqGCgkuq4/Wor9xBfSw28rtGjYBbr7j86yoNVe3gmi'
||'QKVnQK2eoAIPH4gVsXVw11pb3aov21EUXY/i2fwvj1PGT9PU1t1JKLTyE5LUVnfax60VQjDtp5Wt43LksVBzVj7XcFy/nPuYYJzyRRRSGZtxeXCzsFkIA9qKKKi5R/9k=);',
'}',
'',
'.badge-score {',
'background-color:grey;',
'}',
'.label-pass, .badge-pass {',
'background-color: #52BA25;',
'}',
'.label-fail, .badge-fail {',
'//background-color: #F65A0C;',
'background-color: #B94A48;',
'}',
'.label-ignore, .badge-ignore {',
'background-color: #EEBC00;',
'}',
'.label-info, .badge-info {',
'background-color: #3a87ad;',
'}',
'.label-warning, .badge-warning {',
'background-color: #f89406;',
'}',
'.label {',
'-webkit-border-radius: 3px;',
'-moz-border-radius: 3px;',
'border-radius: 3px;',
'}',
'.label, .badge {',
'display: inline-block;',
'padding: 2px 4px;',
'font-size: 11.844px;',
'//font-weight: bold;',
'line-height: 14px;',
'color: #ffffff;',
'text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);',
'white-space: nowrap;',
'vertical-align: baseline;',
'text-decoration:none;',
'//background-color: #999999;',
'}',
'',
'.badge {',
'//padding-right: 9px;',
'//padding-left: 9px;',
'width:20px;',
'text-align: center;',
'//-webkit-border-radius: 9px;',
'//-moz-border-radius: 9px;',
'//border-radius: 9px;',
'color: #ffffff !important;',
'}',
'',
'ul.uChartList li big.uValue {',
'  padding: 0px !important;',
'}',
'',
'.uRegionNoPadding ul.uChartList small.uLabel {',
'  padding: 4px !important;',
'}',
''))
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'ADMIN'
,p_last_upd_yyyymmddhh24miss=>'20160411223122'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(308637165245277161)
,p_plug_name=>'Notifications'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>50
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_02'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'for c1 in (',
'   select id, NOTIFICATION_NAME, NOTIFICATION_DESCRIPTION, notification_type',
'     from RCA13_INTRACK_NOTIFICATIONS',
'    where (DISPLAY_FROM is null or DISPLAY_FROM <= current_date ) and',
'          (DISPLAY_UNTIL is null or DISPLAY_UNTIL >= current_date)',
'   order by nvl(display_sequence,0),notification_name )',
'loop',
'    if c1.NOTIFICATION_TYPE = ''RED'' then',
'	sys.htp.p(''<div class="alertMessage red">'');',
'    elsif c1.NOTIFICATION_TYPE = ''YELLOW'' then',
'	sys.htp.p(''<div class="alertMessage yellow">'');',
'    else',
'	sys.htp.p(''<div class="alertMessage yellow">'');',
'    end if;',
'    sys.htp.p(''<img src="#IMAGE_PREFIX#f_spacer.gif">'');',
'    sys.htp.p(''<div class="innerMessage">'');',
'    sys.htp.p(''<h3>''||sys.htf.escape_sc(c1.NOTIFICATION_NAME)||''</h3>'');',
'    sys.htp.p(''<p>''||sys.htf.escape_sc(c1.NOTIFICATION_DESCRIPTION)||''</p>'');',
'    sys.htp.p(''</div>'');',
'    sys.htp.p(''</div>'');',
'end loop;',
''))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312016167774475308)
,p_plug_name=>'Dynamic Refresh'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>6
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_display_point=>'BODY_1'
,p_plug_query_row_template=>wwv_flow_api.id(305648945503015943)
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>100
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312157060143982722)
,p_name=>'Recommendation'
,p_region_name=>'reco_contents'
,p_template=>wwv_flow_api.id(2674547298698564458)
,p_display_sequence=>60
,p_include_in_reg_disp_sel_yn=>'Y'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'AFTER_HEADER'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select RECOMMENDATION from rca13_checks_info',
'where CHECK_ID = :P1001_RATIONAL_CID'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>15
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312157342807982745)
,p_query_column_id=>1
,p_column_alias=>'RECOMMENDATION'
,p_column_display_sequence=>1
,p_column_heading=>'RECOMMENDATION'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312469546133625479)
,p_plug_name=>'Time zone'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style="clear: left; "'
,p_plug_template=>wwv_flow_api.id(2674561286370567975)
,p_plug_display_sequence=>200
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'sys.htp.prn(''<p>''||''Dates and Times are displayed in the ''||',
'''<a href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':56:''||:APP_SESSION)||''">''||',
'nvl(sys.htf.escape_sc(apex_util.get_session_time_zone),''unknown'')||''</a> timezone.</p>'');'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'NEVER'
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312664344549630099)
,p_plug_name=>'Home'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style="width:100%;"'
,p_plug_display_sequence=>4
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid=>true
,p_plug_display_point=>'BODY_1'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(308429347343692238)
,p_plug_name=>'Checks reported with the most warnings'
,p_region_name=>'refresh_id_MWC'
,p_parent_plug_id=>wwv_flow_api.id(312664344549630099)
,p_region_css_classes=>'refresh_class'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>' style="height: 320px; overflow: hidden;" data-grid="col_2" data-grid-start="yes"  '
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare ',
'  l_cnt integer := 0;',
'  l_max integer := 8;',
'begin',
'',
'sys.htp.p(''<ul class="vapList">'');',
'',
'for c1 in (',
'SELECT a.checkName checkName,a.cnt cnt,a.check_id check_id, NVL(b.recommendation, ''No data found'') recommendation',
'FROM  (',
'select count(1) cnt,check_id, NVL(check_name,param_name) CheckName ',
'FROM auditcheck_result a,',
'( select * from rca13_col2sys_mapping where nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) b,',
'rca13_lob2sys_mapping c',
'where a.collection_date = b.collection_date and a.upload_collection_name = b.collection_name ',
'and b.system_id = c.system_id',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and status = ''WARNING'' ',
'AND NOT EXISTS',
'( SELECT 1  FROM rca13_ignored_checks t WHERE t.check_id = a.check_id and t.system_id = c.system_id',
'AND ( t.collection_date IS NULL OR ( t.collection_date   = a.collection_date and t.collection_name = a.upload_collection_name  and acr_id is null) OR a.auditcheck_result_id = t.acr_id) )',
'GROUP BY check_id, NVL(check_name,param_name) ) a,',
'rca13_checks_info b',
'WHERE a.check_id = b.check_id(+)',
'ORDER BY cnt DESC ',
')  loop',
'  l_cnt := l_cnt+1;',
'  ',
'  sys.htp.p(''<li><span>''||''<a id="''||c1.CHECK_ID||''" class="recommendation" style="cursor:pointer;" title="Recommendation" onclick="open_dialog(''''''||c1.CHECK_ID||'''''');">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>'');',
'  sys.htp.p(''<div id="''||c1.CHECK_ID||''_rec" style="display:none"></div>'');',
'  sys.htp.p(''&nbsp;''||sys.htf.escape_sc(substr(c1.checkName,1,60)));',
'  sys.htp.p(''&nbsp;&nbsp;<strong> Warned <a href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002:P1002_SYS_FILTER,P1002_CHECK_ID,P1002_STATUS,P1002_TIME_PERIOD,P1002_TIME_TYPE,P1002_FIRST_VISIT:''||:P0_SYS_FILTER||'',''|'
||'|sys.htf.escape_sc(c1.check_id)||'',WARNING,''||:P0_TIME_PERIOD||'',''||:P0_TIME_TYPE||'',0'')||''">''||sys.htf.escape_sc(c1.cnt)||''</a> times</strong> </span></li>'');',
'',
'  if l_cnt = l_max then',
'      exit;',
'  end if;',
'end loop;',
'',
'sys.htp.p(''</ul>'');',
'',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312027249174451870)
,p_plug_name=>'System Collections'
,p_region_name=>'collections_chart'
,p_parent_plug_id=>wwv_flow_api.id(312664344549630099)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>9.2
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
,p_plug_display_condition_type=>'NEVER'
,p_plug_comment=>'is not null P1001_SYSTEM_ID'
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(312027436516451877)
,p_default_chart_type=>'3DColumn'
,p_chart_rendering=>'FLASH_PREFERRED'
,p_chart_name=>'chart_10970300738509124'
,p_chart_width=>1320
,p_chart_height=>250
,p_chart_animation=>'N'
,p_display_attr=>':H:N::X:N:N::H:Y:Default:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_map_source=>'%'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'0'
,p_custom_colors=>'#FE2E2E,#52BA25,#F89406'
,p_x_axis_label_rotation=>90
,p_x_axis_label_font=>'Tahoma:10:#000000'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'N'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312027557351451881)
,p_chart_id=>wwv_flow_api.id(312027436516451877)
,p_series_seq=>30
,p_series_name=>'Fails'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select a.collection_date link,to_char(a.collection_date,''YYYY-MON-DD HH24:MI:SS'') name,count(b.status) Fails',
'from ( select * from rca13_col2sys_mapping  where nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,auditcheck_result b',
'where a.collection_date = b.collection_date',
'and a.system_id = :P1001_SYSTEM_ID',
'and b.status = ''FAIL''',
'group by a.collection_date,a.collection_name',
'order by a.collection_date desc'))
,p_series_type=>'Line'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No Collections Found for the selected time range'
,p_series_query_row_count_max=>35
,p_action_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_COLLECTION_DATE,P1002_STATUS,P1002_FIRST_VISIT:#LINK#,FAIL,0'
,p_show_action_link=>'C'
,p_display_when_cond_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_display_when_condition=>'P1001_STATUS'
,p_display_when_condition2=>'FAIL'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312223358020697466)
,p_plug_name=>'Recent Collections'
,p_parent_plug_id=>wwv_flow_api.id(312664344549630099)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>' style="height: 320px; overflow: hidden;" data-grid="col_2" data-grid-start="no"  '
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>10.75
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_point=>'BODY'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
' declare ',
'  l_cnt integer := 0;',
'  l_max integer := 8;',
'  toolVersion varchar2(100);',
'  curUser varchar2(100);',
'begin',
'',
'sys.htp.p(''<ul class="vapList">'');',
'',
'for c1 in (',
'SELECT SUBSTR(REPLACE(a.collection_name, ''_'', '' ''),instr(REPLACE(a.collection_name, ''_'', '' ''),'' '',1,1)+1) AS upload_collection_name,a.collection_name cn, ',
'a.collection_date as COLLECTIONDATE,e.diff_type as flag,f_count failCount,w_count wc,nvl(i_count,0) ic,p_count pc,nvl(ig_count,0) igc,e.diff_id as diffId,score||''%'' as score,',
'a.COLLECTION_ID',
'FROM rca13_collections_md a, rca13_collection_values b,',
'( select * from rca13_col2sys_mapping where nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) c,',
'rca13_lob2sys_mapping d,rca13_diff_info e',
'where a.collection_date = b.collection_date ',
'and a.collection_name = b.collection_name',
'and a.collection_date = c.collection_date',
'and a.collection_name = c.collection_name',
'and a.collection_date = e.CUR_COL_DATE',
'and a.collection_name = e.cur_col_name',
'and c.system_id = d.system_id',
'and ( :P0_BUSINESS_UNITS = ''All'' OR d.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR d.system_id = :P0_SYS_FILTER )',
'ORDER BY a.collection_date DESC',
')',
' ',
'loop',
'  l_cnt := l_cnt+1;',
'  --Get current user and tool version',
'  begin',
'   select current_user,substr(tool_version,1,instr(tool_version,''_'',1,1)-1) into curUser,toolVersion from rca13_collections where collection_id = c1.collection_id and collection_name = c1.cn;',
'   exception when others then null;',
'  end; ',
'  sys.htp.p(''<li><span>'');',
'  sys.htp.prn(''<a href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':1003:''||:APP_SESSION||''::NO:RP,1003:P1003_DIFF_ID:''||sys.htf.escape_sc(c1.diffId))||''" class="alert_''||c1.FLAG||''"  title="Comparison result between current and preceding collection&'
||'#013; Green Flag    - No difference OR No regression failed in current colection&#013; Orange Flag - At least one regression from Non-WARNING to WARNING&#013;                          OR Found WARNING regression in current collection&#013; Red Flag  '
||'      - At least one regression from Non-FAIL to FAIL&#013;                           OR Found FAIL regression in current collection&#013; Non clickable green flag - Preceding collection not found">&nbsp;&nbsp;&nbsp;&nbsp;</a> ''); ',
'  sys.htp.prn(''&nbsp;&nbsp;<span class="badge badge-score" title="Score">''||c1.score||''</span>'');  ',
'   sys.htp.prn(''&nbsp;<a  href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002:P1002_SYS_FILTER,P1002_COLLECTION_DATE,P1002_STATUS,P1002_TIME_PERIOD,P1002_TIME_TYPE,P1002_FIRST_VISIT:''||:P0_SYS_FILTER||'',''||sys.htf.es'
||'cape_sc(c1.collectionDate||''|''||c1.cn))||'',FAIL,''||:P0_TIME_PERIOD||'',''||:P0_TIME_TYPE||'',0" class="badge badge-fail" title="Fail Count">''||c1.FAILCOUNT||''</a>'');',
'            sys.htp.prn(''&nbsp;<a href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002:P1002_SYS_FILTER,P1002_COLLECTION_DATE,P1002_STATUS,P1002_TIME_PERIOD,P1002_TIME_TYPE,P1002_FIRST_VISIT:''||:P0_SYS_FILTER||'',''||sy'
||'s.htf.escape_sc(c1.collectionDate||''|''||c1.cn))||'',WARNING,''||:P0_TIME_PERIOD||'',''||:P0_TIME_TYPE||'',0" class="badge badge-warning" title="Warning Count">''||c1.wc||''</a>'');',
'    sys.htp.prn(''&nbsp;<a href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002:P1002_SYS_FILTER,P1002_COLLECTION_DATE,P1002_STATUS,P1002_TIME_PERIOD,P1002_TIME_TYPE,P1002_FIRST_VISIT:''||:P0_SYS_FILTER||'',''||sys.htf.es'
||'cape_sc(c1.collectionDate||''|''||c1.cn))||'',INFO,''||:P0_TIME_PERIOD||'',''||:P0_TIME_TYPE||'',0" class="badge badge-info" title="Info Count">''||c1.ic||''</a>'');   ',
'      sys.htp.prn(''&nbsp;<a  href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002:P1002_SYS_FILTER,P1002_COLLECTION_DATE,P1002_STATUS,P1002_TIME_PERIOD,P1002_TIME_TYPE,P1002_FIRST_VISIT:''||:P0_SYS_FILTER||'',''||sys.htf'
||'.escape_sc(c1.collectionDate||''|''||c1.cn))||'',PASS,''||:P0_TIME_PERIOD||'',''||:P0_TIME_TYPE||'',0" class="badge badge-pass" title="Pass Count">''||c1.pc||''</a>'');',
'      sys.htp.prn(''&nbsp;<a  href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002:P1002_SYS_FILTER,P1002_COLLECTION_DATE,P1002_STATUS,P1002_TIME_PERIOD,P1002_TIME_TYPE,P1002_FIRST_VISIT:''||:P0_SYS_FILTER||'',''||sys.htf'
||'.escape_sc(c1.collectionDate||''|''||c1.cn))||'',IGNORE,''||:P0_TIME_PERIOD||'',''||:P0_TIME_TYPE||'',0" class="badge badge-ignore" title="Ignore Count">''||c1.igc||''</a>'');',
'  sys.htp.p(''&nbsp;&nbsp;&nbsp;<a    href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002:P1002_SYS_FILTER,P1002_COLLECTION_DATE,P1002_FIRST_VISIT:''||:P0_SYS_FILTER||'',''||sys.htf.escape_sc(c1.collectionDate||''|''||c1.c'
||'n))||'',0">''||sys.htf.escape_sc(c1.upload_collection_name)||''</a>'');',
'      if curUser is not null and toolVersion is not null then',
'         sys.htp.prn('' [ ''||toolVersion||'' / ''||curUser||'' ]'');     ',
'      end if; ',
'      sys.htp.prn('' created ''||sys.htf.escape_sc(apex_util.get_since(c1.collectionDate)));',
'      sys.htp.prn(''</span></li>'');',
'      ',
'  if l_cnt = l_max then',
'      exit;',
'  end if;',
'end loop;',
'if l_cnt = 0 then ',
' sys.htp.p(''No Collections Found'');',
'end if;',
'sys.htp.p(''</ul>'');',
'',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312224155006829052)
,p_plug_name=>'Checks reported with the most failures'
,p_region_name=>'refresh_id_MFC'
,p_parent_plug_id=>wwv_flow_api.id(312664344549630099)
,p_region_css_classes=>'refresh_class'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>' style="height: 320px; overflow: hidden;" data-grid="col_2" data-grid-start="yes"  '
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>10.6
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid=>true
,p_plug_display_point=>'BODY'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare ',
'  l_cnt integer := 0;',
'  l_max integer := 8;',
'begin',
'',
'sys.htp.p(''<ul class="vapList">'');',
'',
'for c1 in (',
'SELECT a.checkName checkName,a.cnt cnt,a.check_id check_id, NVL(b.recommendation, ''No data found'') recommendation',
'FROM  (',
'select count(1) cnt,check_id, NVL(check_name,param_name) CheckName ',
'FROM auditcheck_result a,',
'( select * from rca13_col2sys_mapping where nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) b,',
'rca13_lob2sys_mapping c',
'where a.collection_date = b.collection_date and a.upload_collection_name = b.collection_name ',
'and b.system_id = c.system_id',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and status = ''FAIL'' ',
'AND NOT EXISTS',
'( SELECT 1  FROM rca13_ignored_checks t WHERE t.check_id = a.check_id and t.system_id = c.system_id',
'AND ( t.collection_date IS NULL OR ( t.collection_date   = a.collection_date and t.collection_name = a.upload_collection_name  and acr_id is null) OR a.auditcheck_result_id = t.acr_id) )',
'GROUP BY check_id, NVL(check_name,param_name) ) a,',
'rca13_checks_info b',
'WHERE a.check_id = b.check_id(+)',
'ORDER BY cnt DESC  ',
')  loop',
'',
'  l_cnt := l_cnt+1;',
'  ',
'  sys.htp.p(''<li><span>''||''<a id="''||c1.CHECK_ID||''" class="recommendation" style="cursor:pointer;" title="Recommendation" onclick="open_dialog(''''''||c1.CHECK_ID||'''''');">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>'');',
'  sys.htp.p(''<div id="''||c1.CHECK_ID||''_rec" style="display:none"></div>'');',
'  sys.htp.p(''&nbsp;''||sys.htf.escape_sc(substr(c1.checkName,1,60)));',
'  sys.htp.p(''&nbsp;&nbsp;<strong> Failed <a href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002:P1002_SYS_FILTER,P1002_CHECK_ID,P1002_STATUS,P1002_TIME_PERIOD,P1002_TIME_TYPE,P1002_FIRST_VISIT:''||:P0_SYS_FILTER||'',''|'
||'|sys.htf.escape_sc(c1.check_id)||'',FAIL,''||:P0_TIME_PERIOD||'',''||:P0_TIME_TYPE||'',0'')||''">''||sys.htf.escape_sc(c1.cnt)||''</a> times</strong> </span></li>'');',
'',
'',
'  if l_cnt = l_max then',
'      exit;',
'  end if;',
'end loop;',
'',
'sys.htp.p(''</ul>'');',
'',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312252349790560601)
,p_plug_name=>'Recent Activity'
,p_parent_plug_id=>wwv_flow_api.id(312664344549630099)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>' style="height: 320px; overflow: hidden;" data-grid="col_2" data-grid-start="no"  '
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>12
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_point=>'BODY'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare ',
'  l_cnt integer := 0;',
'  l_max integer := 8;',
'  attr1 varchar2(1000);',
'  attr2 varchar2(1000);',
'  attr3 varchar2(1000);',
'begin',
'',
'sys.htp.p(''<ul class="vapList">'');',
'',
'for c1 in (',
'select  0 id,null subject,null created,null created_by,a.created updated,a.created_by updated_by,',
''''' PRODUCT_NAME,0 row_version_number,action_on,action,collection_date,attr1,b.system_name sysName',
'from rca13_track_actions a, rca13_systems b,rca13_lob2sys_mapping c',
'where a.system_id = b.system_id and b.system_id = c.system_id ',
'',
'UNION ALL',
'',
'select a.id, a.subject, a.created, a.created_by, a.updated, a.updated_by, PRODUCT_NAME, a.row_version_number,',
'null type,null action,null collection_date,null attr1,null sysName',
'from RCA13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c',
'where a.id = b.ticket_id and b.system_id = c.system_id',
'order by updated desc',
')  loop',
'  begin',
'  l_cnt := l_cnt+1;',
'  ',
'  if  c1.id = 0 then',
'    sys.htp.p(''<li><span>'');',
'    /* -- Not tracking view actions',
'    if c1.type = ''COLLECTION'' then ',
'     select upload_collection_name into attr1 from rca13_auditcheck_result_view where collection_date = c1.collection_date;',
'     sys.htp.prn(''Collection <a href="''|| apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002,:P1002_COLLECTION_DATE:''||sys.htf.escape_sc(c1.collection_date))||''">''||sys.htf.escape_sc(attr1));',
'     sys.htp.prn(''</a> Viewed by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated)));',
'    elsif c1.type = ''COL_ZIP'' then  ',
'     select filename into attr1 from rca13_docs where collection_id = c1.attr1 and attr1 = ''ZIP_FILE'';',
'     sys.htp.prn(''Collection zip <a href="''|| apex_util.prepare_url(''f?p=''||:APP_ID||'':1006:''||:APP_SESSION||''::NO:RP,1006,:P1006_COLLECTION_ID:''||sys.htf.escape_sc(c1.attr1))||''">''||sys.htf.escape_sc(attr1));',
'     sys.htp.prn(''</a> viewed by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated)));',
'    */ ',
'    if c1.action = ''IGNORE'' then       ',
'      if c1.action_on = ''CHECK'' and c1.collection_date is not null then -- Ignore on a collection of a system',
'          select nvl(check_name,param_name),upload_collection_name into attr1,attr2 ',
'          from auditcheck_result where collection_date = c1.collection_date and check_id = c1.attr1 and rownum = 1; ',
'          sys.htp.prn(''Check <a href="''|| apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002,:P1002_COLLECTION_DATE,P1002_CHECK_ID:''||sys.htf.escape_sc(c1.collection_date)||'',''||c1.attr1)||''">''||sys.htf.escape_sc(attr1));',
'          sys.htp.prn(''</a> is ignored from collection ''||c1.sysName||'': ''||attr2||'' by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated)));     ',
'       else --Ignore from system         ',
'          select nvl(check_name,param_name) into attr1 from auditcheck_result where check_id = c1.attr1 and rownum = 1;   ',
'          sys.htp.prn(''Check <a href="''|| apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002,:P1002_CHECK_ID:''||c1.attr1)||''">''||sys.htf.escape_sc(attr1));',
'          sys.htp.prn(''</a> is ignored from system ''||c1.sysName||'' by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated)));                 ',
'       end if;',
'    elsif c1.action = ''UNIGNORE'' then  ',
'       if c1.action_on = ''CHECK'' and c1.collection_date is not null then --Un Ignore on a collection of a system          ',
'          select nvl(check_name,param_name),upload_collection_name into attr1,attr2 ',
'          from auditcheck_result where collection_date = c1.collection_date and check_id = c1.attr1 and rownum = 1; ',
'          sys.htp.prn(''Check <a href="''|| apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002,:P1002_COLLECTION_DATE,P1002_CHECK_ID:''||sys.htf.escape_sc(c1.collection_date)||'',''||c1.attr1)||''">''||sys.htf.escape_sc(attr1));',
'          sys.htp.prn(''</a> is un-ignored from collection ''||c1.sysName||'': ''||attr2||'' by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated)));     ',
'       else',
'          select nvl(check_name,param_name) into attr1 from auditcheck_result where check_id = c1.attr1 and rownum = 1;   ',
'          sys.htp.prn(''Check <a href="''|| apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002,:P1002_CHECK_ID:''||c1.attr1)||''">''||sys.htf.escape_sc(attr1));',
'          sys.htp.prn(''</a> is un-ignored from system ''||c1.sysName||'' by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated)));                 ',
'       end if;',
'    end if;  ',
'    sys.htp.prn(''</span></li>''); ',
'  else',
'    sys.htp.p(''<li><span> Ticket <a href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':50:''||:APP_SESSION||''::NO:RP,50,:P50_ID:''||sys.htf.escape_sc(c1.id))||''">''||sys.htf.escape_sc(substr(c1.subject,1,50)));',
'    if c1.row_version_number = 1 then',
'      sys.htp.prn(''</a> created by <strong>''||sys.htf.escape_sc(lower(c1.created_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.created))||''</span></li>'');',
'    else',
'      sys.htp.prn(''</a> updated by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated))||''</span></li>'');',
'    end if;',
'  end if;',
'',
'  if l_cnt = l_max then',
'      exit;',
'  end if;',
'  exception when others then null;',
'  end;',
'end loop;',
'',
'sys.htp.p(''</ul>'');',
'',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
end;
/
begin
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312386454298612446)
,p_plug_name=>'&SYS_NAME. & their status'
,p_region_name=>'syschart'
,p_parent_plug_id=>wwv_flow_api.id(312664344549630099)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>5.1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1001_SYSTEMS_COUNT > 15 and :P1001_SYSTEMS_COUNT <= 30 then',
' return true;',
'else',
' return false;',
'end if;'))
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(312386647493612508)
,p_default_chart_type=>'2DSTACKED_PCT'
,p_chart_rendering=>'SVG_ONLY'
,p_chart_name=>'chart_11611608863588001'
,p_chart_width=>1800
,p_chart_height=>320
,p_chart_animation=>'N'
,p_display_attr=>':H:N:V:B:N:Top::H::None:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_map_source=>'%'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'0'
,p_custom_colors=>'#52BA25,#F89406,#FE2E2E'
,p_x_axis_label_rotation=>90
,p_x_axis_label_font=>'Tahoma:12:#000000'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'Y'
,p_chart_xml=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<?xml version = "1.0" encoding="utf-8" standalone = "yes"?>',
'<anychart>',
'  <settings>',
'    <animation enabled="false"/>',
'    <no_data show_waiting_animation="False">',
'      <label>',
'        <text>#NO_DATA_MESSAGE#</text>',
'        <font family="Verdana" bold="yes" size="10"/>',
'      </label>',
'    </no_data>',
'  </settings>',
'  <margin left="0" top="0" right="0" bottom="0" />',
'  <charts>',
'    <chart plot_type="CategorizedVertical" name="chart_11611608863588001"> ',
'      <chart_settings>',
'        <title enabled="False" />',
'        <chart_background>',
'          <fill type="Solid" color="0xffffff" opacity="0" />',
'          <border enabled="false"/>',
'          <corners type="Square"/>',
'        </chart_background>',
'        <data_plot_background>',
'',
'        </data_plot_background>',
'        <axes>',
'          <y_axis >',
'            <scale   mode="PercentStacked"    />',
'            <title enabled="false" />',
'            <labels enabled="true" position="Outside">',
'              <font family="Tahoma" size="10" color="0x000000" />',
'              <format><![CDATA[{%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            </labels>',
'            <major_grid enabled="True" interlaced="false">',
'                <line color="Black" />',
'              </major_grid>',
'<minor_grid enabled="True">',
'              </minor_grid>',
'            ',
'          </y_axis>',
'          <x_axis>',
'            <scale  mode="PercentStacked"    />',
'            <title enabled="false"/>',
'            <labels enabled="true" rotation="&P1001_ROTATION." position="Outside">',
'              <font family="verdana_embed_tf" size="12" color="0x000000" />',
'              <format><![CDATA[{%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}]]></format>',
'            </labels>',
'            <major_grid enabled="True" interlaced="false">',
'                <line color="Black" />',
'              </major_grid>',
'<minor_grid enabled="True">',
'              </minor_grid>',
'          </x_axis>',
'          ',
'        </axes>',
'        <legend enabled="true" position="Top" align="Near" elements_layout="Horizontal">',
'          <title enabled="False"/>',
'          <icon>',
'            <marker enabled="true" />',
'          </icon>',
'          <background enabled="False"/>',
'          <font family="Tahoma" size="10" color="0x000000" />',
'        </legend>',
'',
'      </chart_settings>',
'      <data_plot_settings enable_3d_mode="false" >',
'        <bar_series style="Default">',
'          <tooltip_settings enabled="true">',
'            <format><![CDATA[{%SeriesName} - {%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,} - {%YPercentOfCategory}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            <font family="Tahoma" size="10" color="0x000000" />',
'              <position anchor="Float" valign="Top" padding="10" /> ',
'          </tooltip_settings>',
'          <label_settings enabled="true" mode="Outside" multi_line_align="Center">',
'            <format><![CDATA[{%YPercentOfCategory}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            <background enabled="false"/>',
'            <position anchor="Center" valign="Center" halign="Center"/>',
'            <font family="Tahoma" size="10" color="0x000000" />',
'          </label_settings>',
'          <bar_style>',
'',
'          </bar_style>',
'          <marker_settings enabled="True" >',
'            <marker type="None" />',
'          </marker_settings>',
'        </bar_series>',
'      </data_plot_settings>',
'#DATA#',
'    </chart>',
'  </charts>',
'</anychart>',
''))
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312386759747612550)
,p_chart_id=>wwv_flow_api.id(312386647493612508)
,p_series_seq=>15
,p_series_name=>'Passes'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Passes ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status in(''PASS'',''INFO-PASS'')',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_row_count_max=>100
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,PASS,52BA25'
,p_show_action_link=>'C'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312386861595612559)
,p_chart_id=>wwv_flow_api.id(312386647493612508)
,p_series_seq=>20
,p_series_name=>'Warnings'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Warnings ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status = ''WARNING''',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_row_count_max=>100
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,WARNING,F89406'
,p_show_action_link=>'C'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312386963408612561)
,p_chart_id=>wwv_flow_api.id(312386647493612508)
,p_series_seq=>25
,p_series_name=>'Fails'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Fails ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status = ''FAIL''',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and  not exists ( SELECT 1 FROM rca13_ignored_checks t1 WHERE b.check_id = t1.check_id ',
'                AND t1.system_id =a.system_id AND ( t1.collection_date IS NULL OR ( t1.collection_date  = b.collection_date and acr_id is null ) ',
'                OR acr_id = b.auditcheck_result_id ) )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No data found.'
,p_series_query_row_count_max=>100
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,FAIL,FE2E2E'
,p_show_action_link=>'C'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312387965314785962)
,p_plug_name=>'&SYS_NAME. & their status'
,p_region_name=>'syschart'
,p_parent_plug_id=>wwv_flow_api.id(312664344549630099)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>5.2
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1001_SYSTEMS_COUNT > 30 and :P1001_SYSTEMS_COUNT <= 50 then',
' return true;',
'else',
' return false;',
'end if;'))
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(312388166661785966)
,p_default_chart_type=>'2DSTACKED_PCT'
,p_chart_rendering=>'SVG_ONLY'
,p_chart_name=>'chart_11611608863588001'
,p_chart_width=>2400
,p_chart_height=>320
,p_chart_animation=>'N'
,p_display_attr=>':H:N:V:B:N:Top::H::None:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_map_source=>'%'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'0'
,p_custom_colors=>'#52BA25,#F89406,#FE2E2E'
,p_x_axis_label_rotation=>90
,p_x_axis_label_font=>'Tahoma:12:#000000'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'Y'
,p_chart_xml=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<?xml version = "1.0" encoding="utf-8" standalone = "yes"?>',
'<anychart>',
'  <settings>',
'    <animation enabled="false"/>',
'    <no_data show_waiting_animation="False">',
'      <label>',
'        <text>#NO_DATA_MESSAGE#</text>',
'        <font family="Verdana" bold="yes" size="10"/>',
'      </label>',
'    </no_data>',
'  </settings>',
'  <margin left="0" top="0" right="0" bottom="0" />',
'  <charts>',
'    <chart plot_type="CategorizedVertical" name="chart_11611608863588001"> ',
'      <chart_settings>',
'        <title enabled="False" />',
'        <chart_background>',
'          <fill type="Solid" color="0xffffff" opacity="0" />',
'          <border enabled="false"/>',
'          <corners type="Square"/>',
'        </chart_background>',
'        <data_plot_background>',
'',
'        </data_plot_background>',
'        <axes>',
'          <y_axis >',
'            <scale   mode="PercentStacked"    />',
'            <title enabled="false" />',
'            <labels enabled="true" position="Outside">',
'              <font family="Tahoma" size="10" color="0x000000" />',
'              <format><![CDATA[{%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            </labels>',
'            <major_grid enabled="True" interlaced="false">',
'                <line color="Black" />',
'              </major_grid>',
'<minor_grid enabled="True">',
'              </minor_grid>',
'            ',
'          </y_axis>',
'          <x_axis>',
'            <scale  mode="PercentStacked"    />',
'            <title enabled="false"/>',
'            <labels enabled="true" rotation="&P1001_ROTATION." position="Outside">',
'              <font family="verdana_embed_tf" size="12" color="0x000000" />',
'              <format><![CDATA[{%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}]]></format>',
'            </labels>',
'            <major_grid enabled="True" interlaced="false">',
'                <line color="Black" />',
'              </major_grid>',
'<minor_grid enabled="True">',
'              </minor_grid>',
'          </x_axis>',
'          ',
'        </axes>',
'        <legend enabled="true" position="Top" align="Near" elements_layout="Horizontal">',
'          <title enabled="False"/>',
'          <icon>',
'            <marker enabled="true" />',
'          </icon>',
'          <background enabled="False"/>',
'          <font family="Tahoma" size="10" color="0x000000" />',
'        </legend>',
'',
'      </chart_settings>',
'      <data_plot_settings enable_3d_mode="false" >',
'        <bar_series style="Default">',
'          <tooltip_settings enabled="true">',
'            <format><![CDATA[{%SeriesName} - {%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,} - {%YPercentOfCategory}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            <font family="Tahoma" size="10" color="0x000000" />',
'              <position anchor="Float" valign="Top" padding="10" /> ',
'          </tooltip_settings>',
'          <label_settings enabled="true" mode="Outside" multi_line_align="Center">',
'            <format><![CDATA[{%YPercentOfCategory}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            <background enabled="false"/>',
'            <position anchor="Center" valign="Center" halign="Center"/>',
'            <font family="Tahoma" size="10" color="0x000000" />',
'          </label_settings>',
'          <bar_style>',
'',
'          </bar_style>',
'          <marker_settings enabled="True" >',
'            <marker type="None" />',
'          </marker_settings>',
'        </bar_series>',
'      </data_plot_settings>',
'#DATA#',
'    </chart>',
'  </charts>',
'</anychart>',
''))
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312388267980785967)
,p_chart_id=>wwv_flow_api.id(312388166661785966)
,p_series_seq=>15
,p_series_name=>'Passes'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Passes ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status in(''PASS'',''INFO-PASS'')',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_row_count_max=>100
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,PASS,52BA25'
,p_show_action_link=>'C'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312388343187785969)
,p_chart_id=>wwv_flow_api.id(312388166661785966)
,p_series_seq=>20
,p_series_name=>'Warnings'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Warnings ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status = ''WARNING''',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_row_count_max=>100
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,WARNING,F89406'
,p_show_action_link=>'C'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312388452479785970)
,p_chart_id=>wwv_flow_api.id(312388166661785966)
,p_series_seq=>25
,p_series_name=>'Fails'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Fails ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status = ''FAIL''',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and  not exists ( SELECT 1 FROM rca13_ignored_checks t1 WHERE b.check_id = t1.check_id ',
'                AND t1.system_id =a.system_id AND ( t1.collection_date IS NULL OR ( t1.collection_date  = b.collection_date and acr_id is null ) ',
'                OR acr_id = b.auditcheck_result_id ) )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No data found.'
,p_series_query_row_count_max=>100
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,FAIL,FE2E2E'
,p_show_action_link=>'C'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312453253919108849)
,p_plug_name=>'&SYS_NAME. & their status'
,p_region_name=>'syschart'
,p_parent_plug_id=>wwv_flow_api.id(312664344549630099)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>5.3
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1001_SYSTEMS_COUNT <= 100 and :P1001_SYSTEMS_COUNT > 50 then',
' return true;',
'else',
' return false;',
'end if;'))
,p_plug_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1001_SYSTEMS_COUNT > 30 and :P1001_SYSTEMS_COUNT <= 50 then',
' return true;',
'else',
' return false;',
'end if;'))
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(312453449438108940)
,p_default_chart_type=>'2DSTACKED_PCT'
,p_chart_rendering=>'SVG_ONLY'
,p_chart_name=>'chart_11611608863588001'
,p_chart_width=>4000
,p_chart_height=>320
,p_chart_animation=>'N'
,p_display_attr=>':H:N:V:B:N:Top::H::None:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_map_source=>'%'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'0'
,p_custom_colors=>'#52BA25,#F89406,#FE2E2E'
,p_x_axis_label_rotation=>90
,p_x_axis_label_font=>'Tahoma:12:#000000'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'Y'
,p_chart_xml=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<?xml version = "1.0" encoding="utf-8" standalone = "yes"?>',
'<anychart>',
'  <settings>',
'    <animation enabled="false"/>',
'    <no_data show_waiting_animation="False">',
'      <label>',
'        <text>#NO_DATA_MESSAGE#</text>',
'        <font family="Verdana" bold="yes" size="10"/>',
'      </label>',
'    </no_data>',
'  </settings>',
'  <margin left="0" top="0" right="0" bottom="0" />',
'  <charts>',
'    <chart plot_type="CategorizedVertical" name="chart_11611608863588001"> ',
'      <chart_settings>',
'        <title enabled="False" />',
'        <chart_background>',
'          <fill type="Solid" color="0xffffff" opacity="0" />',
'          <border enabled="false"/>',
'          <corners type="Square"/>',
'        </chart_background>',
'        <data_plot_background>',
'',
'        </data_plot_background>',
'        <axes>',
'          <y_axis >',
'            <scale   mode="PercentStacked"    />',
'            <title enabled="false" />',
'            <labels enabled="true" position="Outside">',
'              <font family="Tahoma" size="10" color="0x000000" />',
'              <format><![CDATA[{%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            </labels>',
'            <major_grid enabled="True" interlaced="false">',
'                <line color="Black" />',
'              </major_grid>',
'<minor_grid enabled="True">',
'              </minor_grid>',
'            ',
'          </y_axis>',
'          <x_axis>',
'            <scale  mode="PercentStacked"    />',
'            <title enabled="false"/>',
'            <labels enabled="true" rotation="&P1001_ROTATION." position="Outside">',
'              <font family="verdana_embed_tf" size="12" color="0x000000" />',
'              <format><![CDATA[{%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}]]></format>',
'            </labels>',
'            <major_grid enabled="True" interlaced="false">',
'                <line color="Black" />',
'              </major_grid>',
'<minor_grid enabled="True">',
'              </minor_grid>',
'          </x_axis>',
'          ',
'        </axes>',
'        <legend enabled="true" position="Top" align="Near" elements_layout="Horizontal">',
'          <title enabled="False"/>',
'          <icon>',
'            <marker enabled="true" />',
'          </icon>',
'          <background enabled="False"/>',
'          <font family="Tahoma" size="10" color="0x000000" />',
'        </legend>',
'',
'      </chart_settings>',
'      <data_plot_settings enable_3d_mode="false" >',
'        <bar_series style="Default">',
'          <tooltip_settings enabled="true">',
'            <format><![CDATA[{%SeriesName} - {%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,} - {%YPercentOfCategory}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            <font family="Tahoma" size="10" color="0x000000" />',
'              <position anchor="Float" valign="Top" padding="10" /> ',
'          </tooltip_settings>',
'          <label_settings enabled="true" mode="Outside" multi_line_align="Center">',
'            <format><![CDATA[{%YPercentOfCategory}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            <background enabled="false"/>',
'            <position anchor="Center" valign="Center" halign="Center"/>',
'            <font family="Tahoma" size="10" color="0x000000" />',
'          </label_settings>',
'          <bar_style>',
'',
'          </bar_style>',
'          <marker_settings enabled="True" >',
'            <marker type="None" />',
'          </marker_settings>',
'        </bar_series>',
'      </data_plot_settings>',
'#DATA#',
'    </chart>',
'  </charts>',
'</anychart>',
''))
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312453562463108972)
,p_chart_id=>wwv_flow_api.id(312453449438108940)
,p_series_seq=>15
,p_series_name=>'Passes'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Passes ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status in(''PASS'',''INFO-PASS'')',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_row_count_max=>100
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,PASS,52BA25'
,p_show_action_link=>'C'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312453646749108976)
,p_chart_id=>wwv_flow_api.id(312453449438108940)
,p_series_seq=>20
,p_series_name=>'Warnings'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Warnings ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status = ''WARNING''',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_row_count_max=>100
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,WARNING,F89406'
,p_show_action_link=>'C'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312453746061108980)
,p_chart_id=>wwv_flow_api.id(312453449438108940)
,p_series_seq=>25
,p_series_name=>'Fails'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Fails ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status = ''FAIL''',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and  not exists ( SELECT 1 FROM rca13_ignored_checks t1 WHERE b.check_id = t1.check_id ',
'                AND t1.system_id =a.system_id AND ( t1.collection_date IS NULL OR ( t1.collection_date  = b.collection_date and acr_id is null ) ',
'                OR acr_id = b.auditcheck_result_id ) )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No data found.'
,p_series_query_row_count_max=>100
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,FAIL,FE2E2E'
,p_show_action_link=>'C'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312454359487687660)
,p_plug_name=>'&SYS_NAME. & their status'
,p_region_name=>'syschart'
,p_parent_plug_id=>wwv_flow_api.id(312664344549630099)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>5.4
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1001_SYSTEMS_COUNT > 100 then',
' return true;',
'else',
' return false;',
'end if;'))
,p_plug_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1001_SYSTEMS_COUNT > 30 and :P1001_SYSTEMS_COUNT <= 50 then',
' return true;',
'else',
' return false;',
'end if;'))
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(312454543824687675)
,p_default_chart_type=>'2DSTACKED_PCT'
,p_chart_rendering=>'SVG_ONLY'
,p_chart_name=>'chart_11611608863588001'
,p_chart_width=>8000
,p_chart_height=>320
,p_chart_animation=>'N'
,p_display_attr=>':H:N:V:B:N:Top::H::None:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_map_source=>'%'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'0'
,p_custom_colors=>'#52BA25,#F89406,#FE2E2E'
,p_x_axis_label_rotation=>90
,p_x_axis_label_font=>'Tahoma:12:#000000'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'Y'
,p_chart_xml=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<?xml version = "1.0" encoding="utf-8" standalone = "yes"?>',
'<anychart>',
'  <settings>',
'    <animation enabled="false"/>',
'    <no_data show_waiting_animation="False">',
'      <label>',
'        <text>#NO_DATA_MESSAGE#</text>',
'        <font family="Verdana" bold="yes" size="10"/>',
'      </label>',
'    </no_data>',
'  </settings>',
'  <margin left="0" top="0" right="0" bottom="0" />',
'  <charts>',
'    <chart plot_type="CategorizedVertical" name="chart_11611608863588001"> ',
'      <chart_settings>',
'        <title enabled="False" />',
'        <chart_background>',
'          <fill type="Solid" color="0xffffff" opacity="0" />',
'          <border enabled="false"/>',
'          <corners type="Square"/>',
'        </chart_background>',
'        <data_plot_background>',
'',
'        </data_plot_background>',
'        <axes>',
'          <y_axis >',
'            <scale   mode="PercentStacked"    />',
'            <title enabled="false" />',
'            <labels enabled="true" position="Outside">',
'              <font family="Tahoma" size="10" color="0x000000" />',
'              <format><![CDATA[{%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            </labels>',
'            <major_grid enabled="True" interlaced="false">',
'                <line color="Black" />',
'              </major_grid>',
'<minor_grid enabled="True">',
'              </minor_grid>',
'            ',
'          </y_axis>',
'          <x_axis>',
'            <scale  mode="PercentStacked"    />',
'            <title enabled="false"/>',
'            <labels enabled="true" rotation="&P1001_ROTATION." position="Outside">',
'              <font family="verdana_embed_tf" size="12" color="0x000000" />',
'              <format><![CDATA[{%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}]]></format>',
'            </labels>',
'            <major_grid enabled="True" interlaced="false">',
'                <line color="Black" />',
'              </major_grid>',
'<minor_grid enabled="True">',
'              </minor_grid>',
'          </x_axis>',
'          ',
'        </axes>',
'        <legend enabled="true" position="Top" align="Near" elements_layout="Horizontal">',
'          <title enabled="False"/>',
'          <icon>',
'            <marker enabled="true" />',
'          </icon>',
'          <background enabled="False"/>',
'          <font family="Tahoma" size="10" color="0x000000" />',
'        </legend>',
'',
'      </chart_settings>',
'      <data_plot_settings enable_3d_mode="false" >',
'        <bar_series style="Default">',
'          <tooltip_settings enabled="true">',
'            <format><![CDATA[{%SeriesName} - {%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,} - {%YPercentOfCategory}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            <font family="Tahoma" size="10" color="0x000000" />',
'              <position anchor="Float" valign="Top" padding="10" /> ',
'          </tooltip_settings>',
'          <label_settings enabled="true" mode="Outside" multi_line_align="Center">',
'            <format><![CDATA[{%YPercentOfCategory}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            <background enabled="false"/>',
'            <position anchor="Center" valign="Center" halign="Center"/>',
'            <font family="Tahoma" size="10" color="0x000000" />',
'          </label_settings>',
'          <bar_style>',
'',
'          </bar_style>',
'          <marker_settings enabled="True" >',
'            <marker type="None" />',
'          </marker_settings>',
'        </bar_series>',
'      </data_plot_settings>',
'#DATA#',
'    </chart>',
'  </charts>',
'</anychart>',
''))
);
end;
/
begin
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312454654669687679)
,p_chart_id=>wwv_flow_api.id(312454543824687675)
,p_series_seq=>15
,p_series_name=>'Passes'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Passes ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status in(''PASS'',''INFO-PASS'')',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_row_count_max=>200
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,PASS,52BA25'
,p_show_action_link=>'C'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312454756542687683)
,p_chart_id=>wwv_flow_api.id(312454543824687675)
,p_series_seq=>20
,p_series_name=>'Warnings'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Warnings ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status = ''WARNING''',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_row_count_max=>200
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,WARNING,F89406'
,p_show_action_link=>'C'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312454853986687684)
,p_chart_id=>wwv_flow_api.id(312454543824687675)
,p_series_seq=>25
,p_series_name=>'Fails'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Fails ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status = ''FAIL''',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and  not exists ( SELECT 1 FROM rca13_ignored_checks t1 WHERE b.check_id = t1.check_id ',
'                AND t1.system_id =a.system_id AND ( t1.collection_date IS NULL OR ( t1.collection_date  = b.collection_date and acr_id is null ) ',
'                OR acr_id = b.auditcheck_result_id ) )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No data found.'
,p_series_query_row_count_max=>200
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,FAIL,FE2E2E'
,p_show_action_link=>'C'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312668551109530752)
,p_plug_name=>'&SYS_NAME. & their status'
,p_region_name=>'syschart'
,p_parent_plug_id=>wwv_flow_api.id(312664344549630099)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>5
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid=>true
,p_plug_display_point=>'BODY'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1001_SYSTEMS_COUNT <= 15 then',
' return true;',
'else',
' return false;',
'end if;'))
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(312668744641530754)
,p_default_chart_type=>'2DSTACKED_PCT'
,p_chart_rendering=>'SVG_ONLY'
,p_chart_name=>'chart_11611608863588001'
,p_chart_width=>1250
,p_chart_height=>320
,p_chart_animation=>'N'
,p_display_attr=>':H:N:V:B:N:Top::H::None:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_map_source=>'%'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'0'
,p_custom_colors=>'#52BA25,#F89406,#FE2E2E'
,p_x_axis_label_rotation=>90
,p_x_axis_label_font=>'Tahoma:12:#000000'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'Y'
,p_chart_xml=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<?xml version = "1.0" encoding="utf-8" standalone = "yes"?>',
'<anychart>',
'  <settings>',
'    <animation enabled="false"/>',
'    <no_data show_waiting_animation="False">',
'      <label>',
'        <text>#NO_DATA_MESSAGE#</text>',
'        <font family="Verdana" bold="yes" size="10"/>',
'      </label>',
'    </no_data>',
'  </settings>',
'  <margin left="0" top="0" right="0" bottom="0" />',
'  <charts>',
'    <chart plot_type="CategorizedVertical" name="chart_11611608863588001"> ',
'      <chart_settings>',
'        <title enabled="False" />',
'        <chart_background>',
'          <fill type="Solid" color="0xffffff" opacity="0" />',
'          <border enabled="false"/>',
'          <corners type="Square"/>',
'        </chart_background>',
'        <data_plot_background>',
'',
'        </data_plot_background>',
'        <axes>',
'          <y_axis >',
'            <scale   mode="PercentStacked"    />',
'            <title enabled="false" />',
'            <labels enabled="true" position="Outside">',
'              <font family="Tahoma" size="10" color="0x000000" />',
'              <format><![CDATA[{%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            </labels>',
'            <major_grid enabled="True" interlaced="false">',
'                <line color="Black" />',
'              </major_grid>',
'<minor_grid enabled="True">',
'              </minor_grid>',
'            ',
'          </y_axis>',
'          <x_axis>',
'            <scale  mode="PercentStacked"    />',
'            <title enabled="false"/>',
'            <labels enabled="true" rotation="&P1001_ROTATION." position="Outside">',
'              <font family="verdana_embed_tf" size="12" color="0x000000" />',
'              <format><![CDATA[{%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}]]></format>',
'            </labels>',
'            <major_grid enabled="True" interlaced="false">',
'                <line color="Black" />',
'              </major_grid>',
'<minor_grid enabled="True">',
'              </minor_grid>',
'          </x_axis>',
'          ',
'        </axes>',
'        <legend enabled="true" position="Top" align="Near" elements_layout="Horizontal">',
'          <title enabled="False"/>',
'          <icon>',
'            <marker enabled="true" />',
'          </icon>',
'          <background enabled="False"/>',
'          <font family="Tahoma" size="10" color="0x000000" />',
'        </legend>',
'',
'      </chart_settings>',
'      <data_plot_settings enable_3d_mode="false" >',
'        <bar_series style="Default">',
'          <tooltip_settings enabled="true">',
'            <format><![CDATA[{%SeriesName} - {%Value}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,} - {%YPercentOfCategory}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            <font family="Tahoma" size="10" color="0x000000" />',
'              <position anchor="Float" valign="Top" padding="10" /> ',
'          </tooltip_settings>',
'          <label_settings enabled="true" mode="Outside" multi_line_align="Center">',
'            <format><![CDATA[{%YPercentOfCategory}{numDecimals:0,decimalSeparator:.,thousandsSeparator:\,}%]]></format>',
'            <background enabled="false"/>',
'            <position anchor="Center" valign="Center" halign="Center"/>',
'            <font family="Tahoma" size="10" color="0x000000" />',
'          </label_settings>',
'          <bar_style>',
'',
'          </bar_style>',
'          <marker_settings enabled="True" >',
'            <marker type="None" />',
'          </marker_settings>',
'        </bar_series>',
'      </data_plot_settings>',
'#DATA#',
'    </chart>',
'  </charts>',
'</anychart>',
''))
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312670743995765216)
,p_chart_id=>wwv_flow_api.id(312668744641530754)
,p_series_seq=>15
,p_series_name=>'Passes'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Passes ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status in(''PASS'',''INFO-PASS'')',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_row_count_max=>100
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,PASS,52BA25'
,p_show_action_link=>'C'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312670667066762460)
,p_chart_id=>wwv_flow_api.id(312668744641530754)
,p_series_seq=>20
,p_series_name=>'Warnings'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Warnings ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status = ''WARNING''',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_row_count_max=>100
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,WARNING,F89406'
,p_show_action_link=>'C'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312668860794530755)
,p_chart_id=>wwv_flow_api.id(312668744641530754)
,p_series_seq=>25
,p_series_name=>'Fails'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Fails ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status = ''FAIL''',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and  not exists ( SELECT 1 FROM rca13_ignored_checks t1 WHERE b.check_id = t1.check_id ',
'                AND t1.system_id =a.system_id AND ( t1.collection_date IS NULL OR ( t1.collection_date  = b.collection_date and acr_id is null ) ',
'                OR acr_id = b.auditcheck_result_id ) )',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No data found.'
,p_series_query_row_count_max=>100
,p_action_link=>'f?p=&APP_ID.:1025:&SESSION.::&DEBUG.:1025:P1025_SYS_FILTER,P1025_STATUS,P1025_COLOR_CODE:#LINK#,FAIL,FE2E2E'
,p_show_action_link=>'C'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312675262704546409)
,p_plug_name=>'&SYS_NAME. Filters'
,p_parent_plug_id=>wwv_flow_api.id(312664344549630099)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713433409910731)
,p_plug_display_sequence=>9.5
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'NEVER'
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312666447712009430)
,p_button_sequence=>90
,p_button_plug_id=>wwv_flow_api.id(312664344549630099)
,p_button_name=>'P1001_REFRESH_BUTTON'
,p_button_static_id=>'P1001_REFRESH_BUTTON'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Refresh'
,p_button_position=>'BODY'
,p_button_alignment=>'LEFT'
,p_button_condition_type=>'NEVER'
,p_grid_new_grid=>false
,p_grid_new_row=>'N'
,p_grid_new_column=>'Y'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(308429543492692253)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(308429347343692238)
,p_button_name=>'VIEW_MW_CHECKS'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714674026585862)
,p_button_image_alt=>'Most Warned Checks'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:1011:&SESSION.::&DEBUG.:1011:P1011_STATUS:WARNING'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312226036209857406)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(312224155006829052)
,p_button_name=>'VIEW_MF_CHECKS'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714674026585862)
,p_button_image_alt=>'Most Failed Checks'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:1011:&SESSION.::&DEBUG.:1011:P1011_STATUS:FAIL'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312231853270619201)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(312223358020697466)
,p_button_name=>'VIEW_COLLECTIONS'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714674026585862)
,p_button_image_alt=>'View Collections'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:1012:&SESSION.::&DEBUG.:1012::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312259138454964190)
,p_button_sequence=>30
,p_button_name=>'ACTIVITY'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714674026585862)
,p_button_image_alt=>'Activity'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:1013:&SESSION.::&DEBUG.:1013:P1013_IS_MINE:0'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312259362349971081)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(312252349790560601)
,p_button_name=>'MYACTIVITY'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2674714674026585862)
,p_button_image_alt=>'My Activity'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:1013:&SESSION.::&DEBUG.:1013::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(312018458751475310)
,p_branch_name=>'Redirect to Help'
,p_branch_action=>'f?p=&APP_ID.:57:&SESSION.::&DEBUG.:::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'BEFORE_HEADER'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>10
,p_branch_condition_type=>'NOT_EXISTS'
,p_branch_condition=>'select 1 from auditcheck_result'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312014968359475306)
,p_name=>'P1001_TIME'
,p_item_sequence=>10
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312016350235475308)
,p_name=>'P1001_REFRESH'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(312016167774475308)
,p_item_default=>'Y'
,p_prompt=>'<b>Refresh for every 30 Seconds</b>'
,p_display_as=>'NATIVE_CHECKBOX'
,p_lov=>'STATIC:;Y'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'1'
,p_attribute_02=>'VERTICAL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312029440340394037)
,p_name=>'P1001_SYSTEM_ID'
,p_item_sequence=>150
,p_item_plug_id=>wwv_flow_api.id(312664344549630099)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312029852127479676)
,p_name=>'P1001_STATUS'
,p_item_sequence=>160
,p_item_plug_id=>wwv_flow_api.id(312664344549630099)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312031062746678177)
,p_name=>'P1001_ROTATION'
,p_item_sequence=>170
,p_item_plug_id=>wwv_flow_api.id(312664344549630099)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312156948686954212)
,p_name=>'P1001_RATIONAL_CID'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(312016167774475308)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312387254778685065)
,p_name=>'P1001_SYSTEMS_COUNT'
,p_item_sequence=>180
,p_item_plug_id=>wwv_flow_api.id(312664344549630099)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312664744155685157)
,p_name=>'P1001_BUSINESS_UNITS'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(312664344549630099)
,p_item_default=>'All'
,p_prompt=>'<b>&BU_NAME.</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct a.lob_name display_value,a.lob_id return_value from rca13_lobs a,rca13_lob2sys_mapping ',
'where a.lob_id = rca13_lob2sys_mapping.lob_id',
'order by display_value',
'',
''))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'All &BU_NAME.'
,p_lov_null_value=>'All'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_label_alignment=>'RIGHT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312665159152799727)
,p_name=>'P1001_TIME_PERIOD'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(312664344549630099)
,p_prompt=>'<b>Data Interval</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>4
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:30px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312665737777840054)
,p_name=>'P1001_TIME_TYPE'
,p_item_sequence=>80
,p_item_plug_id=>wwv_flow_api.id(312664344549630099)
,p_prompt=>'Time Type'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'STATIC2:Hour;H,Day;D,Month;M,Year;Y'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_begin_on_new_field=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717204815910739)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312671065583905814)
,p_name=>'P1001_SYSTEMS_HEADER'
,p_item_sequence=>100
,p_item_plug_id=>wwv_flow_api.id(312668551109530752)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312675649511581762)
,p_name=>'P1001_SYS_FILTER'
,p_item_sequence=>110
,p_item_plug_id=>wwv_flow_api.id(312675262704546409)
,p_item_default=>'All'
,p_prompt=>'<b>Filter by &SYS_NAME.</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select b.lob_name||'': ''||c.system_name display_value,c.system_id return_value',
'from rca13_lob2sys_mapping a,rca13_lobs b,rca13_systems c',
'where a.lob_id = b.lob_id and a.system_id = c.system_id',
'and ( :P1001_BUSINESS_UNITS = ''All'' OR :P1001_BUSINESS_UNITS = a.lob_id )',
'order by display_value'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'All &SYS_NAME.'
,p_lov_null_value=>'All'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312686044568686364)
,p_name=>'P1001_FIRST_VISIT'
,p_item_sequence=>140
,p_item_plug_id=>wwv_flow_api.id(312664344549630099)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312016650012475309)
,p_computation_sequence=>5
,p_computation_item=>'P1001_TIME'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'FUNCTION_BODY'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'temp varchar2(20);',
'begin',
'select count(*) into temp from rca13_collections_md where collection_date > sysdate - 0.0416;',
'if temp > 0 then',
' return ''0.0416'';',
'end if;',
'select count(*) into temp from rca13_collections_md where collection_date > sysdate - 0.25;',
'if temp > 0 then',
' return ''0.25'';',
'end if;',
'select count(*) into temp from rca13_collections_md where collection_date > sysdate - 0.5;',
'if temp > 0 then',
' return ''0.5'';',
'end if;',
'',
'select count(*) into temp from rca13_collections_md where collection_date > sysdate - 1;',
'if temp > 0 then',
' return ''1'';',
'end if;',
'select count(*) into temp from rca13_collections_md where collection_date > sysdate - 2;',
'if temp > 0 then',
' return ''2'';',
'end if;',
'select count(*) into temp from rca13_collections_md where collection_date > sysdate - 7;',
'if temp > 0 then',
' return ''7'';',
'end if;',
'select count(*) into temp from rca13_collections_md where collection_date > sysdate - 30;',
'if temp > 0 then',
' return ''30'';',
'end if;',
'select count(*) into temp from rca13_collections_md where collection_date > sysdate - 90;',
'if temp > 0 then',
' return ''90'';',
'end if;',
'select count(*) into temp from rca13_collections_md where collection_date > sysdate - 180;',
'if temp > 0 then',
' return ''180'';',
'end if;',
'select count(*) into temp from rca13_collections_md where collection_date > sysdate - 365;',
'if temp > 0 then',
' return ''365'';',
'end if;',
' return ''All'';',
'end;'))
,p_compute_when_type=>'NEVER'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312029664253413258)
,p_computation_sequence=>10
,p_computation_item=>'P1001_SYSTEM_ID'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'QUERY'
,p_computation=>'select decode(:P0_SYS_FILTER,''All'',:P1001_SYSTEM_ID,:P0_SYS_FILTER) from dual'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312697541165461088)
,p_computation_sequence=>10
,p_computation_item=>'P1001_BUSINESS_UNITS'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'All'
,p_computation_comment=>'ITem is null P1001_BUSINESS_UNITS'
,p_compute_when_type=>'NEVER'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312716241984517942)
,p_computation_sequence=>10
,p_computation_item=>'P1001_SYS_FILTER'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'All'
,p_computation_comment=>'Item is null P1001_SYS_FILTER'
,p_compute_when_type=>'NEVER'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312684743459468914)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Reset sys filter'
,p_process_sql_clob=>':P1001_SYS_FILTER := ''All'';'
,p_process_when=>'P1001_BUSINESS_UNITS'
,p_process_when_type=>'REQUEST_EQUALS_CONDITION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312685644123592146)
,p_process_sequence=>18
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'calculate time'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'temp varchar2(20);',
'begin',
'-- calculate default time for first time',
'if nvl(:P0_FIRST_VISIT,1) = 1 then',
' :P0_TIME := NULL;  ',
' select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 0.0416;',
' if temp > 0 then',
'  :P0_TIME := ''0.0416'';',
'  :P0_TIME_PERIOD := 1;',
'  :P0_TIME_TYPE := ''H'';',
' end if;',
' if :P0_TIME is null then ',
'   select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 0.25;',
'  if temp > 0 then',
'   :P0_TIME := ''0.25'';',
'   :P0_TIME_PERIOD := 6;',
'   :P0_TIME_TYPE := ''H'';   ',
'  end if; ',
' end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 0.5;',
' if temp > 0 then',
'  :P0_TIME := ''0.5'';',
'  :P0_TIME_PERIOD := 12;',
'  :P0_TIME_TYPE := ''H''; ',
' end if;',
'end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 1;',
' if temp > 0 then',
'  :P0_TIME := ''1'';',
'  :P0_TIME_PERIOD := 1;',
'  :P0_TIME_TYPE := ''D''; ',
' end if;',
'end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 2;',
' if temp > 0 then',
'  :P0_TIME := ''2'';',
'  :P0_TIME_PERIOD := 2;',
'  :P0_TIME_TYPE := ''D'';',
' end if;',
'end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 7;',
' if temp > 0 then',
'  :P0_TIME := ''7'';',
'  :P0_TIME_PERIOD := 7;',
'  :P0_TIME_TYPE := ''D'';',
' end if;',
'end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 30;',
' if temp > 0 then',
'  :P0_TIME := ''30'';',
'  :P0_TIME_PERIOD := 1;',
'  :P0_TIME_TYPE := ''M'';',
' end if;',
'end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 90;',
' if temp > 0 then',
'  :P0_TIME := ''90'';',
'  :P0_TIME_PERIOD := 3;',
'  :P0_TIME_TYPE := ''M'';',
' end if;',
'end if;',
'if :P0_TIME is null then',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 180;',
' if temp > 0 then',
'  :P0_TIME := ''180'';',
'  :P0_TIME_PERIOD := 6;',
'  :P0_TIME_TYPE := ''M'';',
' end if;',
'end if; ',
'if :P0_TIME is null then',
' :P0_TIME := ''All'';',
'end if; ',
' :P0_FIRST_VISIT := 0;',
'else -- Not first visit ',
' if :P0_TIME_PERIOD is not null then ',
'   if :P0_TIME_TYPE = ''H'' then ',
'     :P0_TIME := :P0_TIME_PERIOD / 24;',
'   elsif :P0_TIME_TYPE = ''D'' then ',
'     :P0_TIME := :P0_TIME_PERIOD;',
'   elsif :P0_TIME_TYPE = ''W'' then ',
'     :P0_TIME := :P0_TIME_PERIOD * 7;',
'   elsif :P0_TIME_TYPE = ''M'' then ',
'     :P0_TIME := :P0_TIME_PERIOD * 30; ',
'   elsif :P0_TIME_TYPE = ''Y'' then ',
'     :P0_TIME := :P0_TIME_PERIOD * 365;',
'   end if;',
' else ',
'   :P0_TIME := ''All'';',
' end if;',
'end if; -- End of is first',
'end;'))
);
end;
/
begin
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312034468359009808)
,p_process_sequence=>20
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Caliculate Rotation'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt number;',
'begin',
' select count(*) into cnt from (',
'select d.system_id link,d.system_name name,count(b.status) Fails ',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'auditcheck_result b,rca13_lob2sys_mapping c,rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status = ''FAIL''',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and  not exists ( SELECT 1 FROM rca13_ignored_checks t1 WHERE b.check_id = t1.check_id ',
'                AND t1.system_id =a.system_id AND ( t1.collection_date IS NULL OR ( t1.collection_date  = b.collection_date and acr_id is null ) ',
'                OR acr_id = b.auditcheck_result_id ) )',
'group by d.system_name,d.system_id',
');',
'if cnt <= 6 then ',
' :P1001_ROTATION := 0;',
'else ',
'  :P1001_ROTATION := 90;',
'end if;',
'end;'))
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312387341326722227)
,p_process_sequence=>20
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'get systems count'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'select count(*) into :P1001_SYSTEMS_COUNT from (',
'select distinct a.system_id from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,',
'rca13_lob2sys_mapping b,rca13_lobs c',
'where a.system_id = b.system_id ',
'and b.lob_id = c.lob_id',
'and ( :P0_BUSINESS_UNITS = ''All'' OR b.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR b.system_id = :P0_SYS_FILTER ) );',
'end;'))
);
end;
/
prompt --application/pages/page_01002
begin
wwv_flow_api.create_page(
 p_id=>1002
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Audit Checks'
,p_page_mode=>'NORMAL'
,p_step_title=>'Audit Checks'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Audit Checks'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_html_page_header=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<style>',
'.uRegionContent {',
' overflow-x:auto;',
'}',
'</style>'))
,p_javascript_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function changeColor() {',
' // We need to cahnge color of time period on selction',
' var val = document.getElementById(''P1002_TIME'').value;',
' //alert(val);',
' document.getElementById(''TIMEP_''+val).style.color="RED";',
'}',
'',
'function open_dialog (v1) ',
'{',
'  if ( !  document.getElementById(v1+''_rec'').innerHTML )',
'  {',
'    var get = new htmldb_Get(null, &APP_ID., ''APPLICATION_PROCESS=GETRECO'', &APP_PAGE_ID.);',
'    get.add(''G_RATIONAL_CID'' , v1);',
'    gReturn = get.get();',
'    document.getElementById(v1+''_rec'').innerHTML = gReturn;',
'    get = null;',
'  }',
'  var w = $(window).width()-200;',
'  var h = $(window).height()-200;',
'  $(''#''+v1+''_rec'').dialog({',
'      autoOpen: true,',
'      show: {',
'        effect: "blind",',
'        duration: 500',
'      },',
'      hide: {',
'        effect: "explode",',
'        duration: 500',
'      },',
'      width: w,',
'      height: h',
'    });',
'}',
'',
'function selectAllFun() ',
'{',
' var allSel = document.getElementById("ALL_SEL");',
' var cboxes = document.getElementsByTagName("input");',
' if ( allSel.checked ) {',
'    for(var i = 0; i < cboxes.length; i++) {   ',
'        cboxes[i].checked = true;',
'    }',
' }',
' else {',
'    for(var i = 0; i < cboxes.length; i++) {   ',
'        cboxes[i].checked = false;',
'    }',
' }',
'}',
'',
'function ShowHide( inVal ) ',
'{',
'  var val = document.getElementById(inVal).style.display;',
'  //alert(val);',
'  if ( val == ''none'' ) {',
'    document.getElementById(inVal).style.display = ''block'';',
'    document.getElementById(inVal+''_mh'').innerHTML = ''...Less'';',
'  }',
'  else {',
'   document.getElementById(inVal).style.display = ''none''; ',
'       document.getElementById(inVal+''_mh'').innerHTML = ''...More'';',
'  }',
'}'))
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'#PATCH_RESULT_1002,#FILTERS_1002 {',
' margin: 0px !important;',
'}',
'',
'.recommendation {',
'   text-decoration:none;',
'background-image: url(data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gAxSW1hZ2UgUmVzaXplZCBhdCBodHRwOi8vd3d3LnNocmlua3BpY3R1cmVzLmNvbQr/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQE'
||'Bw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAATABMDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0R'
||'FRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzU'
||'vAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDR0yJruC5AyXijUxqGCgkuq4/Wor9xBfSw28rtGjYBbr7j86yoNVe3gmi'
||'QKVnQK2eoAIPH4gVsXVw11pb3aov21EUXY/i2fwvj1PGT9PU1t1JKLTyE5LUVnfax60VQjDtp5Wt43LksVBzVj7XcFy/nPuYYJzyRRRSGZtxeXCzsFkIA9qKKKi5R/9k=);',
'}',
'',
'',
'.label-pass, .badge-pass {',
'background-color: #468847;',
'}',
'',
'.label-fail, .badge-fail {',
'background-color: #b94a48;',
'}',
'',
'.label-ignore, .badge-ignore {',
'background-color: #EEBC00;',
'}',
'',
'.label-info, .badge-info {',
'background-color: #3a87ad;',
'}',
'',
'.label-warning, .badge-warning {',
'background-color: #f89406;',
'}',
'',
'',
'.label {',
'//-webkit-border-radius: 3px;',
'//-moz-border-radius: 3px;',
'//border-radius: 3px;',
'}',
'',
'.label, .badge {',
'display: inline-block;',
'padding: 2px 4px;',
'font-size: 11.844px;',
'font-weight: bold;',
'line-height: 14px;',
'color: #ffffff;',
'text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);',
'white-space: nowrap;',
'vertical-align: baseline;',
'width:75px;',
'text-align:center;',
'//background-color: #999999;',
'}'))
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'ORACHKCM'
,p_last_upd_yyyymmddhh24miss=>'20160829230434'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(308478266899371708)
,p_name=>'Patch Results'
,p_region_name=>'PATCH_RESULT_1002'
,p_template=>wwv_flow_api.id(2674554283312565687)
,p_display_sequence=>29
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1002_COLLECTION_DATE,1,instr(:P1002_COLLECTION_DATE,''|'',1,1)-1) )',
'select ',
'a.hostname "Host Name",',
'a.oracle_home_type "Home Type",',
'a.oracle_home_path||'' [ ''||a.oracle_home_version||'' ]'' "Home Path [ Version ]",',
'a.oracle_home_version "Home Version",',
'a.patch_number "Patch#",',
'decode(a.patch_type,''Not Found'',''NA'',a.patch_type) "Patch Type",',
'a.description "Description",',
'decode(a.applied,1,''YES'',''NO'') Applied,',
'decode(a.recommended,1,''YES'',''NO'') Recommended',
'from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1 )',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'select 1 from auditcheck_patch_result where collection_date = substr(:P1002_COLLECTION_DATE,1,instr(:P1002_COLLECTION_DATE,''|'',1,1)-1)'
,p_display_condition_type=>'EXISTS'
,p_header=>'<font color=red>Note:</font> No filters apply on this region'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>500
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'1:2:3'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308479748988450236)
,p_query_column_id=>1
,p_column_alias=>'Host Name'
,p_column_display_sequence=>1
,p_column_heading=>'Host Name'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308479849078450237)
,p_query_column_id=>2
,p_column_alias=>'Home Type'
,p_column_display_sequence=>2
,p_column_heading=>'Home Type'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312404250394180638)
,p_query_column_id=>3
,p_column_alias=>'Home Path [ Version ]'
,p_column_display_sequence=>3
,p_column_heading=>'Home Path [ Version ]'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312403964628174024)
,p_query_column_id=>4
,p_column_alias=>'Home Version'
,p_column_display_sequence=>4
,p_column_heading=>'Home Version'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308478947724371765)
,p_query_column_id=>5
,p_column_alias=>'Patch#'
,p_column_display_sequence=>5
,p_column_heading=>'Patch#'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308479055417371765)
,p_query_column_id=>6
,p_column_alias=>'Patch Type'
,p_column_display_sequence=>8
,p_column_heading=>'Patch Type'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308480137227450237)
,p_query_column_id=>7
,p_column_alias=>'Description'
,p_column_display_sequence=>9
,p_column_heading=>'Description'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308480244070450237)
,p_query_column_id=>8
,p_column_alias=>'APPLIED'
,p_column_display_sequence=>7
,p_column_heading=>'Applied'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312168949520963560)
,p_query_column_id=>9
,p_column_alias=>'RECOMMENDED'
,p_column_display_sequence=>6
,p_column_heading=>'Recommended'
,p_column_alignment=>'CENTER'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(311941042453038231)
,p_name=>'Audit checks'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_report_attributes=>'class = "AUDITCHECKS_REGION"'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'q varchar2(32000);',
'q1 varchar2(400);',
'q2 varchar2(400);',
'q3 varchar2(400);',
'q4 varchar2(400);',
'q5 varchar2(100);',
'q6 varchar2(400);',
'q7 varchar2(400);',
'q8 varchar2(400);',
'begin',
'--Ignore time when a particular collection is selected ',
'q := ''select sel,COLLECTION_DATE,',
'    case ',
'      when status in (''''FAIL'''',''''WARNING'''',''''INFO'''') then',
'           case ',
'             when tic is null then',
'              ''''<a href="f?p=&APP_ID.:15:&SESSION.:::15,16,17:P15_RCA13_ID,P15_RCA13_CDATE,P15_RCA13_TYPE:''''||acri||'''',''''||COLLECTION_DATE||'''',CHECK" title="Raise ticket" style="text-decoration:none;"><font color="RED">&#9650</font></a>''''',
'             else ',
'               case ',
'                 when substr(tic,instr(tic,'''':'''',1,1)+1) >= 80 then',
'                   ''''<a href="f?p=&APP_ID.:50:&SESSION.:::50:P50_ID:''''||substr(tic,1,instr(tic,'''':'''',1,1)-1)||''''" title="Ticket Closed" style="text-decoration:none;"><font color="GREEN">&#9650</font</a>''''',
'                 else',
'                   ''''<a href="f?p=&APP_ID.:50:&SESSION.:::50:P50_ID:''''||substr(tic,1,instr(tic,'''':'''',1,1)-1)||''''" title="View Ticket" style="text-decoration:none;"><font color="blue">&#9650</font></a>''''',
'               end',
'           end         ',
'      else ''''<a href="#"></a>''''',
'    end as inc,',
'    ''''<a id="''''||CHECK_ID||''''" class="recommendation" style="cursor:pointer;" title="Recommendation" onclick="open_dialog(''''''''''''||CHECK_ID||'''''''''''');">',
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>''''||''''<div id="''''||CHECK_ID||''''_rec" style="display:none"></div>&nbsp;&nbsp;''''||check_name as check_name, ',
'    decode(status,',
'           ''''FAIL'''',decode(substr(tic,instr(tic,'''':'''',1,1)+1,1),''''8'''',''''<span class="label label-pass">FIXED</span>'''',''''<span class="label label-fail">FAIL</span>''''),',
'           ''''IGNORE'''',''''<span class="label label-ignore">IGNORE</span>'''',',
'           ''''WARNING'''',decode(substr(tic,instr(tic,'''':'''',1,1)+1,1),''''8'''',''''<span class="label label-pass">FIXED</span>'''',''''<span class="label label-warning">WARNING</span>''''),',
'           ''''INFO'''',decode(substr(tic,instr(tic,'''':'''',1,1)+1,1),''''8'''',''''<span class="label label-pass">FIXED</span>'''',''''<span class="label label-info">INFO</span>''''),',
'           ''''PASS'''',''''<span class="label label-pass">PASS</span>'''',',
'           ''''INFO-PASS'''',''''<span class="label label-pass">INFO-PASS</span>'''',status) status,',
'        STATUS_MESSAGE,',
' 	ACTUAL_VALUE, 	RECOMMENDED_VALUE,',
' 	COMPARISON_OPERATOR, 	HOSTNAME,',
' 	INSTANCE_NAME, 	CHECK_TYPE,',
' 	DB_PLATFORM, 	OS_DISTRO,',
' 	OS_KERNEL, 	OS_VERSION,',
' 	DB_VERSION, 	CLUSTER_NAME,',
' 	DB_NAME, 	ERROR_TEXT,',
' 	CHECK_ID, 	NEEDS_RUNNING,',
' 	MODULES, 	DATABASE_ROLE,',
' 	CLUSTERWARE_VERSION,	GLOBAL_NAME,acri,',
'        decode(status,''''FAIL'''',1,''''WARNING'''',2,''''INFO'''',3,''''PASS'''',4,''''INFO-PASS'''',5,''''IGNORE'''',6,7) sOrder',
'      from (',
'      select decode((select 1 from dual where STATUS in (''''FAIL'''',''''WARNING'''',''''INFO'''')),1,apex_item.checkbox(1,auditcheck_result_id),'''' '''') sel,',
'        a.COLLECTION_DATE,( select x.ticket_id||'''':''''||y.status_code from RCA13_AC_TICKETS x,RCA13_intrack_incidents y where x.attr1 = a.auditcheck_result_id and x.type = ''''CHECK'''' and x.ticket_id = y.id ) tic,',
' 	decode(check_type,''''SQL_PARAM'''',PARAM_NAME,''''OS_PARAM'''',PARAM_NAME,''''OS_PACKAGE'''',PARAM_NAME,''''OS_PATCH'''',PARAM_NAME,nvl(CHECK_NAME,PARAM_NAME)) CHECK_NAME,',
' 	CASE WHEN exists (select 1 from rca13_ignored_checks b where a.status in (''''FAIL'''',''''WARNING'''',''''INFO'''') and a.check_id = b.check_id and ',
'                          b.system_id = x.system_id and ( b.collection_date is null OR ( b.collection_date = a.collection_date and b.acr_id is null ) OR b.acr_id = a.auditcheck_result_id ) ',
'                          and b.system_id = y.system_id) then',
'          ''''IGNORE''''',
'          else STATUS',
'        END as status,',
'        STATUS_MESSAGE,ACTUAL_VALUE, 	RECOMMENDED_VALUE,COMPARISON_OPERATOR, 	HOSTNAME,',
' 	INSTANCE_NAME, 	CHECK_TYPE,DB_PLATFORM, 	OS_DISTRO,OS_KERNEL, 	OS_VERSION,',
' 	DB_VERSION,CLUSTER_NAME,DB_NAME, 	ERROR_TEXT,CHECK_ID, 	NEEDS_RUNNING,',
' 	MODULES, 	DATABASE_ROLE,CLUSTERWARE_VERSION,	GLOBAL_NAME,upload_collection_name ucn,auditcheck_result_id acri       ',
'      from auditcheck_result a ,rca13_col2sys_mapping x,rca13_lob2sys_mapping y',
'      where (:P1002_COLLECTION_DATE is null or a.collection_date||''''|''''||a.upload_collection_name = :P1002_COLLECTION_DATE) ',
'      and   a.collection_date = x.collection_date ',
'      and a.upload_collection_name = x.collection_name',
'      and x.system_id = y.system_id ',
'      and ( :P1002_BUSINESS_UNITS = ''''All'''' OR y.lob_id = :P1002_BUSINESS_UNITS )',
'      and ( :P1002_SYS_FILTER = ''''All'''' OR y.system_id = :P1002_SYS_FILTER )  ) ',
'      where ( :P1002_COLLECTION_DATE is not null or :P1002_TIME = ''''All'''' or :P1002_TIME is null or ( :P1002_TIME != ''''All'''' and collection_date > sysdate - :P1002_TIME) ) '';',
'',
'q5 := '' order by collection_date desc,sOrder asc'';',
'',
'if :P1002_CHECK_ID is not null then',
' q2 := '' and check_id = :P1002_CHECK_ID '';',
'end if;',
'if :P1002_STATUS is not null then',
' if instr(:P1002_STATUS,''PASS'') > 0 then',
'   q3 := '' and status like ''''%PASS'''' '';',
' else  ',
'   q3 := '' and status = :P1002_STATUS '';',
' end if;',
'end if;',
'if :P1002_HOSTNAME is not null then',
' q4 := '' and hostname = :P1002_HOSTNAME '';',
'end if;',
'if :P1002_DB_VERSION is not null then',
' q6 := '' and db_version = :P1002_DB_VERSION '';',
'end if;',
'if :P1002_SEARCH is not null then',
' q7 := '' and upper(CHECK_NAME) like ''''%''''||upper(:P1002_SEARCH)||''''%'''' '';',
'end if;',
'if :P1002_DB_NAME is not null then',
' q6 := '' and DB_NAME = :P1002_DB_NAME '';',
'end if;',
'',
'q := q||q1||q2||q3||q4||q6||q7||q8;',
'q := q||q5;',
'return q;',
'end;'))
,p_source_type=>'NATIVE_FNC_REPORT'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if ( :P1002_COLLECTION_DATE is not null OR :P1002_STATUS is not null or :P1002_HOSTNAME is not null',
'     OR :P1002_SEARCH is not null OR :P1002_DB_VERSION is not null OR :P1002_PLATFORM is not null ',
'     OR :P1002_CHECK_ID is not null )  then',
' return true;',
'else ',
' return false;',
'end if;'))
,p_display_condition_type=>'FUNCTION_BODY'
,p_header=>'<div style="overflow: auto;">'
,p_footer=>'</div>'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>500
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'No Checks Found for the selected Filters'
,p_query_num_rows_type=>'ROW_RANGES_IN_SELECT_LIST'
,p_query_row_count_max=>10000
,p_pagination_display_position=>'TOP_AND_BOTTOM_LEFT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311941268347038233)
,p_query_column_id=>1
,p_column_alias=>'SEL'
,p_column_display_sequence=>1
,p_column_heading=>'<input id="ALL_SEL" type="checkbox" onclick="selectAllFun();">'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311941357727038233)
,p_query_column_id=>2
,p_column_alias=>'COLLECTION_DATE'
,p_column_display_sequence=>2
,p_column_heading=>'Collection Date'
,p_use_as_row_header=>'N'
,p_column_format=>'DD-MON-YYYY HH24:MI:SS'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_when_cond_type=>'ITEM_IS_NULL'
,p_display_when_condition=>'P1002_COLLECTION_DATE'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312188662666439594)
,p_query_column_id=>3
,p_column_alias=>'INC'
,p_column_display_sequence=>3
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_report_column_width=>1
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311941465631038233)
,p_query_column_id=>4
,p_column_alias=>'CHECK_NAME'
,p_column_display_sequence=>5
,p_column_heading=>'Check Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
,p_column_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!-- ',
'<a href=#" onclick="open_dialog(''#CHECK_ID#'');">#CHECK_NAME#</a>',
'<div id="#CHECK_ID#_rec" style="display:none"></div>',
'-->'))
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311941536978038233)
,p_query_column_id=>5
,p_column_alias=>'STATUS'
,p_column_display_sequence=>6
,p_column_heading=>'Status'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311941653163038233)
,p_query_column_id=>6
,p_column_alias=>'STATUS_MESSAGE'
,p_column_display_sequence=>7
,p_column_heading=>'Status Message'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311941754418038233)
,p_query_column_id=>7
,p_column_alias=>'ACTUAL_VALUE'
,p_column_display_sequence=>10
,p_column_heading=>'Actual Value'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311941868356038233)
,p_query_column_id=>8
,p_column_alias=>'RECOMMENDED_VALUE'
,p_column_display_sequence=>12
,p_column_heading=>'Recommended Value'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311941938110038233)
,p_query_column_id=>9
,p_column_alias=>'COMPARISON_OPERATOR'
,p_column_display_sequence=>11
,p_column_heading=>'Comparision Operator'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311942046229038233)
,p_query_column_id=>10
,p_column_alias=>'HOSTNAME'
,p_column_display_sequence=>13
,p_column_heading=>'Hostname'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311942159888038233)
,p_query_column_id=>11
,p_column_alias=>'INSTANCE_NAME'
,p_column_display_sequence=>14
,p_column_heading=>'Instance Name'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311942266160038233)
,p_query_column_id=>12
,p_column_alias=>'CHECK_TYPE'
,p_column_display_sequence=>16
,p_column_heading=>'Check Type'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311942353173038234)
,p_query_column_id=>13
,p_column_alias=>'DB_PLATFORM'
,p_column_display_sequence=>17
,p_column_heading=>'Platform'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311942463216038234)
,p_query_column_id=>14
,p_column_alias=>'OS_DISTRO'
,p_column_display_sequence=>20
,p_column_heading=>'Os Distro'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311942563846038234)
,p_query_column_id=>15
,p_column_alias=>'OS_KERNEL'
,p_column_display_sequence=>21
,p_column_heading=>'Os Kernel'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311942660633038234)
,p_query_column_id=>16
,p_column_alias=>'OS_VERSION'
,p_column_display_sequence=>22
,p_column_heading=>'Os Version'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311942738124038234)
,p_query_column_id=>17
,p_column_alias=>'DB_VERSION'
,p_column_display_sequence=>18
,p_column_heading=>'DB Version'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311942841960038234)
,p_query_column_id=>18
,p_column_alias=>'CLUSTER_NAME'
,p_column_display_sequence=>23
,p_column_heading=>'Cluster Name'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311942959700038234)
,p_query_column_id=>19
,p_column_alias=>'DB_NAME'
,p_column_display_sequence=>15
,p_column_heading=>'DB Name'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311943040348038234)
,p_query_column_id=>20
,p_column_alias=>'ERROR_TEXT'
,p_column_display_sequence=>19
,p_column_heading=>'Error Text'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311943142778038234)
,p_query_column_id=>21
,p_column_alias=>'CHECK_ID'
,p_column_display_sequence=>24
,p_column_heading=>'Check Id'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311943266387038234)
,p_query_column_id=>22
,p_column_alias=>'NEEDS_RUNNING'
,p_column_display_sequence=>25
,p_column_heading=>'Needs Running'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311943336600038236)
,p_query_column_id=>23
,p_column_alias=>'MODULES'
,p_column_display_sequence=>26
,p_column_heading=>'Modules'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311943444569038236)
,p_query_column_id=>24
,p_column_alias=>'DATABASE_ROLE'
,p_column_display_sequence=>27
,p_column_heading=>'Database Role'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311943550431038236)
,p_query_column_id=>25
,p_column_alias=>'CLUSTERWARE_VERSION'
,p_column_display_sequence=>28
,p_column_heading=>'Clusterware Version'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311943636275038236)
,p_query_column_id=>26
,p_column_alias=>'GLOBAL_NAME'
,p_column_display_sequence=>29
,p_column_heading=>'Global Name'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312084851663645924)
,p_query_column_id=>27
,p_column_alias=>'ACRI'
,p_column_display_sequence=>31
,p_column_heading=>'Acri'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311943758586038236)
,p_query_column_id=>28
,p_column_alias=>'SORDER'
,p_column_display_sequence=>30
,p_column_heading=>'Sorder'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(307780052375024794)
,p_query_column_id=>29
,p_column_alias=>'LINK$01'
,p_column_display_sequence=>9
,p_column_heading=>'Actual Values'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1026:&SESSION.::&DEBUG.:1026:P1026_COLLECTION_DATE,P1026_CHECK_ID:&P1002_COLLECTION_DATE.,#CHECK_ID#'
,p_column_linktext=>'View'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_when_cond_type=>'EXISTS'
,p_display_when_condition=>'select 1 from auditcheck_result where collection_date||''|''||upload_collection_name = :P1002_COLLECTION_DATE and collection_id is not null'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308474763914030179)
,p_query_column_id=>30
,p_column_alias=>'LINK$02'
,p_column_display_sequence=>8
,p_column_heading=>'Actual Values'
,p_use_as_row_header=>'N'
,p_column_link=>'javascript:popupURL(''f?p=&APP_ID.:1026:&APP_SESSION.:NO:1026:P1026_COLLECTION_DATE,P1026_CHECK_ID:&P1002_COLLECTION_DATE.,#CHECK_ID#'');'
,p_column_linktext=>'View'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
,p_display_when_cond_type=>'EXISTS'
,p_display_when_condition=>'select 1 from auditcheck_result where collection_date||''|''||upload_collection_name = :P1002_COLLECTION_DATE and collection_id is not null'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312446445949513394)
,p_query_column_id=>31
,p_column_alias=>'LINK$03'
,p_column_display_sequence=>4
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1035:&SESSION.::&DEBUG.:1035:P1035_CHECK_ID,P1035_COLLECTION_DATE:#CHECK_ID#,&P1002_COLLECTION_DATE.'
,p_column_linktext=>'T'
,p_hidden_column=>'Y'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_report_column_width=>1
,p_derived_column=>'Y'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(311953446361038244)
,p_plug_name=>'Ignore Selected Checks'
,p_region_name=>'IGNORE_FCHECKS'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2674547298698564458)
,p_plug_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'AFTER_HEADER'
,p_plug_query_row_template=>wwv_flow_api.id(305648945503015943)
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>150
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_plug_footer=>'<font color="red">Note:</font> Ignore will happen  within the user''s current access control privileges'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312023344028428583)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(312022352115364667)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
,p_plug_display_condition_type=>'VALUE_OF_ITEM_IN_CONDITION_IN_COLON_DELIMITED_LIST'
,p_plug_display_when_condition=>'G_PREV_PAGE'
,p_plug_display_when_cond2=>'1025'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312028458860215171)
,p_plug_name=>'&nbsp;'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>6
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_display_point=>'BODY_1'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312032851091752176)
,p_plug_name=>'Undo Ignore '
,p_region_name=>'CONSIDER_FCHECKS'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2674547298698564458)
,p_plug_display_sequence=>41
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'AFTER_HEADER'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<!--',
'Undo the action done on selected check(s). <br>',
'That is, <br>',
'if check was ignored from all collections, it will do undo-ignore from all collections,<br> ',
'if check was ignored from specific collections, it will do undo-ignore from those collections.',
'-->'))
,p_plug_query_row_template=>wwv_flow_api.id(305648945503015943)
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>150
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_plug_footer=>'<font color="red">Note:</font>Undo-Ignore will happen within the user''s current access control privileges'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312162142930602832)
,p_name=>'Collection Details'
,p_template=>wwv_flow_api.id(2674554283312565687)
,p_display_sequence=>28
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select a.collection_name collection_name,a.collection_date ,',
'RCA13_GET_DATA4COLUMNS.getCrsHome(b.collection_id) "CRS Home - Version",',
'RCA13_GET_DATA4COLUMNS.getASMHome(b.collection_id) "ASM Home - Version",',
'RCA13_GET_DATA4COLUMNS.getRdbmsHome(b.collection_id) "Database Homes - Version",',
'RCA13_GET_DATA4COLUMNS.getDBServers(b.collection_id,1) "Database Servers",',
'RCA13_GET_DATA4COLUMNS.getStorageServers(b.collection_id,1) "Storage Servers",',
'RCA13_GET_DATA4COLUMNS.getIBSwitches(b.collection_id,1) "Infiniband Switches",',
'RCA13_GET_DATA4COLUMNS.getDatabases(b.collection_id,1) "Databases",',
'nvl(b.tool_version,''NA'') "Tool Version",',
'nvl(b.current_user,''NA'') "Current User", profiles ',
'from rca13_collections_md a,rca13_collections b',
'where a.collection_date||''|''||a.collection_name = :P1002_COLLECTION_DATE',
'and a.collection_date = b.collection_date',
'and a.collection_name = b.collection_name'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'begin',
'if :P1002_COLLECTION_DATE is null then ',
' return false;',
'end if;',
'select count(1) into cnt from rca13_collections_md a where a.collection_date||''|''||a.collection_name = :P1002_COLLECTION_DATE and a.collection_id is not null;',
'if cnt > 0 then',
' return true;',
'end if;',
'return false;',
'end;'))
,p_display_condition_type=>'FUNCTION_BODY'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>2
,p_query_num_rows=>150
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
end;
/
begin
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312162440369602915)
,p_query_column_id=>1
,p_column_alias=>'COLLECTION_NAME'
,p_column_display_sequence=>2
,p_column_heading=>'Collection Name'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312162558054602921)
,p_query_column_id=>2
,p_column_alias=>'COLLECTION_DATE'
,p_column_display_sequence=>1
,p_column_heading=>'Collection Date'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312162648836602921)
,p_query_column_id=>3
,p_column_alias=>'CRS Home - Version'
,p_column_display_sequence=>3
,p_column_heading=>'CRS Home - Version'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312162745496602921)
,p_query_column_id=>4
,p_column_alias=>'ASM Home - Version'
,p_column_display_sequence=>4
,p_column_heading=>'ASM Home - Version'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312162852350602921)
,p_query_column_id=>5
,p_column_alias=>'Database Homes - Version'
,p_column_display_sequence=>5
,p_column_heading=>'Database Homes - Version'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312162953035602921)
,p_query_column_id=>6
,p_column_alias=>'Database Servers'
,p_column_display_sequence=>6
,p_column_heading=>'Database Servers'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312163063442602921)
,p_query_column_id=>7
,p_column_alias=>'Storage Servers'
,p_column_display_sequence=>7
,p_column_heading=>'Storage Servers'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312163147637602921)
,p_query_column_id=>8
,p_column_alias=>'Infiniband Switches'
,p_column_display_sequence=>8
,p_column_heading=>'Infiniband Switches'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312163268244602921)
,p_query_column_id=>9
,p_column_alias=>'Databases'
,p_column_display_sequence=>9
,p_column_heading=>'Databases'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312163348945602921)
,p_query_column_id=>10
,p_column_alias=>'Tool Version'
,p_column_display_sequence=>10
,p_column_heading=>'Tool Version'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312163464638602921)
,p_query_column_id=>11
,p_column_alias=>'Current User'
,p_column_display_sequence=>11
,p_column_heading=>'Current User'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312169437489503672)
,p_query_column_id=>12
,p_column_alias=>'PROFILES'
,p_column_display_sequence=>12
,p_column_heading=>'Profiles'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312700036710921953)
,p_plug_name=>'Filters'
,p_region_name=>'FILTERS_1002'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>7
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311953658943038246)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(311953446361038244)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'javascript:closeModal();'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311953863208038246)
,p_button_sequence=>50
,p_button_plug_id=>wwv_flow_api.id(311953446361038244)
,p_button_name=>'IGNORE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Ignore'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312033736384775774)
,p_button_sequence=>60
,p_button_plug_id=>wwv_flow_api.id(312032851091752176)
,p_button_name=>'CANCEL_C'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'javascript:closeModal();'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312034152546783483)
,p_button_sequence=>70
,p_button_plug_id=>wwv_flow_api.id(312032851091752176)
,p_button_name=>'CONSIDER'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Undo Ignore'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'--Display this button only if status is null or if status = IGNORE',
'if :P1002_STATUS is null OR  :P1002_STATUS = ''IGNORE'' then',
' return true;',
'else',
' return false;',
'end if;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(308473539793957042)
,p_button_sequence=>110
,p_button_plug_id=>wwv_flow_api.id(311941042453038231)
,p_button_name=>'HTMLREPORT'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'HTML Report'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'javascript:popupURL("f?p=&APP_ID.:&APP_PAGE_ID.:&APP_SESSION.:APPLICATION_PROCESS=GET_FILE:::FILE_ID:&P1002_GET_COL_HTML_DOC_ID.")'
,p_button_condition=>'P1002_GET_COL_HTML_DOC_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311948442906038240)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(312700036710921953)
,p_button_name=>'APPLY_FILTERS'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Filters'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_cattributes=>'style="margin-left:20px";'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311948661466038240)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(312700036710921953)
,p_button_name=>'CLEAR_FILTERS'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'Reset Page'
,p_button_position=>'RIGHT_OF_TITLE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311943859344038236)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(311941042453038231)
,p_button_name=>'IGNORE_SELECTED'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'Ignore Selected'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_redirect_url=>'javascript:openModal(''IGNORE_FCHECKS'');'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1002_STATUS is null OR :P1002_STATUS = ''FAIL'' OR :P1002_STATUS = ''WARNING'' OR :P1002_STATUS = ''INFO'' then',
' return true;',
'else',
' return false;',
'end if;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312034436803790777)
,p_button_sequence=>80
,p_button_plug_id=>wwv_flow_api.id(311941042453038231)
,p_button_name=>'CONSIDER_SELECTED'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'Undo Ignore'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_redirect_url=>'javascript:openModal(''CONSIDER_FCHECKS'');'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'--Display this button only if status is null or if status = IGNORE',
'if :P1002_STATUS is null OR  :P1002_STATUS = ''IGNORE'' then',
' return true;',
'else',
' return false;',
'end if;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312139538128676533)
,p_button_sequence=>90
,p_button_plug_id=>wwv_flow_api.id(311941042453038231)
,p_button_name=>'RAISE_TICKET_ON_COLLECTION'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'Raise Ticket On Collection'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_redirect_url=>'f?p=&APP_ID.:15:&SESSION.::&DEBUG.:15,16,17:P15_RCA13_TYPE,P15_RCA13_CDATE,P15_RCA13_CNAME:COLLECTION,&P1002_COLLECTION_DATE.,&P1002_COLLECTION_NAME.'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt number;',
'begin',
'if :P1002_COLLECTION_DATE is not null then',
'  select count(*) into cnt from RCA13_AC_TICKETS where collection_date||''|''||collection_name = :P1002_COLLECTION_DATE and attr1 is null;',
'  if cnt > 0 then',
'    return false;',
'  end if;',
'  return true;',
'end if;',
'return false;',
'end;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312196656271267499)
,p_button_sequence=>100
,p_button_plug_id=>wwv_flow_api.id(311941042453038231)
,p_button_name=>'VIEW_TICKET'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'View Ticket'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_redirect_url=>'f?p=&APP_ID.:50:&SESSION.::&DEBUG.:50:P50_ID:&P1002_TICKET_ID.'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt number;',
'begin',
'if :P1002_COLLECTION_DATE is not null then ',
'  --Attr1 is auditcheck result id',
'  select count(*) into cnt from RCA13_AC_TICKETS where collection_date||''|''||collection_name = :P1002_COLLECTION_DATE and attr1 is null;',
'  if cnt > 0 then',
'    return true;',
'  end if;',
'  return false;',
'end if;',
'return false;',
'end;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(311957266841038252)
,p_branch_action=>'f?p=&APP_ID.:1002:&SESSION.'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_sequence=>10
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308470239593543055)
,p_name=>'P1002_GET_COL_HTML_DOC_ID'
,p_item_sequence=>210
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308474053036977405)
,p_name=>'P1002_SECURITY_GROUP_ID'
,p_item_sequence=>220
,p_item_plug_id=>wwv_flow_api.id(311941042453038231)
,p_source=>'select apex_custom_auth.get_security_group_id from dual'
,p_source_type=>'QUERY'
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308486043191916171)
,p_name=>'P1002_DB_NAME'
,p_item_sequence=>261
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_prompt=>'<b>DB Name</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct db_name display_value,db_name return_value from ',
'auditcheck_result a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
'where a.collection_date = b.collection_date',
'and b.system_id = c.system_id ',
'and ( :P1002_BUSINESS_UNITS = ''All'' OR c.lob_id = :P1002_BUSINESS_UNITS )',
'and ( :P1002_SYS_FILTER = ''All'' OR c.system_id = :P1002_SYS_FILTER )',
'and ( :P1002_TIME = ''All'' OR (:P1002_TIME != ''All'' and a.collection_date > sysdate - :P1002_TIME ) )',
'and :P1002_COLLECTION_DATE is null',
'UNION ALL',
'select distinct db_name display_value,db_name return_value from ',
'auditcheck_result where :P1002_COLLECTION_DATE is not null and collection_date||''|''||upload_collection_name = :P1002_COLLECTION_DATE',
'order by display_value',
'',
'--Ignore every thing, if collection is selected'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select DB Name --'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308486538181979343)
,p_name=>'P1002_COLLECTION_DATE'
,p_item_sequence=>250
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_prompt=>'<b>Select Collection Name</b>'
,p_display_as=>'NATIVE_POPUP_LOV'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select replace(substr(a.collection_name,instr(a.collection_name,''_'',1,1)+1),''_'','' '') display_value, a.collection_date||''|''||a.collection_name return_value ',
'from rca13_collections_md  a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
'where a.collection_date = b.collection_date and a.collection_name = b.collection_name',
'and b.system_id = c.system_id',
'and ( nvl(:P0_BUSINESS_UNITS,''All'') = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( nvl(:P0_SYS_FILTER,''All'') = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and ( :P0_TIME = ''All'' OR ( :P0_TIME != ''All'' and a.collection_date > sysdate - :P0_TIME) )',
'order by return_value desc'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select Collection Date --'
,p_cSize=>35
,p_cMaxlength=>4000
,p_cHeight=>1
,p_new_grid=>true
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_attribute_01=>'NOT_ENTERABLE'
,p_attribute_02=>'FIRST_ROWSET'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308579740790785001)
,p_name=>'P1002_IGNORE_TIME'
,p_item_sequence=>69
,p_item_plug_id=>wwv_flow_api.id(311953446361038244)
,p_item_default=>'1'
,p_prompt=>'Ignore Time'
,p_display_as=>'NATIVE_RADIOGROUP'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select col1,col2 from (',
'select ''Ignore from all collections including future collections'' col1,1 col2 from dual ',
'UNION',
'select ''Ignore till the collection date of check'' col1,2 col2 from dual ',
') order by col2'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_new_grid=>true
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'1'
,p_attribute_02=>'NONE'
,p_attribute_04=>'VERTICAL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308580462725850776)
,p_name=>'P1002_UIGNORE_TIME'
,p_item_sequence=>79
,p_item_plug_id=>wwv_flow_api.id(312032851091752176)
,p_item_default=>'1'
,p_prompt=>'Un Ignore Time'
,p_display_as=>'NATIVE_RADIOGROUP'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select col1,col2 from (',
'select ''Undo Ignore from all collections'' col1,1 col2 from dual ',
'UNION',
'select ''Undo Ignore since the collection date of check'' col1,2 col2 from dual ',
') order by col2'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'1'
,p_attribute_02=>'NONE'
,p_attribute_04=>'VERTICAL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308678948930304241)
,p_name=>'P1002_CURRENT_USER'
,p_item_sequence=>275
,p_item_plug_id=>wwv_flow_api.id(311941042453038231)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311948856694038240)
,p_name=>'P1002_STATUS'
,p_item_sequence=>252
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_prompt=>'<b>Status</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct status display_value,status return_value from auditcheck_result where status is not null',
'UNION ',
'select ''IGNORE'' display_value,''IGNORE'' return_value from dual',
'UNION',
'select ''FIXED'' display_value,''FIXED'' return_value from dual'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select Status -- '
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311949044999038241)
,p_name=>'P1002_PLATFORM'
,p_item_sequence=>260
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_prompt=>'<b>Platform</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct db_platform display_value,db_platform return_value from ',
'auditcheck_result a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
'where a.collection_date = b.collection_date',
'and b.system_id = c.system_id ',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and ( :P0_TIME = ''All'' OR (:P0_TIME != ''All'' and a.collection_date > sysdate - :P0_TIME ) )',
'and :P1002_COLLECTION_DATE is null',
'UNION ALL',
'select distinct db_platform display_value,db_platform return_value from ',
'auditcheck_result where :P1002_COLLECTION_DATE is not null and collection_date||''|''||upload_collection_name = :P1002_COLLECTION_DATE',
'order by display_value',
'',
'--Ignore every thing, if collection is selected'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select OS Platform -- '
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311949239163038241)
,p_name=>'P1002_DB_VERSION'
,p_item_sequence=>258
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_prompt=>'<b>DB Version</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct db_version display_value,db_version return_value from',
'auditcheck_result a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
'where a.collection_date = b.collection_date',
'and b.system_id = c.system_id ',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and ( :P0_TIME = ''All'' OR (:P0_TIME != ''All'' and a.collection_date > sysdate - :P0_TIME ) )',
'and db_version is not null',
'and :P1002_COLLECTION_DATE is null',
'',
'UNION ALL',
'select distinct db_version display_value,db_version return_value  from ',
'auditcheck_result where :P1002_COLLECTION_DATE is not null ',
'and collection_date||''|''||upload_collection_name = :P1002_COLLECTION_DATE',
'and db_version is not null',
'order by display_value',
'',
'--Ignore every thing, if collection is selected'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select DB Version --'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311949463164038241)
,p_name=>'P1002_SEARCH'
,p_item_sequence=>256
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_prompt=>'<b>Search  ( Searches "Check Name" Column)</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>42
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311949636019038241)
,p_name=>'P1002_HOSTNAME'
,p_item_sequence=>254
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_prompt=>'<b>Host Name</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct hostname display_value,hostname return_value from ',
'auditcheck_result a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
'where a.collection_date = b.collection_date',
'and b.system_id = c.system_id ',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and ( :P0_TIME = ''All'' OR (:P0_TIME != ''All'' and a.collection_date > sysdate - :P0_TIME ) )',
'and :P1002_COLLECTION_DATE is null',
'UNION ALL',
'select distinct hostname display_value,hostname return_value from ',
'auditcheck_result where :P1002_COLLECTION_DATE is not null and collection_date||''|''||upload_collection_name = :P1002_COLLECTION_DATE',
'order by display_value',
'',
'--Ignore every thing, if collection is selected'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select Host --'
,p_cSize=>32
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311950046482038241)
,p_name=>'P1002_CHECK_ID'
,p_item_sequence=>262
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_prompt=>'<b>Search By Check Id</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>42
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311950452276038242)
,p_name=>'P1002_TIME'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311954063234038247)
,p_name=>'P1002_IGNORE_TYPE'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(311953446361038244)
,p_prompt=>'Select Ignore Type'
,p_display_as=>'NATIVE_RADIOGROUP'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select col1,col2 from (',
'select ''Ignore Only this check'' col1,0 col2 from dual ',
'UNION',
'select ''Ignore from the collection'' col1,1 col2 from dual ',
'UNION',
'select ''Ignore from the system'' col1,2 col2 from dual ',
'UNION',
'select ''Ignore from listed business unit'' col1,3 col2 from dual ',
'UNION',
'select ''Ignore from all business units'' col1,4 col2 from dual ',
') order by col2'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_new_grid=>true
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'1'
,p_attribute_02=>'NONE'
,p_attribute_04=>'VERTICAL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312033457950765811)
,p_name=>'P1002_CONSIDER_TYPE'
,p_item_sequence=>80
,p_item_plug_id=>wwv_flow_api.id(312032851091752176)
,p_prompt=>'Select Consider Type'
,p_display_as=>'NATIVE_RADIOGROUP'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select col1,col2 from (',
'select ''Undo-Ignore only this check'' col1,0 col2 from dual',
'UNION',
'select ''Undo-Ignore from collection'' col1,1 col2 from dual ',
'UNION',
'select ''Undo-Ignore from system'' col1,2 col2 from dual ',
'UNION',
'select ''Undo-Ignore from listed business unit'' col1,3 col2 from dual ',
'UNION',
'select ''Undo-Ignore from all business units'' col1,4 col2 from dual ',
') order by col2'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'1'
,p_attribute_02=>'NONE'
,p_attribute_04=>'VERTICAL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312194336331809737)
,p_name=>'P1002_COLLECTION_NAME'
,p_item_sequence=>90
,p_item_plug_id=>wwv_flow_api.id(311941042453038231)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312197167919297451)
,p_name=>'P1002_TICKET_ID'
,p_item_sequence=>100
,p_item_plug_id=>wwv_flow_api.id(311941042453038231)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312250765252925017)
,p_name=>'P1002_TRACK_FLAG'
,p_item_sequence=>110
,p_item_plug_id=>wwv_flow_api.id(311941042453038231)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312700655615948036)
,p_name=>'P1002_BUSINESS_UNITS'
,p_item_sequence=>140
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_prompt=>'<b>&BU_NAME.</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct a.lob_name display_value,a.lob_id return_value from rca13_lobs a,rca13_lob2sys_mapping ',
'where a.lob_id = rca13_lob2sys_mapping.lob_id',
'order by display_value',
''))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'All &BU_NAME.'
,p_lov_null_value=>'All'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312701864981095644)
,p_name=>'P1002_SYS_FILTER'
,p_item_sequence=>160
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_prompt=>'<b>Select &SYS_NAME.</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select b.lob_name||'': ''||c.system_name display_value,c.system_id return_value',
'from rca13_lob2sys_mapping a,rca13_lobs b,rca13_systems c',
'where a.lob_id = b.lob_id and a.system_id = c.system_id',
'and ( :P1002_BUSINESS_UNITS = ''All'' OR :P1002_BUSINESS_UNITS = a.lob_id )',
'order by display_value'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'All &SYS_NAME.'
,p_lov_null_value=>'All'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312702267316140179)
,p_name=>'P1002_TIME_PERIOD'
,p_item_sequence=>134
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_prompt=>'<b>Data for last </b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>4
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:30px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312702450711147865)
,p_name=>'P1002_TIME_TYPE'
,p_item_sequence=>136
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_prompt=>'Time Type'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'STATIC2:Hour;H,Day;D,Month;M,Year;Y'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_begin_on_new_field=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717204815910739)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312704448689513444)
,p_name=>'P1002_FIRST_VISIT'
,p_item_sequence=>200
,p_item_plug_id=>wwv_flow_api.id(312700036710921953)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(308679138794308897)
,p_computation_sequence=>2
,p_computation_item=>'P1002_CURRENT_USER'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'QUERY'
,p_computation=>' select username from user_users;'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(307801846179976585)
,p_computation_sequence=>10
,p_computation_item=>'LAST_PAGE'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'ITEM_VALUE'
,p_computation=>'APP_PAGE_ID'
);
end;
/
begin
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(311956054649038251)
,p_computation_sequence=>10
,p_computation_item=>'P1002_TIME'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'FUNCTION_BODY'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'temp varchar2(20);',
'begin',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 0.0416;',
'if temp > 0 then',
' return ''0.0416'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 0.25;',
'if temp > 0 then',
' return ''0.25'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 0.5;',
'if temp > 0 then',
' return ''0.5'';',
'end if;',
'',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 1;',
'if temp > 0 then',
' return ''1'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 2;',
'if temp > 0 then',
' return ''2'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 7;',
'if temp > 0 then',
' return ''7'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 30;',
'if temp > 0 then',
' return ''30'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 90;',
'if temp > 0 then',
' return ''90'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 180;',
'if temp > 0 then',
' return ''180'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 365;',
'if temp > 0 then',
' return ''365'';',
'end if;',
' return ''All'';',
'end;'))
,p_compute_when_type=>'NEVER'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312194557860845382)
,p_computation_sequence=>10
,p_computation_item=>'P1002_COLLECTION_NAME'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'FUNCTION_BODY'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' for rec in ( select upload_collection_name ucn from auditcheck_result where collection_date||''|''||upload_collection_name = :P1002_COLLECTION_DATE ) loop',
'   return rec.ucn;',
' end loop;',
' return null;',
'end;'))
,p_compute_when=>'P1002_COLLECTION_DATE'
,p_compute_when_type=>'ITEM_IS_NOT_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312250946705933589)
,p_computation_sequence=>10
,p_computation_item=>'P1002_TRACK_FLAG'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'1'
,p_compute_when=>'P1002_TRACK_FLAG'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312703544191211607)
,p_computation_sequence=>10
,p_computation_item=>'P1002_BUSINESS_UNITS'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'All'
,p_compute_when=>'P1002_BUSINESS_UNITS'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(307781863114302717)
,p_computation_sequence=>20
,p_computation_item=>'P1002_SYS_FILTER'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'All'
,p_compute_when=>'P1002_SYS_FILTER'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(308486840652010013)
,p_name=>'Refresh page on change of collection date'
,p_event_sequence=>10
,p_triggering_element_type=>'ITEM'
,p_triggering_element=>'P1002_COLLECTION_DATE'
,p_bind_type=>'bind'
,p_bind_event_type=>'change'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(308487159041010115)
,p_event_id=>wwv_flow_api.id(308486840652010013)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'N'
,p_action=>'NATIVE_SUBMIT_PAGE'
,p_attribute_02=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(311956347476038251)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Clear Filters'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' :P1002_TIME_PERIOD := NULL;',
' :P1002_BUSINESS_UNITS := NULL;',
' :P1002_SYS_FILTER :=NULL;',
' :P1002_COLLECTION_DATE := NULL;',
' :P1002_STATUS := NULL;',
' :P1002_HOSTNAME := NULL;',
' :P1002_DB_VERSION := NULL;',
' :P1002_CHECK_ID := NULL;',
' :P1002_PLATFORM := NULL;',
' :P1002_SEARCH := NULL;',
' :P1002_GET_COL_HTML_DOC_ID := NULL;',
' :P1002_COLLECTION_NAME := NULL;',
' :P1002_DB_NAME := NULL; ',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(311948661466038240)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(311956957279038251)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Ignore Checks'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'VerPlatArray   APEX_APPLICATION_GLOBAL.VC_ARR2;',
'checkId varchar2(40);',
'colDate timestamp(6);',
'chkStatus varchar2(100);',
'sysId varchar2(40);',
'lobId varchar2(40);',
'jobName varchar2(256);',
'sysIdsList varchar2(4000) := NULL;',
'collectionDate timestamp := NULL;',
'isFirstTime number := 1;',
'colName varchar2(256);',
'begin',
' for i in 1..APEX_APPLICATION.G_F01.count loop ',
'   select check_id,collection_date,status,upload_collection_name into checkId ,colDate ,chkStatus ,colName  ',
'   from auditcheck_result where auditcheck_result_id = APEX_APPLICATION.G_F01(i);',
'  -- Get system Id of collection',
'  select system_id into sysId from rca13_col2sys_mapping where collection_date = colDate and COLLECTION_NAME = colName;',
'  continue when sysId is null;',
'  select lob_id into lobId from rca13_lob2sys_mapping where system_id = sysId; ',
'  if :P1002_IGNORE_TYPE = 0 then',
'     begin',
'       insert into rca13_ignored_checks(collection_date,check_id,SYSTEM_ID,CREATED_BY,TYPE,acr_id,collection_name)',
'       values(colDate,checkId,sysId,:APP_USER,chkStatus,APEX_APPLICATION.G_F01(i),colName);',
'       sysIdsList := sysId;',
'       exception when DUP_VAL_ON_INDEX then null;                  ',
'     end;',
'  elsif :P1002_IGNORE_TYPE = 1 then',
'     --Ignore from collection',
'     begin',
'       insert into rca13_ignored_checks(collection_date,check_id,SYSTEM_ID,CREATED_BY,TYPE,collection_name)',
'       values(colDate,checkId,sysId,:APP_USER,chkStatus,colName);',
'       sysIdsList := sysId;',
'       exception when DUP_VAL_ON_INDEX then null;    ',
'     end;',
'  elsif :P1002_IGNORE_TYPE = 2 then ',
'     -- Ignore from system',
'     begin',
'       insert into rca13_ignored_checks(check_id,SYSTEM_ID,CREATED_BY,TYPE,collection_name) ',
'       values(checkId,sysId,:APP_USER,chkStatus,colName);',
'       sysIdsList := sysId;  ',
'       exception when DUP_VAL_ON_INDEX then null;',
'     end;',
'  elsif :P1002_IGNORE_TYPE = 3 OR :P1002_IGNORE_TYPE = 4 then   ',
'    -- Ignore from business unit(s)',
'    for rec in ( select a.system_id sId from rca13_lob2sys_mapping a where :P1002_IGNORE_TYPE = 4 OR ( :P1002_IGNORE_TYPE = 3 and  a.lob_id = lobId ) ) loop  ',
'        begin',
'         insert into rca13_ignored_checks(check_id,SYSTEM_ID,CREATED_BY,TYPE) values(checkId,rec.sId,:APP_USER,chkStatus);  ',
'         if isFirstTime = 1 then  ',
'           sysIdsList := sysIdsList||'':''||rec.sId;',
'         end if; ',
'         exception when DUP_VAL_ON_INDEX then null;',
'        end;',
'    end loop;',
'  end if;',
'  if isFirstTime = 1 then',
'     isFirstTime := 0;',
'  end if;',
' end loop;',
' :P1002_IGNORE_TYPE := NULL;',
'',
' sysIdsList := ltrim(sysIdsList,'':'');',
' --Now submit the job to re-caliculate values',
' --Submit a job for each system',
' for rec in ( select regexp_substr(sysIdsList,''[^:]+'', 1, level) sId from dual connect by regexp_substr(sysIdsList, ''[^:]+'', 1, level) is not null ) loop',
'   jobName := ''RCA13_IG_RECAL_VAL_''||RCA13_JOB_SEQ.nextval;  ',
'   DBMS_SCHEDULER.create_job (',
'     job_name   => jobName,',
'     job_type   => ''PLSQL_BLOCK'',',
'     job_action => ''BEGIN rca13_manage_collections.ignoreReCalValues_AIAD(sysId => ''''''||rec.sId||'''''',collectionDate => ''''''||collectionDate||'''''',colName => ''''''||colName||''''''); END;'',',
'     start_date => SYSTIMESTAMP,',
'     enabled => TRUE,',
'     comments => ''caliculate values for system ''||rec.sId);  ',
'  end loop;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(311953863208038246)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308584253260614606)
,p_process_sequence=>21
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Ignore Fails Advanced'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'VerPlatArray   APEX_APPLICATION_GLOBAL.VC_ARR2;',
'checkId varchar2(40);',
'colDate timestamp(6);',
'sysId varchar2(40);',
'lobId varchar2(40);',
'cnt number;',
'begin',
' --Global Ignore overwrite local Ignore, but local ignore will not overwrite Global ignore ',
' for i in 1..APEX_APPLICATION.G_F01.count loop ',
'   select check_id,collection_date into checkId ,colDate  from auditcheck_result where auditcheck_result_id = APEX_APPLICATION.G_F01(i);',
'  -- Get system Id of collection',
'  select system_id into sysId from rca13_col2sys_mapping where collection_date = colDate;',
'  continue when sysId is null;',
'  select lob_id into lobId from rca13_lob2sys_mapping where system_id = sysId; ',
'  cnt := 0;',
'  if :P1002_IGNORE_TYPE = 0 then',
'     --only ignore selected check ..ignore time will be ignored in this case',
'     --Don''t do any thing if check is already ignored at top level and for which un_ignore = 0',
'     select count(1) into cnt from rca13_ignored_checks where check_id =checkId and system_id =sysId ',
'     and collection_date = colDate and acr_id = APEX_APPLICATION.G_F01(i) and type = ''FAIL'' and nvl(un_ignored,0) = 1;',
'     if cnt > 0 then --delete and do fresh insert in top level ignore is not there',
'       delete from rca13_ignored_checks where check_id =checkId and system_id =sysId ',
'       and collection_date = colDate and acr_id = APEX_APPLICATION.G_F01(i) and type = ''FAIL'' and nvl(un_ignored,0) = 1;',
'       commit;',
'     end if;',
'     select count(1) into cnt from rca13_ignored_checks where check_id =checkId and system_id =sysId and collection_date is null;--Ignored at system level already',
'     continue when cnt > 0;',
'     begin',
'       insert into rca13_ignored_checks(collection_date,check_id,SYSTEM_ID,CREATED_BY,TYPE,acr_id) values(colDate,checkId,sysId,:APP_USER,''FAIL'',APEX_APPLICATION.G_F01(i));',
'       exception when DUP_VAL_ON_INDEX then null;                  ',
'     end;',
'  elsif :P1002_IGNORE_TYPE = 1 then',
'     --Ignore from collection --That is all fails will get ignore and ignore time will be ignored in this case',
'      --Don''t do any thing if check is already ignored at top level and for which un_ignore = 0',
'     select count(1) into cnt from rca13_ignored_checks where check_id =checkId and system_id =sysId ',
'     and collection_date = colDate and type = ''FAIL'' and nvl(un_ignored,0) = 1;',
'     if cnt > 0 then --delete and do fresh insert in top level ignore is not there',
'       delete from rca13_ignored_checks where check_id =checkId and system_id =sysId and collection_date = colDate and type = ''FAIL'' and nvl(un_ignored,0) = 1;',
'       commit;',
'     end if;',
'     select count(1) into cnt from rca13_ignored_checks where check_id =checkId and system_id =sysId and collection_date is null;--Ignored at system level already',
'     continue when cnt > 0;',
'     begin',
'       insert into rca13_ignored_checks(collection_date,check_id,SYSTEM_ID,CREATED_BY,TYPE) values(colDate,checkId,sysId,:APP_USER,''FAIL'');',
'       exception when DUP_VAL_ON_INDEX then null;    ',
'     end;',
'  elsif :P1002_IGNORE_TYPE = 2 then ',
'    -- Ignore from system --latest action always overwrites previous action',
'    -- Delete entries which are specific to collections in the system',
'    delete from rca13_ignored_checks where check_id = checkId and SYSTEM_ID = sysId and collection_date is not null;',
'    if :P1002_IGNORE_TIME = 1 then -- Ignore from all collections includin future collections',
'      begin',
'        insert into rca13_ignored_checks(check_id,SYSTEM_ID,CREATED_BY,TYPE) values(checkId,sysId,:APP_USER,''FAIL'');  ',
'        exception when DUP_VAL_ON_INDEX then ',
'        update rca13_ignored_checks set IGNORE_TIME_BOUND = null where check_id =checkId and system_id =sysId and type = ''FAIL'';',
'      end;',
'    elsif :P1002_IGNORE_TIME = 2 then -- Ignore till the collection date of check',
'      begin',
'        insert into rca13_ignored_checks(check_id,SYSTEM_ID,CREATED_BY,TYPE,IGNORE_TIME_BOUND) values(checkId,sysId,:APP_USER,''FAIL'',colDate);  ',
'        exception when DUP_VAL_ON_INDEX then ',
'        update rca13_ignored_checks set IGNORE_TIME_BOUND = colDate where check_id =checkId and system_id =sysId and type = ''FAIL'';',
'      end;',
'    end if;',
'  elsif :P1002_IGNORE_TYPE = 3 OR :P1002_IGNORE_TYPE = 4 then   ',
'    -- Ignore from business unit(s)',
'    for rec in ( select a.system_id sId from rca13_lob2sys_mapping a where :P1002_IGNORE_TYPE = 4 OR ( :P1002_IGNORE_TYPE = 3 and  a.lob_id = lobId ) ) loop  ',
'      -- Delete entries which are specific to collections',
'      delete from rca13_ignored_checks where check_id = checkId and SYSTEM_ID = rec.sId and collection_date is not null;',
'      if :P1002_IGNORE_TIME = 1 then -- Ignore from all collections includin future collections',
'        begin',
'         insert into rca13_ignored_checks(check_id,SYSTEM_ID,CREATED_BY,TYPE) values(checkId,rec.sId,:APP_USER,''FAIL'');  ',
'         exception when DUP_VAL_ON_INDEX then ',
'         update rca13_ignored_checks set IGNORE_TIME_BOUND = null where check_id =checkId and system_id =rec.sId and type = ''FAIL'';',
'        end;',
'      elsif :P1002_IGNORE_TIME = 2 then -- Ignore till the collection date of check',
'        begin',
'         insert into rca13_ignored_checks(check_id,SYSTEM_ID,CREATED_BY,TYPE,IGNORE_TIME_BOUND) values(checkId,rec.sId,:APP_USER,''FAIL'',colDate);  ',
'         exception when DUP_VAL_ON_INDEX then ',
'         update rca13_ignored_checks set IGNORE_TIME_BOUND = colDate where check_id =checkId and system_id =rec.sId and type = ''FAIL'';',
'        end;',
'      end if;',
'    end loop;',
'  end if;',
' end loop;',
' :P1002_IGNORE_TYPE := NULL;',
' :P1002_IGNORE_TIME := 1;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(311953863208038246)
,p_process_when_type=>'NEVER'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312034744258806984)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Consider Ignores'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'VerPlatArray   APEX_APPLICATION_GLOBAL.VC_ARR2;',
'checkId varchar2(40);',
'colDate timestamp(6);',
'chkStatus varchar2(100);',
'sysId varchar2(40);',
'lobId varchar2(40);',
'jobName varchar2(256);',
'collectionDate timestamp := NULL;',
'sysIdsList varchar2(4000) := NULL;',
'isFirstTime number := 1;',
'colName varchar2(256);',
'begin',
' for i in 1..APEX_APPLICATION.G_F01.count loop  ',
'   select check_id,collection_date,status,upload_collection_name ',
'   into checkId ,colDate ,chkStatus,colName ',
'   from auditcheck_result where auditcheck_result_id = APEX_APPLICATION.G_F01(i); ',
'   -- Get system Id of collection',
'   select system_id into sysId from rca13_col2sys_mapping ',
'   where collection_date = colDate and collection_name = colName;',
'   continue when sysId is null;',
'   select lob_id into lobId from rca13_lob2sys_mapping where system_id = sysId;',
'   if :P1002_CONSIDER_TYPE = 0 then --unignore time bound will not apply here',
'       -- Delete only selected check if ignore was done on particular check.',
'          delete from rca13_ignored_checks where check_id = checkId and collection_date = colDate and collection_name = colName',
'          and system_id = sysId and type = chkStatus and acr_id = APEX_APPLICATION.G_F01(i);',
'          sysIdsList := sysId;',
'   elsif :P1002_CONSIDER_TYPE = 1 then --unignore time bound will not apply here',
'       -- Delete check from collection if ignore was done on collection ',
'          delete from rca13_ignored_checks where check_id = checkId and collection_date = colDate and collection_name = colName ',
'          and system_id = sysId and type = chkStatus;',
'          sysIdsList := sysId;',
'   elsif :P1002_CONSIDER_TYPE = 2 then   ',
'       -- Delete at system level',
'         delete from rca13_ignored_checks where check_id = checkId and system_id = sysId and type = chkStatus;',
'         sysIdsList := sysId;',
'   elsif :P1002_CONSIDER_TYPE = 3 then   ',
'      -- Delete from business unit',
'      for rec in ( select a.system_id sId from rca13_lob2sys_mapping a where a.lob_id = lobId ) loop',
'         delete from rca13_ignored_checks where check_id = checkId and system_id = rec.sId and type = chkStatus;',
'         if isFirstTime  = 1 then',
'           sysIdsList := sysIdsList||'':''||rec.sId; ',
'         end if;',
'      end loop;',
'   elsif :P1002_CONSIDER_TYPE = 4 then   ',
'      -- Delete from all BU''s',
'      for rec in ( select a.system_id sId from rca13_lob2sys_mapping a ) loop ',
'          delete from rca13_ignored_checks where check_id = checkId and system_id = rec.sId and type = chkStatus;',
'          if isFirstTime =  1 then',
'            sysIdsList := sysIdsList||'':''||rec.sId; ',
'          end if;',
'      end loop;   ',
'   end if;',
'   if isFirstTime  = 1 then',
'     isFirstTime := 0; ',
'   end if;',
' end loop;',
' :P1002_CONSIDER_TYPE := NULL;',
' sysIdsList := ltrim(sysIdsList,'':'');',
' --Now submit the job to re-caliculate values',
' --Submit a job for each system',
' for rec in ( select regexp_substr(sysIdsList,''[^:]+'', 1, level) sId from dual connect by regexp_substr(sysIdsList, ''[^:]+'', 1, level) is not null ) loop',
'   jobName := ''RCA13_UIG_''||RCA13_JOB_SEQ.nextval;  ',
'   DBMS_SCHEDULER.create_job (',
'     job_name   => jobName,',
'     job_type   => ''PLSQL_BLOCK'',',
'     job_action => ''BEGIN rca13_manage_collections.ignoreReCalValues_AIAD(sysId => ''''''||rec.sId||'''''',',
'     collectionDate => ''''''||collectionDate||'''''',colName => ''''''||colName||'''''' ); END;'',',
'     start_date => SYSTIMESTAMP,',
'     enabled => TRUE,',
'     comments => ''caliculate values for system ''||rec.sId);  ',
'  end loop; ',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(312034152546783483)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308584436075619090)
,p_process_sequence=>31
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Consider Fail-Ignores Advanced'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'VerPlatArray   APEX_APPLICATION_GLOBAL.VC_ARR2;',
'checkId varchar2(40);',
'colDate timestamp(6);',
'sysId varchar2(40);',
'lobId varchar2(40);',
'cnt number;',
'begin',
' for i in 1..APEX_APPLICATION.G_F01.count loop  ',
'   select check_id,collection_date into checkId ,colDate from auditcheck_result where auditcheck_result_id = APEX_APPLICATION.G_F01(i); ',
'   -- Get system Id of collection',
'   select system_id into sysId from rca13_col2sys_mapping where collection_date = colDate;',
'   continue when sysId is null;',
'   select lob_id into lobId from rca13_lob2sys_mapping where system_id = sysId;',
'   cnt := 0;',
'   if :P1002_CONSIDER_TYPE = 0 then --unignore time bound will not apply here',
'       -- Delete only selected check if ignore was done on particular check.',
'       select count(1) into cnt from rca13_ignored_checks where check_id = checkId and collection_date = colDate and system_id = sysId ',
'       and type = ''FAIL'' and acr_id = APEX_APPLICATION.G_F01(i) and nvl(un_ignored,0) = 1;',
'       if cnt > 0 then',
'         continue;',
'       end if;',
'       select count(1) into cnt from rca13_ignored_checks where check_id = checkId and collection_date = colDate and system_id = sysId and type = ''FAIL'' and acr_id = APEX_APPLICATION.G_F01(i);',
'       if cnt > 0 then',
'          delete from rca13_ignored_checks where check_id = checkId and collection_date = colDate and system_id = sysId and type = ''FAIL'' and acr_id = APEX_APPLICATION.G_F01(i);',
'          continue;                 ',
'       end if;',
'       select count(1) into cnt from rca13_ignored_checks where check_id = checkId and system_id = sysId and type = ''FAIL'' and ( collection_date = colDate OR collection_date is null );',
'       if cnt > 0 then ',
'         --Add row for undo if check is ignroed at top level either collection/sys level',
'         insert into rca13_ignored_checks(collection_date,check_id,SYSTEM_ID,CREATED_BY,TYPE,acr_id,un_ignored) values(colDate,checkId,sysId,:APP_USER,''FAIL'',APEX_APPLICATION.G_F01(i),1);   ',
'       end if;       ',
'   elsif :P1002_CONSIDER_TYPE = 1 then --unignore time bound will not apply here',
'       -- Delete check from collection if ignore was done on collection ',
'       select count(1) into cnt from rca13_ignored_checks where check_id = checkId and collection_date = colDate and system_id = sysId ',
'       and type = ''FAIL'' and nvl(un_ignored,0) = 1;',
'       if cnt > 0 then',
'         --Check is already un ignored do nothing',
'         continue;',
'       end if;',
'       select count(1) into cnt from rca13_ignored_checks where check_id = checkId and collection_date = colDate and system_id = sysId and type = ''FAIL'';',
'       if cnt > 0 then',
'          --check was ignored at collection level so delete it',
'          delete from rca13_ignored_checks where check_id = checkId and collection_date = colDate and system_id = sysId and type = ''FAIL'' and acr_id = APEX_APPLICATION.G_F01(i);',
'          continue; ',
'       end if;',
'       select count(1) into cnt from rca13_ignored_checks where check_id = checkId and system_id = sysId and type = ''FAIL'' and collection_date is null;',
'       if cnt > 0 then --That is check was ignored at top level .. so add row which ignore at local level ',
'         --Add row for undo if check is ignroed at top level either collection/sys level',
'         insert into rca13_ignored_checks(collection_date,check_id,SYSTEM_ID,CREATED_BY,TYPE,un_ignored) values(colDate,checkId,sysId,:APP_USER,''FAIL'',1);   ',
'       end if; ',
'   elsif :P1002_CONSIDER_TYPE = 2 then   ',
'       -- Delete at system level',
'       if :P1002_IGNORE_TIME = 1 then --undo ignore from all collections ',
'         delete from rca13_ignored_checks where check_id = checkId and system_id = sysId and type = ''FAIL''; -- which deletes rows which were used for unignore locally',
'       elsif :P1002_IGNORE_TIME = 2 then --undo ignore for collections older than',
'         --Delete rows for which un_ignored = 1',
'         delete from rca13_ignored_checks where check_id = checkId and system_id = sysId and type = ''FAIL'' and nvl(un_ignored,0) = 1; ',
'         commit;',
'         update rca13_ignored_checks set IGNORE_TIME_BOUND = null where check_id = checkId and system_id = sysId and type = ''FAIL'';',
'       end if;',
'   elsif :P1002_CONSIDER_TYPE = 3 then   ',
'      -- Delete from business unit',
'      for rec in ( select a.system_id sId from rca13_lob2sys_mapping a where a.lob_id = lobId ) loop',
'       if :P1002_IGNORE_TIME = 1 then --undo ignore from all collections ',
'         delete from rca13_ignored_checks where check_id = checkId and system_id = rec.sId and type = ''FAIL'';',
'       elsif :P1002_IGNORE_TIME = 2 then --undo ignore for collections older than',
'         delete from rca13_ignored_checks where check_id = checkId and system_id = rec.sId and type = ''FAIL'' and nvl(un_ignored,0) = 1; ',
'         commit;',
'         update rca13_ignored_checks set IGNORE_TIME_BOUND = null where check_id = checkId and system_id = rec.sId and type = ''FAIL'';',
'       end if;',
'      end loop;',
'   elsif :P1002_CONSIDER_TYPE = 4 then   ',
'      -- Delete from all BU''s',
'      for rec in ( select a.system_id sId from rca13_lob2sys_mapping a ) loop ',
'        if :P1002_IGNORE_TIME = 1 then --undo ignore from all collections ',
'          delete from rca13_ignored_checks where check_id = checkId and system_id = rec.sId and type = ''FAIL'';',
'        elsif :P1002_IGNORE_TIME = 2 then --undo ignore for collections older than',
'         delete from rca13_ignored_checks where check_id = checkId and system_id = rec.sId and type = ''FAIL'' and nvl(un_ignored,0) = 1; ',
'         commit;',
'         update rca13_ignored_checks set IGNORE_TIME_BOUND = null where check_id = checkId and system_id = rec.sId and type = ''FAIL'';',
'       end if;  ',
'      end loop;   ',
'   end if;',
' end loop;',
' :P1002_CONSIDER_TYPE := NULL;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(312034152546783483)
,p_process_when_type=>'NEVER'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308570063491536955)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Reset Values on change of BU/SYS'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'if :REQUEST = ''P0_BUSINESS_UNITS'' and :P0_BUSINESS_UNITS = ''All'' then --No need to reset values',
'  NULL;',
'elsif :REQUEST = ''P0_SYS_FILTER'' and :P0_SYS_FILTER = ''All'' then --No need to reset values',
'  NULL;',
'else -- We need to reset values',
' if :REQUEST = ''P0_BUSINESS_UNITS'' then',
'  :P0_SYS_FILTER := ''All''; ',
' end if;  ',
' :P1002_HOSTNAME := NULL;',
' :P1002_DB_VERSION := NULL;',
' :P1002_PLATFORM := NULL;',
' :P1002_DB_NAME := NULL;',
' :P1002_COLLECTION_DATE := NULL; ',
'end if;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when=>'P0_BUSINESS_UNITS,P0_SYS_FILTER'
,p_process_when_type=>'REQUEST_IN_CONDITION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312704148165502369)
,p_process_sequence=>6
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'calculate time'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'temp varchar2(20);',
'begin',
'-- calculate default time for first time',
'if nvl(:P1002_FIRST_VISIT,1) = 1 then',
' :P1002_TIME := NULL;  ',
' select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 0.0416;',
' if temp > 0 then',
'  :P1002_TIME := ''0.0416'';',
'  :P1002_TIME_PERIOD := 1;',
'  :P1002_TIME_TYPE := ''H'';',
' end if;',
' if :P1002_TIME is null then ',
'  select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 0.25;',
'  if temp > 0 then',
'   :P1002_TIME := ''0.25'';',
'   :P1002_TIME_PERIOD := 6;',
'   :P1002_TIME_TYPE := ''H'';   ',
'  end if; ',
' end if;',
'if :P1002_TIME is null then',
' select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 0.5;',
' if temp > 0 then',
'  :P1002_TIME := ''0.5'';',
'  :P1002_TIME_PERIOD := 12;',
'  :P1002_TIME_TYPE := ''H''; ',
' end if;',
'end if;',
'if :P1002_TIME is null then',
' select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 1;',
' if temp > 0 then',
'  :P1002_TIME := ''1'';',
'  :P1002_TIME_PERIOD := 1;',
'  :P1002_TIME_TYPE := ''D''; ',
' end if;',
'end if;',
'if :P1002_TIME is null then',
' select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 2;',
' if temp > 0 then',
'  :P1002_TIME := ''2'';',
'  :P1002_TIME_PERIOD := 2;',
'  :P1002_TIME_TYPE := ''D'';',
' end if;',
'end if;',
'if :P1002_TIME is null then',
' select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 7;',
' if temp > 0 then',
'  :P1002_TIME := ''7'';',
'  :P1002_TIME_PERIOD := 7;',
'  :P1002_TIME_TYPE := ''D'';',
' end if;',
'end if;',
'if :P1002_TIME is null then',
' select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 30;',
' if temp > 0 then',
'  :P1002_TIME := ''30'';',
'  :P1002_TIME_PERIOD := 1;',
'  :P1002_TIME_TYPE := ''M'';',
' end if;',
'end if;',
'if :P1002_TIME is null then',
' select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 90;',
' if temp > 0 then',
'  :P1002_TIME := ''90'';',
'  :P1002_TIME_PERIOD := 3;',
'  :P1002_TIME_TYPE := ''M'';',
' end if;',
'end if;',
'if :P1002_TIME is null then',
' select count(1) into temp from rca13_collections_md a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
' where a.collection_date = b.collection_date and b.system_id = c.system_id and a.collection_date > sysdate - 180;',
' if temp > 0 then',
'  :P1002_TIME := ''180'';',
'  :P1002_TIME_PERIOD := 6;',
'  :P1002_TIME_TYPE := ''M'';',
' end if;',
'end if; ',
'if :P1002_TIME is null then',
' :P1002_TIME := ''All'';',
'end if; ',
' :P1002_FIRST_VISIT := 0;',
'else -- Not first visit ',
' if :P1002_TIME_PERIOD is not null then ',
'   if :P1002_TIME_TYPE = ''H'' then ',
'     :P1002_TIME := :P1002_TIME_PERIOD / 24;',
'   elsif :P1002_TIME_TYPE = ''D'' then ',
'     :P1002_TIME := :P1002_TIME_PERIOD;',
'   elsif :P1002_TIME_TYPE = ''M'' then ',
'     :P1002_TIME := :P1002_TIME_PERIOD * 30; ',
'   elsif :P1002_TIME_TYPE = ''Y'' then ',
'     :P1002_TIME := :P1002_TIME_PERIOD * 365;',
'   end if;',
' else ',
'   :P1002_TIME := ''All'';',
' end if;',
'end if; -- End of is first',
'end;'))
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308470463428594889)
,p_process_sequence=>8
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'GET_COL_HTML_DOC_ID'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'collectionId varchar2(40);',
'begin',
' :P1002_GET_COL_HTML_DOC_ID := NULL;',
' select collection_id into collectionId from rca13_collections where collection_date||''|''||collection_name =   :P1002_COLLECTION_DATE;',
' for rec in ( select doc_id from rca13_docs where collection_id = collectionId and attr1 = ''HTML_REP_FILE'' ) loop',
'    :P1002_GET_COL_HTML_DOC_ID := rec.doc_id;',
' end loop;',
' exception when others then NULL;',
'end;'))
,p_process_when=>'P1002_COLLECTION_DATE'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312196837271290404)
,p_process_sequence=>40
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'load ticket id'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' for rec in ( select ticket_id ti from RCA13_AC_TICKETS where collection_date||''|''||collection_name = :P1002_COLLECTION_DATE and attr1 is null ) loop',
'   :P1002_TICKET_ID := rec.ti;',
' end loop;',
'end;'))
,p_process_when=>'P1002_COLLECTION_DATE'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
end;
/
prompt --application/pages/page_01003
begin
wwv_flow_api.create_page(
 p_id=>1003
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Compare Checks'
,p_page_mode=>'NORMAL'
,p_step_title=>'Compare Checks'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Compare Checks'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function changeColor() {',
' // We need to cahnge color of time period on selction',
' var val = document.getElementById(''P1003_TIME'').value;',
' //alert(val);',
' document.getElementById(''TIMEP_''+val).style.color="RED";',
'}',
'',
'function open_dialog (v1) ',
'{',
'  if ( !  document.getElementById(v1+''_rec'').innerHTML )',
'  {',
'    var get = new htmldb_Get(null, &APP_ID., ''APPLICATION_PROCESS=GETRECO'', &APP_PAGE_ID.);',
'    get.add(''G_RATIONAL_CID'' , v1);',
'    gReturn = get.get();',
'    document.getElementById(v1+''_rec'').innerHTML = gReturn;',
'    get = null;',
'  }',
'  var w = $(window).width()-200;',
'  var h = $(window).height()-200;',
'  $(''#''+v1+''_rec'').dialog({',
'      autoOpen: true,',
'      show: {',
'        effect: "blind",',
'        duration: 500',
'      },',
'      hide: {',
'        effect: "explode",',
'        duration: 500',
'      },',
'      width: w,',
'      height: h',
'    });',
'}',
'',
'function ShowHide( inVal ) ',
'{',
'  var val = document.getElementById(inVal).style.display;',
'  //alert(val);',
'  if ( val == ''none'' ) {',
'    document.getElementById(inVal).style.display = ''block'';',
'    document.getElementById(inVal+''_mh'').innerHTML = ''...Less'';',
'  }',
'  else {',
'   document.getElementById(inVal).style.display = ''none''; ',
'       document.getElementById(inVal+''_mh'').innerHTML = ''...More'';',
'  }',
'}',
'',
'function highlightRows(tabId)',
'{    ',
'  if ( !document.getElementById(tabId) || document.getElementById(tabId) === "undefined" ) return;',
'  var cnt = 0;',
'  var columns = new Object();  ',
'  var repTable = document.getElementById(tabId).getElementsByClassName("uReportBody")[0].getElementsByTagName("TBODY");  ',
'  var rows = repTable[0].getElementsByTagName("TR");',
'  for (var x=0; x< rows.length; x++){',
'   var cells = rows[x].getElementsByTagName("TD");',
'   columns["REC1"] = ".";',
'   columns["APPLIED1"] = ".";',
'   columns["REC2"] = ".";',
'   columns["APPLIED2"] = "."; ',
'   for (var i=0; i<cells.length;i++){',
'     if ( cells[i].headers == ''REC1'' || cells[i].headers == ''REC2'' || cells[i].headers == ''APPLIED1'' || cells[i].headers == ''APPLIED2'')  {',
'      columns[cells[i].headers] = cells[i].innerHTML;',
'     }',
'   }',
'   if ( (columns["REC1"] == ''YES'' && columns["APPLIED1"] == ''NO'' ) || (columns["REC2"] == ''YES'' && columns["APPLIED2"] == ''NO'') ) {',
'     rows[x].style.backgroundColor="#9BBAE6";',
'     cnt++;',
'   }',
'  }',
'  if ( cnt  == 0 ) $(''#PM_ID'').css(''display'',''block'');',
'};',
'',
'',
''))
,p_javascript_code_onload=>wwv_flow_string.join(wwv_flow_t_varchar2(
'//changeColor();',
'highlightRows(''report_MATCHED_HOMES'');'))
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'.h3_class {',
'    font-family: Lucida Grande,Lucida Sans,Arial,sans-serif;',
'    font-size: 15px;',
'    font-weight: bold;',
'    color: blue;',
'    padding: 15;',
'}',
'.table_c {',
'    color: #000000;',
'    font-weight: bold;',
'    border-spacing: 0;',
'    outline: medium none;',
'    font-family: Lucida Grande,Lucida Sans,Arial,sans-serif;',
'    font-size: 12px;',
'    width:100%;',
'}',
'',
'.th_c {',
'    background: #AAAAAA;',
'    border: 1px solid #AED0EA !important;',
'    font-size: 13px;',
'    font-weight: bold;',
'    vertical-align: middle !important;',
'    padding: 4px !important;    ',
'    ',
'}',
'.td_c {   ',
'    background: #F2F5F7;',
'    border: 1px solid #AED0EA !important;',
'    font-weight: normal;',
'    padding: 4px !important;',
'    vertical-align: middle !important;',
'}',
'',
'.td_title {',
' background: #F2F5F7;',
'    border: 0px solid #AED0EA;',
'    font-weight: normal;',
'    padding: 5;',
'}',
'',
'.td_FAIL {',
'    background: #FE2E2E;    ',
'}',
'',
'.td_WARNING {',
'    background: #F89406;    ',
'}',
'.td_PASS {    ',
'    background: #52BA25;',
'}',
'.td_INFO-PASS {    ',
'    background: #52BA25;',
'}',
'.td_INFO {',
'    background: #3a87ad;',
'}',
'.container {',
' height:200px;',
' margin:15px;',
' /*border: 1px solid blue;*/',
'}',
'',
'.h2c {',
' font-size: 19px !important;',
' margin: 2px;',
' padding: 2px;',
'}',
'.h2c1 {color:blue; background:white; font-family: Arial; font-size: 24px}',
'',
'.h3c {',
' font-size: 18px !important;',
' margin: 2px;',
' padding: 2px;',
'}',
'.h4c {',
' font-size: 14px;',
' margin: 2px;',
' padding: 2px;',
'}',
'',
'th.checktype {',
'    width: 5%;',
'}',
'th.checkname {',
'    width: 15%;',
'}',
'th.status_halved {',
'    width: 40%;',
'}',
'th.status_halved_status{',
'    width: 5%;',
'}',
'',
'',
'/* End of Diff report css */',
'',
'.recommendation {',
'   text-decoration:none;',
'background-image: url(data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gAxSW1hZ2UgUmVzaXplZCBhdCBodHRwOi8vd3d3LnNocmlua3BpY3R1cmVzLmNvbQr/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQE'
||'Bw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAATABMDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0R'
||'FRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzU'
||'vAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDR0yJruC5AyXijUxqGCgkuq4/Wor9xBfSw28rtGjYBbr7j86yoNVe3gmi'
||'QKVnQK2eoAIPH4gVsXVw11pb3aov21EUXY/i2fwvj1PGT9PU1t1JKLTyE5LUVnfax60VQjDtp5Wt43LksVBzVj7XcFy/nPuYYJzyRRRSGZtxeXCzsFkIA9qKKKi5R/9k=);',
'}',
'',
'.label-pass, .badge-pass {',
'//background-color: #468847;',
'background-color: #52BA25;',
'}',
'',
'.label-fail, .badge-fail {',
'background-color: #b94a48;',
'}',
'',
'.label-failIg, .badge-failIg {',
'background-color: #EEBC00;',
'}',
'',
'.label-info, .badge-info {',
'background-color: #3a87ad;',
'}',
'',
'.label-warning, .badge-warning {',
'background-color: #f89406;',
'}',
'',
'',
'.label {',
'-webkit-border-radius: 3px;',
'-moz-border-radius: 3px;',
'border-radius: 3px;',
'}',
'',
'.label, .badge {',
'display: inline-block;',
'padding: 2px 4px;',
'font-size: 11.844px;',
'font-weight: bold;',
'line-height: 14px;',
'color: #ffffff;',
'text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);',
'white-space: nowrap;',
'vertical-align: baseline;',
'width:75px;',
'text-align:center;',
'//background-color: #999999;',
'}',
'',
'section.uRegion > div.uRegionHeading h1 {',
' padding: 0px !important;',
'}',
'',
'.activeButton {',
'}',
'',
'#CACR_ID .activeButton   {',
'   background-image: none !important;',
'   background-color: #9BBAE6 !important;',
'}	',
'',
'#CPR_ID .activeButton   {',
'   background-image: none !important;',
'   background-color: #9BBAE6 !important;',
'}	',
'',
'',
''))
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'ORACHKCM'
,p_last_upd_yyyymmddhh24miss=>'20160829230951'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(310973648408451233)
,p_plug_name=>'Note'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10.45
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>'<font size="2" color="red">Note:</font>&nbsp;&nbsp;These collections were taken with different versions of the tool.  Newer versions could have more checks or some checks may have changed accounting for some differences between the collections'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'v1 varchar2(100) := NULL;',
'v2 varchar2(100) := NULL;',
'begin',
' if :P1003_NEW_DIFF = 1 then ',
'   return false;',
' end if; ',
' begin',
'  select b.tool_version into v1 from rca13_collections_md a,rca13_collections b',
'  where a.collection_date||''|''||a.collection_name = :P1003_COLLECTION1 ',
'  and a.collection_id = b.collection_id',
'  and a.collection_name = b.collection_name;',
'  select b.tool_version into v2 from rca13_collections_md a,rca13_collections b',
'  where a.collection_date||''|''||a.collection_name = :P1003_COLLECTION2 ',
'  and a.collection_id = b.collection_id and a.collection_name = b.collection_name;',
'  exception when others then null;',
' end;',
' if v1 is not null and v2 is not null and v1 != v2 then',
' --if nvl(v1,''z'') != nvl(v2,''z'') then ',
'  return true;',
' else',
'  return false;',
' end if;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(311965064591042854)
,p_plug_name=>'&nbsp;&nbsp;'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_item_display_point=>'BELOW'
,p_plug_query_row_template=>wwv_flow_api.id(305648945503015943)
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>1500
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(311966661057042855)
,p_name=>'Checks Differed'
,p_template=>wwv_flow_api.id(6040712922645910731)
,p_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid=>true
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select * from  (',
'select status1,hostname1,dbname1,instname1,c1,statusmsg1,',
'case when instr(StatusMsg1,''on infiniband switch'',1,1) > 0 then substr(StatusMsg1,instr(StatusMsg1,''on infiniband switch'',1,1)+21)',
'  else   null  end as switch1,',
'case when  regexp_count(StatusMsg1, ''/'' ) >4 or ct1=''ORACLE_PATCH'' then    substr(StatusMsg1,instr(StatusMsg1,'' '',-1,1)+1)',
'  else    null  end as home1,',
'''<a id="''||c1||''" class="recommendation" style="cursor:pointer;" title="Recommendation" onclick="open_dialog(''''''||c1||'''''');">',
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>''||''<div id="''||c1||''_rec" style="display:none"></div>&nbsp;&nbsp;''||check_name as check_name,',
'status2,hostname2,dbname2,instname2,c2,sOrder1,statusmsg2,  ',
'case   when instr(StatusMsg2,''on infiniband switch'',1,1) > 0 then    substr(StatusMsg2,instr(StatusMsg2,''on infiniband switch'',1,1)+21)',
'  else    null  end as switch2,',
'case   when  regexp_count(StatusMsg2, ''/'' ) >4 or ct2=''ORACLE_PATCH'' then    substr(StatusMsg2,instr(StatusMsg2,'' '',-1,1)+1)',
'  else    null  end as home2    ',
'from (',
'select  ',
'decode(a.status,''FAIL'',''<span class="label label-fail">FAIL</span>'',',
' ''FAIL-IGNORED'',''<span class="label label-failIg">FAIL-IGNORED</span>'',',
' ''WARNING'',''<span class="label label-warning">WARNING</span>'',',
'''INFO'',''<span class="label label-info">INFO</span>'',',
'''PASS'',''<span class="label label-pass">PASS</span>'',',
'''INFO-PASS'',''<span class="label label-pass">INFO-PASS</span>'',a.status) Status1,',
'a.hostname HostName1,a.db_name DBName1,a.instance_name InstName1,a.check_id c1,a.status_message StatusMsg1,a.check_type ct1,',
'decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''PASS'',4,''INFO-PASS'',5,''FAIL-IGNORED'',6,7) sOrder1,',
'''<b>''||decode(a.check_type,''SQL_PARAM'',a.PARAM_NAME,''OS_PARAM'',a.PARAM_NAME,''OS_PACKAGE'',a.PARAM_NAME,nvl(a.CHECK_NAME,a.PARAM_NAME))||''</b>'' check_name,',
'decode(b.status,''FAIL'',''<span class="label label-fail">FAIL</span>'',',
' ''FAIL-IGNORED'',''<span class="label label-failIg">FAIL-IGNORED</span>'',',
' ''WARNING'',''<span class="label label-warning">WARNING</span>'',',
'''INFO'',''<span class="label label-info">INFO</span>'',',
'''PASS'',''<span class="label label-pass">PASS</span>'',',
'''INFO-PASS'',''<span class="label label-pass">INFO-PASS</span>'',b.status)  Status2,',
'b.hostname HostName2,b.db_name DBName2,b.instance_name InstName2,b.check_id c2,b.status_message StatusMsg2,b.check_type ct2',
'from  ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 ) a,',
'      ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 ) b',
'where ',
'a.check_id = b.check_id',
'and nvl(a.hostname,''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name,''NA'')',
') ) ',
'where Status1 != Status2',
'and nvl(switch1,''NA'') = nvl(switch2,''NA'')',
'and nvl(home1,''NA'') = nvl(home2,''NA'')',
'',
''))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'begin',
'if :P1003_NEW_DIFF = 1 then ',
'   return false;',
' end if; ',
'select count(1) into cnt from  (',
'select status1,hostname1,dbname1,instname1,c1,statusmsg1,',
'case ',
'  when instr(StatusMsg1,''on infiniband switch'',1,1) > 0 then',
'    substr(StatusMsg1,instr(StatusMsg1,''on infiniband switch'',1,1)+21)',
'  else',
'    null',
'  end as switch1,',
'check_name,status2,hostname2,dbname2,instname2,c2,statusmsg2,  ',
'case ',
'  when instr(StatusMsg2,''on infiniband switch'',1,1) > 0 then',
'    substr(StatusMsg2,instr(StatusMsg2,''on infiniband switch'',1,1)+21)',
'  else',
'    null',
'  end as switch2',
'from (',
'select  ',
'decode(a.status,''FAIL'',''<span class="label label-fail">FAIL</span>'',',
' ''FAIL-IGNORED'',''<span class="label label-failIg">FAIL-IGNORED</span>'',',
' ''WARNING'',''<span class="label label-warning">WARNING</span>'',',
'''INFO'',''<span class="label label-info">INFO</span>'',',
'''PASS'',''<span class="label label-pass">PASS</span>'',',
'''INFO-PASS'',''<span class="label label-pass">INFO-PASS</span>'',a.status) Status1,',
'a.hostname HostName1,a.db_name DBName1,a.instance_name InstName1,a.check_id c1,a.status_message StatusMsg1,',
'''<b>''||a.check_name||''</b>'' check_name,',
'decode(b.status,''FAIL'',''<span class="label label-fail">FAIL</span>'',',
' ''FAIL-IGNORED'',''<span class="label label-failIg">FAIL-IGNORED</span>'',',
' ''WARNING'',''<span class="label label-warning">WARNING</span>'',',
'''INFO'',''<span class="label label-info">INFO</span>'',',
'''PASS'',''<span class="label label-pass">PASS</span>'',',
'''INFO-PASS'',''<span class="label label-pass">INFO-PASS</span>'',b.status)  Status2,',
'b.hostname HostName2,b.db_name DBName2,b.instance_name InstName2,b.check_id c2,b.status_message StatusMsg2',
'from  ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 ) a,',
'      ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 ) b',
'where ',
'a.check_id = b.check_id',
'and nvl(a.hostname,''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name,''NA'')',
') ) ',
'where Status1 != Status2',
'and nvl(switch1,''NA'') = nvl(switch2,''NA'');',
'',
'if cnt > 0 and :P1003_SHOW_TAB = ''ACR'' then',
' return TRUE;',
'end if;',
'return false;',
'end;'))
,p_display_condition_type=>'FUNCTION_BODY'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>250
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'No differed checks found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>5000
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_sort_null=>'F'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311966856353042856)
,p_query_column_id=>1
,p_column_alias=>'STATUS1'
,p_column_display_sequence=>4
,p_column_heading=>'Status1'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_default_sort_column_sequence=>1
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311966953370042856)
,p_query_column_id=>2
,p_column_alias=>'HOSTNAME1'
,p_column_display_sequence=>7
,p_column_heading=>'Hostname1'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311967059672042856)
,p_query_column_id=>3
,p_column_alias=>'DBNAME1'
,p_column_display_sequence=>8
,p_column_heading=>'DBName1'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311967166127042856)
,p_query_column_id=>4
,p_column_alias=>'INSTNAME1'
,p_column_display_sequence=>9
,p_column_heading=>'InstName1'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311967267921042856)
,p_query_column_id=>5
,p_column_alias=>'C1'
,p_column_display_sequence=>2
,p_column_heading=>'C1'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311967351262042856)
,p_query_column_id=>6
,p_column_alias=>'STATUSMSG1'
,p_column_display_sequence=>5
,p_column_heading=>'StatusMsg1'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312246153109831353)
,p_query_column_id=>7
,p_column_alias=>'SWITCH1'
,p_column_display_sequence=>16
,p_column_heading=>'Switch1'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312423138887185390)
,p_query_column_id=>8
,p_column_alias=>'HOME1'
,p_column_display_sequence=>18
,p_column_heading=>'Home1'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311967466363042856)
,p_query_column_id=>9
,p_column_alias=>'CHECK_NAME'
,p_column_display_sequence=>1
,p_column_heading=>'Check Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311967540507042856)
,p_query_column_id=>10
,p_column_alias=>'STATUS2'
,p_column_display_sequence=>10
,p_column_heading=>'Status2'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311967666687042856)
,p_query_column_id=>11
,p_column_alias=>'HOSTNAME2'
,p_column_display_sequence=>13
,p_column_heading=>'Hostname2'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311967760975042856)
,p_query_column_id=>12
,p_column_alias=>'DBNAME2'
,p_column_display_sequence=>14
,p_column_heading=>'DBName2'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311967836383042856)
,p_query_column_id=>13
,p_column_alias=>'INSTNAME2'
,p_column_display_sequence=>15
,p_column_heading=>'InstName2'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311967950533042856)
,p_query_column_id=>14
,p_column_alias=>'C2'
,p_column_display_sequence=>3
,p_column_heading=>'C2'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308525251566070898)
,p_query_column_id=>15
,p_column_alias=>'SORDER1'
,p_column_display_sequence=>20
,p_column_heading=>'Sorder1'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311968062434042856)
,p_query_column_id=>16
,p_column_alias=>'STATUSMSG2'
,p_column_display_sequence=>11
,p_column_heading=>'StatusMsg2'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312246247284831353)
,p_query_column_id=>17
,p_column_alias=>'SWITCH2'
,p_column_display_sequence=>17
,p_column_heading=>'Switch2'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312423240120185395)
,p_query_column_id=>18
,p_column_alias=>'HOME2'
,p_column_display_sequence=>19
,p_column_heading=>'Home2'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(307798141924413492)
,p_query_column_id=>19
,p_column_alias=>'LINK$01'
,p_column_display_sequence=>12
,p_column_heading=>'Act Values2'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1026:&SESSION.::&DEBUG.:1026:P1026_COLLECTION_DATE,P1026_CHECK_ID:&P1003_COLLECTION2.,#C2#'
,p_column_linktext=>'View'
,p_heading_alignment=>'LEFT'
,p_display_when_cond_type=>'EXISTS'
,p_display_when_condition=>'select 1 from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 and collection_id is not null'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(307798241363422781)
,p_query_column_id=>20
,p_column_alias=>'LINK$02'
,p_column_display_sequence=>6
,p_column_heading=>'Act Values1'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1026:&SESSION.::&DEBUG.:1026:P1026_COLLECTION_DATE,P1026_CHECK_ID:&P1003_COLLECTION1.,#C1#'
,p_column_linktext=>'View'
,p_heading_alignment=>'LEFT'
,p_display_when_cond_type=>'EXISTS'
,p_display_when_condition=>'select 1 from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 and collection_id is not null'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(311970061936042858)
,p_name=>'Unique findings in collection1'
,p_region_name=>'DIFF1'
,p_template=>wwv_flow_api.id(2674554283312565687)
,p_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select  decode(status,''FAIL'',''<span class="label label-fail">FAIL</span>'',',
' ''FAIL-IGNORED'',''<span class="label label-failIg">FAIL-IGNORED</span>'',',
' ''WARNING'',''<span class="label label-warning">WARNING</span>'',',
'''INFO'',''<span class="label label-info">INFO</span>'',',
'''PASS'',''<span class="label label-pass">PASS</span>'',',
'''INFO-PASS'',''<span class="label label-pass">INFO-PASS</span>'',status) status,',
'hostname,db_name,instance_name,check_id,status_message,',
'''<a id="''||check_id||''" class="recommendation" style="cursor:pointer;" title="Recommendation" onclick="open_dialog(''''''||check_id||'''''');">',
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>''||''<div id="''||check_id||''_rec" style="display:none"></div>&nbsp;&nbsp;''||check_name as check_name',
'from (',
'',
'select  a.status,a.hostname,a.db_name,a.instance_name,a.check_id,a.status_message,a.check_name',
'from  auditcheck_result a where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 ',
'',
'MINUS',
'',
'select status1 status ,hostname1 hostname,dbname1 db_name,instname1 instance_name,c1 check_id,statusmsg1 status_message,check_name from  (',
'select status1,hostname1,dbname1,instname1,c1,statusmsg1,check_name,',
'case when instr(StatusMsg1,''on infiniband switch'',1,1) > 0 then substr(StatusMsg1,instr(StatusMsg1,''on infiniband switch'',1,1)+21)',
'  else   null  end as switch1,',
'case when  regexp_count(StatusMsg1, ''/'' ) >4 or ct1=''ORACLE_PATCH'' then    substr(StatusMsg1,instr(StatusMsg1,'' '',-1,1)+1)',
'  else    null  end as home1,',
'case when instr(StatusMsg2,''on infiniband switch'',1,1) > 0 then substr(StatusMsg2,instr(StatusMsg2,''on infiniband switch'',1,1)+21)',
'  else   null  end as switch2,',
'case when  regexp_count(StatusMsg2, ''/'' ) >4 or ct2=''ORACLE_PATCH'' then    substr(StatusMsg2,instr(StatusMsg2,'' '',-1,1)+1)',
'  else    null  end as home2',
'from (',
'select  a.status Status1,a.hostname HostName1,a.db_name DBName1,a.instance_name InstName1,a.check_id c1,a.status_message StatusMsg1,a.check_name,a.check_type ct1,',
'        b.status Status2,b.hostname HostName2,b.db_name DBName2,b.instance_name InstName2,b.check_id c2,b.status_message StatusMsg2,b.check_type ct2',
'from  ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 ) a,',
'      ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 ) b',
'where ',
'a.check_id = b.check_id',
'and nvl(a.hostname,''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name,''NA'')',
') ) ',
'where nvl(switch1,''NA'') = nvl(switch2,''NA'')',
'and nvl(home1,''NA'') = nvl(home2,''NA'')',
')',
''))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'begin',
'if :P1003_NEW_DIFF = 1 then ',
'   return false;',
' end if; ',
'select count(1) into cnt from  (',
'select  decode(status,''FAIL'',''<span class="label label-fail">FAIL</span>'',',
' ''FAIL-IGNORED'',''<span class="label label-failIg">FAIL-IGNORED</span>'',',
' ''WARNING'',''<span class="label label-warning">WARNING</span>'',',
'''INFO'',''<span class="label label-info">INFO</span>'',',
'''PASS'',''<span class="label label-pass">PASS</span>'',',
'''INFO-PASS'',''<span class="label label-pass">INFO-PASS</span>'',status) status,',
'hostname,db_name,instance_name,check_id,status_message,check_name from (',
'select  a.status,a.hostname,a.db_name,a.instance_name,a.check_id,a.status_message,a.check_name',
'from  ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 ) a,',
'      ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 ) b',
'where ',
'a.check_id = b.check_id(+) ',
'and nvl(a.hostname,''NA'') = nvl(b.hostname(+),''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name(+),''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name(+),''NA'')',
'',
'MINUS',
'',
'select  a.status,a.hostname,a.db_name,a.instance_name,a.check_id,a.status_message,a.check_name',
'from  ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 ) a,',
'      ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 ) b',
'where ',
'a.check_id = b.check_id ',
'and nvl(a.hostname,''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name,''NA'')',
') );',
'if cnt > 0 and :P1003_SHOW_TAB = ''ACR'' then',
' return TRUE;',
'end if;',
'return false;',
'end;'))
,p_display_condition_type=>'FUNCTION_BODY'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>250
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'No checks found only in Collection1'
,p_query_num_rows_type=>'ROW_RANGES_IN_SELECT_LIST'
,p_query_row_count_max=>5000
,p_pagination_display_position=>'TOP_AND_BOTTOM_LEFT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_sort_null=>'F'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311970249683042858)
,p_query_column_id=>1
,p_column_alias=>'STATUS'
,p_column_display_sequence=>2
,p_column_heading=>'Status'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311970343065042858)
,p_query_column_id=>2
,p_column_alias=>'HOSTNAME'
,p_column_display_sequence=>5
,p_column_heading=>'Hostname'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311970461781042858)
,p_query_column_id=>3
,p_column_alias=>'DB_NAME'
,p_column_display_sequence=>6
,p_column_heading=>'DB Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311970540419042858)
,p_query_column_id=>4
,p_column_alias=>'INSTANCE_NAME'
,p_column_display_sequence=>7
,p_column_heading=>'Instance Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311970651812042858)
,p_query_column_id=>5
,p_column_alias=>'CHECK_ID'
,p_column_display_sequence=>8
,p_column_heading=>'Check Id'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
end;
/
begin
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311970752295042860)
,p_query_column_id=>6
,p_column_alias=>'STATUS_MESSAGE'
,p_column_display_sequence=>3
,p_column_heading=>'Status Message'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311970856303042860)
,p_query_column_id=>7
,p_column_alias=>'CHECK_NAME'
,p_column_display_sequence=>1
,p_column_heading=>'Check Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_default_sort_column_sequence=>1
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(307802051516983923)
,p_query_column_id=>8
,p_column_alias=>'LINK$01'
,p_column_display_sequence=>4
,p_column_heading=>'Act Values'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1026:&SESSION.::&DEBUG.:1026:P1026_COLLECTION_DATE,P1026_CHECK_ID:&P1003_COLLECTION1.,#CHECK_ID#'
,p_column_linktext=>'View'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_when_cond_type=>'EXISTS'
,p_display_when_condition=>'select 1 from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 and collection_id is not null'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(311970952457042860)
,p_name=>'Unique findings in collection2'
,p_region_name=>'DIFF2'
,p_template=>wwv_flow_api.id(2674554283312565687)
,p_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select  decode(status,''FAIL'',''<span class="label label-fail">FAIL</span>'',',
' ''FAIL-IGNORED'',''<span class="label label-failIg">FAIL-IGNORED</span>'',',
' ''WARNING'',''<span class="label label-warning">WARNING</span>'',',
'''INFO'',''<span class="label label-info">INFO</span>'',',
'''PASS'',''<span class="label label-pass">PASS</span>'',',
'''INFO-PASS'',''<span class="label label-pass">INFO-PASS</span>'',status) status,',
'hostname,db_name,instance_name,check_id,status_message,',
'''<a id="''||check_id||''" class="recommendation" style="cursor:pointer;" title="Recommendation" onclick="open_dialog(''''''||check_id||'''''');">',
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>''||''<div id="''||check_id||''_rec" style="display:none"></div>&nbsp;&nbsp;''||check_name as check_name',
'from (',
'',
'select  a.status,a.hostname,a.db_name,a.instance_name,a.check_id,a.status_message,a.check_name',
'from  auditcheck_result a where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 ',
'',
'MINUS',
'',
'select status2 status ,hostname2 hostname,dbname2 db_name,instname2 instance_name,c2 check_id,statusmsg2 status_message,check_name from  (',
'select status2,hostname2,dbname2,instname2,c2,statusmsg2,check_name,',
'case when instr(StatusMsg1,''on infiniband switch'',1,1) > 0 then substr(StatusMsg1,instr(StatusMsg1,''on infiniband switch'',1,1)+21)',
'  else   null  end as switch1,',
'case when  regexp_count(StatusMsg1, ''/'' ) >4 or ct1=''ORACLE_PATCH'' then    substr(StatusMsg1,instr(StatusMsg1,'' '',-1,1)+1)',
'  else    null  end as home1,',
'case when instr(StatusMsg2,''on infiniband switch'',1,1) > 0 then substr(StatusMsg2,instr(StatusMsg2,''on infiniband switch'',1,1)+21)',
'  else   null  end as switch2,',
'case when  regexp_count(StatusMsg2, ''/'' ) >4 or ct2=''ORACLE_PATCH'' then    substr(StatusMsg2,instr(StatusMsg2,'' '',-1,1)+1)',
'  else    null  end as home2',
'from (',
'select  a.status Status1,a.hostname HostName1,a.db_name DBName1,a.instance_name InstName1,a.check_id c1,a.status_message StatusMsg1,a.check_name,a.check_type ct1,',
'        b.status Status2,b.hostname HostName2,b.db_name DBName2,b.instance_name InstName2,b.check_id c2,b.status_message StatusMsg2,b.check_type ct2',
'from  ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 ) a,',
'      ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 ) b',
'where ',
'a.check_id = b.check_id',
'and nvl(a.hostname,''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name,''NA'')',
') ) ',
'where nvl(switch1,''NA'') = nvl(switch2,''NA'')',
'and nvl(home1,''NA'') = nvl(home2,''NA'')',
')',
''))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'begin',
'if :P1003_NEW_DIFF = 1 then ',
'   return false;',
' end if; ',
'select count(1) into cnt from  (',
'select check_name, decode(status,''FAIL'',''<span class="label label-fail">FAIL</span>'',',
' ''FAIL-IGNORED'',''<span class="label label-failIg">FAIL-IGNORED</span>'',',
' ''WARNING'',''<span class="label label-warning">WARNING</span>'',',
'''INFO'',''<span class="label label-info">INFO</span>'',',
'''PASS'',''<span class="label label-pass">PASS</span>'',',
'''INFO-PASS'',''<span class="label label-pass">INFO-PASS</span>'',status)  status,hostname,db_name,instance_name,check_id,status_message from (',
'select  b.check_name,b.status,b.hostname,b.db_name,b.instance_name,b.check_id,b.status_message',
'from  ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 ) a,',
'      ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 ) b',
'where ',
'a.check_id(+) = b.check_id ',
'and nvl(a.hostname(+),''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name(+),''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name(+),''NA'') = nvl(b.instance_name,''NA'')',
'',
'MINUS',
'',
'select  b.check_name,b.status,b.hostname,b.db_name,b.instance_name,b.check_id,b.status_message',
'from  ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 ) a,',
'      ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 ) b',
'where ',
'a.check_id = b.check_id ',
'and nvl(a.hostname,''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name,''NA'')',
'));',
'if cnt > 0 and :P1003_SHOW_TAB = ''ACR'' then',
' return TRUE;',
'end if;',
'return false;',
'end;'))
,p_display_condition_type=>'FUNCTION_BODY'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>250
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'No Checks found only in Collection2'
,p_query_num_rows_type=>'ROW_RANGES_IN_SELECT_LIST'
,p_query_row_count_max=>5000
,p_pagination_display_position=>'TOP_AND_BOTTOM_LEFT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_sort_null=>'F'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311971248022042861)
,p_query_column_id=>1
,p_column_alias=>'STATUS'
,p_column_display_sequence=>2
,p_column_heading=>'Status'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311971347466042861)
,p_query_column_id=>2
,p_column_alias=>'HOSTNAME'
,p_column_display_sequence=>5
,p_column_heading=>'Hostname'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311971439620042864)
,p_query_column_id=>3
,p_column_alias=>'DB_NAME'
,p_column_display_sequence=>6
,p_column_heading=>'DB Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311971546208042864)
,p_query_column_id=>4
,p_column_alias=>'INSTANCE_NAME'
,p_column_display_sequence=>7
,p_column_heading=>'Instance Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311971654207042864)
,p_query_column_id=>5
,p_column_alias=>'CHECK_ID'
,p_column_display_sequence=>8
,p_column_heading=>'Check Id'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311971745933042864)
,p_query_column_id=>6
,p_column_alias=>'STATUS_MESSAGE'
,p_column_display_sequence=>3
,p_column_heading=>'Status Message'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311971161364042861)
,p_query_column_id=>7
,p_column_alias=>'CHECK_NAME'
,p_column_display_sequence=>1
,p_column_heading=>'Check Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(307802243336991002)
,p_query_column_id=>8
,p_column_alias=>'LINK$01'
,p_column_display_sequence=>4
,p_column_heading=>'Act Values'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1026:&SESSION.::&DEBUG.:1026:P1026_COLLECTION_DATE,P1026_CHECK_ID:&P1003_COLLECTION2.,#CHECK_ID#'
,p_column_linktext=>'View'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_when_cond_type=>'EXISTS'
,p_display_when_condition=>'select 1 from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 and collection_id is not null'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312027244914154374)
,p_plug_name=>'&nbsp;'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>13
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_display_point=>'BODY_1'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312037742713270170)
,p_name=>'Checks Matched'
,p_template=>wwv_flow_api.id(2674554283312565687)
,p_display_sequence=>60
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select * from  (',
'select status1,hostname1,dbname1,instname1,c1,statusmsg1,',
'case when instr(StatusMsg1,''on infiniband switch'',1,1) > 0 then substr(StatusMsg1,instr(StatusMsg1,''on infiniband switch'',1,1)+21)',
'  else   null  end as switch1,',
'case when  regexp_count(StatusMsg1, ''/'' ) >4 or ct1=''ORACLE_PATCH'' then    substr(StatusMsg1,instr(StatusMsg1,'' '',-1,1)+1)',
'  else    null  end as home1,',
'''<a id="''||c1||''" class="recommendation" style="cursor:pointer;" title="Recommendation" onclick="open_dialog(''''''||c1||'''''');">',
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>''||''<div id="''||c1||''_rec" style="display:none"></div>&nbsp;&nbsp;''||check_name as check_name,',
'status2,hostname2,dbname2,instname2,c2,sOrder1,statusmsg2,  ',
'case   when instr(StatusMsg2,''on infiniband switch'',1,1) > 0 then    substr(StatusMsg2,instr(StatusMsg2,''on infiniband switch'',1,1)+21)',
'  else    null  end as switch2,',
'case   when  regexp_count(StatusMsg2, ''/'' ) >4 or ct2=''ORACLE_PATCH'' then    substr(StatusMsg2,instr(StatusMsg2,'' '',-1,1)+1)',
'  else    null  end as home2    ',
'from (',
'select  ',
'decode(a.status,''FAIL'',''<span class="label label-fail">FAIL</span>'',',
' ''FAIL-IGNORED'',''<span class="label label-failIg">FAIL-IGNORED</span>'',',
' ''WARNING'',''<span class="label label-warning">WARNING</span>'',',
'''INFO'',''<span class="label label-info">INFO</span>'',',
'''PASS'',''<span class="label label-pass">PASS</span>'',',
'''INFO-PASS'',''<span class="label label-pass">INFO-PASS</span>'',a.status) Status1,',
'a.hostname HostName1,a.db_name DBName1,a.instance_name InstName1,a.check_id c1,a.status_message StatusMsg1,a.check_type ct1,',
'decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''PASS'',4,''INFO-PASS'',5,''FAIL-IGNORED'',6,7) sOrder1,',
'decode(a.check_type,''SQL_PARAM'',a.PARAM_NAME,''OS_PARAM'',a.PARAM_NAME,''OS_PACKAGE'',a.PARAM_NAME,nvl(a.CHECK_NAME,a.PARAM_NAME)) check_name,',
'decode(b.status,''FAIL'',''<span class="label label-fail">FAIL</span>'',',
' ''FAIL-IGNORED'',''<span class="label label-failIg">FAIL-IGNORED</span>'',',
' ''WARNING'',''<span class="label label-warning">WARNING</span>'',',
'''INFO'',''<span class="label label-info">INFO</span>'',',
'''PASS'',''<span class="label label-pass">PASS</span>'',',
'''INFO-PASS'',''<span class="label label-pass">INFO-PASS</span>'',b.status)  Status2,',
'b.hostname HostName2,b.db_name DBName2,b.instance_name InstName2,b.check_id c2,b.status_message StatusMsg2,b.check_type ct2',
'from  ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 ) a,',
'      ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 ) b',
'where ',
'a.check_id = b.check_id',
'and nvl(a.hostname,''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name,''NA'')',
') ) ',
'where Status1 = Status2',
'and nvl(switch1,''NA'') = nvl(switch2,''NA'')',
'and nvl(home1,''NA'') = nvl(home2,''NA'')',
'',
''))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'begin',
'if :P1003_NEW_DIFF = 1 then ',
'   return false;',
' end if; ',
'select count(1) into cnt from  (',
'select   decode(a.status,''FAIL'',''<span class="label label-fail">FAIL</span>'',',
' ''FAIL-IGNORED'',''<span class="label label-failIg">FAIL-IGNORED</span>'',',
' ''WARNING'',''<span class="label label-warning">WARNING</span>'',',
'''INFO'',''<span class="label label-info">INFO</span>'',',
'''PASS'',''<span class="label label-pass">PASS</span>'',',
'''INFO-PASS'',''<span class="label label-pass">INFO-PASS</span>'',a.status)  status,a.hostname,a.db_name,a.instance_name,a.check_id,a.status_message,a.check_name',
'from  ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 ) a,',
'      ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 ) b',
'where ',
'a.check_id = b.check_id ',
'and nvl(a.hostname,''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name,''NA'')',
');',
'if cnt > 0 and :P1003_SHOW_TAB = ''ACR'' then',
' return TRUE;',
'end if;',
'return false;',
'end;'))
,p_display_condition_type=>'FUNCTION_BODY'
,p_ajax_enabled=>'N'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>250
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'No checks found only in Collection1'
,p_query_num_rows_type=>'ROW_RANGES_IN_SELECT_LIST'
,p_query_row_count_max=>5000
,p_pagination_display_position=>'TOP_AND_BOTTOM_LEFT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_sort_null=>'F'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308525458177158942)
,p_query_column_id=>1
,p_column_alias=>'STATUS1'
,p_column_display_sequence=>2
,p_column_heading=>'Status'
,p_use_as_row_header=>'N'
,p_default_sort_column_sequence=>2
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308525550183158948)
,p_query_column_id=>2
,p_column_alias=>'HOSTNAME1'
,p_column_display_sequence=>4
,p_column_heading=>'Host Name'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308525639619158948)
,p_query_column_id=>3
,p_column_alias=>'DBNAME1'
,p_column_display_sequence=>5
,p_column_heading=>'DB Name'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308525758256158948)
,p_query_column_id=>4
,p_column_alias=>'INSTNAME1'
,p_column_display_sequence=>6
,p_column_heading=>'Instname'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308525847428158948)
,p_query_column_id=>5
,p_column_alias=>'C1'
,p_column_display_sequence=>7
,p_column_heading=>'Check Id'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308525954547158948)
,p_query_column_id=>6
,p_column_alias=>'STATUSMSG1'
,p_column_display_sequence=>3
,p_column_heading=>'StatusMsg'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308526063272158948)
,p_query_column_id=>7
,p_column_alias=>'SWITCH1'
,p_column_display_sequence=>8
,p_column_heading=>'Switch1'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308526140708158948)
,p_query_column_id=>8
,p_column_alias=>'HOME1'
,p_column_display_sequence=>9
,p_column_heading=>'Home1'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312038562726270172)
,p_query_column_id=>9
,p_column_alias=>'CHECK_NAME'
,p_column_display_sequence=>1
,p_column_heading=>'Check Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_default_sort_column_sequence=>1
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308526247690158948)
,p_query_column_id=>10
,p_column_alias=>'STATUS2'
,p_column_display_sequence=>10
,p_column_heading=>'Status2'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308526341386158948)
,p_query_column_id=>11
,p_column_alias=>'HOSTNAME2'
,p_column_display_sequence=>12
,p_column_heading=>'Host Name2'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308526447788158948)
,p_query_column_id=>12
,p_column_alias=>'DBNAME2'
,p_column_display_sequence=>13
,p_column_heading=>'DB Name2'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308526553329158948)
,p_query_column_id=>13
,p_column_alias=>'INSTNAME2'
,p_column_display_sequence=>14
,p_column_heading=>'Instname2'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308526654040158948)
,p_query_column_id=>14
,p_column_alias=>'C2'
,p_column_display_sequence=>15
,p_column_heading=>'C2'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308526750927158948)
,p_query_column_id=>15
,p_column_alias=>'SORDER1'
,p_column_display_sequence=>16
,p_column_heading=>'Sorder1'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308526861815158948)
,p_query_column_id=>16
,p_column_alias=>'STATUSMSG2'
,p_column_display_sequence=>11
,p_column_heading=>'StatusMsg2'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308526967551158948)
,p_query_column_id=>17
,p_column_alias=>'SWITCH2'
,p_column_display_sequence=>17
,p_column_heading=>'Switch2'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308527058368158949)
,p_query_column_id=>18
,p_column_alias=>'HOME2'
,p_column_display_sequence=>18
,p_column_heading=>'Home2'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312108942996803880)
,p_plug_name=>'Health Check Comp Report - Part1 <12.1.0.2.1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'colName1 varchar2(256);',
'colName2 varchar2(256);',
'firstTime number := 1;',
'header varchar2(4000) := NULL;',
'heading varchar2(4000) := NULL;',
'prevOrd number := 0;',
'prevCheck varchar2(40);',
'counter0 number := 0;',
'counter1 number := 0;',
'counter2 number := 0;',
'newRow1 number := 0;',
'newRow2 number := 0;',
'rowsText varchar2(4000);',
'prev1 varchar2(2000);',
'prev2 varchar2(2000);',
'dbSerList varchar2(4000);',
'printFooter number := 0;',
'begin',
' colName1 := substr(:P1003_COLLECTION1,instr(:P1003_COLLECTION1,''|'',1,1)+1);',
' colName1 := substr(:P1003_COLLECTION2,instr(:P1003_COLLECTION2,''|'',1,1)+1);',
' -- Heading',
'/*',
' htp.p(''<br>'');',
' htp.p(''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">'');',
' htp.p(''<div class="uRegionHeading">'');',
' htp.p(''<h1 class=h2c align="center">Health Checks Baseline Comparison Report</h1>'');',
' htp.p(''</div></section>'');',
' htp.p(''<br>'');',
'*/',
'--Summary',
'--TOC',
'',
' --Diff checks',
' firstTime := 1;',
' heading := ''<h2 class="h3c">Differences between Report 1 and Report 2</h2>'';',
' header := ''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">',
'  <div class="uRegionContent clearfix">',
'  <div style="overflow: auto;">',
'  <table class="uReportContainer" id="report_REPORT1" summary="">',
'  <tbody class="uReportBody">',
'  <tr><td>',
'  <table summary="Audit checks" class="uReport uReportStandard">',
'  <thead>   ',
'  <tr>             ',
'    <th scope="col" rowspan="2" align="left">Type</th>',
'    <th scope="col" rowspan="2" align="left">Check Name</th>',
'    <th scope="col" colspan="2" align="left">Status On Report 1</th>',
'    <th scope="col" colspan="2" align="left" border-left-style="solid" border-left-width="20">Status On Report 2</th>',
'  </tr>',
'  <tr>',
'     <th scope="col" align="left">Status</th>',
'     <th scope="col" align="left">Status On</th>',
'     <th scope="col" align="left">Status</th>',
'     <th scope="col" align="left">Status On</th>',
'  </tr>',
'  </thead>',
'  <tbody>'';',
'',
' for rec in ( -- Clusterwide checks',
'              select a.check_id,a.check_name,''Cluster wide checks'' checkType,a.status s1,''Cluster Wide'' son1,b.status s2,''Cluster Wide'' son2,1 ord1',
'              from auditcheck_result a,auditcheck_result b ',
'              where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1 ',
'              and b.collection_date||''|''||b.upload_collection_name =  :P1003_COLLECTION2',
'              and a.check_type = ''CLUSTERWIDE_CHECK'' and b.check_type = ''CLUSTERWIDE_CHECK'' ',
'              and a.check_id = b.check_id and a.status != b.status',
'              UNION',
'              -- Database server checks',
'              select check_id,check_name,''Database server checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,2 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.hostname h1,t2.status s2,t2.hostname h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.check_type in (''OS'',''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') and t1.needs_running not in (''STORAGE_CELL'',''SWITCH'')',
'              and t1.needs_running not in (''RDBMS'',''ASM'') ',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.check_type in (''OS'',''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') and t2.needs_running not in (''STORAGE_CELL'',''SWITCH'')',
'              and t2.needs_running not in (''RDBMS'',''ASM'') ',
'              and t1.check_id = t2.check_id and t1.hostname = t2.hostname and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2',
'              UNION',
'              --Switch checks',
'              select check_id,check_name,''IB Switch checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,3 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.hostname h1,t2.status s2,t2.hostname h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.needs_running = ''SWITCH''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.needs_running = ''SWITCH'' ',
'              and t1.check_id = t2.check_id and t1.hostname = t2.hostname and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2',
'              UNION ',
'              -- Cell checks',
'              select check_id,check_name,''Storage cell checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,4 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.hostname h1,t2.status s2,t2.hostname h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.needs_running = ''STORAGE_CELL''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.needs_running = ''STORAGE_CELL'' ',
'              and t1.check_id = t2.check_id and t1.hostname = t2.hostname and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2',
'              UNION ',
'              -- ASM checks',
'              select check_id,check_name,''ASM Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.instance_name h1,t2.status s2,t2.instance_name h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.check_type = ''OS'' and t1.needs_running = ''ASM''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.check_type = ''OS'' and t2.needs_running = ''ASM''',
'              and t1.check_id = t2.check_id and t1.instance_name = t2.instance_name and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2  ',
'              UNION',
'              -- Database checks',
'              select check_id,check_name,''Database Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.db_name h1,t2.status s2,t2.db_name h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and ( t1.check_type = ''SQL'' OR ( t1.check_type = ''OS'' and t1.needs_running = ''RDBMS'' ) )',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and ( t2.check_type = ''SQL'' OR ( t2.check_type = ''OS'' and t2.needs_running = ''RDBMS'' ) ) ',
'              and t1.check_id = t2.check_id and t1.db_name = t2.db_name and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2  ',
'              UNION',
'              -- DB Instance checks',
'              select check_id,check_name,''DB Instance Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.instance_name h1,t2.status s2,t2.instance_name h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.check_type = ''SQL_PARAM''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.check_type = ''SQL_PARAM''',
'              and t1.check_id = t2.check_id and t1.instance_name = t2.instance_name and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2 ',
'              order by ord1,check_name,s1,s2',
'   ) loop',
'    if firstTime = 1 then',
'      htp.p(heading||header);',
'      firstTime := 0; ',
'    end if;',
'    if ( prevCheck is not null and prevCheck != rec.check_id ) OR prevOrd != rec.ord1 then',
'       htp.p(''<tr rowspan=''||counter0||''>''||replace(replace(replace(rowsText,''COUNTER0'',counter0),''COUNTER1'',counter1),''COUNTER2'',counter2)||''</tr>'');   ',
'       counter0 := 0;',
'       counter1 := 0;        ',
'       counter2 := 0;',
'       newRow1 := 0;',
'       newRow2 := 0;',
'       rowsText := NULL;',
'       prev1 := NULL;',
'       prev2 := NULL;',
'    end if;',
'',
'      counter0 := counter0 + 1;',
'      if counter0 = 1 then',
'        if prevOrd != rec.ord1 then ',
'          rowsText := ''<td rowspan=COUNTER0>''||rec.checkType||''</td><td scope="row" rowspan=COUNTER0 >''||rec.check_name||''</td>'';',
'        else',
'          rowsText := ''<td rowspan=COUNTER0>&nbsp;</td><td scope="row" rowspan=COUNTER0 >''||rec.check_name||''</td>'';',
'        end if;     ',
'      end if;',
'',
'      -- Status on 1',
'      if prev1 is not null and prev1 != rec.son1 then',
'         rowsText := replace(rowsText,''COUNTER1'',counter1); ',
'         counter1 := 0;',
'         newRow1 := 1; ',
'      end if;',
'      counter1 := counter1 + 1;',
'      if counter1 = 1 then      ',
'         if newRow1 = 0 then',
'           rowsText := rowsText||''<td rowspan=COUNTER1 scope="row">''||rec.s1||''</td><td rowspan=COUNTER1>''||rec.son1||''</td>'';',
'         else ',
'           rowsText := rowsText||''<tr><td rowspan=COUNTER1 scope="row">''||rec.s1||''</td><td rowspan=COUNTER1>''||rec.son1||''</td></tr>''; ',
'         end if;',
'      end if;',
'      ',
'      -- Status on 2',
'      if prev2 is not null and prev2 != rec.son2 then',
'         rowsText := replace(rowsText,''COUNTER2'',counter2); ',
'         counter2 := 0;',
'         newRow2 := 1; ',
'      end if;',
'      counter2 := counter2 + 1;',
'      if counter2 = 1 then      ',
'         if newRow2 = 0 then',
'           rowsText := rowsText||''<td rowspan=COUNTER2 scope="row">''||rec.s2||''</td><td rowspan=COUNTER2>''||rec.son2||''</td>'';',
'         else ',
'           rowsText := rowsText||''<tr><td rowspan=COUNTER2 scope="row">''||rec.s2||''</td><td rowspan=COUNTER2>''||rec.son2||''</td></tr>'';',
'         end if;',
'      end if;',
'',
'    prevCheck := rec.check_id;',
'    prev1 := rec.son1; ',
'    prev2 := rec.son2;',
'    prevOrd := rec.ord1;',
'    printFooter := 1;',
' end loop;',
' --Now print last row',
' if rowsText is not null then',
'    htp.p(''<tr rowspan=''||counter0||''>''||replace(replace(replace(rowsText,''COUNTER0'',counter0),''COUNTER1'',counter1),''COUNTER2'',counter2)||''</tr>'');',
'    rowsText := NULL;',
' end if;',
'if printFooter = 1 then ',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>''); ',
'end if;',
'---------------------------------------------------------------------------------------------------- ',
' --Unique Findings in Report1',
' printFooter := 0;',
' heading := ''<h2 class="h3c">Unique Findings in Report1</h2>'';',
' header := ''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">',
'  <div class="uRegionContent clearfix">',
'  <div style="overflow: auto;">',
'  <table class="uReportContainer" id="report_REPORT1" summary="">',
'  <tbody class="uReportBody">',
'  <tr><td>',
'  <table summary="Audit checks" class="uReport uReportStandard">',
'  <thead>',
'  <tr>             ',
'    <th scope="col" align="left">Type</th>',
'    <th scope="col" align="left">Check Name</th>',
'    <th scope="col" align="left">Status</th>',
'    <th scope="col" align="left">Status On</th>',
'  </tr>',
'  </thead>',
'  <tbody> '';',
' firstTime := 1;',
' for rec in ( --Clusterwide checks',
'              select a.check_id,a.check_name,''Cluster wide checks'' checkType,a.status,''Cluster wide'' son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,1 ord1',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and a.check_type = ''CLUSTERWIDE_CHECK'' and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name =  :P1003_COLLECTION2 and b.check_type = ''CLUSTERWIDE_CHECK''',
'              and b.check_id = a.check_id and b.hostname = a.hostname )',
'              UNION',
'              --Database server',
'              select a.check_id,a.check_name,''Database server checks'' checkType,a.status,LISTAGG(a.hostname,'', '') WITHIN GROUP (ORDER BY a.hostname) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,2 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and needs_running not in (''STORAGE_CELL'',''SWITCH'')',
'              and ( check_type in (''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') ',
'              OR ( check_type = ''OS'' and needs_running not in (''RDBMS'',''ASM'')  ) )',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and needs_running not in (''STORAGE_CELL'',''SWITCH'')',
'              and ( check_type in (''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') ',
'              OR ( check_type = ''OS'' and needs_running not in (''RDBMS'',''ASM'')  ) )',
'              and b.check_id = a.check_id and a.hostname = b.hostname ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              --Switch checks',
'              select a.check_id,a.check_name,''IB switch checks'' checkType,a.status,LISTAGG(a.hostname,'', '') WITHIN GROUP (ORDER BY a.hostname) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,3 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and needs_running = ''SWITCH''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and needs_running = ''SWITCH''',
'              and b.check_id = a.check_id and a.hostname = b.hostname ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              --Cell checks',
'              select a.check_id,a.check_name,''Storage cell checks'' checkType,a.status,LISTAGG(a.hostname,'', '') WITHIN GROUP (ORDER BY a.hostname) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,4 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and needs_running = ''STORAGE_CELL''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and needs_running = ''STORAGE_CELL''',
'              and b.check_id = a.check_id and a.hostname = b.hostname ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION ',
'              -- Asm check',
'              select a.check_id,a.check_name,''ASM checks'' checkType,a.status,LISTAGG(a.instance_name,'', '') WITHIN GROUP (ORDER BY a.instance_name) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,5 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and check_type = ''OS'' and needs_running = ''ASM''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and check_type = ''OS'' and needs_running = ''ASM''',
'              and b.check_id = a.check_id and a.instance_name = b.instance_name ) ',
'              group by a.check_id,a.check_name,a.status ',
'              UNION',
'              -- DB checks ',
'              select a.check_id,a.check_name,''DB checks'' checkType,a.status,LISTAGG(a.db_name,'', '') WITHIN GROUP (ORDER BY a.db_name) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,6 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and ( check_type = ''SQL'' OR ( check_type = ''OS'' and needs_running = ''RDBMS'' ) )',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and ( check_type = ''SQL'' OR ( check_type = ''OS'' and needs_running = ''RDBMS'' ) )',
'              and b.check_id = a.check_id and a.db_name = b.db_name ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              -- DBI checks',
'              select a.check_id,a.check_name,''ASM checks'' checkType,a.status,LISTAGG(a.instance_name,'', '') WITHIN GROUP (ORDER BY a.instance_name) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,7 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and check_type = ''SQL_PARAM''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and check_type = ''SQL_PARAM''',
'              and b.check_id = a.check_id and a.instance_name = b.instance_name ) ',
'              group by a.check_id,a.check_name,a.status               ',
'              order by ord1,ord ) loop',
'    if firstTime = 1 then',
'      htp.p(heading||header); ',
'      firstTime := 0;  ',
'    end if;   ',
'    htp.p('' <tr> '');',
'    if prevOrd != rec.ord1 then ',
'       htp.p(''<td>''||rec.checkType||''</td>'');',
'    else',
'       htp.p(''<td>&nbsp;</td>'');',
'    end if;',
'    htp.p(''',
'       <td>''||rec.check_name||''</td>',
'       <td>''||rec.status||''</td>',
'       <td>''||rec.son||''</td>',
'      </tr>''); ',
'    prevOrd := rec.ord1;',
'    printFooter := 1;',
' end loop;',
'if printFooter =1 then',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'end if;',
'----------------------------------------------------------------------------------------------------',
' --Unique Findings in Report2',
' printFooter := 0;',
' heading := ''<h2 class="h3c">Unique Findings in Report2</h2>''; ',
' firstTime := 1;',
' for rec in ( --Clusterwide checks',
'              select a.check_id,a.check_name,''Cluster wide checks'' checkType,a.status,''Cluster wide'' son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,1 ord1',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and a.check_type = ''CLUSTERWIDE_CHECK'' and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name =  :P1003_COLLECTION1 and b.check_type = ''CLUSTERWIDE_CHECK''',
'              and b.check_id = a.check_id and b.hostname = a.hostname )',
'              UNION',
'              --Database server',
'              select a.check_id,a.check_name,''Database server checks'' checkType,a.status,LISTAGG(a.hostname,'', '') WITHIN GROUP (ORDER BY a.hostname) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,2 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and needs_running not in (''STORAGE_CELL'',''SWITCH'')',
'              and ( check_type in (''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') ',
'              OR ( check_type = ''OS'' and needs_running not in (''RDBMS'',''ASM'')  ) )',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and needs_running not in (''STORAGE_CELL'',''SWITCH'')',
'              and ( check_type in (''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') ',
'              OR ( check_type = ''OS'' and needs_running not in (''RDBMS'',''ASM'')  ) )',
'              and b.check_id = a.check_id and a.hostname = b.hostname ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              --Switch checks',
'              select a.check_id,a.check_name,''IB switch checks'' checkType,a.status,LISTAGG(a.hostname,'', '') WITHIN GROUP (ORDER BY a.hostname) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,3 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and needs_running = ''SWITCH''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and needs_running = ''SWITCH''',
'              and b.check_id = a.check_id and a.hostname = b.hostname ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              --Cell checks',
'              select a.check_id,a.check_name,''Storage cell checks'' checkType,a.status,LISTAGG(a.hostname,'', '') WITHIN GROUP (ORDER BY a.hostname) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,4 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and needs_running = ''STORAGE_CELL''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and needs_running = ''STORAGE_CELL''',
'              and b.check_id = a.check_id and a.hostname = b.hostname ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION ',
'              -- Asm check',
'              select a.check_id,a.check_name,''ASM checks'' checkType,a.status,LISTAGG(a.instance_name,'', '') WITHIN GROUP (ORDER BY a.instance_name) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,5 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and check_type = ''OS'' and needs_running = ''ASM''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and check_type = ''OS'' and needs_running = ''ASM''',
'              and b.check_id = a.check_id and a.instance_name = b.instance_name ) ',
'              group by a.check_id,a.check_name,a.status ',
'              UNION',
'              -- DB checks ',
'              select a.check_id,a.check_name,''DB checks'' checkType,a.status,LISTAGG(a.db_name,'', '') WITHIN GROUP (ORDER BY a.db_name) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,6 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and ( check_type = ''SQL'' OR ( check_type = ''OS'' and needs_running = ''RDBMS'' ) )',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and ( check_type = ''SQL'' OR ( check_type = ''OS'' and needs_running = ''RDBMS'' ) )',
'              and b.check_id = a.check_id and a.db_name = b.db_name ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              -- DBI checks',
'              select a.check_id,a.check_name,''ASM checks'' checkType,a.status,LISTAGG(a.instance_name,'', '') WITHIN GROUP (ORDER BY a.instance_name) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,7 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and check_type = ''SQL_PARAM''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and check_type = ''SQL_PARAM''',
'              and b.check_id = a.check_id and a.instance_name = b.instance_name ) ',
'              group by a.check_id,a.check_name,a.status               ',
'              order by ord1,ord ) loop',
'    if firstTime = 1 then',
'      htp.p(heading||header); ',
'      firstTime := 0;  ',
'    end if;   ',
'    htp.p('' <tr> '');',
'    if prevOrd != rec.ord1 then ',
'       htp.p(''<td>''||rec.checkType||''</td>'');',
'    else',
'       htp.p(''<td>&nbsp;</td>'');',
'    end if;',
'    htp.p(''',
'       <td>''||rec.check_name||''</td>',
'       <td>''||rec.status||''</td>',
'       <td>''||rec.son||''</td>',
'      </tr>''); ',
'    prevOrd := rec.ord1;',
'    printFooter := 1;',
' end loop;',
'if printFooter =1 then',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'end if;',
'----------------------------------------------------------------------------------------------------  ',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt1 number;',
' cnt2 number;',
'begin',
'if :P1003_COLLECTION1 is null OR :P1003_COLLECTION2 is null OR :P1003_NEW_DIFF != 1 then',
' return false;',
'end if;',
'select count(1) into cnt1 from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 and  target_type is not null;',
'select count(1) into cnt2 from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 and  target_type is not null;',
'if cnt1 > 0 and cnt2 > 0 then ',
' return false;',
'end if;',
'return true;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
end;
/
begin
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312122437858814662)
,p_plug_name=>'Collections Details'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2674554283312565687)
,p_plug_display_sequence=>10.5
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>150
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1003_COLLECTION1 is not null and :P1003_COLLECTION2 is not null then',
' return true;',
'else',
' return false;',
'end if;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312121367678775951)
,p_name=>'Collection1 Details'
,p_parent_plug_id=>wwv_flow_api.id(312122437858814662)
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>16
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid=>true
,p_display_point=>'BODY'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select a.collection_name collection_name,a.collection_date ,',
'RCA13_GET_DATA4COLUMNS.getCrsHome(b.collection_id) "CRS Home - Version",',
'RCA13_GET_DATA4COLUMNS.getASMHome(b.collection_id) "ASM Home - Version",',
'RCA13_GET_DATA4COLUMNS.getRdbmsHome(b.collection_id) "Database Homes - Version",',
'RCA13_GET_DATA4COLUMNS.getDBServers(b.collection_id,1) "Database Servers",',
'RCA13_GET_DATA4COLUMNS.getStorageServers(b.collection_id,1) "Storage Servers",',
'RCA13_GET_DATA4COLUMNS.getIBSwitches(b.collection_id,1) "Infiniband Switches",',
'RCA13_GET_DATA4COLUMNS.getDatabases(b.collection_id,1) "Databases",',
'nvl(b.tool_version,''NA'') "Tool Version",',
'nvl(b.current_user,''NA'') "Current User",Profiles',
'from rca13_collections_md a,rca13_collections b',
'where a.collection_date||''|''||a.collection_name = :P1003_COLLECTION1 ',
'and a.collection_name = b.collection_name(+) ',
'-- add and for collection dates'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'P1003_COLLECTION1'
,p_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>2
,p_query_num_rows=>150
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312131345112354811)
,p_query_column_id=>1
,p_column_alias=>'COLLECTION_NAME'
,p_column_display_sequence=>2
,p_column_heading=>'Collection Name'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312130551564108650)
,p_query_column_id=>2
,p_column_alias=>'COLLECTION_DATE'
,p_column_display_sequence=>1
,p_column_heading=>'Collection Date'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312131441422354812)
,p_query_column_id=>3
,p_column_alias=>'CRS Home - Version'
,p_column_display_sequence=>3
,p_column_heading=>'Crs Home - Version'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312131551857354812)
,p_query_column_id=>4
,p_column_alias=>'ASM Home - Version'
,p_column_display_sequence=>4
,p_column_heading=>'Asm Home - Version'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312131655084354812)
,p_query_column_id=>5
,p_column_alias=>'Database Homes - Version'
,p_column_display_sequence=>5
,p_column_heading=>'Database Homes - Version'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312131761548354813)
,p_query_column_id=>6
,p_column_alias=>'Database Servers'
,p_column_display_sequence=>6
,p_column_heading=>'Database Servers'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312131859406354813)
,p_query_column_id=>7
,p_column_alias=>'Storage Servers'
,p_column_display_sequence=>7
,p_column_heading=>'Storage Servers'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312131964523354813)
,p_query_column_id=>8
,p_column_alias=>'Infiniband Switches'
,p_column_display_sequence=>8
,p_column_heading=>'Infiniband Switches'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312132068289354813)
,p_query_column_id=>9
,p_column_alias=>'Databases'
,p_column_display_sequence=>9
,p_column_heading=>'Databases'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(310960638533912764)
,p_query_column_id=>10
,p_column_alias=>'Tool Version'
,p_column_display_sequence=>10
,p_column_heading=>'Tool Version'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(310960760980912772)
,p_query_column_id=>11
,p_column_alias=>'Current User'
,p_column_display_sequence=>11
,p_column_heading=>'Current User'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312169753220511470)
,p_query_column_id=>12
,p_column_alias=>'PROFILES'
,p_column_display_sequence=>12
,p_column_heading=>'Profiles'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312121736773785898)
,p_name=>'Collection2 Details'
,p_parent_plug_id=>wwv_flow_api.id(312122437858814662)
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>18
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_display_point=>'BODY'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select a.collection_name collection_name,a.collection_date ,',
'RCA13_GET_DATA4COLUMNS.getCrsHome(b.collection_id) "CRS Home - Version",',
'RCA13_GET_DATA4COLUMNS.getASMHome(b.collection_id) "ASM Home - Version",',
'RCA13_GET_DATA4COLUMNS.getRdbmsHome(b.collection_id) "Database Homes - Version",',
'RCA13_GET_DATA4COLUMNS.getDBServers(b.collection_id,2) "Database Servers",',
'RCA13_GET_DATA4COLUMNS.getStorageServers(b.collection_id,2) "Storage Servers",',
'RCA13_GET_DATA4COLUMNS.getIBSwitches(b.collection_id,2) "Infiniband Switches",',
'RCA13_GET_DATA4COLUMNS.getDatabases(b.collection_id,2) "Databases",',
'nvl(b.tool_version,''NA'') "Tool Version",',
'nvl(b.current_user,''NA'') "Current User",Profiles',
'from rca13_collections_md a,rca13_collections b',
'where a.collection_date||''|''||a.collection_name = :P1003_COLLECTION2 ',
'and a.collection_name = b.collection_name(+) '))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'P1003_COLLECTION2'
,p_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>2
,p_query_num_rows=>150
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312132254805365451)
,p_query_column_id=>1
,p_column_alias=>'COLLECTION_NAME'
,p_column_display_sequence=>2
,p_column_heading=>'Collection Name'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312130866648116916)
,p_query_column_id=>2
,p_column_alias=>'COLLECTION_DATE'
,p_column_display_sequence=>1
,p_column_heading=>'Collection Date'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312132355692365451)
,p_query_column_id=>3
,p_column_alias=>'CRS Home - Version'
,p_column_display_sequence=>3
,p_column_heading=>'Crs Home - Version'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312132442015365452)
,p_query_column_id=>4
,p_column_alias=>'ASM Home - Version'
,p_column_display_sequence=>4
,p_column_heading=>'Asm Home - Version'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312132538745365452)
,p_query_column_id=>5
,p_column_alias=>'Database Homes - Version'
,p_column_display_sequence=>5
,p_column_heading=>'Database Homes - Version'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312132667389365452)
,p_query_column_id=>6
,p_column_alias=>'Database Servers'
,p_column_display_sequence=>6
,p_column_heading=>'Database Servers'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312132766433365452)
,p_query_column_id=>7
,p_column_alias=>'Storage Servers'
,p_column_display_sequence=>7
,p_column_heading=>'Storage Servers'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312132847886365452)
,p_query_column_id=>8
,p_column_alias=>'Infiniband Switches'
,p_column_display_sequence=>8
,p_column_heading=>'Infiniband Switches'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312132967893365452)
,p_query_column_id=>9
,p_column_alias=>'Databases'
,p_column_display_sequence=>9
,p_column_heading=>'Databases'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(310961364387931149)
,p_query_column_id=>10
,p_column_alias=>'Tool Version'
,p_column_display_sequence=>10
,p_column_heading=>'Tool Version'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(310961458877931155)
,p_query_column_id=>11
,p_column_alias=>'Current User'
,p_column_display_sequence=>11
,p_column_heading=>'Current User'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312169949770513065)
,p_query_column_id=>12
,p_column_alias=>'PROFILES'
,p_column_display_sequence=>12
,p_column_heading=>'Profiles'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312152945985100651)
,p_plug_name=>'Health Check Comp Report - Part2 < 12.1.0.2.1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>12
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'colName1 varchar2(256);',
'colName2 varchar2(256);',
'firstTime number := 1;',
'header varchar2(4000) := NULL;',
'heading varchar2(4000) := NULL;',
'prevOrd number := 0;',
'prevCheck varchar2(40);',
'counter0 number := 0;',
'counter1 number := 0;',
'counter2 number := 0;',
'newRow1 number := 0;',
'newRow2 number := 0;',
'rowsText varchar2(4000);',
'prev1 varchar2(2000);',
'prev2 varchar2(2000);',
'dbSerList varchar2(4000);',
'printFooter number := 0;',
'begin',
' colName1 := substr(:P1003_COLLECTION1,instr(:P1003_COLLECTION1,''|'',1,1)+1);',
' colName1 := substr(:P1003_COLLECTION2,instr(:P1003_COLLECTION2,''|'',1,1)+1);',
'----------------------------------------------------------------------------------------------------  ',
' -- Matched Checks  ',
'  firstTime := 1;',
' htp.p(''<br>'');',
' htp.p(''<h2 class="h3c">Common Findings in Both Reports</h2>'');',
'sys.htp.p(''''); ',
' header := '' <section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">',
'  <div class="uRegionContent clearfix">',
'  <div style="overflow: auto;">',
'  <table class="uReportContainer" id="report_REPORT1" summary="">',
'  <tbody class="uReportBody">',
'  <tr><td>',
'  <table summary="Audit checks" class="uReport uReportStandard">',
'  <thead>',
'  <tr>',
'  <th align="left">Type</th><th align="left">Check Name</th><th align="left">Status</th><th align="left">Status On</th>',
'  </tr>',
'  </thead>',
'  <tbody>'';',
'',
' for rec in ( -- Clusterwide checks',
'              select a.check_id,a.check_name,''Cluster wide checks'' checkType,a.status s1,''Cluster Wide'' son1,1 ord1',
'              from auditcheck_result a,auditcheck_result b ',
'              where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1 ',
'              and b.collection_date||''|''||b.upload_collection_name =  :P1003_COLLECTION2',
'              and a.check_type = ''CLUSTERWIDE_CHECK'' and b.check_type = ''CLUSTERWIDE_CHECK''',
'              and a.check_id = b.check_id and a.status = b.status',
'              UNION',
'              -- Database server checks',
'              select check_id,check_name,''Database server checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,2 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.hostname h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.check_type in (''OS'',''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') and t1.needs_running not in (''STORAGE_CELL'',''SWITCH'')',
'              and t1.needs_running not in (''RDBMS'',''ASM'') ',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.check_type in (''OS'',''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') and t2.needs_running not in (''STORAGE_CELL'',''SWITCH'')',
'              and t2.needs_running not in (''RDBMS'',''ASM'') ',
'              and t1.check_id = t2.check_id and t1.hostname = t2.hostname and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION',
'              --Switch checks',
'              select check_id,check_name,''IB Switch checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,3 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.hostname h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.needs_running = ''SWITCH''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.needs_running = ''SWITCH'' ',
'              and t1.check_id = t2.check_id and t1.hostname = t2.hostname and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION ',
'              -- Cell checks',
'              select check_id,check_name,''Storage cell checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,4 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.hostname h1',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.needs_running = ''STORAGE_CELL''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.needs_running = ''STORAGE_CELL'' ',
'              and t1.check_id = t2.check_id and t1.hostname = t2.hostname and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION ',
'              -- ASM checks',
'              select check_id,check_name,''ASM Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.instance_name h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.check_type = ''OS'' and t1.needs_running = ''ASM''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.check_type = ''OS'' and t2.needs_running = ''ASM''',
'              and t1.check_id = t2.check_id and t1.instance_name = t2.instance_name and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION',
'              -- Database checks',
'              select check_id,check_name,''Database Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.db_name h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and ( t1.check_type = ''SQL'' OR ( t1.check_type = ''OS'' and t1.needs_running = ''RDBMS'' ) )',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and ( t2.check_type = ''SQL'' OR ( t2.check_type = ''OS'' and t2.needs_running = ''RDBMS'' ) ) ',
'              and t1.check_id = t2.check_id and t1.db_name = t2.db_name and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION',
'              -- DB Instance checks',
'              select check_id,check_name,''DB Instance Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.instance_name h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.check_type = ''SQL_PARAM''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.check_type = ''SQL_PARAM''',
'              and t1.check_id = t2.check_id and t1.instance_name = t2.instance_name and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1',
'              order by ord1,check_name,s1',
'   ) loop',
'    if firstTime = 1 then',
'      htp.p(header);',
'      firstTime := 0; ',
'    end if;',
'',
'    if ( prevCheck is not null and prevCheck != rec.check_id ) OR prevOrd != rec.ord1 then',
'       htp.p(''<tr rowspan=''||counter0||''>''||replace(rowsText,''COUNTER0'',counter0)||''</tr>'');   ',
'       counter0 := 0;',
'       rowsText := NULL;',
'       prev1 := NULL;',
'    end if;',
'      counter0 := counter0 + 1;',
'      if counter0 = 1 then',
'        if prevOrd != rec.ord1 then ',
'          rowsText := ''<td rowspan=COUNTER0>''||rec.checkType||''</td><td scope="row" rowspan=COUNTER0>''||rec.check_name||''</td>''; ',
'          rowsText := rowsText||''<td>''||rec.s1||''</td><td>''||rec.son1||''</td>'';',
'        else',
'          rowsText := ''<td rowspan=COUNTER0>&nbsp;</td><td scope="row" rowspan=COUNTER0>''||rec.check_name||''</td>'';',
'          rowsText := rowsText||''<td>''||rec.s1||''</td><td>''||rec.son1||''</td>'';',
'        end if;     ',
'      else',
'          rowsText := rowsText||''<tr><td>''||rec.s1||''</td><td>''||rec.son1||''</td></tr>''; ',
'      end if;',
'    prevCheck := rec.check_id;',
'    prevOrd := rec.ord1;',
'    printFooter := 1;  ',
' end loop;',
' --Now print last row',
' if rowsText is not null then',
'    htp.p(''<tr rowspan=''||counter0||''>''||replace(rowsText,''COUNTER0'',counter0)||''</tr>'');',
'    rowsText := NULL;',
' end if;',
'if printFooter = 1 then',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'end if;',
'-------------------------------------------------------------------------------------------------------',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt1 number;',
' cnt2 number;',
'begin',
'if :P1003_COLLECTION1 is null OR :P1003_COLLECTION2 is null OR :P1003_NEW_DIFF != 1 then',
' return false;',
'end if;',
'select count(1) into cnt1 from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 and  target_type is not null;',
'select count(1) into cnt2 from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 and  target_type is not null;',
'if cnt1 > 0 and cnt2 > 0 then ',
' return false;',
'end if;',
'return true;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312154961372615941)
,p_plug_name=>'Health Check Comparison Report - Part0'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10.4
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' -- Heading',
' htp.p(''<br>'');',
' htp.p(''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">'');',
' htp.p(''<div class="uRegionHeading">'');',
' if :P1003_SHOW_TAB = ''PR'' then ',
'   htp.p(''<h1 class=h2c align="center">Baseline Patch Comparison Report</h1>'');',
' else ',
'   htp.p(''<h1 class=h2c align="center">Health Checks Baseline Comparison Report</h1>'');',
' end if;',
' htp.p(''</div></section>'');',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1003_COLLECTION1 is null OR :P1003_COLLECTION2 is null then',
' return false;',
'else',
' return true;',
'end if;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312231556286162381)
,p_plug_name=>'Health Check Comp Report - Part1 >= 12.1.0.2.1_bkp'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>11.5
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'colName1 varchar2(256);',
'colName2 varchar2(256);',
'firstTime number := 1;',
'header varchar2(4000) := NULL;',
'heading varchar2(4000) := NULL;',
'prevOrd number := 0;',
'prevCheck varchar2(40);',
'counter0 number := 0;',
'counter1 number := 0;',
'counter2 number := 0;',
'newRow1 number := 0;',
'newRow2 number := 0;',
'rowsText varchar2(4000);',
'prev1 varchar2(2000);',
'prev2 varchar2(2000);',
'dbSerList varchar2(4000);',
'printFooter number := 0;',
'begin',
' colName1 := substr(:P1003_COLLECTION1,instr(:P1003_COLLECTION1,''|'',1,1)+1);',
' colName1 := substr(:P1003_COLLECTION2,instr(:P1003_COLLECTION2,''|'',1,1)+1);',
' -- Heading',
'/*',
' htp.p(''<br>'');',
' htp.p(''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">'');',
' htp.p(''<div class="uRegionHeading">'');',
' htp.p(''<h1 class=h2c align="center">Health Checks Baseline Comparison Report</h1>'');',
' htp.p(''</div></section>'');',
' htp.p(''<br>'');',
'*/',
'--Summary',
'--TOC',
'',
' --Diff checks',
' firstTime := 1;',
' heading := ''<h2 class="h3c">Differences between Report 1 and Report 2</h2>'';',
' header := ''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">',
'  <div class="uRegionContent clearfix">',
'  <div style="overflow: auto;">',
'  <table class="uReportContainer" id="report_REPORT1" summary="">',
'  <tbody class="uReportBody">',
'  <tr><td>',
'  <table summary="Audit checks" class="uReport uReportStandard">',
'  <thead>   ',
'  <tr>             ',
'    <th scope="col" rowspan="2" align="left">Type</th>',
'    <th scope="col" rowspan="2" align="left">Check Name</th>',
'    <th scope="col" colspan="2" align="left">Status On Report 1</th>',
'    <th scope="col" colspan="2" align="left" border-left-style="solid" border-left-width="20">Status On Report 2</th>',
'  </tr>',
'  <tr>',
'     <th scope="col" align="left">Status</th>',
'     <th scope="col" align="left">Status On</th>',
'     <th scope="col" align="left">Status</th>',
'     <th scope="col" align="left">Status On</th>',
'  </tr>',
'  </thead>',
'  <tbody>'';',
'',
' for rec in ( -- Clusterwide checks',
'              select a.check_id,a.check_name,''Cluster wide checks'' checkType,a.status s1,''Cluster Wide'' son1,b.status s2,''Cluster Wide'' son2,1 ord1',
'              from auditcheck_result a,auditcheck_result b ',
'              where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1 ',
'              and b.collection_date||''|''||b.upload_collection_name =  :P1003_COLLECTION2',
'              and a.target_type = ''CLUSTER'' and b.target_type = ''CLUSTER'' ',
'              and a.check_id = b.check_id and a.status != b.status',
'              UNION',
'              -- Database server checks',
'              select check_id,check_name,''Database server checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,2 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1,t2.status s2,t2.target_value h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''HOST''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''HOST''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2',
'              UNION',
'              --Switch checks',
'              select check_id,check_name,''IB Switch checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,3 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1,t2.status s2,t2.target_value h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''SWITCH''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''SWITCH'' ',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2',
'              UNION ',
'              -- Cell checks',
'              select check_id,check_name,''Storage cell checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,4 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1,t2.status s2,t2.target_value h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''STORAGE_CELL''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''STORAGE_CELL'' ',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2',
'              UNION ',
'              -- ASM checks',
'              select check_id,check_name,''ASM Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value  h1,t2.status s2,t2.target_value  h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''ASM''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''ASM''',
'              and t1.check_id = t2.check_id and t1.target_value  = t2.target_value  and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2  ',
'              UNION',
'              -- Database checks',
'              select check_id,check_name,''Database Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value  h1,t2.status s2,t2.target_value  h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''RDBMS''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''RDBMS''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value  and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2  ',
'              UNION',
'              -- DB Instance checks',
'              select check_id,check_name,''DB Instance Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,6 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value  h1,t2.status s2,t2.target_value h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''RDBMS_INSTANCE''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''RDBMS_INSTANCE''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value  and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2 ',
'              UNION',
'              -- Home path checks',
'              select check_id,check_name,''Home Path Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,7 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1,t2.status s2,t2.target_value h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')',
'              and t1.check_id = t2.check_id and t1.target_value  = t2.target_value and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2 ',
'              order by ord1,check_name,s1,s2',
'   ) loop',
'    if firstTime = 1 then',
'      htp.p(heading||header);',
'      firstTime := 0; ',
'    end if;',
'    if ( prevCheck is not null and prevCheck != rec.check_id ) OR prevOrd != rec.ord1 then',
'       htp.p(''<tr rowspan=''||counter0||''>''||replace(replace(replace(rowsText,''COUNTER0'',counter0),''COUNTER1'',counter1),''COUNTER2'',counter2)||''</tr>'');   ',
'       counter0 := 0;',
'       counter1 := 0;        ',
'       counter2 := 0;',
'       newRow1 := 0;',
'       newRow2 := 0;',
'       rowsText := NULL;',
'       prev1 := NULL;',
'       prev2 := NULL;',
'    end if;',
'',
'      counter0 := counter0 + 1;',
'      if counter0 = 1 then',
'        if prevOrd != rec.ord1 then ',
'          rowsText := ''<td rowspan=COUNTER0>''||rec.checkType||''</td><td scope="row" rowspan=COUNTER0 >''||rec.check_name||''</td>'';',
'        else',
'          rowsText := ''<td rowspan=COUNTER0>&nbsp;</td><td scope="row" rowspan=COUNTER0 >''||rec.check_name||''</td>'';',
'        end if;     ',
'      end if;',
'',
'      -- Status on 1',
'      if prev1 is not null and prev1 != rec.son1 then',
'         rowsText := replace(rowsText,''COUNTER1'',counter1); ',
'         counter1 := 0;',
'         newRow1 := 1; ',
'      end if;',
'      counter1 := counter1 + 1;',
'      if counter1 = 1 then      ',
'         if newRow1 = 0 then',
'           rowsText := rowsText||''<td rowspan=COUNTER1 scope="row">''||rec.s1||''</td><td rowspan=COUNTER1>''||rec.son1||''</td>'';',
'         else ',
'           rowsText := rowsText||''<tr><td rowspan=COUNTER1 scope="row">''||rec.s1||''</td><td rowspan=COUNTER1>''||rec.son1||''</td></tr>''; ',
'         end if;',
'      end if;',
'      ',
'      -- Status on 2',
'      if prev2 is not null and prev2 != rec.son2 then',
'         rowsText := replace(rowsText,''COUNTER2'',counter2); ',
'         counter2 := 0;',
'         newRow2 := 1; ',
'      end if;',
'      counter2 := counter2 + 1;',
'      if counter2 = 1 then      ',
'         if newRow2 = 0 then',
'           rowsText := rowsText||''<td rowspan=COUNTER2 scope="row">''||rec.s2||''</td><td rowspan=COUNTER2>''||rec.son2||''</td>'';',
'         else ',
'           rowsText := rowsText||''<tr><td rowspan=COUNTER2 scope="row">''||rec.s2||''</td><td rowspan=COUNTER2>''||rec.son2||''</td></tr>'';',
'         end if;',
'      end if;',
'',
'    prevCheck := rec.check_id;',
'    prev1 := rec.son1; ',
'    prev2 := rec.son2;',
'    prevOrd := rec.ord1;',
'    printFooter := 1;',
' end loop;',
' --Now print last row',
' if rowsText is not null then',
'    htp.p(''<tr rowspan=''||counter0||''>''||replace(replace(replace(rowsText,''COUNTER0'',counter0),''COUNTER1'',counter1),''COUNTER2'',counter2)||''</tr>'');',
'    rowsText := NULL;',
' end if;',
'if printFooter = 1 then ',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>''); ',
'end if;',
'---------------------------------------------------------------------------------------------------- ',
' --Unique Findings in Report1',
' printFooter := 0;',
' heading := ''<h2 class="h3c">Unique Findings in Report1</h2>'';',
' header := ''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">',
'  <div class="uRegionContent clearfix">',
'  <div style="overflow: auto;">',
'  <table class="uReportContainer" id="report_REPORT1" summary="">',
'  <tbody class="uReportBody">',
'  <tr><td>',
'  <table summary="Audit checks" class="uReport uReportStandard">',
'  <thead>',
'  <tr>             ',
'    <th scope="col" align="left">Type</th>',
'    <th scope="col" align="left">Check Name</th>',
'    <th scope="col" align="left">Status</th>',
'    <th scope="col" align="left">Status On</th>',
'  </tr>',
'  </thead>',
'  <tbody> '';',
' firstTime := 1;',
' for rec in ( --Clusterwide checks',
'              select a.check_id,a.check_name,''Cluster wide checks'' checkType,a.status,''Cluster wide'' son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,1 ord1',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and a.target_type = ''CLUSTER'' and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name =  :P1003_COLLECTION2 and b.target_type = ''CLUSTER''',
'              and b.check_id = a.check_id and b.target_value = a.target_value)',
'              UNION',
'              --Database server',
'              select a.check_id,a.check_name,''Database server checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_type) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,2 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and a.target_type = ''HOST''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and b.target_type = ''HOST''',
'              and b.check_id = a.check_id and a.target_value = b.target_value) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              --Switch checks',
'              select a.check_id,a.check_name,''IB switch checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,3 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and target_type = ''SWITCH''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and target_type = ''SWITCH''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              --Cell checks',
'              select a.check_id,a.check_name,''Storage cell checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,4 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and target_type = ''STORAGE_CELL''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and target_type = ''STORAGE_CELL''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION ',
'              -- Asm check',
'              select a.check_id,a.check_name,''ASM checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,5 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and target_type = ''ASM''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and target_type = ''ASM''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status ',
'              UNION',
'              -- DB checks ',
'              select a.check_id,a.check_name,''DB checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,6 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and target_type = ''RDBMS''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and target_type = ''RDBMS''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              -- DBI checks',
'              select a.check_id,a.check_name,''ASM checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,7 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and target_type = ''RDBMS_INSTANCE''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and target_type = ''RDBMS_INSTANCE''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status               ',
'              UNION',
'              -- Home Path checks',
'              select a.check_id,a.check_name,''Home checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,7 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              order by ord1,ord ) loop',
'    if firstTime = 1 then',
'      htp.p(heading||header); ',
'      firstTime := 0;  ',
'    end if;   ',
'    htp.p('' <tr> '');',
'    if prevOrd != rec.ord1 then ',
'       htp.p(''<td>''||rec.checkType||''</td>'');',
'    else',
'       htp.p(''<td>&nbsp;</td>'');',
'    end if;',
'    htp.p(''',
'       <td>''||rec.check_name||''</td>',
'       <td>''||rec.status||''</td>',
'       <td>''||rec.son||''</td>',
'      </tr>''); ',
'    prevOrd := rec.ord1;',
'    printFooter := 1;',
' end loop;',
'if printFooter =1 then',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'end if;',
'----------------------------------------------------------------------------------------------------',
' --Unique Findings in Report2',
' printFooter := 0;',
' heading := ''<h2 class="h3c">Unique Findings in Report2</h2>''; ',
' firstTime := 1;',
' for rec in ( --Clusterwide checks',
'              select a.check_id,a.check_name,''Cluster wide checks'' checkType,a.status,''Cluster wide'' son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,1 ord1',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and a.target_type = ''CLUSTER'' and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name =  :P1003_COLLECTION1 and b.target_type = ''CLUSTER''',
'              and b.check_id = a.check_id and b.target_value = a.target_value )',
'              UNION',
'              --Database server',
'              select a.check_id,a.check_name,''Database server checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,2 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and target_type = ''HOST''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and target_type = ''HOST''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              --Switch checks',
'              select a.check_id,a.check_name,''IB switch checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,3 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and target_type = ''SWITCH''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and target_type = ''SWITCH''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              --Cell checks',
'              select a.check_id,a.check_name,''Storage cell checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,4 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and target_type = ''STORAGE_CELL''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and target_type = ''STORAGE_CELL''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION ',
'              -- Asm check',
'              select a.check_id,a.check_name,''ASM checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,5 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and target_type = ''ASM''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and target_type = ''ASM''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status ',
'              UNION',
'              -- DB checks ',
'              select a.check_id,a.check_name,''DB checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,6 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and target_type = ''RDBMS''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and target_type = ''RDBMS''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              -- DBI checks',
'              select a.check_id,a.check_name,''ASM checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,7 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and target_type = ''RDBMS_INSTANCE''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and target_type = ''RDBMS_INSTANCE''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status               ',
'              order by ord1,ord ) loop',
'    if firstTime = 1 then',
'      htp.p(heading||header); ',
'      firstTime := 0;  ',
'    end if;   ',
'    htp.p('' <tr> '');',
'    if prevOrd != rec.ord1 then ',
'       htp.p(''<td>''||rec.checkType||''</td>'');',
'    else',
'       htp.p(''<td>&nbsp;</td>'');',
'    end if;',
'    htp.p(''',
'       <td>''||rec.check_name||''</td>',
'       <td>''||rec.status||''</td>',
'       <td>''||rec.son||''</td>',
'      </tr>''); ',
'    prevOrd := rec.ord1;',
'    printFooter := 1;',
' end loop;',
'if printFooter =1 then',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'end if;',
'----------------------------------------------------------------------------------------------------  ',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt1 number;',
' cnt2 number;',
'begin',
'return false;',
'if :P1003_COLLECTION1 is null OR :P1003_COLLECTION2 is null OR :P1003_NEW_DIFF != 1 then',
' return false;',
'end if;',
'select count(1) into cnt1 from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 and  target_type is not null;',
'select count(1) into cnt2 from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 and  target_type is not null;',
'if cnt1 > 0 and cnt2 > 0 then ',
' return true;',
'end if;',
'return false;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
end;
/
begin
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312232351520192261)
,p_plug_name=>'Health Check Comp Report - Part2 >= 12.1.0.2.1_bkp'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>12.5
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'colName1 varchar2(256);',
'colName2 varchar2(256);',
'firstTime number := 1;',
'header varchar2(4000) := NULL;',
'heading varchar2(4000) := NULL;',
'prevOrd number := 0;',
'prevCheck varchar2(40);',
'counter0 number := 0;',
'counter1 number := 0;',
'counter2 number := 0;',
'newRow1 number := 0;',
'newRow2 number := 0;',
'rowsText varchar2(4000);',
'prev1 varchar2(2000);',
'prev2 varchar2(2000);',
'dbSerList varchar2(4000);',
'printFooter number := 0;',
'begin',
' colName1 := substr(:P1003_COLLECTION1,instr(:P1003_COLLECTION1,''|'',1,1)+1);',
' colName1 := substr(:P1003_COLLECTION2,instr(:P1003_COLLECTION2,''|'',1,1)+1);',
'----------------------------------------------------------------------------------------------------  ',
' -- Matched Checks  ',
'  firstTime := 1;',
' htp.p(''<br>'');',
' htp.p(''<h2 class="h3c">Common Findings in Both Reports</h2>'');',
'sys.htp.p(''''); ',
' header := '' <section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">',
'  <div class="uRegionContent clearfix">',
'  <div style="overflow: auto;">',
'  <table class="uReportContainer" id="report_REPORT1" summary="">',
'  <tbody class="uReportBody">',
'  <tr><td>',
'  <table summary="Audit checks" class="uReport uReportStandard">',
'  <thead>',
'  <tr>',
'  <th align="left">Type</th><th align="left">Check Name</th><th align="left">Status</th><th align="left">Status On</th>',
'  </tr>',
'  </thead>',
'  <tbody>'';',
'',
' for rec in ( -- Clusterwide checks',
'              select a.check_id,a.check_name,''Cluster wide checks'' checkType,a.status s1,''Cluster Wide'' son1,1 ord1',
'              from auditcheck_result a,auditcheck_result b ',
'              where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1 ',
'              and b.collection_date||''|''||b.upload_collection_name =  :P1003_COLLECTION2',
'              and a.target_type = ''CLUSTER'' and b.target_type = ''CLUSTER''',
'              and a.check_id = b.check_id and a.status = b.status',
'              UNION',
'              -- Database server checks',
'              select check_id,check_name,''Database server checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,2 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''HOST''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''HOST''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION',
'              --Switch checks',
'              select check_id,check_name,''IB Switch checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,3 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''SWITCH''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''SWITCH'' ',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION ',
'              -- Cell checks',
'              select check_id,check_name,''Storage cell checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,4 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''STORAGE_CELL''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''STORAGE_CELL''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION ',
'              -- ASM checks',
'              select check_id,check_name,''ASM Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''ASM''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''ASM''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION',
'              -- Database checks',
'              select check_id,check_name,''Database Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''RDBMS''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''RDBMS'' ',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION',
'              -- DB Instance checks',
'              select check_id,check_name,''DB Instance Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''RDBMS_INSTANCE''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''RDBMS_INSTANCE''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION',
'              -- Home checks',
'              select check_id,check_name,''DB Instance Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1',
'              order by ord1,check_name,s1',
'   ) loop',
'    if firstTime = 1 then',
'      htp.p(header);',
'      firstTime := 0; ',
'    end if;',
'',
'    if ( prevCheck is not null and prevCheck != rec.check_id ) OR prevOrd != rec.ord1 then',
'       htp.p(''<tr rowspan=''||counter0||''>''||replace(rowsText,''COUNTER0'',counter0)||''</tr>'');   ',
'       counter0 := 0;',
'       rowsText := NULL;',
'       prev1 := NULL;',
'    end if;',
'      counter0 := counter0 + 1;',
'      if counter0 = 1 then',
'        if prevOrd != rec.ord1 then ',
'          rowsText := ''<td rowspan=COUNTER0>''||rec.checkType||''</td><td scope="row" rowspan=COUNTER0>''||rec.check_name||''</td>''; ',
'          rowsText := rowsText||''<td>''||rec.s1||''</td><td>''||rec.son1||''</td>'';',
'        else',
'          rowsText := ''<td rowspan=COUNTER0>&nbsp;</td><td scope="row" rowspan=COUNTER0>''||rec.check_name||''</td>'';',
'          rowsText := rowsText||''<td>''||rec.s1||''</td><td>''||rec.son1||''</td>'';',
'        end if;     ',
'      else',
'          rowsText := rowsText||''<tr><td>''||rec.s1||''</td><td>''||rec.son1||''</td></tr>''; ',
'      end if;',
'    prevCheck := rec.check_id;',
'    prevOrd := rec.ord1;',
'    printFooter := 1;  ',
' end loop;',
' --Now print last row',
' if rowsText is not null then',
'    htp.p(''<tr rowspan=''||counter0||''>''||replace(rowsText,''COUNTER0'',counter0)||''</tr>'');',
'    rowsText := NULL;',
' end if;',
'if printFooter = 1 then',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'end if;',
'-------------------------------------------------------------------------------------------------------',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt1 number;',
' cnt2 number;',
'begin',
'return false;',
'if :P1003_COLLECTION1 is null OR :P1003_COLLECTION2 is null OR :P1003_NEW_DIFF != 1 then',
' return false;',
'end if;',
'select count(1) into cnt1 from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 and  target_type is not null;',
'select count(1) into cnt2 from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 and  target_type is not null;',
'if cnt1 > 0 and cnt2 > 0 then ',
' return true;',
'end if;',
'return false;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312404966292177850)
,p_name=>'Homes Only in Collection1'
,p_template=>wwv_flow_api.id(2674554283312565687)
,p_display_sequence=>95
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) )',
'select ',
'a.hostname "Host Name",',
'a.oracle_home_type "Home Type",',
'a.oracle_home_path||'' [ ''||a.oracle_home_version||'' ]'' "Home Path [ DB Version ]",',
'a.oracle_home_version "Home Version",',
'a.patch_number "Patch#",',
'decode(a.patch_type,''Not Found'',''NA'',a.patch_type) "Patch Type",',
'a.description "Description",',
'decode(a.applied,1,''YES'',''NO'') Applied,',
'decode(a.recommended,1,''YES'',''NO'') Recommended',
'from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied ',
'and a.recommended != b.recommended and a.recommended != 1 )',
'and a.oracle_home_version is not null',
'and not exists ( select 1 from auditcheck_patch_result apr ',
'where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1)',
'and ( apr.oracle_home_path = a.oracle_home_path OR apr.hostname = a.hostname ) )',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc',
''))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'begin',
'select count(1) into cnt from  (',
'select * from auditcheck_patch_result a',
'where a.collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1)',
'and a.oracle_home_version is not null',
'and not exists (',
'select 1 from auditcheck_patch_result t',
'where t.collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1)',
'and t.oracle_home_version is not null',
'and ( t.hostname = a.hostname OR a.oracle_home_path = t.oracle_home_path ) )',
');',
'if cnt > 0 and :P1003_SHOW_TAB = ''PR'' then',
' return TRUE;',
'end if;',
'return false;',
'end;'))
,p_display_condition_type=>'FUNCTION_BODY'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>500
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'1:2:3'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312407458187321834)
,p_query_column_id=>1
,p_column_alias=>'Host Name'
,p_column_display_sequence=>1
,p_column_heading=>'Host Name'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312407564080321838)
,p_query_column_id=>2
,p_column_alias=>'Home Type'
,p_column_display_sequence=>2
,p_column_heading=>'Home Type'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312407647890321838)
,p_query_column_id=>3
,p_column_alias=>'Home Path [ DB Version ]'
,p_column_display_sequence=>3
,p_column_heading=>'Home Path [ Db Version ]'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312407763711321838)
,p_query_column_id=>4
,p_column_alias=>'Home Version'
,p_column_display_sequence=>5
,p_column_heading=>'Home Version'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312405866682178033)
,p_query_column_id=>5
,p_column_alias=>'Patch#'
,p_column_display_sequence=>4
,p_column_heading=>'Patch#'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312405551892178033)
,p_query_column_id=>6
,p_column_alias=>'Patch Type'
,p_column_display_sequence=>8
,p_column_heading=>'Patch Type'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312407865616321838)
,p_query_column_id=>7
,p_column_alias=>'Description'
,p_column_display_sequence=>9
,p_column_heading=>'Description'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312407966842321841)
,p_query_column_id=>8
,p_column_alias=>'APPLIED'
,p_column_display_sequence=>7
,p_column_heading=>'Applied'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312408051402321841)
,p_query_column_id=>9
,p_column_alias=>'RECOMMENDED'
,p_column_display_sequence=>6
,p_column_heading=>'Recommended'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312408845579351602)
,p_name=>'Homes Only in Collection2'
,p_template=>wwv_flow_api.id(2674554283312565687)
,p_display_sequence=>105
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1) )',
'select ',
'a.hostname "Host Name",',
'a.oracle_home_type "Home Type",',
'a.oracle_home_path||'' [ ''||a.oracle_home_version||'' ]'' "Home Path [ DB Version ]",',
'a.oracle_home_version "Home Version",',
'a.patch_number "Patch#",',
'decode(a.patch_type,''Not Found'',''NA'',a.patch_type) "Patch Type",',
'a.description "Description",',
'decode(a.applied,1,''YES'',''NO'') Applied,',
'decode(a.recommended,1,''YES'',''NO'') Recommended',
'from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied ',
'and a.recommended != b.recommended and a.recommended != 1 )',
'and a.oracle_home_version is not null',
'and not exists ( select 1 from auditcheck_patch_result apr ',
'where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1)',
'and ( apr.oracle_home_path = a.oracle_home_path OR apr.hostname = a.hostname ) )',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc',
''))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'begin',
'select count(1) into cnt from  (',
'select * from auditcheck_patch_result a',
'where a.collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1)',
'and a.oracle_home_version is not null',
'and not exists (',
'select 1 from auditcheck_patch_result t',
'where t.collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1)',
'and t.oracle_home_version is not null',
'and ( t.hostname = a.hostname OR a.oracle_home_path = t.oracle_home_path ) )',
');',
'if cnt > 0 and :P1003_SHOW_TAB = ''PR'' then',
' return TRUE;',
'end if;',
'return false;',
'end;'))
,p_display_condition_type=>'FUNCTION_BODY'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>500
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'1:2:3'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312409356468351611)
,p_query_column_id=>1
,p_column_alias=>'Host Name'
,p_column_display_sequence=>1
,p_column_heading=>'Host Name'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312409443540351611)
,p_query_column_id=>2
,p_column_alias=>'Home Type'
,p_column_display_sequence=>2
,p_column_heading=>'Home Type'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312409562030351612)
,p_query_column_id=>3
,p_column_alias=>'Home Path [ DB Version ]'
,p_column_display_sequence=>3
,p_column_heading=>'Home Path [ Db Version ]'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312409642177351612)
,p_query_column_id=>4
,p_column_alias=>'Home Version'
,p_column_display_sequence=>5
,p_column_heading=>'Home Version'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312409863014351612)
,p_query_column_id=>5
,p_column_alias=>'Patch#'
,p_column_display_sequence=>4
,p_column_heading=>'Patch#'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312409757983351612)
,p_query_column_id=>6
,p_column_alias=>'Patch Type'
,p_column_display_sequence=>8
,p_column_heading=>'Patch Type'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312409053906351609)
,p_query_column_id=>7
,p_column_alias=>'Description'
,p_column_display_sequence=>9
,p_column_heading=>'Description'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312409149266351610)
,p_query_column_id=>8
,p_column_alias=>'APPLIED'
,p_column_display_sequence=>7
,p_column_heading=>'Applied'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312409266593351611)
,p_query_column_id=>9
,p_column_alias=>'RECOMMENDED'
,p_column_display_sequence=>6
,p_column_heading=>'Recommended'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312410762075273229)
,p_name=>'Matched Homes & Status'
,p_region_name=>'MATCHED_HOMES'
,p_template=>wwv_flow_api.id(6040712922645910731)
,p_display_sequence=>85
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select a.hostname HostName,',
'a.oracle_home_type HomeType,',
'a.oracle_home_path HomePath,',
'a.oracle_home_version "Version",',
'decode(a.RECOMMENDED,1,''YES'',''NO'') Rec1,',
'decode(b.RECOMMENDED,1,''YES'',''NO'') Rec2,',
'a.patch_number PatchNum,',
'a.description "Description",',
'decode(a.applied,1,''YES'',''NO'') Applied1,',
'decode(b.applied,1,''YES'',''NO'') Applied2',
'from ',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) a,',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) b',
'where a.hostname = b.hostname',
'and a.oracle_home_type = b.oracle_home_type',
'and a.oracle_home_path = b.oracle_home_path',
'and a.patch_number = b.patch_number',
'UNION',
'select a.hostname HostName,',
'a.oracle_home_type HomeType,',
'a.oracle_home_path HomePath,',
'a.oracle_home_version "Version",',
'decode(a.RECOMMENDED,1,''YES'',''NO'') Rec1,',
'''NO'' Rec2,',
'a.patch_number PatchNum,',
'a.description "Description",',
'decode(a.applied,1,''YES'',''NO'') Applied1,',
'''NO'' Applied2',
'from ',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) a',
'where not exists ( select 1 from ',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1) )',
'select * from data t1',
'where not exists ( select 1 from data t2 where t1.hostname = t2.hostname and t1.oracle_home_type  = t2.oracle_home_type ',
'and t1.oracle_home_path = t2.oracle_home_path and t1.patch_number = t2.patch_number and t1.applied = t2.applied and t1.recommended != t2.recommended and t1.recommended != 1)',
'and t1.oracle_home_version is not null',
'order by t1.hostname,t1.oracle_home_type,t1.oracle_home_version desc,t1.patch_number desc ) t',
'where  t.hostname = a.hostname',
'and t.oracle_home_type = a.oracle_home_type',
'and t.oracle_home_path = a.oracle_home_path',
'and t.patch_number = a.patch_number )',
'UNION',
'select a.hostname HostName,',
'a.oracle_home_type HomeType,',
'a.oracle_home_path HomePath,',
'a.oracle_home_version "Version",',
'''NO'' Rec2,',
'decode(a.RECOMMENDED,1,''YES'',''NO'') Rec2,',
'a.patch_number PatchNum,',
'a.description "Description",',
'''NO'' Applied1,',
'decode(a.applied,1,''YES'',''NO'') Applied2',
'from ',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) a',
'where not exists ( select 1 from ',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) )',
'select * from data t1',
'where not exists ( select 1 from data t2 where t1.hostname = t2.hostname and t1.oracle_home_type  = t2.oracle_home_type ',
'and t1.oracle_home_path = t2.oracle_home_path and t1.patch_number = t2.patch_number and t1.applied = t2.applied and t1.recommended != t2.recommended and t1.recommended != 1)',
'and t1.oracle_home_version is not null',
'order by t1.hostname,t1.oracle_home_type,t1.oracle_home_version desc,t1.patch_number desc ) t',
'where  t.hostname = a.hostname',
'and t.oracle_home_type = a.oracle_home_type',
'and t.oracle_home_path = a.oracle_home_path',
'and t.patch_number = a.patch_number )',
'order by hostname,hometype,homepath desc,patchnum desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'begin',
'select count(1) into cnt from ',
'( select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) ) a,',
'( select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1)  ) b',
'where a.hostname = b.hostname',
'and a.oracle_home_type = b.oracle_home_type',
'and a.oracle_home_path = b.oracle_home_path;',
'if cnt > 0 and :P1003_SHOW_TAB = ''PR'' then',
' return TRUE;',
'end if;',
'return false;',
'end;'))
,p_display_condition_type=>'FUNCTION_BODY'
,p_header=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<center> ',
'<span id="PM_ID" style="display:none;">',
'      <font color ="#0000FF" face="Bedrock" size="3" >Patch results matched for the matched homes</font>',
'</span>',
'</center>',
'<font color="red"><b>Note</b></font>: Row highlighted with blue color tells, patch is recommended but not installed in one of the collections.'))
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>500
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'1:2:3'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312415158750692007)
,p_query_column_id=>1
,p_column_alias=>'HOSTNAME'
,p_column_display_sequence=>1
,p_column_heading=>'Host Name'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312415250476692011)
,p_query_column_id=>2
,p_column_alias=>'HOMETYPE'
,p_column_display_sequence=>2
,p_column_heading=>'Home Type'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312415366497692011)
,p_query_column_id=>3
,p_column_alias=>'HOMEPATH'
,p_column_display_sequence=>3
,p_column_heading=>'Home Path'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312414137424646155)
,p_query_column_id=>4
,p_column_alias=>'Version'
,p_column_display_sequence=>4
,p_column_heading=>'Version'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312411850877273510)
,p_query_column_id=>5
,p_column_alias=>'REC1'
,p_column_display_sequence=>6
,p_column_heading=>'Rec1'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312411960321273510)
,p_query_column_id=>6
,p_column_alias=>'REC2'
,p_column_display_sequence=>8
,p_column_heading=>'Rec2'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312415463027692011)
,p_query_column_id=>7
,p_column_alias=>'PATCHNUM'
,p_column_display_sequence=>5
,p_column_heading=>'Patch#'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312412645213427929)
,p_query_column_id=>8
,p_column_alias=>'Description'
,p_column_display_sequence=>10
,p_column_heading=>'Description'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312411657184273509)
,p_query_column_id=>9
,p_column_alias=>'APPLIED1'
,p_column_display_sequence=>7
,p_column_heading=>'Applied On 1'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312411755341273509)
,p_query_column_id=>10
,p_column_alias=>'APPLIED2'
,p_column_display_sequence=>9
,p_column_heading=>'Applied On 2'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312617948674009269)
,p_plug_name=>'Health Check Comp Report - Part1 >= 12.1.0.2.1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>11.6
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'colName1 varchar2(256);',
'colName2 varchar2(256);',
'firstTime number := 1;',
'header varchar2(4000) := NULL;',
'heading varchar2(4000) := NULL;',
'prevOrd number := 0;',
'prevCheck varchar2(40);',
'counter0 number := 0;',
'counter1 number := 0;',
'counter2 number := 0;',
'newRow1 number := 0;',
'newRow2 number := 0;',
'rowsText varchar2(4000);',
'prev1 varchar2(2000);',
'prev2 varchar2(2000);',
'dbSerList varchar2(4000);',
'printFooter number := 0;',
'son1 varchar2(4000);',
'son2 varchar2(4000);',
'dbSerList1 varchar2(4000);',
'dbSerList2 varchar2(4000);',
'switchList1 varchar2(4000);',
'switchList2 varchar2(4000);',
'cellList1 varchar2(4000);',
'cellList2 varchar2(4000);',
'dbList1 varchar2(4000);',
'dbList2 varchar2(4000);',
'dbiList1 varchar2(4000);',
'dbiList2 varchar2(4000);',
'asmList1 varchar2(4000);',
'asmList2 varchar2(4000);',
'',
'begin',
' colName1 := substr(:P1003_COLLECTION1,instr(:P1003_COLLECTION1,''|'',1,1)+1);',
' colName1 := substr(:P1003_COLLECTION2,instr(:P1003_COLLECTION2,''|'',1,1)+1);',
' -- Heading',
'/*',
' htp.p(''<br>'');',
' htp.p(''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">'');',
' htp.p(''<div class="uRegionHeading">'');',
' htp.p(''<h1 class=h2c align="center">Health Checks Baseline Comparison Report</h1>'');',
' htp.p(''</div></section>'');',
' htp.p(''<br>'');',
'*/',
'-- Get lists',
'select listagg(tv,'', '') within group (order by tv) into dbSerList1 from ( select distinct target_value tv from auditcheck_result where collection_date||''|''||upload_collection_name=:P1003_COLLECTION1 and target_type = ''HOST'');',
'select listagg(tv,'', '') within group (order by tv) into dbSerList2 from ( select distinct target_value tv from auditcheck_result where collection_date||''|''||upload_collection_name=:P1003_COLLECTION2 and target_type = ''HOST'');',
'',
'',
'select listagg(tv,'', '') within group (order by tv) into switchList1 from ( select distinct target_value tv from auditcheck_result where collection_date||''|''||upload_collection_name=:P1003_COLLECTION1 and target_type = ''SWITCH'');',
'select listagg(tv,'', '') within group (order by tv) into switchList2 from ( select distinct target_value tv from auditcheck_result where collection_date||''|''||upload_collection_name=:P1003_COLLECTION2 and target_type = ''SWITCH'');',
'',
'select listagg(tv,'', '') within group (order by tv) into cellList1 from ( select distinct target_value tv from auditcheck_result where collection_date||''|''||upload_collection_name=:P1003_COLLECTION1 and target_type = ''STORAGE_CELL'');',
'select listagg(tv,'', '') within group (order by tv) into cellList2 from ( select distinct target_value tv from auditcheck_result where collection_date||''|''||upload_collection_name=:P1003_COLLECTION2 and target_type = ''STORAGE_CELL'');',
'',
'select listagg(tv,'', '') within group (order by tv) into asmList1 from ( select distinct target_value tv from auditcheck_result where collection_date||''|''||upload_collection_name=:P1003_COLLECTION1 and target_type = ''ASM'');',
'select listagg(tv,'', '') within group (order by tv) into asmList2 from ( select distinct target_value tv from auditcheck_result where collection_date||''|''||upload_collection_name=:P1003_COLLECTION2 and target_type = ''ASM'');',
'',
'select listagg(tv,'', '') within group (order by tv) into dbList1 from ( select distinct target_value tv from auditcheck_result where collection_date||''|''||upload_collection_name=:P1003_COLLECTION1 and target_type = ''RDBMS'');',
'select listagg(tv,'', '') within group (order by tv) into dbList2 from ( select distinct target_value tv from auditcheck_result where collection_date||''|''||upload_collection_name=:P1003_COLLECTION2 and target_type = ''RDBMS'');',
'',
'select listagg(tv,'', '') within group (order by tv) into dbiList1 from ( select distinct target_value tv from auditcheck_result where collection_date||''|''||upload_collection_name=:P1003_COLLECTION1 and target_type = ''RDBMS_INSTANCE'');',
'select listagg(tv,'', '') within group (order by tv) into dbiList2 from ( select distinct target_value tv from auditcheck_result where collection_date||''|''||upload_collection_name=:P1003_COLLECTION2 and target_type = ''RDBMS_INSTANCE'');',
'',
'',
'--Summary',
'--TOC',
'',
' --Diff checks',
' firstTime := 1;',
' heading := ''<h2 class="h3c">Differences between Report 1 and Report 2</h2>'';',
' header := ''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">',
'  <div class="uRegionContent clearfix">',
'  <div style="overflow: auto;">',
'  <table class="uReportContainer" id="report_REPORT1" summary="">',
'  <tbody class="uReportBody">',
'  <tr><td>',
'  <table summary="Audit checks" class="uReport uReportStandard">',
'  <thead>   ',
'  <tr>             ',
'    <th scope="col" rowspan="2" align="left">Type</th>',
'    <th scope="col" rowspan="2" align="left">Check Name</th>',
'    <th scope="col" colspan="2" align="left">Status On Report 1</th>',
'    <th scope="col" colspan="2" align="left" border-left-style="solid" border-left-width="20">Status On Report 2</th>',
'  </tr>',
'  <tr>',
'     <th scope="col" align="left">Status</th>',
'     <th scope="col" align="left">Status On</th>',
'     <th scope="col" align="left">Status</th>',
'     <th scope="col" align="left">Status On</th>',
'  </tr>',
'  </thead>',
'  <tbody>'';',
'',
' for rec in ( -- Clusterwide checks',
'              select a.check_id,a.check_name,''Cluster wide checks'' checkType,a.status s1,''Cluster Wide'' son1,b.status s2,''Cluster Wide'' son2,1 ord1',
'              from auditcheck_result a,auditcheck_result b ',
'              where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1 ',
'              and b.collection_date||''|''||b.upload_collection_name =  :P1003_COLLECTION2',
'              and a.target_type = ''CLUSTER'' and b.target_type = ''CLUSTER'' ',
'              and a.check_id = b.check_id and a.status != b.status',
'              UNION',
'              -- Database server checks',
'              select check_id,check_name,''Database server checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,2 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1,t2.status s2,t2.target_value h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''HOST''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''HOST''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2',
'              UNION',
'              --Switch checks',
'              select check_id,check_name,''IB switch checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,3 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1,t2.status s2,t2.target_value h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''SWITCH''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''SWITCH'' ',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2',
'              UNION ',
'              -- Cell checks',
'              select check_id,check_name,''Storage cell checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,4 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1,t2.status s2,t2.target_value h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''STORAGE_CELL''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''STORAGE_CELL'' ',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2',
'              UNION ',
'              -- ASM checks',
'              select check_id,check_name,''ASM Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value  h1,t2.status s2,t2.target_value  h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''ASM''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''ASM''',
'              and t1.check_id = t2.check_id and t1.target_value  = t2.target_value  and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2  ',
'              UNION',
'              -- Database checks',
'              select check_id,check_name,''Database Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value  h1,t2.status s2,t2.target_value  h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''RDBMS''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''RDBMS''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value  and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2  ',
'              UNION',
'              -- DB Instance checks',
'              select check_id,check_name,''DB Instance Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,6 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value  h1,t2.status s2,t2.target_value h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''RDBMS_INSTANCE''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''RDBMS_INSTANCE''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value  and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2 ',
'              UNION',
'              -- Home path checks',
'              select check_id,check_name,''Home Path Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,',
'              s2,listagg(h2,'', '') within group ( order by h2) son2,7 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1,t2.status s2,t2.target_value h2',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')',
'              and t1.check_id = t2.check_id and t1.target_value  = t2.target_value and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1,s2 ',
'              order by ord1,check_name,s1,s2',
'   ) loop',
'    son1 := rec.son1;',
'    son2 := rec.son2;',
'    ',
'    if rec.checkType = ''Database server checks''  then ',
'      if son1 = dbSerList1 then son1 := ''All Database Servers''; end if;',
'      if son2 = dbSerList2 then  son2 := ''All Database Servers''; end if;',
'    end if;',
'    if rec.checkType = ''IB switch checks''  then ',
'      if son1 = switchList1 then son1 := ''All Infiniband Switches''; end if;',
'      if son2 = switchList2 then son2 := ''All Infiniband Switches''; end if;',
'    end if;',
'    if rec.checkType = ''Storage cell checks''  then ',
'      if son1 = cellList1 then son1 := ''All Storage Servers''; end if;',
'      if son2 = cellList2 then  son2 := ''All Storage Servers''; end if;',
'    end if;',
'    if rec.checkType = ''ASM Checks'' then ',
'      if son1 = asmList1 then son1 := ''All ASM Instances''; end if;',
'      if son2 = asmList2 then  son2 := ''All ASM Instances''; end if;',
'    end if;',
'    if rec.checkType = ''Database Checks''  then ',
'      if son1 = dbList1 then son1 := ''All Databases''; end if;',
'      if son2 = dbList2 then  son2 := ''All Databases''; end if;',
'    end if;',
'    if rec.checkType = ''DB Instance Checks''  then ',
'      if son1 = dbiList1 then son1 := ''All Instances''; end if;',
'      if son2 = dbiList2 then  son2 := ''All Instances''; end if;',
'    end if;',
'    ',
'',
'    if firstTime = 1 then',
'      htp.p(heading||header);',
'      firstTime := 0; ',
'    end if;',
'    if ( prevCheck is not null and prevCheck != rec.check_id ) OR prevOrd != rec.ord1 then',
'       htp.p(''<tr rowspan=''||counter0||''>''||replace(replace(replace(rowsText,''COUNTER0'',counter0),''COUNTER1'',counter1),''COUNTER2'',counter2)||''</tr>'');   ',
'       counter0 := 0;',
'       counter1 := 0;        ',
'       counter2 := 0;',
'       newRow1 := 0;',
'       newRow2 := 0;',
'       rowsText := NULL;',
'       prev1 := NULL;',
'       prev2 := NULL;',
'    end if;',
'',
'      counter0 := counter0 + 1;',
'      if counter0 = 1 then',
'        if prevOrd != rec.ord1 then ',
'          rowsText := ''<td rowspan=COUNTER0>''||rec.checkType||''</td><td scope="row" rowspan=COUNTER0 >''||rec.check_name||''</td>'';',
'        else',
'          rowsText := ''<td rowspan=COUNTER0>&nbsp;</td><td scope="row" rowspan=COUNTER0 >''||rec.check_name||''</td>'';',
'        end if;     ',
'      end if;',
'',
'      -- Status on 1',
'      if prev1 is not null and prev1 != son1 then',
'         rowsText := replace(rowsText,''COUNTER1'',counter1); ',
'         counter1 := 0;',
'         newRow1 := 1; ',
'      end if;',
'      counter1 := counter1 + 1;',
'      if counter1 = 1 then      ',
'         if newRow1 = 0 then',
'           rowsText := rowsText||''<td rowspan=COUNTER1 scope="row">''||rec.s1||''</td><td rowspan=COUNTER1>''||son1||''</td>'';',
'         else ',
'           rowsText := rowsText||''<tr><td rowspan=COUNTER1 scope="row">''||rec.s1||''</td><td rowspan=COUNTER1>''||son1||''</td></tr>''; ',
'         end if;',
'      end if;',
'      ',
'      -- Status on 2',
'      if prev2 is not null and prev2 != son2 then',
'         rowsText := replace(rowsText,''COUNTER2'',counter2); ',
'         counter2 := 0;',
'         newRow2 := 1; ',
'      end if;',
'      counter2 := counter2 + 1;',
'      if counter2 = 1 then      ',
'         if newRow2 = 0 then',
'           rowsText := rowsText||''<td rowspan=COUNTER2 scope="row">''||rec.s2||''</td><td rowspan=COUNTER2>''||son2||''</td>'';',
'         else ',
'           rowsText := rowsText||''<tr><td rowspan=COUNTER2 scope="row">''||rec.s2||''</td><td rowspan=COUNTER2>''||son2||''</td></tr>'';',
'         end if;',
'      end if;',
'',
'    prevCheck := rec.check_id;',
'    prev1 := son1; ',
'    prev2 := son2;',
'    prevOrd := rec.ord1;',
'    printFooter := 1;',
' end loop;',
' --Now print last row',
' if rowsText is not null then',
'    htp.p(''<tr rowspan=''||counter0||''>''||replace(replace(replace(rowsText,''COUNTER0'',counter0),''COUNTER1'',counter1),''COUNTER2'',counter2)||''</tr>'');',
'    rowsText := NULL;',
' end if;',
'if printFooter = 1 then ',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>''); ',
'end if;',
'---------------------------------------------------------------------------------------------------- ',
' --Unique Findings in Report1',
' printFooter := 0;',
' heading := ''<h2 class="h3c">Unique Findings in Report1</h2>'';',
' header := ''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">',
'  <div class="uRegionContent clearfix">',
'  <div style="overflow: auto;">',
'  <table class="uReportContainer" id="report_REPORT1" summary="">',
'  <tbody class="uReportBody">',
'  <tr><td>',
'  <table summary="Audit checks" class="uReport uReportStandard">',
'  <thead>',
'  <tr>             ',
'    <th scope="col" align="left">Type</th>',
'    <th scope="col" align="left">Check Name</th>',
'    <th scope="col" align="left">Status</th>',
'    <th scope="col" align="left">Status On</th>',
'  </tr>',
'  </thead>',
'  <tbody> '';',
' firstTime := 1;',
' for rec in ( --Clusterwide checks',
'              select a.check_id,a.check_name,''Cluster wide checks'' checkType,a.status,''Cluster wide'' son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,1 ord1',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and a.target_type = ''CLUSTER'' and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name =  :P1003_COLLECTION2 and b.target_type = ''CLUSTER''',
'              and b.check_id = a.check_id and b.target_value = a.target_value)',
'              UNION',
'              --Database server',
'              select a.check_id,a.check_name,''Database server checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_type) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,2 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and a.target_type = ''HOST''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and b.target_type = ''HOST''',
'              and b.check_id = a.check_id and a.target_value = b.target_value) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              --Switch checks',
'              select a.check_id,a.check_name,''IB switch checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,3 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and target_type = ''SWITCH''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and target_type = ''SWITCH''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              --Cell checks',
'              select a.check_id,a.check_name,''Storage cell checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,4 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and target_type = ''STORAGE_CELL''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and target_type = ''STORAGE_CELL''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION ',
'              -- Asm check',
'              select a.check_id,a.check_name,''ASM checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,5 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and target_type = ''ASM''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and target_type = ''ASM''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status ',
'              UNION',
'              -- DB checks ',
'              select a.check_id,a.check_name,''DB checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,6 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and target_type = ''RDBMS''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and target_type = ''RDBMS''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              -- DBI checks',
'              select a.check_id,a.check_name,''ASM checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,7 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and target_type = ''RDBMS_INSTANCE''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and target_type = ''RDBMS_INSTANCE''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status               ',
'              UNION',
'              -- Home Path checks',
'              select a.check_id,a.check_name,''Home checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,7 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1',
'              and target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION2 ',
'              and target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              order by ord1,ord ) loop',
'    son1 := rec.son;    ',
'    if rec.checkType = ''Database server checks''  then ',
'      if son1 = dbSerList1 then son1 := ''All Database Servers''; end if;     ',
'    end if;',
'    if rec.checkType = ''IB switch checks''  then ',
'      if son1 = switchList1 then son1 := ''All Infiniband Switches''; end if;     ',
'    end if;    ',
'    if rec.checkType = ''Storage cell checks''  then ',
'      if son1 = cellList1 then son1 := ''All Storage Servers''; end if;     ',
'    end if;',
'    if rec.checkType = ''ASM Checks''  then ',
'      if son1 = asmList1 then son1 := ''All ASM Instances''; end if;     ',
'    end if;    ',
'    if rec.checkType = ''Database Checks''  then ',
'      if son1 = dbList1 then son1 := ''All Databases''; end if;     ',
'    end if;',
'    if rec.checkType = ''DB Instance Checks''  then ',
'      if son1 = dbiList1 then son1 := ''All Instances''; end if;     ',
'    end if;    ',
'',
'    if firstTime = 1 then',
'      htp.p(heading||header); ',
'      firstTime := 0;  ',
'    end if;   ',
'    htp.p('' <tr> '');',
'    if prevOrd != rec.ord1 then ',
'       htp.p(''<td>''||rec.checkType||''</td>'');',
'    else',
'       htp.p(''<td>&nbsp;</td>'');',
'    end if;',
'    htp.p(''',
'       <td>''||rec.check_name||''</td>',
'       <td>''||rec.status||''</td>',
'       <td>''||son1||''</td>',
'      </tr>''); ',
'    prevOrd := rec.ord1;',
'    printFooter := 1;',
' end loop;',
'if printFooter =1 then',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'end if;',
'----------------------------------------------------------------------------------------------------',
' --Unique Findings in Report2',
' printFooter := 0;',
' heading := ''<h2 class="h3c">Unique Findings in Report2</h2>''; ',
' firstTime := 1;',
' for rec in ( --Clusterwide checks',
'              select a.check_id,a.check_name,''Cluster wide checks'' checkType,a.status,''Cluster wide'' son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,1 ord1',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and a.target_type = ''CLUSTER'' and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name =  :P1003_COLLECTION1 and b.target_type = ''CLUSTER''',
'              and b.check_id = a.check_id and b.target_value = a.target_value )',
'              UNION',
'              --Database server',
'              select a.check_id,a.check_name,''Database server checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,2 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and target_type = ''HOST''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and target_type = ''HOST''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              --Switch checks',
'              select a.check_id,a.check_name,''IB switch checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,3 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and target_type = ''SWITCH''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and target_type = ''SWITCH''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              --Cell checks',
'              select a.check_id,a.check_name,''Storage cell checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,4 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and target_type = ''STORAGE_CELL''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and target_type = ''STORAGE_CELL''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION ',
'              -- Asm check',
'              select a.check_id,a.check_name,''ASM checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,5 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and target_type = ''ASM''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and target_type = ''ASM''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status ',
'              UNION',
'              -- DB checks ',
'              select a.check_id,a.check_name,''DB checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,6 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and target_type = ''RDBMS''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and target_type = ''RDBMS''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status',
'              UNION',
'              -- DBI checks',
'              select a.check_id,a.check_name,''ASM checks'' checkType,a.status,LISTAGG(a.target_value,'', '') WITHIN GROUP (ORDER BY a.target_value) son,',
'              decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord,7 ord1 ',
'              from auditcheck_result a where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION2',
'              and target_type = ''RDBMS_INSTANCE''',
'              and not exists ( select 1 from auditcheck_result b ',
'              where b.collection_date||''|''||b.upload_collection_name = :P1003_COLLECTION1 ',
'              and target_type = ''RDBMS_INSTANCE''',
'              and b.check_id = a.check_id and a.target_value = b.target_value ) ',
'              group by a.check_id,a.check_name,a.status               ',
'              order by ord1,ord ) loop',
'    son1 := rec.son;    ',
'    if rec.checkType = ''Database server checks''  then ',
'      if son1 = dbSerList2 then son1 := ''All Database Servers''; end if;     ',
'    end if;',
'    if rec.checkType = ''IB switch checks''  then ',
'      if son1 = switchList2 then son1 := ''All Infiniband Switches''; end if;     ',
'    end if;    ',
'    if rec.checkType = ''Storage cell checks''  then ',
'      if son1 = cellList2 then son1 := ''All Storage Servers''; end if;     ',
'    end if;',
'    if rec.checkType = ''ASM Checks''  then ',
'      if son1 = asmList2 then son1 := ''All ASM Instances''; end if;     ',
'    end if;    ',
'    if rec.checkType = ''Database Checks''  then ',
'      if son1 = dbList2 then son1 := ''All Databases''; end if;     ',
'    end if;',
'    if rec.checkType = ''DB Instance Checks''  then ',
'      if son1 = dbiList2 then son1 := ''All Instances''; end if;     ',
'    end if;    ',
'',
'    if firstTime = 1 then',
'      htp.p(heading||header); ',
'      firstTime := 0;  ',
'    end if;   ',
'    htp.p('' <tr> '');',
'    if prevOrd != rec.ord1 then ',
'       htp.p(''<td>''||rec.checkType||''</td>'');',
'    else',
'       htp.p(''<td>&nbsp;</td>'');',
'    end if;',
'    htp.p(''',
'       <td>''||rec.check_name||''</td>',
'       <td>''||rec.status||''</td>',
'       <td>''||son1||''</td>',
'      </tr>''); ',
'    prevOrd := rec.ord1;',
'    printFooter := 1;',
' end loop;',
'if printFooter =1 then',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'end if;',
'----------------------------------------------------------------------------------------------------  ',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt1 number;',
' cnt2 number;',
'begin',
'if :P1003_COLLECTION1 is null OR :P1003_COLLECTION2 is null OR :P1003_NEW_DIFF != 1 then',
' return false;',
'end if;',
'select count(1) into cnt1 from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 and  target_type is not null;',
'select count(1) into cnt2 from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 and  target_type is not null;',
'if cnt1 > 0 and cnt2 > 0 then ',
' return true;',
'end if;',
'return false;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
end;
/
begin
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312618156639011558)
,p_plug_name=>'Health Check Comp Report - Part2 >= 12.1.0.2.1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>12.6
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'colName1 varchar2(256);',
'colName2 varchar2(256);',
'firstTime number := 1;',
'header varchar2(4000) := NULL;',
'heading varchar2(4000) := NULL;',
'prevOrd number := 0;',
'prevCheck varchar2(40);',
'counter0 number := 0;',
'counter1 number := 0;',
'counter2 number := 0;',
'newRow1 number := 0;',
'newRow2 number := 0;',
'rowsText varchar2(4000);',
'prev1 varchar2(2000);',
'prev2 varchar2(2000);',
'dbSerList varchar2(4000);',
'printFooter number := 0;',
'begin',
' colName1 := substr(:P1003_COLLECTION1,instr(:P1003_COLLECTION1,''|'',1,1)+1);',
' colName1 := substr(:P1003_COLLECTION2,instr(:P1003_COLLECTION2,''|'',1,1)+1);',
'----------------------------------------------------------------------------------------------------  ',
' -- Matched Checks  ',
'  firstTime := 1;',
' htp.p(''<br>'');',
' htp.p(''<h2 class="h3c">Common Findings in Both Reports</h2>'');',
'sys.htp.p(''''); ',
' header := '' <section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">',
'  <div class="uRegionContent clearfix">',
'  <div style="overflow: auto;">',
'  <table class="uReportContainer" id="report_REPORT1" summary="">',
'  <tbody class="uReportBody">',
'  <tr><td>',
'  <table summary="Audit checks" class="uReport uReportStandard">',
'  <thead>',
'  <tr>',
'  <th align="left">Type</th><th align="left">Check Name</th><th align="left">Status</th><th align="left">Status On</th>',
'  </tr>',
'  </thead>',
'  <tbody>'';',
'',
' for rec in ( -- Clusterwide checks',
'              select a.check_id,a.check_name,''Cluster wide checks'' checkType,a.status s1,''Cluster Wide'' son1,1 ord1',
'              from auditcheck_result a,auditcheck_result b ',
'              where a.collection_date||''|''||a.upload_collection_name =  :P1003_COLLECTION1 ',
'              and b.collection_date||''|''||b.upload_collection_name =  :P1003_COLLECTION2',
'              and a.target_type = ''CLUSTER'' and b.target_type = ''CLUSTER''',
'              and a.check_id = b.check_id and a.status = b.status',
'              UNION',
'              -- Database server checks',
'              select check_id,check_name,''Database server checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,2 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''HOST''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''HOST''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION',
'              --Switch checks',
'              select check_id,check_name,''IB Switch checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,3 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''SWITCH''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''SWITCH'' ',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION ',
'              -- Cell checks',
'              select check_id,check_name,''Storage cell checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,4 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1',
'              from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''STORAGE_CELL''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''STORAGE_CELL''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION ',
'              -- ASM checks',
'              select check_id,check_name,''ASM Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''ASM''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''ASM''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION',
'              -- Database checks',
'              select check_id,check_name,''Database Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''RDBMS''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''RDBMS'' ',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status = t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION',
'              -- DB Instance checks',
'              select check_id,check_name,''DB Instance Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type = ''RDBMS_INSTANCE''',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type = ''RDBMS_INSTANCE''',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1',
'              UNION',
'              -- Home checks',
'              select check_id,check_name,''DB Instance Checks'' checkType,s1,listagg(h1,'', '') within group ( order by h1) son1,5 ord1 from',
'              ( select t1.check_id,t1.check_name,t1.status s1,t1.target_value h1 from auditcheck_result t1,auditcheck_result t2',
'              where t1.collection_date||''|''||t1.upload_collection_name =  :P1003_COLLECTION1',
'              and t1.target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')',
'              and t2.collection_date||''|''||t2.upload_collection_name =  :P1003_COLLECTION2                ',
'              and t2.target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')',
'              and t1.check_id = t2.check_id and t1.target_value = t2.target_value and t1.status != t2.status )                           ',
'              group by check_id,check_name,s1',
'              order by ord1,check_name,s1',
'   ) loop',
'    if firstTime = 1 then',
'      htp.p(header);',
'      firstTime := 0; ',
'    end if;',
'',
'    if ( prevCheck is not null and prevCheck != rec.check_id ) OR prevOrd != rec.ord1 then',
'       htp.p(''<tr rowspan=''||counter0||''>''||replace(rowsText,''COUNTER0'',counter0)||''</tr>'');   ',
'       counter0 := 0;',
'       rowsText := NULL;',
'       prev1 := NULL;',
'    end if;',
'      counter0 := counter0 + 1;',
'      if counter0 = 1 then',
'        if prevOrd != rec.ord1 then ',
'          rowsText := ''<td rowspan=COUNTER0>''||rec.checkType||''</td><td scope="row" rowspan=COUNTER0>''||rec.check_name||''</td>''; ',
'          rowsText := rowsText||''<td>''||rec.s1||''</td><td>''||rec.son1||''</td>'';',
'        else',
'          rowsText := ''<td rowspan=COUNTER0>&nbsp;</td><td scope="row" rowspan=COUNTER0>''||rec.check_name||''</td>'';',
'          rowsText := rowsText||''<td>''||rec.s1||''</td><td>''||rec.son1||''</td>'';',
'        end if;     ',
'      else',
'          rowsText := rowsText||''<tr><td>''||rec.s1||''</td><td>''||rec.son1||''</td></tr>''; ',
'      end if;',
'    prevCheck := rec.check_id;',
'    prevOrd := rec.ord1;',
'    printFooter := 1;  ',
' end loop;',
' --Now print last row',
' if rowsText is not null then',
'    htp.p(''<tr rowspan=''||counter0||''>''||replace(rowsText,''COUNTER0'',counter0)||''</tr>'');',
'    rowsText := NULL;',
' end if;',
'if printFooter = 1 then',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'end if;',
'-------------------------------------------------------------------------------------------------------',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt1 number;',
' cnt2 number;',
'begin',
'if :P1003_COLLECTION1 is null OR :P1003_COLLECTION2 is null OR :P1003_NEW_DIFF != 1 then',
' return false;',
'end if;',
'select count(1) into cnt1 from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 and  target_type is not null;',
'select count(1) into cnt2 from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 and  target_type is not null;',
'if cnt1 > 0 and cnt2 > 0 then ',
' return true;',
'end if;',
'return false;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312705438674114620)
,p_plug_name=>'&nbsp;'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>5
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'NEVER'
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312764354732385018)
,p_plug_name=>'session state variables'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>70
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_2'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312769461358765400)
,p_name=>'Matched Patches & Status'
,p_template=>wwv_flow_api.id(6040712922645910731)
,p_display_sequence=>80
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select a.hostname "Host Name1",a.oracle_home_type "Home Type1",',
'a.oracle_home_path "Home Path1",',
'a.oracle_home_version "Home Version1",',
'b.oracle_home_version "Home Version2",',
'decode(a.RECOMMENDED,1,''YES'',''NO'') Rec1,',
'decode(b.RECOMMENDED,1,''YES'',''NO'') Rec2,',
'a.patch_number "Patch#",',
'decode(a.patch_type,''Not Found'',''NA'',a.patch_type) "Patch Type",',
'a.description "Description1",',
'decode(a.applied,1,''YES'',''NO'') Applied1,decode(b.applied,1,''YES'',''NO'') Applied2  ',
'from ',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) a,',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) b',
'where a.hostname = b.hostname',
'and a.oracle_home_type = b.oracle_home_type',
'and a.oracle_home_path = b.oracle_home_path',
'and a.patch_number = b.patch_number'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_condition_type=>'NEVER'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>500
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
,p_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'begin',
'select count(1) into cnt from ',
'( select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) ) a,',
'( select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1)  ) b',
'where a.hostname = b.hostname',
'and a.oracle_home_type = b.oracle_home_type',
'and a.oracle_home_path = b.oracle_home_path',
'and a.patch_number = b.patch_number;',
'if cnt > 0 and :P1003_SHOW_TAB = ''PR'' then',
' return TRUE;',
'end if;',
'return false;',
'end;'))
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312769740429765430)
,p_query_column_id=>1
,p_column_alias=>'Host Name1'
,p_column_display_sequence=>1
,p_column_heading=>'Host Name'
,p_heading_alignment=>'LEFT'
,p_default_sort_column_sequence=>1
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312769845122765437)
,p_query_column_id=>2
,p_column_alias=>'Home Type1'
,p_column_display_sequence=>2
,p_column_heading=>'Home Type'
,p_heading_alignment=>'LEFT'
,p_default_sort_column_sequence=>2
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312769944850765437)
,p_query_column_id=>3
,p_column_alias=>'Home Path1'
,p_column_display_sequence=>3
,p_column_heading=>'Home Path'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312770042188765437)
,p_query_column_id=>4
,p_column_alias=>'Home Version1'
,p_column_display_sequence=>4
,p_column_heading=>'Home Version'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312770141567765437)
,p_query_column_id=>5
,p_column_alias=>'Home Version2'
,p_column_display_sequence=>5
,p_column_heading=>'Home Version2'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312398658539524795)
,p_query_column_id=>6
,p_column_alias=>'REC1'
,p_column_display_sequence=>7
,p_column_heading=>'Rec1'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312398762327524797)
,p_query_column_id=>7
,p_column_alias=>'REC2'
,p_column_display_sequence=>9
,p_column_heading=>'Rec2'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312392854302904008)
,p_query_column_id=>8
,p_column_alias=>'Patch#'
,p_column_display_sequence=>6
,p_column_heading=>'Patch#'
,p_heading_alignment=>'LEFT'
,p_default_sort_column_sequence=>3
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312770365214765437)
,p_query_column_id=>9
,p_column_alias=>'Patch Type'
,p_column_display_sequence=>11
,p_column_heading=>'Patch Type'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312770436574765437)
,p_query_column_id=>10
,p_column_alias=>'Description1'
,p_column_display_sequence=>12
,p_column_heading=>'Description'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312770559027765437)
,p_query_column_id=>11
,p_column_alias=>'APPLIED1'
,p_column_display_sequence=>8
,p_column_heading=>'Applied On 1'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312770650784765437)
,p_query_column_id=>12
,p_column_alias=>'APPLIED2'
,p_column_display_sequence=>10
,p_column_heading=>'Applied On 2'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312770956557792412)
,p_name=>'Patches Only in Collection1'
,p_template=>wwv_flow_api.id(2674554283312565687)
,p_display_sequence=>90
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select ',
'a.hostname "Host Name1",a.oracle_home_type "Home Type1",',
'a.oracle_home_path "Home Path1",',
'a.oracle_home_version "Home Version1",',
'a.patch_number "Patch#",',
'decode(a.patch_type,''Not Found'',''NA'',a.patch_type) "Patch Type",',
'a.description "Description1",',
'decode(a.applied,1,''YES'',''NO'') Applied1',
'from ',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) a',
'LEFT OUTER JOIN',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) b',
'ON a.hostname = b.hostname',
'and a.oracle_home_type = b.oracle_home_type',
'and a.oracle_home_path = b.oracle_home_path',
'and a.patch_number = b.patch_number',
'',
'MINUS',
'',
'select ',
'a.hostname "Host Name1",a.oracle_home_type "Home Type1",',
'a.oracle_home_path "Home Path1",',
'a.oracle_home_version "Home Version1",',
'a.patch_number "Patch#",',
'decode(a.patch_type,''Not Found'',''NA'',a.patch_type) "Patch Type",',
'a.description "Description1",',
'decode(a.applied,1,''YES'',''NO'') Applied1',
'from ',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) a,',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) b',
'WHERE a.hostname = b.hostname',
'and a.oracle_home_type = b.oracle_home_type',
'and a.oracle_home_path = b.oracle_home_path',
'and a.patch_number = b.patch_number',
''))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_condition_type=>'NEVER'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>500
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
,p_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'begin',
'select count(1) into cnt from  (',
'select ',
'a.hostname "Host Name1",a.oracle_home_type "Home Type1",',
'a.oracle_home_path "Home Path1",',
'a.oracle_home_version "Home Version1",',
'--b.oracle_home_version "Home Version2",',
'a.patch_number "Patch#",a.patch_type "Patch Type",a.description "Description1",',
'decode(a.applied,1,''YES'',''NO'') Applied1',
'--,decode(b.applied,1,''YES'',''NO'') Applied2  ',
'from ',
'( select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) ) a',
'LEFT OUTER JOIN',
'( select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1)  ) b',
'ON a.hostname = b.hostname',
'and a.oracle_home_type = b.oracle_home_type',
'and a.oracle_home_path = b.oracle_home_path',
'and a.patch_number = b.patch_number',
'',
'MINUS',
'',
'select ',
'a.hostname "Host Name1",a.oracle_home_type "Home Type1",',
'a.oracle_home_path "Home Path1",',
'a.oracle_home_version "Home Version1",',
'--b.oracle_home_version "Home Version2",',
'a.patch_number "Patch#",a.patch_type "Patch Type",a.description "Description1",',
'decode(a.applied,1,''YES'',''NO'') Applied1',
'--,decode(b.applied,1,''YES'',''NO'') Applied2  ',
'from ',
'( select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) ) a,',
'( select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1)  ) b',
'WHERE a.hostname = b.hostname',
'and a.oracle_home_type = b.oracle_home_type',
'and a.oracle_home_path = b.oracle_home_path',
'and a.patch_number = b.patch_number',
');',
'if cnt > 0 and :P1003_SHOW_TAB = ''PR'' then',
' return TRUE;',
'end if;',
'return false;',
'end;'))
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312771256631792419)
,p_query_column_id=>1
,p_column_alias=>'Host Name1'
,p_column_display_sequence=>1
,p_column_heading=>'Host Name'
,p_heading_alignment=>'LEFT'
,p_default_sort_column_sequence=>1
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312771347073792420)
,p_query_column_id=>2
,p_column_alias=>'Home Type1'
,p_column_display_sequence=>2
,p_column_heading=>'Home Type'
,p_heading_alignment=>'LEFT'
,p_default_sort_column_sequence=>2
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312771464491792420)
,p_query_column_id=>3
,p_column_alias=>'Home Path1'
,p_column_display_sequence=>3
,p_column_heading=>'Home Path'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312771553183792420)
,p_query_column_id=>4
,p_column_alias=>'Home Version1'
,p_column_display_sequence=>4
,p_column_heading=>'Home Version'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312393047832906885)
,p_query_column_id=>5
,p_column_alias=>'Patch#'
,p_column_display_sequence=>5
,p_column_heading=>'Patch#'
,p_heading_alignment=>'LEFT'
,p_default_sort_column_sequence=>3
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312771763339792421)
,p_query_column_id=>6
,p_column_alias=>'Patch Type'
,p_column_display_sequence=>7
,p_column_heading=>'Patch Type'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312771844933792421)
,p_query_column_id=>7
,p_column_alias=>'Description1'
,p_column_display_sequence=>8
,p_column_heading=>'Description'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312771960234792421)
,p_query_column_id=>8
,p_column_alias=>'APPLIED1'
,p_column_display_sequence=>6
,p_column_heading=>'Applied'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312772142620807295)
,p_name=>'Patches Only in Collection2'
,p_template=>wwv_flow_api.id(2674554283312565687)
,p_display_sequence=>100
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select ',
'a.hostname "Host Name1",a.oracle_home_type "Home Type1",',
'a.oracle_home_path "Home Path1",',
'a.oracle_home_version "Home Version1",',
'a.patch_number "Patch#",',
'decode(a.patch_type,''Not Found'',''NA'',a.patch_type) "Patch Type",',
'a.description "Description1",',
'decode(a.applied,1,''YES'',''NO'') Applied1',
'from ',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) a',
'LEFT OUTER JOIN',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) b',
'ON a.hostname = b.hostname',
'and a.oracle_home_type = b.oracle_home_type',
'and a.oracle_home_path = b.oracle_home_path',
'and a.patch_number = b.patch_number',
'',
'MINUS',
'',
'select ',
'a.hostname "Host Name1",a.oracle_home_type "Home Type1",',
'a.oracle_home_path "Home Path1",',
'a.oracle_home_version "Home Version1",',
'a.patch_number "Patch#",',
'decode(a.patch_type,''Not Found'',''NA'',a.patch_type) "Patch Type",',
'a.description "Description1",',
'decode(a.applied,1,''YES'',''NO'') Applied1',
'from ',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) a,',
'( with data as (  select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) )',
'select * from data a',
'where not exists ( select 1 from data b where a.hostname = b.hostname and a.oracle_home_type  = b.oracle_home_type ',
'and a.oracle_home_path = b.oracle_home_path and a.patch_number = b.patch_number and a.applied = b.applied and a.recommended != b.recommended and a.recommended != 1)',
'and a.oracle_home_version is not null',
'order by a.hostname,a.oracle_home_type,a.oracle_home_version desc,a.patch_number desc ) b',
'WHERE a.hostname = b.hostname',
'and a.oracle_home_type = b.oracle_home_type',
'and a.oracle_home_path = b.oracle_home_path',
'and a.patch_number = b.patch_number'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_condition_type=>'NEVER'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>500
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
,p_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'begin',
'select count(1) into cnt from  (',
'select ',
'a.hostname "Host Name1",a.oracle_home_type "Home Type1",',
'a.oracle_home_path "Home Path1",',
'a.oracle_home_version "Home Version1",',
'--b.oracle_home_version "Home Version2",',
'a.patch_number "Patch#",a.patch_type "Patch Type",a.description "Description1",',
'decode(a.applied,1,''YES'',''NO'') Applied1',
'--,decode(b.applied,1,''YES'',''NO'') Applied2  ',
'from ',
'( select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1) ) a',
'LEFT OUTER JOIN',
'( select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1)  ) b',
'ON a.hostname = b.hostname',
'and a.oracle_home_type = b.oracle_home_type',
'and a.oracle_home_path = b.oracle_home_path',
'and a.patch_number = b.patch_number',
'',
'MINUS',
'',
'select ',
'a.hostname "Host Name1",a.oracle_home_type "Home Type1",',
'a.oracle_home_path "Home Path1",',
'a.oracle_home_version "Home Version1",',
'--b.oracle_home_version "Home Version2",',
'a.patch_number "Patch#",a.patch_type "Patch Type",a.description "Description1",',
'decode(a.applied,1,''YES'',''NO'') Applied1',
'--,decode(b.applied,1,''YES'',''NO'') Applied2  ',
'from ',
'( select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1) ) a,',
'( select * from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1)  ) b',
'WHERE a.hostname = b.hostname',
'and a.oracle_home_type = b.oracle_home_type',
'and a.oracle_home_path = b.oracle_home_path',
'and a.patch_number = b.patch_number',
');',
'if cnt > 0 and :P1003_SHOW_TAB = ''PR'' then',
' return TRUE;',
'end if;',
'return false;',
'end;'))
);
end;
/
begin
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312772457319807298)
,p_query_column_id=>1
,p_column_alias=>'Host Name1'
,p_column_display_sequence=>1
,p_column_heading=>'Host Name'
,p_heading_alignment=>'LEFT'
,p_default_sort_column_sequence=>1
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312772548514807299)
,p_query_column_id=>2
,p_column_alias=>'Home Type1'
,p_column_display_sequence=>2
,p_column_heading=>'Home Type'
,p_heading_alignment=>'LEFT'
,p_default_sort_column_sequence=>2
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312772643533807299)
,p_query_column_id=>3
,p_column_alias=>'Home Path1'
,p_column_display_sequence=>3
,p_column_heading=>'Home Path'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312772741531807299)
,p_query_column_id=>4
,p_column_alias=>'Home Version1'
,p_column_display_sequence=>4
,p_column_heading=>'Home Version'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312772842875807299)
,p_query_column_id=>5
,p_column_alias=>'Patch#'
,p_column_display_sequence=>5
,p_column_heading=>'Patch#'
,p_heading_alignment=>'LEFT'
,p_default_sort_column_sequence=>3
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312772936451807300)
,p_query_column_id=>6
,p_column_alias=>'Patch Type'
,p_column_display_sequence=>7
,p_column_heading=>'Patch Type'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312773050975807300)
,p_query_column_id=>7
,p_column_alias=>'Description1'
,p_column_display_sequence=>8
,p_column_heading=>'Description'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312773140887807300)
,p_query_column_id=>8
,p_column_alias=>'APPLIED1'
,p_column_display_sequence=>6
,p_column_heading=>'Applied'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312062260274462465)
,p_button_sequence=>225
,p_button_plug_id=>wwv_flow_api.id(311965064591042854)
,p_button_name=>'P1003_AUDIT_CHECKS_DIFF'
,p_button_static_id=>'P1003_AUDIT_CHECKS_DIFF'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Audit Checks Diff'
,p_button_position=>'BODY'
,p_button_alignment=>'LEFT'
,p_grid_new_grid=>false
,p_grid_new_row=>'N'
,p_grid_new_column=>'N'
,p_button_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'return Boolean',
'begin',
' if :P1003_SHOW_TAB = ''PR'' OR :P1003_SHOW_TAB is null then',
'   return true;',
' else',
'   return false;',
' end if;',
'end;'))
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(307791742986424420)
,p_button_sequence=>230
,p_button_plug_id=>wwv_flow_api.id(311965064591042854)
,p_button_name=>'P1003_PATCH_RESULTS_DIFF'
,p_button_static_id=>'P1003_PATCH_RESULTS_DIFF'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Patch Results Diff'
,p_button_position=>'BODY'
,p_button_alignment=>'LEFT'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'  cnt1 number := 0;',
'  cnt2 number := 0; ',
'begin',
'if :P1003_COLLECTION1 is not null and :P1003_COLLECTION2 is not null and :P1003_SHOW_TAB = ''ACR'' then',
'  select count(1) into cnt1 from auditcheck_patch_result where collection_date = substr(:P1003_COLLECTION1,1,instr(:P1003_COLLECTION1,''|'',1,1)-1) and rownum = 1;',
'  select count(1) into cnt2 from auditcheck_patch_result where  collection_date = substr(:P1003_COLLECTION2,1,instr(:P1003_COLLECTION2,''|'',1,1)-1) and rownum = 1;',
'  if cnt1 > 0  and cnt2 > 0 then ',
'    return true;',
'  else',
'    return false;',
'  end if;',
'end if;',
'if :P1003_SHOW_PATCH_COLLECTIONS = 1 then',
'return true;',
'end if;',
'return false;',
'end;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
,p_grid_new_row=>'N'
,p_grid_new_column=>'Y'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312061752346412943)
,p_button_sequence=>250
,p_button_plug_id=>wwv_flow_api.id(311965064591042854)
,p_button_name=>'P1003_RESET'
,p_button_static_id=>'P1003_RESET'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'Reset Page'
,p_button_position=>'BODY'
,p_button_alignment=>'LEFT'
,p_grid_new_grid=>false
,p_grid_new_row=>'N'
,p_grid_new_column=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312135459532100823)
,p_button_sequence=>280
,p_button_plug_id=>wwv_flow_api.id(311965064591042854)
,p_button_name=>'P1003_DIFF_SWITCH'
,p_button_static_id=>'P1003_DIFF_SWITCH'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'&P1003_DIFF_MSG.'
,p_button_position=>'BODY'
,p_button_alignment=>'LEFT'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1003_COLLECTION1 is null OR :P1003_COLLECTION1 is null then',
' return false;',
'else',
' return true;',
'end if;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
,p_grid_new_row=>'N'
,p_grid_new_column=>'Y'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312763262248254736)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(312705438674114620)
,p_button_name=>'COMPARE_ACR'
,p_button_static_id=>'CACR_ID'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Compare Auditcheck Results'
,p_button_position=>'LEFT_OF_TITLE'
,p_button_alignment=>'LEFT'
,p_button_redirect_url=>'javascript:doSubmit(''COMPARE_ACR'');'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312763665065283937)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(312705438674114620)
,p_button_name=>'COMPARE_PR'
,p_button_static_id=>'CPR_ID'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Compare Patch Results'
,p_button_position=>'LEFT_OF_TITLE'
,p_button_alignment=>'LEFT'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311965267915042854)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(311965064591042854)
,p_button_name=>'COMPARE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Compare'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_cattributes=>'style="margin-left:20px";'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311965458249042854)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(311965064591042854)
,p_button_name=>'CLEAR_COLLECTIONS'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_image_alt=>'Reset Page'
,p_button_position=>'RIGHT_OF_TITLE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311965648868042854)
,p_name=>'P1003_COLLECTION1'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(311965064591042854)
,p_prompt=>'<b>Collection1</b>'
,p_display_as=>'NATIVE_POPUP_LOV'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select replace(substr(upload_collection_name,instr(upload_collection_name,''_'',1,1)+1),''_'','' '') display_value, COLLECTION_DATE||''|''||upload_collection_name return_value ',
'from (	',
'select distinct upload_collection_name ,a.COLLECTION_DATE ',
'from AUDITCHECK_RESULT a,',
'( select * from rca13_col2sys_mapping where :P0_TIME = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME)  ) b,',
'rca13_lob2sys_mapping c',
'where a.collection_date = b.collection_date',
'and a.upload_collection_name = b.collection_name',
'and b.system_id = c.system_id ',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and ( :P1003_DB_VERSION is null or DB_VERSION  = :P1003_DB_VERSION )',
'and ( :P1003_PLATFORM   is null or DB_PLATFORM = :P1003_PLATFORM   )',
'and ( :P1003_SHOW_PATCH_COLLECTIONS is null OR (:P1003_SHOW_PATCH_COLLECTIONS = 1 ',
'      and exists ( select 1 from auditcheck_patch_result t where t.collection_date = a.collection_date ',
'      and ( t.upload_collection_name is null OR t.upload_collection_name = a.upload_collection_name ) ) ) )',
'',
'/*',
'and :P1003_SHOW_TAB = ''ACR''',
'',
'UNION',
'',
'select distinct d.collection_name ,d.COLLECTION_DATE ',
'from AUDITCHECK_patch_RESULT a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c,rca13_collections_md d',
'where a.collection_date = b.collection_date',
'and a.upload_collection_name = b.collection_name',
'and a.collection_date = d.collection_date',
'and a.upload_collection_name = d.collection_name',
'and b.system_id = c.system_id ',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and :P1003_SHOW_TAB = ''PR''',
'*/',
') order by COLLECTION_DATE desc',
''))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select Collection --'
,p_cSize=>40
,p_cMaxlength=>4000
,p_cHeight=>1
,p_new_grid=>true
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_attribute_01=>'NOT_ENTERABLE'
,p_attribute_02=>'FIRST_ROWSET_FILTER'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311965864479042855)
,p_name=>'P1003_COLLECTION2'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(311965064591042854)
,p_prompt=>'<b>Collection2</b>'
,p_display_as=>'NATIVE_POPUP_LOV'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select replace(substr(upload_collection_name,instr(upload_collection_name,''_'',1,1)+1),''_'','' '') display_value, COLLECTION_DATE||''|''||upload_collection_name return_value ',
'from (	',
'select distinct upload_collection_name ,a.COLLECTION_DATE ',
'from AUDITCHECK_RESULT a,',
'( select * from rca13_col2sys_mapping where :P0_TIME = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME)  ) b,',
'rca13_lob2sys_mapping c',
'where a.collection_date = b.collection_date',
'and a.upload_collection_name = b.collection_name',
'and b.system_id = c.system_id ',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and ( :P1003_DB_VERSION is null or DB_VERSION  = :P1003_DB_VERSION )',
'and ( :P1003_PLATFORM   is null or DB_PLATFORM = :P1003_PLATFORM   )',
'and ( :P1003_SHOW_PATCH_COLLECTIONS is null OR (:P1003_SHOW_PATCH_COLLECTIONS = 1 ',
'      and exists ( select 1 from auditcheck_patch_result t where t.collection_date = a.collection_date ',
'      and ( t.upload_collection_name is null OR t.upload_collection_name = a.upload_collection_name ) ) ) )',
'',
'/*',
'and :P1003_SHOW_TAB = ''ACR''',
'',
'UNION',
'',
'select distinct d.collection_name ,d.COLLECTION_DATE ',
'from AUDITCHECK_patch_RESULT a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c,rca13_collections_md d',
'where a.collection_date = b.collection_date',
'and a.upload_collection_name = b.collection_name',
'and a.collection_date = d.collection_date',
'and a.upload_collection_name = a.collection_name',
'and b.system_id = c.system_id ',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and :P1003_SHOW_TAB = ''PR''',
'*/',
') order by COLLECTION_DATE desc',
''))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select Collection --'
,p_cSize=>40
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_attribute_01=>'NOT_ENTERABLE'
,p_attribute_02=>'FIRST_ROWSET_FILTER'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311966246094042855)
,p_name=>'P1003_PLATFORM'
,p_item_sequence=>8
,p_item_plug_id=>wwv_flow_api.id(311965064591042854)
,p_prompt=>'<b>Platform</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct db_platform display_value,db_platform return_value from ',
'auditcheck_result a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
'where a.collection_date = b.collection_date',
'and a.upload_collection_name = b.collection_name',
'and b.system_id = c.system_id ',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'order by display_value'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select OS Platform -- '
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311966465476042855)
,p_name=>'P1003_DB_VERSION'
,p_item_sequence=>5
,p_item_plug_id=>wwv_flow_api.id(311965064591042854)
,p_prompt=>'<b>DB Version</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct db_version display_value,db_version return_value from ',
'auditcheck_result a,rca13_col2sys_mapping b,rca13_lob2sys_mapping c',
'where a.collection_date = b.collection_date',
'and a.upload_collection_name = b.collection_name',
'and b.system_id = c.system_id ',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and db_version is not null',
'order by display_value'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select DB Version --'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311969638228042857)
,p_name=>'P1003_TIME'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(312027244914154374)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312031148467496750)
,p_name=>'P1003_FILTER_MSG'
,p_item_sequence=>9
,p_item_plug_id=>wwv_flow_api.id(311965064591042854)
,p_prompt=>'&nbsp;'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717204815910739)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'PLSQL'
,p_attribute_03=>'sys.htp.prn(''<b>Above are filters to narrow down the below collections list</b>'');'
,p_attribute_04=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312069653470034648)
,p_name=>'P1003_DIFF_ID'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(311965064591042854)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312134748460068816)
,p_name=>'P1003_NEW_DIFF'
,p_item_sequence=>260
,p_item_plug_id=>wwv_flow_api.id(311965064591042854)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312135152760081936)
,p_name=>'P1003_DIFF_MSG'
,p_item_sequence=>270
,p_item_plug_id=>wwv_flow_api.id(311965064591042854)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312379345561725382)
,p_name=>'P1003_SHOW_PATCH_COLLECTIONS'
,p_item_sequence=>8.5
,p_item_plug_id=>wwv_flow_api.id(311965064591042854)
,p_display_as=>'NATIVE_CHECKBOX'
,p_lov=>'STATIC2:Show Only Collections With Patch Results;1'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'onClick="javascript:doSubmit(''P1003_SHOW_PATCH_COLLECTIONS'');"'
,p_begin_on_new_line=>'N'
,p_begin_on_new_field=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'1'
,p_attribute_02=>'VERTICAL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312706053573134058)
,p_name=>'P1003_BUSINESS_UNITS'
,p_item_sequence=>2
,p_item_plug_id=>wwv_flow_api.id(311965064591042854)
,p_prompt=>'<b>&BU_NAME.</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct a.lob_name display_value,a.lob_id return_value from rca13_lobs a,rca13_lob2sys_mapping ',
'where a.lob_id = rca13_lob2sys_mapping.lob_id',
'order by display_value'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'All &BU_NAME.'
,p_lov_null_value=>'All'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312706446229152613)
,p_name=>'P1003_SYS_FILTER'
,p_item_sequence=>3
,p_item_plug_id=>wwv_flow_api.id(311965064591042854)
,p_item_default=>'All'
,p_prompt=>'<b>Select &SYS_NAME.</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select b.lob_name||'': ''||c.system_name display_value,c.system_id return_value',
'from rca13_lob2sys_mapping a,rca13_lobs b,rca13_systems c',
'where a.lob_id = b.lob_id and a.system_id = c.system_id',
'and ( :P1003_BUSINESS_UNITS = ''All'' OR :P1003_BUSINESS_UNITS = a.lob_id )',
'order by display_value'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'All &SYS_NAME.'
,p_lov_null_value=>'All'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312765058452451202)
,p_name=>'P1003_SYS_FILTER_1'
,p_item_sequence=>120
,p_item_plug_id=>wwv_flow_api.id(312764354732385018)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312765252845453868)
,p_name=>'P1003_SYS_FILTER_2'
,p_item_sequence=>130
,p_item_plug_id=>wwv_flow_api.id(312764354732385018)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312765443559473371)
,p_name=>'P1003_DB_VERSION_1'
,p_item_sequence=>140
,p_item_plug_id=>wwv_flow_api.id(312764354732385018)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312765737724491179)
,p_name=>'P1003_DB_VERSION_2'
,p_item_sequence=>150
,p_item_plug_id=>wwv_flow_api.id(312764354732385018)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312765964491491180)
,p_name=>'P1003_PLATFORM_1'
,p_item_sequence=>160
,p_item_plug_id=>wwv_flow_api.id(312764354732385018)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312766139080491180)
,p_name=>'P1003_PLATFORM_2'
,p_item_sequence=>170
,p_item_plug_id=>wwv_flow_api.id(312764354732385018)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312766359675491180)
,p_name=>'P1003_COLLECTION1_1'
,p_item_sequence=>180
,p_item_plug_id=>wwv_flow_api.id(312764354732385018)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312766555635491180)
,p_name=>'P1003_COLLECTION1_2'
,p_item_sequence=>190
,p_item_plug_id=>wwv_flow_api.id(312764354732385018)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312766766334491188)
,p_name=>'P1003_COLLECTION2_1'
,p_item_sequence=>200
,p_item_plug_id=>wwv_flow_api.id(312764354732385018)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312766956756491188)
,p_name=>'P1003_COLLECTION2_2'
,p_item_sequence=>210
,p_item_plug_id=>wwv_flow_api.id(312764354732385018)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312768058988587709)
,p_name=>'P1003_SHOW_TAB'
,p_item_sequence=>220
,p_item_plug_id=>wwv_flow_api.id(312764354732385018)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312774152024198604)
,p_name=>'P1003_BUSINESS_UNITS_1'
,p_item_sequence=>98
,p_item_plug_id=>wwv_flow_api.id(312764354732385018)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312774345123201806)
,p_name=>'P1003_BUSINESS_UNITS_2'
,p_item_sequence=>99
,p_item_plug_id=>wwv_flow_api.id(312764354732385018)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(307801156974956349)
,p_computation_sequence=>1
,p_computation_item=>'LAST_PAGE'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'ITEM_VALUE'
,p_computation=>'APP_PAGE_ID'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312768256819603909)
,p_computation_sequence=>2
,p_computation_item=>'P1003_SHOW_TAB'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'ACR'
,p_computation_comment=>'item null P1003_SHOW_TAB'
,p_compute_when=>'P1003_SHOW_TAB'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312134938324073484)
,p_computation_sequence=>3
,p_computation_item=>'P1003_NEW_DIFF'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'0'
,p_compute_when=>'P1003_NEW_DIFF'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(311971937983042864)
,p_computation_sequence=>5
,p_computation_item=>'P1003_TIME'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'FUNCTION_BODY'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'temp varchar2(20);',
'begin',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 0.0416;',
'if temp > 0 then',
' return ''0.0416'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 0.25;',
'if temp > 0 then',
' return ''0.25'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 0.5;',
'if temp > 0 then',
' return ''0.5'';',
'end if;',
'',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 1;',
'if temp > 0 then',
' return ''1'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 2;',
'if temp > 0 then',
' return ''2'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 7;',
'if temp > 0 then',
' return ''7'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 30;',
'if temp > 0 then',
' return ''30'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 90;',
'if temp > 0 then',
' return ''90'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 180;',
'if temp > 0 then',
' return ''180'';',
'end if;',
'select count(*) into temp from auditcheck_result where collection_date > sysdate - 365;',
'if temp > 0 then',
' return ''365'';',
'end if;',
' return ''All'';',
'end;'))
,p_compute_when_type=>'NEVER'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312135337233089205)
,p_computation_sequence=>10
,p_computation_item=>'P1003_DIFF_MSG'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'QUERY'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select ''Switch to Old'' from dual where :P1003_NEW_DIFF = 1',
'UNION',
'select ''Switch to New'' from dual where :P1003_NEW_DIFF = 0'))
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312707355896193684)
,p_computation_sequence=>10
,p_computation_item=>'P1003_BUSINESS_UNITS'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'All'
,p_compute_when=>'P1003_BUSINESS_UNITS'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312708937466323797)
,p_computation_sequence=>10
,p_computation_item=>'P1003_SYS_FILTER'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'All'
,p_compute_when=>'P1003_SYS_FILTER'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(312063738405691021)
,p_validation_name=>'P1003_COLLECTION1'
,p_validation_sequence=>10
,p_validation=>'P1003_COLLECTION1'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'Please select Collection1'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(312062260274462465)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(311965648868042854)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(312063960605695914)
,p_validation_name=>'P1003_COLLECTION2'
,p_validation_sequence=>20
,p_validation=>'P1003_COLLECTION2'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'Please Select Collection2'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(312062260274462465)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(311965864479042855)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(312778264389835395)
,p_name=>'change button color'
,p_event_sequence=>10
,p_triggering_element_type=>'ITEM'
,p_triggering_element=>'P1003_SHOW_TAB'
,p_condition_element=>'P1003_SHOW_TAB'
,p_triggering_condition_type=>'EQUALS'
,p_triggering_expression=>'ACR'
,p_bind_type=>'bind'
,p_bind_event_type=>'apexafterrefresh'
,p_display_when_type=>'NEVER'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(312778562145835411)
,p_event_id=>wwv_flow_api.id(312778264389835395)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_JAVASCRIPT_CODE'
,p_attribute_01=>wwv_flow_string.join(wwv_flow_t_varchar2(
'var obj = document.getElementById( ''CACR_ID'' ).getElementsByTagName( ''span'' )[0];',
'obj.className = ''activeButton'';'))
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(312779639100979418)
,p_event_id=>wwv_flow_api.id(312778264389835395)
,p_event_result=>'FALSE'
,p_action_sequence=>10
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_JAVASCRIPT_CODE'
,p_attribute_01=>wwv_flow_string.join(wwv_flow_t_varchar2(
'var obj = document.getElementById( ''CPR_ID'' ).getElementsByTagName( ''span'' )[0];',
'obj.className = ''activeButton'';'))
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(308686944941614002)
,p_name=>'Open region'
,p_event_sequence=>20
,p_bind_type=>'bind'
,p_bind_event_type=>'ready'
,p_display_when_type=>'FUNCTION_BODY'
,p_display_when_cond=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'begin',
'select count(1) into cnt from  (',
'select status1,hostname1,dbname1,instname1,c1,statusmsg1,',
'case ',
'  when instr(StatusMsg1,''on infiniband switch'',1,1) > 0 then',
'    substr(StatusMsg1,instr(StatusMsg1,''on infiniband switch'',1,1)+21)',
'  else',
'    null',
'  end as switch1,',
'check_name,status2,hostname2,dbname2,instname2,c2,statusmsg2,  ',
'case ',
'  when instr(StatusMsg2,''on infiniband switch'',1,1) > 0 then',
'    substr(StatusMsg2,instr(StatusMsg2,''on infiniband switch'',1,1)+21)',
'  else',
'    null',
'  end as switch2',
'from (',
'select  ',
'decode(a.status,''FAIL'',''<span class="label label-fail">FAIL</span>'',',
' ''FAIL-IGNORED'',''<span class="label label-failIg">FAIL-IGNORED</span>'',',
' ''WARNING'',''<span class="label label-warning">WARNING</span>'',',
'''INFO'',''<span class="label label-info">INFO</span>'',',
'''PASS'',''<span class="label label-pass">PASS</span>'',',
'''INFO-PASS'',''<span class="label label-pass">INFO-PASS</span>'',a.status) Status1,',
'a.hostname HostName1,a.db_name DBName1,a.instance_name InstName1,a.check_id c1,a.status_message StatusMsg1,',
'''<b>''||a.check_name||''</b>'' check_name,',
'decode(b.status,''FAIL'',''<span class="label label-fail">FAIL</span>'',',
' ''FAIL-IGNORED'',''<span class="label label-failIg">FAIL-IGNORED</span>'',',
' ''WARNING'',''<span class="label label-warning">WARNING</span>'',',
'''INFO'',''<span class="label label-info">INFO</span>'',',
'''PASS'',''<span class="label label-pass">PASS</span>'',',
'''INFO-PASS'',''<span class="label label-pass">INFO-PASS</span>'',b.status)  Status2,',
'b.hostname HostName2,b.db_name DBName2,b.instance_name InstName2,b.check_id c2,b.status_message StatusMsg2',
'from  ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION1 ) a,',
'      ( select * from auditcheck_result where collection_date||''|''||upload_collection_name = :P1003_COLLECTION2 ) b',
'where ',
'a.check_id = b.check_id',
'and nvl(a.hostname,''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name,''NA'')',
') ) ',
'where Status1 != Status2',
'and nvl(switch1,''NA'') = nvl(switch2,''NA'');',
'',
'if cnt = 0 and :P1003_SHOW_TAB = ''ACR'' then',
' return TRUE;',
'end if;',
'return false;',
'end;'))
);
end;
/
begin
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(308687260530614077)
,p_event_id=>wwv_flow_api.id(308686944941614002)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_JAVASCRIPT_CODE'
,p_attribute_01=>wwv_flow_string.join(wwv_flow_t_varchar2(
'var attr = document.getElementById(''DIFF2'');',
'var attr1 = attr.getElementsByClassName(''uRegionCollapsed'');',
'for (var i = 0; i < attr1.length; ++i) {',
'    //alert(attr1[i].innerHTML);    ',
'    attr1[i].className="uRegionControl";',
'}',
'var attr2 = attr.getElementsByClassName(''uRegionContent'');',
'for (var i = 0; i < attr2.length; ++i) {',
'     //alert(attr2[i].innerHTML); ',
'     attr2[i].style.display = ''block'';',
'}',
''))
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312135854431156037)
,p_process_sequence=>1
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'set diff value'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' select decode(:P1003_NEW_DIFF,1,0,1) into :P1003_NEW_DIFF from dual;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(312135459532100823)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312768353421640092)
,p_process_sequence=>2
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Load tab type and its session'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if  :REQUEST like ''P1003_PATCH_RESULTS_DIFF'' then',
'    :P1003_SHOW_TAB := ''PR'';',
'/*',
'  --Take ACR backup ',
'  :P1003_BUSINESS_UNITS_1 := :P1003_BUSINESS_UNITS;  ',
'  :P1003_SYS_FILTER_1   := :P1003_SYS_FILTER;',
'  :P1003_DB_VERSION_1   := :P1003_DB_VERSION;',
'  :P1003_PLATFORM_1     := :P1003_PLATFORM;',
'  :P1003_COLLECTION1_1  := :P1003_COLLECTION1;	',
'  :P1003_COLLECTION2_1  := :P1003_COLLECTION2;',
'  -- Load PR Values from existing ACR session not from PR backup',
'  --Use existing unit,system and collections. so not setting them',
'  :P1003_DB_VERSION := NULL; --:P1003_DB_VERSION_2;',
'  :P1003_PLATFORM := NULL; --:P1003_PLATFORM_2;',
'*/',
'elsif :REQUEST  like ''P1003_AUDIT_CHECKS_DIFF'' then',
'  :P1003_SHOW_TAB := ''ACR'';',
'elsif  :REQUEST like ''COMPARE_PR''  then',
'  :P1003_SHOW_TAB := ''PR'';',
'/*',
'  --Take ACR backup ',
'  :P1003_BUSINESS_UNITS_1 := :P1003_BUSINESS_UNITS;  ',
'  :P1003_SYS_FILTER_1   := :P1003_SYS_FILTER;',
'  :P1003_DB_VERSION_1   := :P1003_DB_VERSION;',
'  :P1003_PLATFORM_1     := :P1003_PLATFORM;',
'  :P1003_COLLECTION1_1  := :P1003_COLLECTION1;	',
'  :P1003_COLLECTION2_1  := :P1003_COLLECTION2;',
'  -- Load PR Values',
'  :P1003_BUSINESS_UNITS := :P1003_BUSINESS_UNITS_2;',
'  :P1003_SYS_FILTER := :P1003_SYS_FILTER_2;',
'  :P1003_DB_VERSION := NULL; --:P1003_DB_VERSION_2;',
'  :P1003_PLATFORM := NULL; --:P1003_PLATFORM_2;',
'  :P1003_COLLECTION1 := :P1003_COLLECTION1_2;',
'  :P1003_COLLECTION2 := :P1003_COLLECTION2_2;	 ',
'*/',
'elsif :REQUEST like ''COMPARE_ACR'' then',
'  :P1003_SHOW_TAB := ''ACR'';  ',
'/*',
'  --Take PR backup ',
'  :P1003_BUSINESS_UNITS_2 := :P1003_BUSINESS_UNITS;',
'  :P1003_SYS_FILTER_2   := :P1003_SYS_FILTER;',
'  :P1003_DB_VERSION_2   := NULL; --:P1003_DB_VERSION;',
'  :P1003_PLATFORM_2     := NULL; --:P1003_PLATFORM;',
'  :P1003_COLLECTION1_2  := :P1003_COLLECTION1;	',
'  :P1003_COLLECTION2_2  := :P1003_COLLECTION2;',
'  -- Load ACR Values',
'  :P1003_BUSINESS_UNITS := :P1003_BUSINESS_UNITS_1;',
'  :P1003_SYS_FILTER := :P1003_SYS_FILTER_1;',
'  :P1003_DB_VERSION := :P1003_DB_VERSION_1;',
'  :P1003_PLATFORM := :P1003_PLATFORM_1;',
'  :P1003_COLLECTION1 := :P1003_COLLECTION1_1;',
'  :P1003_COLLECTION2 := :P1003_COLLECTION2_1; ',
'*/',
'end if;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(311972267447042865)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Clear Collections'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin  ',
' :P1003_SHOW_TAB := NULL;',
' :P1003_COLLECTION1 := NULL;',
' :P1003_COLLECTION2 := NULL;',
' :P1003_BUSINESS_UNITS := ''All'';',
' :P1003_SYS_FILTER := ''All''; ',
' :P1003_HOSTNAME := NULL;',
' :P1003_DB_VERSION := NULL;',
' :P1003_PLATFORM := NULL;',
' :P1003_DIFF_ID := NULL;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(312061752346412943)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308569141056435841)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Reset sys filter'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'if :REQUEST = ''P1003_BUSINESS_UNITS'' and :P1003_BUSINESS_UNITS = ''All'' then --No need to reset values',
'  NULL;',
'elsif :REQUEST = ''P1003_SYS_FILTER'' and :P1003_SYS_FILTER = ''All'' then --No need to reset values',
'  NULL;',
'else -- We need to reset values',
' if :REQUEST = ''P1003_BUSINESS_UNITS'' then',
'  :P1003_SYS_FILTER := ''All''; ',
' end if;  ',
' :P1003_DB_VERSION := NULL;',
' :P1003_PLATFORM := NULL;',
' :P1003_COLLECTION1 := NULL; ',
' :P1003_COLLECTION2 := NULL;',
'end if;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when=>'P1003_BUSINESS_UNITS,P1003_SYS_FILTER'
,p_process_when_type=>'REQUEST_IN_CONDITION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312070164503116471)
,p_process_sequence=>20
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'LOAD COLLECTIONS'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'select prev_col_date||''|''||prev_col_name,cur_col_date||''|''||cur_col_name ',
'into :P1003_COLLECTION1,:P1003_COLLECTION2',
'from rca13_diff_info where diff_id = :P1003_DIFF_ID;',
':P1003_DIFF_ID := NULL;',
'end;'))
,p_process_when=>'P1003_DIFF_ID'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
end;
/
prompt --application/pages/page_01004
begin
wwv_flow_api.create_page(
 p_id=>1004
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Purge Data'
,p_alias=>'PURGEDATE'
,p_page_mode=>'NORMAL'
,p_step_title=>'Purge Data'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131212060117'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(308567464530187189)
,p_plug_name=>'Delete Data'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_plug_footer=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<font color="RED">Note:</font>It deletes all data older than selected date. That is, this delete job do the following things<br>',
'1. Delete audit check results,patch results,collection zip and all the data parsed from collection zip<br>',
'2. Deletes the corresponding ignore and un-ignored checks data<br>',
'3. Deletes the tickets raised/closed on the corresponding data<br>',
'4. Deletes corresponding history<br>',
'5. Re calculate diffs,score and check counts<br> ',
''))
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(308597265610200715)
,p_plug_name=>'Breadcrumb1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(307799540464507608)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(308591063157972901)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(308567464530187189)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:4:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(308591246320977496)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(308567464530187189)
,p_button_name=>'DELETE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308590350507946379)
,p_name=>'P1004_DATE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(308567464530187189)
,p_prompt=>'<b>Delete data older than </b>'
,p_display_as=>'NATIVE_DATE_PICKER'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_04=>'button'
,p_attribute_05=>'N'
,p_attribute_07=>'NONE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308599349218138375)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Delete data'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' rca13_manage_collections.submitDataPurgeJob(:P1004_DATE);',
' :P1004_DATE := NULL; ',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(308591246320977496)
,p_process_success_message=>'Submitted Job for purging.'
);
end;
/
prompt --application/pages/page_01005
begin
wwv_flow_api.create_page(
 p_id=>1005
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Manage Systems'
,p_alias=>'MANGE_SYSTEMS'
,p_page_mode=>'NORMAL'
,p_step_title=>'Manage Systems'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131209045536'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(308641937615524711)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(308642562465550775)
,p_name=>'Systems'
,p_template=>wwv_flow_api.id(6040713703191910732)
,p_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>'select system_name from rca13_systems'
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>15
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308642842117550814)
,p_query_column_id=>1
,p_column_alias=>'SYSTEM_NAME'
,p_column_display_sequence=>1
,p_column_heading=>'SYSTEM_NAME'
);
end;
/
prompt --application/pages/page_01006
begin
wwv_flow_api.create_page(
 p_id=>1006
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Uploaded Collection/Files'
,p_page_mode=>'NORMAL'
,p_step_title=>'Uploaded Collection/Files'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Uploaded Collection/Files'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function open_process_log(val) ',
'{',
'',
'window.open("f?p=&APP_ID.:7:&SESSION.::::P7_LOG_ID:"+val,"Log Messages");',
'/*',
'  var ajaxRequest = new htmldb_Get(); ',
'  ajaxRequest.add(''P6_LOG_ID'',val);',
'  ajaxResult = ajaxRequest.get();',
'  alert(document.getElementById(''P6_LOG_ID'').value);',
'  doSubmit();',
'  openModal(''PROCESS_LOG'');  ',
'*/',
'}',
'',
'',
'function selectAllFun(obj) {',
' $(''[name="f01"]'').each( function() {',
'        if ( $(obj).attr(''checked'') == ''checked'' ) {',
'            $(this).attr(''checked'',true);',
'        }  ',
'        else {',
'           $(this).attr(''checked'',false);',
'        }',
' });',
'}'))
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'.dlImg {',
'   text-decoration:none;',
'   background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAoZJREFUeNqUk89PE0EUx992Z3/MFqFVaoECwoHoydSDiYSDkmjAk/wLkph4Mx5N9AD/gSfjDU9eTDzrhYOSiAfZGA8kCLYgSLsFu+3uzO7'
||'sj3EWCZQCGl4yM3mT+X7em/dmJGi1R2PF6dHrS5fzGajTHfhNamCJQZgPNIyBRQDfK9yszi5ca5UhOGqZq4U8FAsDYDkGbDclWN21wfYCcAMOXsih0pCK1TZROwSCyIeKswaWW4EasUQGLkRxDP+yVPuGjgw4qx2DGErnmSFIFPPtkzv3Mlw4TY9kLmUHYcernirACkD3s7H5SAhYCOBSeJXUZGbFKs8/nZzIsIiJDtQBvNOj9p4X1e+Ub'
||'jk+wOoWn4PnC3MpMZlvTHP89Zf39eQQDZr/TT9KWr3JzSaBx4kv7+0ubmwv5JR3mtp4eCXfJ0AukGQwAg5zIRS5i+6CeCogug1fSwJAYVwkUD+E7IM+9+DyhTSaGsgap0K+bXDTahwCjkL+gsxPeVTu7tCnLnbKxyBmmZfWazDaCjgO2QeVRnC5P6tM6Qo/gCyu8fpaFe4KQKldIp9UOPJh3Vwe6rILGXlSlhl8XInr4s8kVzBPOi+1Op7'
||'nySwIMGMBjqIQj7188ALr9s0bPRPTM7fvL8lyykcyooqqEFVRPF3XowMIpVQn1MsTQvoJoQXh9/i+n2OMdS3XNnpHsn27six7qqrauq7VMMa/DMPYNDD+ibFeQUEQpAilOSEcchx32HGcYcfdW4dclwwqXpgrNda5iGql0+lyR0e6dC4If8RxjJNyIIRipChK7LquLaLsiCjpKIpUzrmUkiSqqVolFNfa+x8IEeHvGoa+LaJvaZpmaaqaZ'
||'Gj/EWAAxoJln3HTj5EAAAAASUVORK5CYII=);',
'}',
''))
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'ORACHKCM'
,p_last_upd_yyyymmddhh24miss=>'20160829230224'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(311980068522059810)
,p_name=>'Uploaded Collection'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select /*+ FIRST_ROWS */ apex_item.checkbox(1,a.doc_id) sel,',
'apex_custom_auth.get_security_group_id secGroupId,',
'a.COLLECTION_ID,to_char(a.uploaded_on,''dd-mon-yy HH24:MI:SS'') ulDate,a.uploaded_on,a.uploaded_by,nvl(c.status,''New'') status,',
'''<a class="dlImg" href="f?p=&APP_ID.:1009:&APP_SESSION.:APPLICATION_PROCESS=GET_FILE:::FILE_ID:''||a.DOC_ID||''">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>''||''&nbsp;&nbsp;''||',
'''<a href="f?p=&APP_ID.:1009:&APP_SESSION.:::1009:P1009_DOC_ID:''||a.DOC_ID||''">''||a.filename||''</a>'' FileName,',
'',
'( select ''<a href="f?p=&APP_ID.:1009:&APP_SESSION.:APPLICATION_PROCESS=GET_FILE:::FILE_ID:''||b.DOC_ID||''">View</a>'' from rca13_docs b',
'   where a.collection_id = b.collection_id and nvl(b.attr1,''Z'') =''HTML_REP_FILE'' and rownum = 1) HTML,',
'/* --Don''t show browser reports for now',
'( select ''<a href="f?p=&APP_ID.:1009:&APP_SESSION.:APPLICATION_PROCESS=GET_FILE:::FILE_ID:''||b.DOC_ID||''">View</a>'' from rca13_docs b',
'   where a.collection_id = b.collection_id and  nvl(b.attr1,''Z'') =''BROWSE_REP_FILE'' and rownum = 1 ) BROWSER,',
'*/',
'g.lob_name||'': ''||f.system_name sysInfo ',
'from rca13_docs a,rca13_collections c,rca13_col2sys_mapping d,rca13_lob2sys_mapping e,rca13_systems f,rca13_lobs g',
'where a.attr1 = ''ZIP_FILE'' ',
'and ( :P1006_SEARCH is null or a.filename like ''%''||:P1006_SEARCH||''%'' )',
'and a.collection_id = c.collection_id',
'and c.collection_date = d.collection_date ',
'and d.system_id = e.system_id and e.lob_id = g.lob_id and d.system_id = f.system_id',
'and ( :P0_BUSINESS_UNITS = ''All'' OR e.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR e.system_id = :P0_SYS_FILTER )',
'',
'UNION',
'--Show new/unclassified collections if user is super admin or acl is not enabled ',
'select /*+ FIRST_ROWS */ apex_item.checkbox(1,a.doc_id) sel,',
'apex_custom_auth.get_security_group_id secGroupId,',
'a.COLLECTION_ID,to_char(a.uploaded_on,''dd-mon-yy HH24:MI:SS'') ulDate,a.uploaded_on,a.uploaded_by,nvl(c.status,''New'') status,',
'''<a class="dlImg" href="f?p=&APP_ID.:1009:&APP_SESSION.:APPLICATION_PROCESS=GET_FILE:::FILE_ID:''||a.DOC_ID||''">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>''||''&nbsp;&nbsp;''||',
'''<a href="f?p=&APP_ID.:1009:&APP_SESSION.:::1009:P1009_DOC_ID:''||a.DOC_ID||''">''||a.filename||''</a>'' FileName,',
'',
'( select ''<a href="f?p=&APP_ID.:1009:&APP_SESSION.:APPLICATION_PROCESS=GET_FILE:::FILE_ID:''||b.DOC_ID||''">View</a>'' from rca13_docs b',
'   where a.collection_id = b.collection_id and nvl(b.attr1,''Z'') =''HTML_REP_FILE'' and rownum = 1) HTML,',
'/*',
'( select ''<a href="f?p=&APP_ID.:1009:&APP_SESSION.:APPLICATION_PROCESS=GET_FILE:::FILE_ID:''||b.DOC_ID||''">View</a>'' from rca13_docs b',
'   where a.collection_id = b.collection_id and  nvl(b.attr1,''Z'') =''BROWSE_REP_FILE'' and rownum = 1 ) BROWSER,',
'*/',
''''' sysInfo ',
'from rca13_docs a,rca13_collections c',
'where a.attr1 = ''ZIP_FILE'' ',
'and ( :P1006_SEARCH is null or a.filename like ''%''||:P1006_SEARCH||''%'' )',
'and ( a.collection_id is null OR not exists (select 1 from rca13_col2sys_mapping where collection_date = c.collection_date ) )',
'and a.collection_id = c.collection_id(+) ',
'and rca13_manage_acl.is_superadmin(:G_USER_ID) = 1',
''))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>25
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'No files attached.'
,p_query_num_rows_type=>'ROW_RANGES_IN_SELECT_LIST'
,p_query_row_count_max=>5000
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311980359969059811)
,p_query_column_id=>1
,p_column_alias=>'SEL'
,p_column_display_sequence=>1
,p_column_heading=>'<input type="checkbox" onclick="selectAllFun(this);">'
,p_use_as_row_header=>'N'
,p_column_alignment=>'CENTER'
,p_report_column_required_role=>wwv_flow_api.id(312611953325942122)
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312057148001396046)
,p_query_column_id=>2
,p_column_alias=>'SECGROUPID'
,p_column_display_sequence=>12
,p_column_heading=>'Secgroupid'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311980238184059811)
,p_query_column_id=>3
,p_column_alias=>'COLLECTION_ID'
,p_column_display_sequence=>2
,p_column_heading=>'Collection Id'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312219542885491534)
,p_query_column_id=>4
,p_column_alias=>'ULDATE'
,p_column_display_sequence=>7
,p_column_heading=>'Uploaded On'
,p_default_sort_column_sequence=>1
,p_default_sort_dir=>'desc'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311980855663059811)
,p_query_column_id=>5
,p_column_alias=>'UPLOADED_ON'
,p_column_display_sequence=>6
,p_column_heading=>'Uploaded On'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311980956892059811)
,p_query_column_id=>6
,p_column_alias=>'UPLOADED_BY'
,p_column_display_sequence=>8
,p_column_heading=>'Uploaded By'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311981268526059811)
,p_query_column_id=>7
,p_column_alias=>'STATUS'
,p_column_display_sequence=>4
,p_column_heading=>'Status'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311980442765059811)
,p_query_column_id=>8
,p_column_alias=>'FILENAME'
,p_column_display_sequence=>3
,p_column_heading=>'Collection Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311981055302059811)
,p_query_column_id=>9
,p_column_alias=>'HTML'
,p_column_display_sequence=>5
,p_column_heading=>'Html Report'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312699342132597371)
,p_query_column_id=>10
,p_column_alias=>'SYSINFO'
,p_column_display_sequence=>10
,p_column_heading=>'BU/SYS Info'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311980650046059811)
,p_query_column_id=>11
,p_column_alias=>'LINK$01'
,p_column_display_sequence=>9
,p_column_heading=>'Delete'
,p_use_as_row_header=>'N'
,p_column_link=>'javascript:document.getElementById(''P6_DOCID2DEL'').value=''#COLLECTION_ID#'';apex.confirm(''Would you like to perform this delete action(It deletes all data related to this collection)?'', ''DELETE'');'
,p_column_linktext=>'Delete'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311980536485059811)
,p_query_column_id=>12
,p_column_alias=>'LINK$02'
,p_column_display_sequence=>11
,p_column_heading=>'Log'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1007:&SESSION.::&DEBUG.:1007:P1007_LOG_ID:#COLLECTION_ID#'
,p_column_linktext=>'Log'
,p_disable_sort_column=>'N'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(311982339288059813)
,p_plug_name=>'Add Attachment'
,p_region_name=>'add_file_modal'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2674547298698564458)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_point=>'AFTER_HEADER'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311982768314059813)
,p_button_sequence=>15
,p_button_plug_id=>wwv_flow_api.id(311982339288059813)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'javascript:closeModal();'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311982559370059813)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(311982339288059813)
,p_button_name=>'ADD'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Attachment'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311981343611059811)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(311980068522059810)
,p_button_name=>'ADD_ATTACHMENT'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'&nbsp;&nbsp;Add Collection'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_redirect_url=>'javascript:openModal(''add_file_modal'');'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311981561648059812)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(311980068522059810)
,p_button_name=>'PROCESS_SELECTED'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'Process Selected'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_condition=>'select 1 from rca13_docs where 1 = 2'
,p_button_condition_type=>'EXISTS'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311981759760059812)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(311980068522059810)
,p_button_name=>'DELETE_SELECTED'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'Delete Selected'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_redirect_url=>'javascript:apex.confirm(''Would you like to perform this delete action(It deletes all data relevant to this collection)?'', ''DELETE_SELECTED'');'
,p_button_condition=>'select 1 from rca13_docs where attr1=''ZIP_FILE'''
,p_button_condition_type=>'EXISTS'
,p_grid_new_grid=>false
,p_security_scheme=>wwv_flow_api.id(312611953325942122)
,p_button_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'condition: exists:',
'select 1 from rca13_docs'))
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311981964286059812)
,p_name=>'P1006_DOCID2DEL'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(311980068522059810)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311982946096059813)
,p_name=>'P1006_FILE_COMMENTS'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(311982339288059813)
,p_prompt=>'File Comments'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>70
,p_cMaxlength=>4000
,p_cHeight=>7
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(305651062455015946)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311983160077059814)
,p_name=>'P1006_FILE_TAGS'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(311982339288059813)
,p_prompt=>'File Tags'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(305651062455015946)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311983342884059814)
,p_name=>'P1006_FILE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(311982339288059813)
,p_prompt=>'File'
,p_display_as=>'NATIVE_FILE'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(305651358818015946)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'WWV_FLOW_FILES'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311983937559059815)
,p_name=>'P1006_LOG_ID'
,p_item_sequence=>60
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312052849185000470)
,p_name=>'P1006_FILE_UP_STATUS'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(311980068522059810)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312220057716545476)
,p_name=>'P1006_SEARCH'
,p_item_sequence=>80
,p_item_plug_id=>wwv_flow_api.id(311980068522059810)
,p_prompt=>'Search for collection'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_grid_column=>1
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>'select 1 from rca13_docs where attr1=''ZIP_FILE'''
,p_display_when_type=>'EXISTS'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312243544683586349)
,p_name=>'P1006_COLLECTION_ID'
,p_item_sequence=>90
,p_item_plug_id=>wwv_flow_api.id(311980068522059810)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312320156101641882)
,p_name=>'P1006_CLEAR'
,p_item_sequence=>84
,p_item_plug_id=>wwv_flow_api.id(311980068522059810)
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_begin_on_new_field=>'N'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>'select 1 from rca13_docs where attr1=''ZIP_FILE'''
,p_display_when_type=>'EXISTS'
,p_field_template=>wwv_flow_api.id(6040717204815910739)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'PLSQL'
,p_attribute_03=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'sys.htp.p(''<a class="itemlink" href="javascript:setValue(''''P1006_SEARCH'''','''''''');apex.submit();" style="font-size:smallest;text-decoration:none;">[ Clear ]</a>'');',
'end;'))
,p_attribute_04=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312697736624478379)
,p_name=>'P1006_BUSINESS_UNITS'
,p_item_sequence=>100
,p_item_plug_id=>wwv_flow_api.id(311980068522059810)
,p_prompt=>'<b>&BU_NAME.</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct a.lob_name display_value,a.lob_id return_value from rca13_lobs a,rca13_lob2sys_mapping b ',
'where a.lob_id = b.lob_id ',
'order by display_value',
''))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- All &BU_NAME. --'
,p_lov_null_value=>'All'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312698346747488868)
,p_computation_sequence=>10
,p_computation_item=>'P1006_BUSINESS_UNITS'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'All'
,p_compute_when=>'P1006_BUSINESS_UNITS'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(311984745637059816)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'add file'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'  l_attachment    RCA13_DOCS.FILE_BLOB%type;',
'  l_filename      RCA13_DOCS.FILENAME%type;',
'  l_mimetype      RCA13_DOCS.FILE_MIMETYPE%type;',
'  l_charset       RCA13_DOCS.FILE_CHARSET%type;',
'  docId number;',
'begin',
'  -- Get the data we need to insert into RCA13_COLLECTIONS with',
'  begin',
'    select f.blob_content,',
'           f.filename,',
'           f.mime_type,',
'           nvl(f.file_charset, f.dad_charset)',
'      into l_attachment,',
'           l_filename,',
'           l_mimetype,',
'           l_charset',
'      from wwv_flow_files f',
'     where f.name = :P1006_FILE;',
'  exception',
'    when no_data_found then',
'      l_attachment := null;',
'  end;',
'  -- Add Some file name validations',
'  -- If file name is like raccheck_ldlmdb01_loaddb_082913_201923 (2).zip, remove (2) from name',
'  l_filename := replace(l_filename,'' '','''');',
'  l_filename := substr(l_filename,1,instr(l_filename,''('' ,1,1)-1)||substr(l_filename,instr(l_filename,'')'' ,-1,1)+1);',
'',
'  if l_attachment is not null then',
'    --docId := rca13_file_seq.nextval;',
'    begin',
'     insert into RCA13_DOCS(FILENAME, FILE_BLOB,FILE_MIMETYPE,FILE_CHARSET,FILE_COMMENTS,TAGS,attr1,uploaded_on,uploaded_by)',
'     values(l_filename,l_attachment,l_mimetype,l_charset,:P1006_FILE_COMMENTS,:P1006_FILE_TAGS,''ZIP_FILE'',sysdate,:APP_USER) return doc_id into docId;',
'     :P1006_FILE_UP_STATUS := ''File attached'';',
'     exception when dup_val_on_index then ',
'     :P1006_FILE_UP_STATUS := ''Failed: Could not upload file as it is already uploaded'';',
'    end; ',
'     delete from wwv_flow_files where name = :P1006_FILE;    ',
'    :P1006_FILE_TAGS := null;',
'    :P1006_FILE  := null;',
'    :P1006_FILE_COMMENTS := null;',
'  end if;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(311982559370059813)
,p_process_success_message=>'&P1006_FILE_UP_STATUS.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(311984154237059815)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Process Selected'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'  VerPlatArray   APEX_APPLICATION_GLOBAL.VC_ARR2;',
'  counter number;',
'begin',
'   for i in 1..APEX_APPLICATION.G_F01.count loop',
'       begin       ',
'        select count(1) into counter from user_scheduler_jobs where instr(job_name,''RCCOLLECTION_''||APEX_APPLICATION.G_F01(i),1,1) > 0;',
'        if counter = 0 then',
'         rca13_manage_collections.submitJob(APEX_APPLICATION.G_F01(i),:APP_USER); ',
'        end if; ',
'       exception when others then null;',
'       end;',
'   end loop;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(311981561648059812)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(311984962423059816)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Delete Selected'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'  VerPlatArray   APEX_APPLICATION_GLOBAL.VC_ARR2;',
'begin',
'   for i in 1..APEX_APPLICATION.G_F01.count loop',
'     rca13_manage_collections.deleteCollection(APEX_APPLICATION.G_F01(i));',
'   end loop;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(311981759760059812)
,p_security_scheme=>wwv_flow_api.id(312611953325942122)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312243662121611446)
,p_process_sequence=>50
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'get collection for collection_id'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'   select filename into :P1006_SEARCH from rca13_docs where collection_id = :P1006_COLLECTION_ID and attr1 = ''ZIP_FILE'';',
'  :P1006_COLLECTION_ID := NULL;',
'  exception when others then null;',
'end;'))
,p_process_when=>'P1006_COLLECTION_ID'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
end;
/
prompt --application/pages/page_01007
begin
wwv_flow_api.create_page(
 p_id=>1007
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Process Log'
,p_page_mode=>'NORMAL'
,p_step_title=>'Process Log'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Process Log'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20140106083108'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(311986946284064038)
,p_name=>'Process Log'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>'select text,ins_date from rca13_log where collection_id = :P1007_LOG_ID order by ins_date'
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>50
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'No data found.'
,p_query_num_rows_type=>'ROW_RANGES_IN_SELECT_LIST'
,p_query_row_count_max=>1000
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311987144152064038)
,p_query_column_id=>1
,p_column_alias=>'TEXT'
,p_column_display_sequence=>1
,p_column_heading=>'Log Message'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311987241291064039)
,p_query_column_id=>2
,p_column_alias=>'INS_DATE'
,p_column_display_sequence=>2
,p_column_heading=>'Log Date'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312211642072047525)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311987364716064039)
,p_name=>'P1007_LOG_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(311986946284064038)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
end;
/
prompt --application/pages/page_01008
begin
wwv_flow_api.create_page(
 p_id=>1008
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Search'
,p_page_mode=>'NORMAL'
,p_step_title=>'Search'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Search'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function setACWidth() {',
'var cusid_ele = document.getElementsByClassName(''ac_results'');',
'for (var i = 0; i < cusid_ele.length; ++i) {',
'    cusid_ele[i].width =  cusid_ele[i].width + 10;  ',
'    cusid_ele[i].left =  cusid_ele[i].left + 30;  ',
'}',
'}',
'function float2Left() {',
' document.getElementById("P8_COLLECTION_fieldset").style.float = "left";',
'}',
'',
'function removeClass() {',
'// document.getElementById("SEARCH_FILTER_REGION").',
' $(''#SEARCH_FILTER_REGION'').parent().removeClass(''apex_span_6'');',
' $(''#SEARCH_RESULTS_REGION'').parent().removeClass(''apex_span_6'');',
'}'))
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'.sCustomSearch {',
'    margin: 0 auto;',
'    padding: 4px 0 4px;',
'}',
'',
'.colItemClass {',
'  float:left;',
'  margin-right:0px;',
'}',
'div.sCustomSearch input.sSearchFieldBig {',
'    background: url("#WORKSPACE_IMAGES#searchI.jpg") no-repeat scroll 5px 6px white;',
'    border: 1px solid #AAAAAA;',
'    border-radius: 3px 3px 3px 3px;',
'    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15) inset;',
'    color: #333333;',
'    display: block;',
'    font: 16px/16px Arial,sans-serif;',
'    height: 16px;',
'    margin: 0;',
'    padding: 8px 8px 8px 32px;',
'    transition: border 0.1s ease 0s, box-shadow 0.1s ease 0s;',
'}'))
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_page_comment=>'We should display this page if at least one processed collection is there.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20130916035526'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(311989036417069404)
,p_plug_name=>'Help'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>2
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_2'
,p_plug_source=>'<font color="red">Note</font>: It searches only raw data.'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(311989261188069404)
,p_plug_name=>'Search Filters'
,p_region_name=>'SEARCH_FILTER_REGION'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style="width:260px;"'
,p_plug_template=>wwv_flow_api.id(6040714015349910735)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'Y'
,p_plug_new_grid=>true
,p_plug_display_point=>'BODY_2'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(311991063387069407)
,p_plug_name=>'Search'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'sys.htp.prn(''<p style="left:50px; font: normal 13px/24px Arial, sans-serif; color: #666;">'');',
'',
'sys.htp.prn(apex_lang.message(''If you select a collection, it will search only in that collection.Otherwise it will search in all collctions''));',
'',
'sys.htp.prn(''</p>'');'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'NEVER'
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_plug_header=>'<div class="sCustomSearch">'
,p_plug_footer=>'</div>'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(311991442899069407)
,p_plug_name=>'Search Results'
,p_region_name=>'SEARCH_RESULTS_REGION'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_display_point=>'BODY_2'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'sString varchar2(500);',
'fp_flag number;',
'begin',
'  if :P1008_SEARCH1 is null then',
'    sys.htp.p(''<p>''||sys.htf.escape_sc(''Please enter search string.'')||''</p>'');',
'  else',
'    --search both file names and content',
'    --select decode(:P1008_CASE_SENSITIVE,''Y'',:P1008_SEARCH1,upper(:P1008_SEARCH1)) into sString from dual;',
'    sString := upper(:P1008_SEARCH1);',
'    for rec in (',
'      select collection_file_id cfi,short_file_name sfn from RCA13_COLLECTION_FILES a , rca13_collections b',
'      where :P1008_COLLECTION_ID is not null and a.collection_id = :P1008_COLLECTION_ID and  a.collection_id = b.collection_id',
'      order by b.collection_date desc',
'    ) loop ',
'     fp_flag := 0;',
'     if ( instr(upper(rec.sfn),sString) > 0 ) then',
'       sys.htp.p(''<span><br><h2>''||rec.sfn||''</h2><br></span>'');',
'       fp_flag := 1;',
'     end if;     ',
'     for rec1 in ( select line_text lt,line_number ln from RCA13_COLLECTION_FILE_DATA ',
'                   where collection_file_id = rec.cfi and instr(upper(line_text),sString) > 0 order by line_number) loop ',
'       if ( fp_flag = 0 ) then',
'         sys.htp.p(''<span><br><h2>''||rec.sfn||''</h2><br></span>'');',
'         fp_flag := 1;',
'       end if;',
'       sys.htp.prn(''<span>''||rec1.ln||''&nbsp;&nbsp;''||rec1.lt||''<br></span>'');',
'     end loop;',
'    end loop;',
'  end if;',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311989450807069405)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(311989261188069404)
,p_button_name=>'RESET_SEARCH'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'Reset'
,p_button_position=>'BOTTOM'
,p_button_redirect_url=>'f?p=&APP_ID.:2:&SESSION.::&DEBUG.:2::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311989648660069405)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(311989261188069404)
,p_button_name=>'SEARCH'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'Search'
,p_button_position=>'BOTTOM'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311989864585069405)
,p_name=>'P1008_HOSTS'
,p_item_sequence=>15
,p_item_plug_id=>wwv_flow_api.id(311989261188069404)
,p_prompt=>'Hosts'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select host_name display_value,host_name return_value from rca13_hosts ',
'where collection_id = :P1008_COLLECTION_ID OR :P1008_COLLECTION_ID is null'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select Host -- '
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311990041130069405)
,p_name=>'P1008_SEARCH1'
,p_item_sequence=>2
,p_item_plug_id=>wwv_flow_api.id(311989261188069404)
,p_prompt=>'Search'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>36
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311990262295069405)
,p_name=>'P1008_SWITCHES'
,p_item_sequence=>35
,p_item_plug_id=>wwv_flow_api.id(311989261188069404)
,p_prompt=>'Switches'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select name display_value,name return_value from rca13_ibs_ss ',
'where ( collection_id = :P1008_COLLECTION_ID OR :P1008_COLLECTION_ID is null ) and type = ''S'''))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select Switch -- '
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select 1 from rca13_ibs_ss ',
'where ( collection_id = :P1008_COLLECTION_ID OR :P1008_COLLECTION_ID is null ) and type = ''S'''))
,p_display_when_type=>'EXISTS'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311990459583069406)
,p_name=>'P1008_CASE_SENSITIVE'
,p_item_sequence=>3
,p_item_plug_id=>wwv_flow_api.id(311989261188069404)
,p_display_as=>'NATIVE_CHECKBOX'
,p_lov=>'STATIC2:Search is case sensitve;Y'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="margin-bottom:2px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'1'
,p_attribute_02=>'VERTICAL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311990647623069406)
,p_name=>'P1008_COLLECTION_ID'
,p_item_sequence=>1
,p_item_plug_id=>wwv_flow_api.id(311989261188069404)
,p_prompt=>'Collection'
,p_display_as=>'NATIVE_POPUP_LOV'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select substr(fn,instr(fn,'' '',1,1)+1) display_value,collection_id return_value from ',
'( select replace(REPLACE(b.filename,''_'','' ''),''.zip'','''') fn,a.collection_id,a.collection_date from rca13_collections a,rca13_docs b where a.collection_id = b.collection_id and nvl(b.attr1,''z'') = ''ZIP_FILE'' and status != ''New'' )',
'order by collection_date  desc'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select Collection --'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_attribute_01=>'NOT_ENTERABLE'
,p_attribute_02=>'FIRST_ROWSET_FILTER'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311990847034069407)
,p_name=>'P1008_CELLS'
,p_item_sequence=>25
,p_item_plug_id=>wwv_flow_api.id(311989261188069404)
,p_prompt=>'Cells'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select name display_value,name return_value from rca13_ibs_ss ',
'where ( collection_id = :P1008_COLLECTION_ID OR :P1008_COLLECTION_ID is null ) and type = ''C'''))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select Cell -- '
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select 1 from rca13_ibs_ss ',
'where ( collection_id = :P1008_COLLECTION_ID OR :P1008_COLLECTION_ID is null ) and type = ''C'''))
,p_display_when_type=>'EXISTS'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(311991257251069407)
,p_name=>'P1008_SEARCH'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(311991063387069407)
,p_pre_element_text=>'<!-- <p style="width: 450px;margin: auto"> -->'
,p_post_element_text=>'<!-- </p> -->'
,p_display_as=>'NATIVE_AUTO_COMPLETE'
,p_lov=>'select distinct line_text from rca13_collection_file_data '
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'class="sSearchFieldBig"'
,p_begin_on_new_line=>'N'
,p_begin_on_new_field=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'CONTAINS_IGNORE'
,p_attribute_04=>'Y'
,p_attribute_06=>'N'
,p_attribute_07=>'N'
,p_attribute_08=>'N'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(312064459125945890)
,p_validation_name=>'P1008_COLLECTION_ID'
,p_validation_sequence=>10
,p_validation=>'P1008_COLLECTION_ID'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'Collection name should not be null'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(311989648660069405)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(311990647623069406)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
end;
/
prompt --application/pages/page_01009
begin
wwv_flow_api.create_page(
 p_id=>1009
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Collection Files'
,p_alias=>'COLLECTIONFILES'
,p_page_mode=>'NORMAL'
,p_step_title=>'Collection Files'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'KAVITHA.DHANASEKAR'
,p_last_upd_yyyymmddhh24miss=>'20150923112759'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312203451186291533)
,p_name=>'Collection Files'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select COLLECTION_FILE_ID,FILE_NAME,SHORT_FILE_NAME from rca13_collection_files where collection_id = :P1009_COLLECTION_ID ',
'and ( :P1009_SEARCH is null or ( :P1009_SEARCH is not null and upper(short_file_name) like ''%''||upper(:P1009_SEARCH)||''%'' ))',
'',
''))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>50
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'Collection is not processed'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312203749023291542)
,p_query_column_id=>1
,p_column_alias=>'COLLECTION_FILE_ID'
,p_column_display_sequence=>1
,p_column_heading=>'COLLECTION_FILE_ID'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312203849365291543)
,p_query_column_id=>2
,p_column_alias=>'FILE_NAME'
,p_column_display_sequence=>3
,p_column_heading=>'File Name Full'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312203944909291543)
,p_query_column_id=>3
,p_column_alias=>'SHORT_FILE_NAME'
,p_column_display_sequence=>2
,p_column_heading=>'File Name Short'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1010:&SESSION.::&DEBUG.:1010:P1010_COLLECTION_FILE_ID:#COLLECTION_FILE_ID#'
,p_column_linktext=>'#SHORT_FILE_NAME#'
,p_heading_alignment=>'LEFT'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312214757523092687)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308565861066852896)
,p_name=>'P1009_CLEAR'
,p_item_sequence=>35
,p_item_plug_id=>wwv_flow_api.id(312203451186291533)
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_begin_on_new_field=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'PLSQL'
,p_attribute_03=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'sys.htp.p(''<a class="itemlink" href="javascript:setValue(''''P1009_SEARCH'''','''''''');apex.submit();" style="font-size:smallest;text-decoration:none;">[ Clear ]</a>'');',
'end;'))
,p_attribute_04=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312202838906838696)
,p_name=>'P1009_COLLECTION_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(312203451186291533)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312213852200929472)
,p_name=>'P1009_DOC_ID'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(312203451186291533)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312217043670260578)
,p_name=>'P1009_SEARCH'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(312203451186291533)
,p_prompt=>'<b>Search for file &nbsp</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>'select 1 from rca13_collection_files where collection_id = :P1009_COLLECTION_ID'
,p_display_when_type=>'EXISTS'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312251239132967455)
,p_name=>'P1009_TRACK_FLAG'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(312203451186291533)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312251458744973558)
,p_computation_sequence=>10
,p_computation_item=>'P1009_TRACK_FLAG'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'1'
,p_compute_when=>'P1009_TRACK_FLAG'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312213963569980883)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Load collection Id'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'select nvl(collection_id,''z'') into :P1009_COLLECTION_ID from rca13_docs where doc_id= :P1009_DOC_ID;',
'/*',
'--Track action',
'if :P1009_TRACK_FLAG = 1 and :P1009_COLLECTION_ID != ''z'' then ',
'  insert into rca13_track_actions(user_id,type,action,action_time,attr1) values(:G_USER_ID,''COL_ZIP'',''VIEW'',localtimestamp,:P1009_COLLECTION_ID); ',
'  :P1009_TRACK_FLAG := 0;',
'end if;',
'*/',
'end;'))
,p_process_when=>'P1009_DOC_ID'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
end;
/
prompt --application/pages/page_01010
begin
wwv_flow_api.create_page(
 p_id=>1010
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'FileContent'
,p_alias=>'FILECONTENT'
,p_page_mode=>'NORMAL'
,p_step_title=>'FileContent'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20130926200501'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312204545139403372)
,p_name=>'File Content'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>'select * from rca13_collection_file_data where collection_file_id = :P1010_COLLECTION_FILE_ID order by line_number'
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_condition_type=>'NEVER'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>250
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312204865623403377)
,p_query_column_id=>1
,p_column_alias=>'COLLECTION_FILE_DATA_ID'
,p_column_display_sequence=>1
,p_column_heading=>'COLLECTION_FILE_DATA_ID'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312204965455403377)
,p_query_column_id=>2
,p_column_alias=>'COLLECTION_FILE_ID'
,p_column_display_sequence=>2
,p_column_heading=>'COLLECTION_FILE_ID'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312205049294403377)
,p_query_column_id=>3
,p_column_alias=>'LINE_TEXT'
,p_column_display_sequence=>3
,p_column_heading=>'LINE_TEXT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312205143472403377)
,p_query_column_id=>4
,p_column_alias=>'FORMATED_LINE'
,p_column_display_sequence=>4
,p_column_heading=>'FORMATED_LINE'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312205251257403377)
,p_query_column_id=>5
,p_column_alias=>'LINE_NUMBER'
,p_column_display_sequence=>5
,p_column_heading=>'LINE_NUMBER'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312215963916331046)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312216251411374690)
,p_plug_name=>'File Content '
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' htp.p(''<br>''); ',
' for rec in ( select line_text lt from rca13_collection_file_data where collection_file_id = :P1010_COLLECTION_FILE_ID ) loop',
'  htp.p(''&nbsp;''||rec.lt);',
'  htp.p(''<br>'');',
' end loop;',
' htp.p(''<br>'');',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_plug_display_when_condition=>'P1010_COLLECTION_FILE_ID'
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312215444226191490)
,p_name=>'P1010_COLLECTION_FILE_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(312204545139403372)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
);
end;
/
prompt --application/pages/page_01011
begin
wwv_flow_api.create_page(
 p_id=>1011
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Most Failed Checks'
,p_alias=>'MOSTFAILEDCHECKS'
,p_page_mode=>'NORMAL'
,p_step_title=>'Most Failed Checks'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function open_dialog (v1) ',
'{',
'  if ( !  document.getElementById(v1+''_rec'').innerHTML )',
'  {',
'    var get = new htmldb_Get(null, &APP_ID., ''APPLICATION_PROCESS=GETRECO'', &APP_PAGE_ID.);',
'    get.add(''G_RATIONAL_CID'' , v1);',
'    gReturn = get.get();',
'    document.getElementById(v1+''_rec'').innerHTML = gReturn;',
'    get = null;',
'  }',
'  var w = $(window).width()-200;',
'  var h = $(window).height()-200;',
'  $(''#''+v1+''_rec'').dialog({',
'      autoOpen: true,',
'      show: {',
'        effect: "blind",',
'        duration: 500',
'      },',
'      hide: {',
'        effect: "explode",',
'        duration: 500',
'      },',
'      width: w,',
'      height: h',
'    });',
'}'))
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'.recommendation {',
'   text-decoration:none;',
'background-image: url(data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gAxSW1hZ2UgUmVzaXplZCBhdCBodHRwOi8vd3d3LnNocmlua3BpY3R1cmVzLmNvbQr/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQE'
||'Bw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAATABMDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0R'
||'FRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzU'
||'vAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDR0yJruC5AyXijUxqGCgkuq4/Wor9xBfSw28rtGjYBbr7j86yoNVe3gmi'
||'QKVnQK2eoAIPH4gVsXVw11pb3aov21EUXY/i2fwvj1PGT9PU1t1JKLTyE5LUVnfax60VQjDtp5Wt43LksVBzVj7XcFy/nPuYYJzyRRRSGZtxeXCzsFkIA9qKKKi5R/9k=);',
'}'))
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20141031013831'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312226657511901464)
,p_name=>'Checks reported with the most &P1011_STATUS.'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'SELECT ''<a id="''||a.CHECK_ID||''" style="cursor:pointer;" class="recommendation" title="Recommendation" onclick="open_dialog(''''''||a.CHECK_ID||'''''');">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a> <div id="''||a.CHECK_ID||''_rec" style="display:none"></div>''||'
||'a.checkName checkName,',
'a.cnt cnt,a.check_id check_id, NVL(b.recommendation, ''No data found'') recommendation',
'FROM  ( select count(1) cnt,check_id, NVL(check_name,param_name) CheckName ',
'FROM auditcheck_result a,',
'( select * from rca13_col2sys_mapping where nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) b,',
'rca13_lob2sys_mapping c',
'where a.collection_date = b.collection_date and a.upload_collection_name = b.collection_name ',
'and b.system_id = c.system_id',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'and status = :P1011_STATUS ',
'AND NOT EXISTS',
'( SELECT 1  FROM rca13_ignored_checks t WHERE t.check_id = a.check_id and t.system_id = c.system_id',
'AND ( t.collection_date IS NULL OR ( t.collection_date   = a.collection_date and t.collection_name = a.upload_collection_name  and acr_id is null) OR a.auditcheck_result_id = t.acr_id) )',
'GROUP BY check_id, NVL(check_name,param_name) ) a, rca13_checks_info b',
'WHERE a.check_id = b.check_id(+)',
'ORDER BY cnt DESC'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>50
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'ROW_RANGES_IN_SELECT_LIST'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312226942386901570)
,p_query_column_id=>1
,p_column_alias=>'CHECKNAME'
,p_column_display_sequence=>1
,p_column_heading=>'Check Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312227050667901588)
,p_query_column_id=>2
,p_column_alias=>'CNT'
,p_column_display_sequence=>2
,p_column_heading=>'Fail Count'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_CHECK_ID,P1002_TIME,P1002_STATUS:#CHECK_ID#,&P1011_TIME.,FAIL'
,p_column_linktext=>'#CNT#'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312227136096901588)
,p_query_column_id=>3
,p_column_alias=>'CHECK_ID'
,p_column_display_sequence=>3
,p_column_heading=>'CHECK_ID'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312227245279901588)
,p_query_column_id=>4
,p_column_alias=>'RECOMMENDATION'
,p_column_display_sequence=>4
,p_column_heading=>'RECOMMENDATION'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312228047065144424)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312310864547571113)
,p_name=>'P1011_STATUS'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(312226657511901464)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
end;
/
prompt --application/pages/page_01012
begin
wwv_flow_api.create_page(
 p_id=>1012
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'All Collections'
,p_alias=>'ALLCOLLECTIONS'
,p_page_mode=>'NORMAL'
,p_step_title=>'All Collections'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'.uGrid_c1 {',
'    clear: none;',
'    float: left;',
'    margin: 0px;',
'}',
'',
'.uGrid_c1.col_4 {',
'    width: 25%;',
'}',
'',
'.uGrid_c1.col_5 {',
'    width: 20%;',
'}',
'',
'ul.uChartList li {',
'    display: block;',
'    margin: 0px !important;',
'}',
'',
'ul.uChartList li small.uLabel {',
' font-weight: normal !important;',
'}',
'',
'.MORE_z { ',
'   display: none;',
'}',
'',
'.rationale_class {',
'',
'}',
'',
'.regionlayout {',
' width:100%;',
'}',
'',
'.alert_1, .alert_2 { ',
'   text-decoration:none;',
'   background-position: center center;',
'   background-repeat: no-repeat;',
'   background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACS0lEQVR4XpWPTUhUYRSGn++7d2ZMMZhoE23atQiEatUPZIUgUkqLaF0t2iUFaa0y2thkGkQErSKyhahlEFSjSZKL0pQwdaGkEKnjNOowvz937mnufItZVfTAC4fvnvvwHjVw68iQ7ermn3asd3Db3Jgucsl'
||'1OeAKiIBSYFvk/Db3teI6CoP5Bv03D8nCy1Y5HELaX9RJ78R5mV59KFvFYUlJuJzx5ZA0dCJnH1TT1MX+xrucawwxfOoeYgOI61J0oKMlzKcfPUSyo3xf6qK2GoqS5+juUXKFNjK5tOzZuY8qu4YL9SGu9tZjAyAmSxsfGVnsJFgL22vAtcARiCRnKTjw6OIkVb5qhAKBgEXRxQgU5p5Ebh1Lg6VMtBcgVYggAlH7BjMrYdZicGbvAGAEg'
||'EIBqfy6JyoHMDOQ9t6B1VQYI/d2f6GMADCLJHJraIWJBm2WS4II2sjQmPekkaIBM2jIOFH8Nvh9kM/BegwQyBHF0lSalRusoVTlhLJg5Fs/qTjENjEAIrAj2IdtgWlHWZZ2ouXZFiDhZghoWJjjVXyRN9PP+YyB091MJlNQFTDNAgHIZuH1fB/5BIM2CAHbx5X4MZpuf2gFYs09JBSGla9c3lVHNxr7zmPTqJDkXWSGZ7NDjNkCFHHJqQJ'
||'vO04sh4LvcQQsAQ1MPOEpMA4oKmwAkZYe0jYGHOWSVQXaNk/SGRzBD/gESktxYIo/oBWgtAYUDi4Znefa1nHatxpwFAh/R3s/z09NoTyVMufklUPem/4tQAEHqfCF/+Q3MMb/H49YVLUAAAAASUVORK5CYII=);',
'',
'}',
'',
'.alert_3 {',
'   text-decoration:none;',
'   background-position: center center;',
'   background-repeat: no-repeat;',
'   background-image: url(data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgBAQEBBwEBCgkLDQoDDQwMDRsUFRAWIBEiIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzctNy'
||'w3N//AABEIABAAEAMBEQACEQEDEQH/xAAVAAEBAAAAAAAAAAAAAAAAAAAFAf/EACMQAAEDAwQCAwAAAAAAAAAAAAECAwcEBSEABggREjETMkH/xAAYAQACAwAAAAAAAAAAAAAAAAADBQEEBv/EACIRAAIBAwMFAQAAAAAAAAAAAAECAwAEEQUxUSEiQYHwEv/aAAwDAQACEQMRAD8ASvu4bpxJ52zps+mnXdiGCXrshvBSD8yk+iM/X91S'
||'nmeN8A1ptJ0+3u7Ys69QceeBVs0qXeWZmgiHqiJIACXH6e2uuJSrspKwD0O8HrULdsSBjeiTaBEiSOHPaCR6FMXHYaOf8mcjpyXyC3TTvCoqrM2kNgpADhOc9nJOjTW4lOSaXadrL2KfhUBB35+9UNZItvEQctImkWpknj2qlZfYuyihavJQSsHoDx940FbVgwOdqYz6/DJA6BTlgR4x1+4r/9k=);',
'}',
'',
'.alert_0 {',
'   pointer-events: none;',
'   cursor: default;',
'   text-decoration:none;',
'   background-position: center center;',
'   background-repeat: no-repeat;',
'   background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACS0lEQVR4XpWPTUhUYRSGn++7d2ZMMZhoE23atQiEatUPZIUgUkqLaF0t2iUFaa0y2thkGkQErSKyhahlEFSjSZKL0pQwdaGkEKnjNOowvz937mnufItZVfTAC4fvnvvwHjVw68iQ7ermn3asd3Db3Jgucsl'
||'1OeAKiIBSYFvk/Db3teI6CoP5Bv03D8nCy1Y5HELaX9RJ78R5mV59KFvFYUlJuJzx5ZA0dCJnH1TT1MX+xrucawwxfOoeYgOI61J0oKMlzKcfPUSyo3xf6qK2GoqS5+juUXKFNjK5tOzZuY8qu4YL9SGu9tZjAyAmSxsfGVnsJFgL22vAtcARiCRnKTjw6OIkVb5qhAKBgEXRxQgU5p5Ebh1Lg6VMtBcgVYggAlH7BjMrYdZicGbvAGAEg'
||'EIBqfy6JyoHMDOQ9t6B1VQYI/d2f6GMADCLJHJraIWJBm2WS4II2sjQmPekkaIBM2jIOFH8Nvh9kM/BegwQyBHF0lSalRusoVTlhLJg5Fs/qTjENjEAIrAj2IdtgWlHWZZ2ouXZFiDhZghoWJjjVXyRN9PP+YyB091MJlNQFTDNAgHIZuH1fB/5BIM2CAHbx5X4MZpuf2gFYs09JBSGla9c3lVHNxr7zmPTqJDkXWSGZ7NDjNkCFHHJqQJ'
||'vO04sh4LvcQQsAQ1MPOEpMA4oKmwAkZYe0jYGHOWSVQXaNk/SGRzBD/gESktxYIo/oBWgtAYUDi4Znefa1nHatxpwFAh/R3s/z09NoTyVMufklUPem/4tQAEHqfCF/+Q3MMb/H49YVLUAAAAASUVORK5CYII=);',
'}',
'',
'.alert_4 {',
'   text-decoration:none;',
'   background-position: center center;',
'   background-repeat: no-repeat;',
'   background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAADVUlEQVR42mL8//8/g7CoOBMPGzPX0vDnDMLCbAFM3Lxmf75'
||'9f/L3+4+Vf3/+e8jEyoAJ/jMw6Lf9ZwAIIBYQW1pCck2WL5eZurv8N35JLVVmHlmGf79/Mvz+fLfy+fHDKz/deVEPVPaSkRmi8f9fBgZmdiYtIO8aQACBDRDh+OoVZc3EziehwvDnL9C6n38YmP4zMXCwCgrIW5imf1Z44P76+sM1P95+O8/MziwprK/nxszILQvUqgUQQGADhDh//uBgE2L/8+4zw38uTqDxP4DW/GP49/ULw/+v3xl4u'
||'fgVuE21S/78+sXAxMbJwCGhy/D66q3jIL0AATgegxUAICAKjsTB//+lFAfFYrOc3uXN1HxBigevC50GhgnRVhUsAxls6Tj7vQIni1Mb0kp+7BWAAypIAQCEQUas/z81KDYIytwOCgqKWAXWH1qGMSRC8FrAE2D6Aus4sV0wFq7PndYXQGADGP79BwoCFf0Dclk/A81hBbvg/w+gF75/AxryHRryQAP+AA348QkYyD/+gIQAAghswK/f/xm'
||'AUQZUwMTAwAE0+A8LxAu/gGygAQxg10EM+A80gOH3VwZmZkZOkBBAAIEN+PKTieHP958MHEDen1/MQBv+Av38n4HpzxeGv2Bv/IIaADT03x8GRqABLGyMAiAhgAACG/D+JxvDt6+fGL7++P7y16t3c77+YnjCxMwszsPJHMPHzKjC9OsPyJcQL/wDuuDXRwZOzl9KIL0AAQQx4Dc3Q+95IYbjFx/Md1X5VuOv/YvhL9AyYGhMe8/GmCTIx'
||'lTDy8LIA4oJRoY/DL++fmD49OHPXZATAAIIbMCff0wMx19JMZx9+vzXqcesDB+B0ZZm/o3h2y+G1z9+/+988fvv2o/MDD5sTAyOwGD6/PPT7x0/fzJskQPqBQggFkjY/GNgZfjFwMn6j+n33/8Ms09yMSgI/mFwUf3F8P032Pd3vv9jmPDtL8MEBrArgJgJEiwAAQSlGBhBmQpEMzMCY+QfI8PEIzwMD94zM7CzQBWAFDNCMCMjIk8BBBD'
||'YgN+/f7N9/vwZrA4IgJr+MzwCap5+nBtsGBMjA04AEECQaPzyZfaPHz/MgMytMAlO1v8Mp4Hh8QGYBPg5ILkQGwAIMACcdF0cXKsEMgAAAABJRU5ErkJggg==);',
'}',
'',
'.recommendation {',
'   text-decoration:none;',
'   background-position: center center;',
'   background-repeat: no-repeat;',
'background-image: url(data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gAxSW1hZ2UgUmVzaXplZCBhdCBodHRwOi8vd3d3LnNocmlua3BpY3R1cmVzLmNvbQr/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQE'
||'Bw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAATABMDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0R'
||'FRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzU'
||'vAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDR0yJruC5AyXijUxqGCgkuq4/Wor9xBfSw28rtGjYBbr7j86yoNVe3gmi'
||'QKVnQK2eoAIPH4gVsXVw11pb3aov21EUXY/i2fwvj1PGT9PU1t1JKLTyE5LUVnfax60VQjDtp5Wt43LksVBzVj7XcFy/nPuYYJzyRRRSGZtxeXCzsFkIA9qKKKi5R/9k=);',
'}',
'',
'.badge-score {',
'background-color:grey;',
'}',
'.label-pass, .badge-pass {',
'//background-color: #468847;',
'background-color: #52BA25;',
'}',
'.label-fail, .badge-fail {',
'background-color: #b94a48;',
'}',
'.label-ignore, .badge-ignore {',
'background-color: #EEBC00;',
'}',
'.label-info, .badge-info {',
'background-color: #3a87ad;',
'}',
'.label-warning, .badge-warning {',
'background-color: #f89406;',
'}',
'.label {',
'-webkit-border-radius: 3px;',
'-moz-border-radius: 3px;',
'border-radius: 3px;',
'}',
'.label, .badge {',
'display: inline-block;',
'padding: 2px 4px;',
'font-size: 11.844px;',
'//font-weight: bold;',
'line-height: 14px;',
'//color: #ffffff;',
'text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);',
'white-space: nowrap;',
'vertical-align: baseline;',
'color:white;',
'text-decoration:none;',
'//background-color: #999999;',
'}',
'',
'.badge {',
'padding-right: 9px;',
'padding-left: 9px;',
'width:25px;',
'//-webkit-border-radius: 9px;',
'//-moz-border-radius: 9px;',
'//border-radius: 9px;',
'}',
'.activeFlag { ',
' background-color : #9BBAE6 !important;',
'}',
'',
'#FLAG_A .activeFlag {',
'',
'}',
'',
'ul.uChartList li a {',
' background-color: none !important;',
'}',
'',
'',
''))
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'ORACHKCM'
,p_last_upd_yyyymmddhh24miss=>'20160829225718'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312324453031939713)
,p_plug_name=>'Flag Filters'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713433409910731)
,p_plug_display_sequence=>4
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'sys.htp.prn(''<ul class="uChartList">'');',
'',
'sys.htp.prn(''<li class="uNumber uGrid_c1 col_4 col_start">',
'    <a id="FLAG_All" href="f?p=''||:APP_ID||'':1012:''||:APP_SESSION||''::::P1012_FLAG_FILTER:All">',
'      <small class="uLabel">All</small>',
'    </a>',
'  </li>'');',
'',
'sys.htp.prn(''<li class="uNumber uGrid_c1 col_4">',
'    <a id="FLAG_RED" href="f?p=''||:APP_ID||'':1012:''||:APP_SESSION||''::::P1012_FLAG_FILTER:RED">',
'      <small class="uLabel alert_3">-</small>',
'    </a>',
'  </li>'');',
'  ',
'sys.htp.prn(''<li class="uNumber uGrid_c1 col_4">',
'    <a id="FLAG_ORANGE" href="f?p=''||:APP_ID||'':1012:''||:APP_SESSION||''::::P1012_FLAG_FILTER:ORANGE">',
'      <small class="uLabel alert_4">-</small>',
'    </a>',
'  </li>'');',
'',
'sys.htp.prn(''<li class="uNumber uGrid_c1 col_4">',
'    <a id="FLAG_GREEN"  href="f?p=''||:APP_ID||'':1012:''||:APP_SESSION||''::::P1012_FLAG_FILTER:GREEN">',
'      <small class="uLabel alert_1">-</small>',
'    </a>',
'  </li>'');',
'sys.htp.prn(''</ul>'');'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'NEVER'
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312415547601707386)
,p_name=>'Collections'
,p_template=>wwv_flow_api.id(6040713433409910731)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_css_classes=>'uRegionNoPadding'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style="width:100%;padding:0px;"'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'q varchar2(32000);',
'q1 varchar2(400) := NULL;',
'q2 varchar2(400) := NULL;',
'q3 varchar2(400) := NULL;',
'q4 varchar2(400) := NULL;',
'q5 varchar2(100) := NULL;',
'q6 varchar2(400) := NULL;',
'q7 varchar2(400) := NULL;',
'q8 varchar2(400) := NULL;',
'begin',
'q := ''   SELECT  /*+ FIRST_ROWS */ upload_collection_name,',
'decode(cid,''''z'''',''''All'''',decode((select nvl(profiles,''''z'''') from rca13_collections where collection_id = cid ),''''z'''',''''All'''',',
'(select profiles from rca13_collections where collection_id = cid ) )) RunType,',
'( select sr_bug_num from rca13_docs where collection_id = cid and attr1=''''ZIP_FILE'''' ) sr_bug_num,',
'collectionDate,flag,collection_id,failCount, wc,ic,pc,igc,diffId,score,score_o,ucn,inc,sysInfo,colDate,VerUser,cn',
'FROM ( SELECT upload_collection_name,collectionDate,collectionDate as colDate,diff_type AS flag,',
'  collection_id,failCount, wc,ic,pc,igc,diffId,score||''''%'''' AS score,score as score_o,ucn,verUser,collection_id cid,',
'  case ',
'      when tic is null then',
'        ''''<a href="f?p=&APP_ID.:15:&SESSION.:::15,16,17:P15_RCA13_CDATE,P15_RCA13_CNAME,P15_RCA13_TYPE:''''||collectionDate||''''|''''||ucn||'''',''''||ucn||'''',COLLECTION" title="Raise ticket" style="text-decoration:none;"><font color="RED">&#9650</font></a>''''',
'      else ',
'            case ',
'               when substr(tic,instr(tic,'''':'''',1,1)+1) >= 80 then',
'                 ''''<a href="f?p=&APP_ID.:50:&SESSION.:::50:P50_ID:''''||substr(tic,1,instr(tic,'''':'''',1,1)-1)||''''" title="Ticket Closed" style="text-decoration:none;"><font color="GREEN">&#9650</font</a>''''',
'                 else',
'                   ''''<a href="f?p=&APP_ID.:50:&SESSION.:::50:P50_ID:''''||substr(tic,1,instr(tic,'''':'''',1,1)-1)||''''" title="View Ticket" style="text-decoration:none;"><font color="blue">&#9650</font></a>''''',
'            end      ',
'  end as inc,',
'  sysInfo,cn',
'from (',
'SELECT SUBSTR(REPLACE(a.collection_name, ''''_'''', '''' ''''),instr(REPLACE(a.collection_name, ''''_'''', '''' ''''),'''' '''',1,1)+1) as upload_collection_name,a.collection_name cn, ',
'       a.collection_date collectionDate,a.collection_name ucn,diff_id as diffId,',
'       nvl(f_count,0) failCount,nvl(w_count,0) wc,nvl(i_count,0) ic,nvl(p_count,0) pc,nvl(ig_count,0) igc,score,NVL(a.collection_id,''''z'''') collection_id,',
'       ( select t1.ticket_id||'''':''''||t2.status_code from RCA13_AC_TICKETS t1,RCA13_intrack_incidents t2 ',
'       where t1.collection_date = a.collection_date and t1.type = ''''COLLECTION'''' and t1.ticket_id = t2.id and rownum = 1 ) tic,',
'       f.lob_name||'''': ''''||g.system_name sysInfo,diff_type,',
'decode(a.collection_id,null,''''NA'''',(select nvl(tool_version,''''NA'''')||'''' / ''''||nvl(current_user,''''NA'''') from rca13_collections t where t.collection_id = a.collection_id)) VerUser',
'FROM rca13_collections_md a,rca13_collection_values b,',
'( select * from rca13_col2sys_mapping where :P1012_IGNORE_DI = 1 or nvl(:P0_TIME,''''All'''') = ''''All'''' OR ( :P0_TIME != ''''All'''' and collection_date > sysdate - :P0_TIME ) )c,',
'rca13_lob2sys_mapping d,rca13_diff_info e,rca13_lobs f,rca13_systems g  ',
'where a.collection_date = b.collection_date and a.collection_name = b.collection_name',
'and a.collection_date = c.collection_date and a.collection_name = c.collection_name',
'and c.system_id = d.system_id',
'and a.collection_date = e.cur_col_date and a.collection_name = e.cur_col_name ',
'and d.lob_id = f.lob_id and d.system_id = g.system_id',
'and ( :P0_BUSINESS_UNITS = ''''All'''' OR d.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''''All'''' OR d.system_id = :P0_SYS_FILTER )',
')',
') where 1 = 1 '';',
'',
'if :P1012_SEARCH IS NOT NULL then',
' q1 := '' and upper(ucn) LIKE ''''%''''||upper(REPLACE(trim(:P1012_SEARCH),'''' '''',''''_''''))||''''%'''' '';',
'end if;',
'',
'if :P1012_FLAG_FILTER is not null and :P1012_FLAG_FILTER != ''All'' then',
' if :P1012_FLAG_FILTER = ''RED'' then',
'   q2 := '' and flag = 3 '';',
' elsif :P1012_FLAG_FILTER = ''ORANGE'' then',
'   q2 := '' and flag = 4 '';',
' elsif :P1012_FLAG_FILTER = ''GREEN'' then',
'   q2 := '' and ( flag = 1 or flag = 2 or flag = 0 ) '';',
' end if;',
'end if;',
'/*',
'if :P1012_SCORE_LB is not null and :P1012_SCORE_UB is not null then ',
'  q3 := '' and score_o >= :P1012_SCORE_LB and score_o <= :P1012_SCORE_UB '';',
'  --q3 := '' and score_o BETWEEN :P1012_SCORE_LB and :P1012_SCORE_UB '';',
'end if;',
'*/',
'',
'if :P1012_PROFILES is not null then ',
' q8 := '' and exists ( select 1 from rca13_collections where collection_id = cid ',
'                      and ( '''', ''''||profiles||'''', '''' like ''''%, ''''||:P1012_PROFILES||'''', %''''  OR :P1012_PROFILES = ''''All'''' ) ) '';',
'end if;',
'',
'q := q || q1 || q2 || q3 || q8;',
'return q;',
'end;'))
,p_source_type=>'NATIVE_FNC_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>100
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'No collections Found'
,p_query_num_rows_type=>'ROW_RANGES_IN_SELECT_LIST'
,p_query_row_count_max=>5000
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'REPEAT_HEADINGS_ON_BREAK_1'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_prn_format=>'PDF'
,p_prn_output_show_link=>'Y'
,p_prn_output_link_text=>'Print'
,p_prn_content_disposition=>'ATTACHMENT'
,p_prn_document_header=>'APEX'
,p_prn_units=>'INCHES'
,p_prn_paper_size=>'LETTER'
,p_prn_width_units=>'PERCENTAGE'
,p_prn_width=>11
,p_prn_height=>8.5
,p_prn_orientation=>'HORIZONTAL'
,p_prn_page_header_font_color=>'#000000'
,p_prn_page_header_font_family=>'Helvetica'
,p_prn_page_header_font_weight=>'normal'
,p_prn_page_header_font_size=>'12'
,p_prn_page_footer_font_color=>'#000000'
,p_prn_page_footer_font_family=>'Helvetica'
,p_prn_page_footer_font_weight=>'normal'
,p_prn_page_footer_font_size=>'12'
,p_prn_header_bg_color=>'#9bafde'
,p_prn_header_font_color=>'#ffffff'
,p_prn_header_font_family=>'Helvetica'
,p_prn_header_font_weight=>'normal'
,p_prn_header_font_size=>'10'
,p_prn_body_bg_color=>'#efefef'
,p_prn_body_font_color=>'#000000'
,p_prn_body_font_family=>'Helvetica'
,p_prn_body_font_weight=>'normal'
,p_prn_body_font_size=>'10'
,p_prn_border_width=>.5
,p_prn_page_header_alignment=>'CENTER'
,p_prn_page_footer_alignment=>'CENTER'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312415947140707638)
,p_query_column_id=>1
,p_column_alias=>'UPLOAD_COLLECTION_NAME'
,p_column_display_sequence=>4
,p_column_heading=>'Collection Name'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_COLLECTION_DATE:#COLDATE#|#CN#'
,p_column_linktext=>'#UPLOAD_COLLECTION_NAME#'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312167166398851177)
,p_query_column_id=>2
,p_column_alias=>'RUNTYPE'
,p_column_display_sequence=>5
,p_column_heading=>'Profiles'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312372344018136233)
,p_query_column_id=>3
,p_column_alias=>'SR_BUG_NUM'
,p_column_display_sequence=>1
,p_column_heading=>'SR/Bug#'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_when_cond_type=>'EXISTS'
,p_display_when_condition=>'select 1 from rca13_intrack_preferences where preference_name=''SHOW_SR_BUG_INFO'' and preference_value=''Y'''
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312416051273707638)
,p_query_column_id=>4
,p_column_alias=>'COLLECTIONDATE'
,p_column_display_sequence=>2
,p_column_heading=>'Collection Date'
,p_use_as_row_header=>'N'
,p_column_format=>'DD-MON-YYYY HH24:MI:SS'
,p_heading_alignment=>'LEFT'
,p_default_sort_column_sequence=>1
,p_default_sort_dir=>'desc'
,p_disable_sort_column=>'N'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312416141000707639)
,p_query_column_id=>5
,p_column_alias=>'FLAG'
,p_column_display_sequence=>6
,p_column_heading=>'Alert Flag'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1003:&SESSION.::&DEBUG.:1003:P1003_DIFF_ID:#DIFFID#'
,p_column_linktext=>'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'
,p_column_link_attr=>'class="alert_#FLAG#"  title="Comparison result between current and preceding collection&#013; Green Flag    - No difference OR No regression failed in current colection&#013; Orange Flag - At least one regression from Non-WARNING to WARNING&#013;    '
||'                      OR Found WARNING regression in current collection&#013; Red Flag        - At least one regression from Non-FAIL to FAIL&#013;                           OR Found FAIL regression in current collection&#013; Non clickable green fla'
||'g - Preceding collection not found"'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312416763927707640)
,p_query_column_id=>6
,p_column_alias=>'COLLECTION_ID'
,p_column_display_sequence=>16
,p_column_heading=>'More Info'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1006:&SESSION.::&DEBUG.:1006:P1006_COLLECTION_ID:#COLLECTION_ID#'
,p_column_linktext=>'More Info'
,p_column_link_attr=>'class="MORE_#COLLECTION_ID#"'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312416245100707640)
,p_query_column_id=>7
,p_column_alias=>'FAILCOUNT'
,p_column_display_sequence=>8
,p_column_heading=>'Fail#'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_COLLECTION_DATE,P1002_STATUS:#COLDATE#|#CN#,FAIL'
,p_column_linktext=>'<span class="badge badge-fail" title="Fail Count">#FAILCOUNT#</span>'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312416340991707640)
,p_query_column_id=>8
,p_column_alias=>'WC'
,p_column_display_sequence=>9
,p_column_heading=>'Warning#'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_COLLECTION_DATE,P1002_STATUS:#COLDATE#|#CN#,WARNING'
,p_column_linktext=>'<span class="badge badge-warning" title="Warning Count">#WC#</span>'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308582439048396297)
,p_query_column_id=>9
,p_column_alias=>'IC'
,p_column_display_sequence=>10
,p_column_heading=>'Info#'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_COLLECTION_DATE,P1002_STATUS:#COLDATE#|#CN#,INFO'
,p_column_linktext=>'<span class="badge badge-info" title="Info Count">#IC#</span>'
,p_disable_sort_column=>'N'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312416446587707640)
,p_query_column_id=>10
,p_column_alias=>'PC'
,p_column_display_sequence=>11
,p_column_heading=>'Pass#'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_COLLECTION_DATE,P1002_STATUS:#COLDATE#|#CN#,PASS'
,p_column_linktext=>'<span class="badge badge-pass" title="Pass Count">#PC#</span>'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308585363485869436)
,p_query_column_id=>11
,p_column_alias=>'IGC'
,p_column_display_sequence=>12
,p_column_heading=>'Ignores#'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_COLLECTION_DATE,P1002_STATUS:#COLDATE#|#CN#,IGNORE'
,p_column_linktext=>'<span class="badge badge-ignore" title="Ignore Count">#IGC#</span>'
,p_disable_sort_column=>'N'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312416564652707640)
,p_query_column_id=>12
,p_column_alias=>'DIFFID'
,p_column_display_sequence=>13
,p_column_heading=>'DIFFID'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312416652361707640)
,p_query_column_id=>13
,p_column_alias=>'SCORE'
,p_column_display_sequence=>7
,p_column_heading=>'Score'
,p_use_as_row_header=>'N'
,p_column_html_expression=>'<span class="badge badge-score" title="Score">#SCORE#</span>'
,p_heading_alignment=>'LEFT'
,p_disable_sort_column=>'N'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312415743101707631)
,p_query_column_id=>14
,p_column_alias=>'SCORE_O'
,p_column_display_sequence=>17
,p_column_heading=>'Score Orig'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312415864592707638)
,p_query_column_id=>15
,p_column_alias=>'UCN'
,p_column_display_sequence=>18
,p_column_heading=>'UploadColName'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312440058476647438)
,p_query_column_id=>16
,p_column_alias=>'INC'
,p_column_display_sequence=>3
,p_column_heading=>'Incident'
,p_use_as_row_header=>'N'
,p_disable_sort_column=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_report_column_width=>6
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312692562611622681)
,p_query_column_id=>17
,p_column_alias=>'SYSINFO'
,p_column_display_sequence=>14
,p_column_heading=>'BU/SYS Info'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(307782757242366156)
,p_query_column_id=>18
,p_column_alias=>'COLDATE'
,p_column_display_sequence=>19
,p_column_heading=>'Coldate'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(310960240498881500)
,p_query_column_id=>19
,p_column_alias=>'VERUSER'
,p_column_display_sequence=>15
,p_column_heading=>'Version / User'
,p_disable_sort_column=>'N'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312103442882533798)
,p_query_column_id=>20
,p_column_alias=>'CN'
,p_column_display_sequence=>20
,p_column_heading=>'Cn'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308396537576341217)
,p_name=>'P1012_SYS_FILTER'
,p_item_sequence=>4
,p_item_plug_id=>wwv_flow_api.id(312415547601707386)
,p_prompt=>'<b>Select &SYS_NAME.</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select b.lob_name||'': ''||c.system_name display_value,c.system_id return_value',
'from rca13_lob2sys_mapping a,rca13_lobs b,rca13_systems c',
'where a.lob_id = b.lob_id and a.system_id = c.system_id',
'and ( :P1012_BUSINESS_UNITS = ''All'' OR :P1012_BUSINESS_UNITS = a.lob_id )',
'order by display_value'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'All &SYS_NAME.'
,p_lov_null_value=>'All'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312175261458745784)
,p_name=>'P1012_IGNORE_DI'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(312415547601707386)
,p_display_as=>'NATIVE_CHECKBOX'
,p_lov=>'STATIC2:Ignore Data Interval;1'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'onClick="javascript:doSubmit(''P1012_IGNORE_DI'');"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'1'
,p_attribute_02=>'VERTICAL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312175639245756082)
,p_name=>'P1012_FIRST_VISIT'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(312415547601707386)
,p_item_default=>'1'
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312242336802468524)
,p_name=>'P1012_SEARCH'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(312415547601707386)
,p_prompt=>'<b>Search for collection</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>1
,p_new_grid=>true
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312324236062894169)
,p_name=>'P1012_CLEAR'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(312415547601707386)
,p_prompt=>'Clear'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_begin_on_new_field=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717204815910739)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'PLSQL'
,p_attribute_03=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'sys.htp.p(''<a class="itemlink" href="javascript:setValue(''''P1012_SEARCH'''','''''''');apex.submit();" style="font-size:smallest;text-decoration:none;">[ Clear ]</a>'');',
'end;'))
,p_attribute_04=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312328762876854089)
,p_name=>'P1012_FLAG_FILTER'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(312324453031939713)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312331052493162721)
,p_name=>'P1012_SCORE_UB'
,p_item_sequence=>40
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312331243435166914)
,p_name=>'P1012_SCORE_LB'
,p_item_sequence=>35
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312358446001635170)
,p_name=>'P1012_PROFILES'
,p_item_sequence=>21
,p_item_plug_id=>wwv_flow_api.id(312415547601707386)
,p_prompt=>'<b>Filter by Profiles</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'with t as (select distinct profiles from rca13_collections where nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ))',
'SELECT  distinct REGEXP_SUBSTR(profiles,''[0-9]+|[a-z]+|[A-Z]+'',1,lvl) as display_value, ',
'REGEXP_SUBSTR(profiles,''[0-9]+|[a-z]+|[A-Z]+'',1,lvl) as return_value FROM',
'(SELECT distinct profiles,level lvl FROM',
't CONNECT BY level <= LENGTH(profiles) - LENGTH(REPLACE(profiles,'','')) + 1) '))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_colspan=>1
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'with t as (select distinct profiles from rca13_collections where nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ))',
'SELECT  distinct REGEXP_SUBSTR(profiles,''[0-9]+|[a-z]+|[A-Z]+'',1,lvl) as display_value, ',
'REGEXP_SUBSTR(profiles,''[0-9]+|[a-z]+|[A-Z]+'',1,lvl) as return_value FROM',
'(SELECT distinct profiles,level lvl FROM',
't CONNECT BY level <= LENGTH(profiles) - LENGTH(REPLACE(profiles,'','')) + 1) '))
,p_display_when_type=>'EXISTS'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312690554965216062)
,p_name=>'P1012_BUSINESS_UNITS'
,p_item_sequence=>2
,p_item_plug_id=>wwv_flow_api.id(312415547601707386)
,p_item_default=>'All'
,p_prompt=>'<b>&BU_NAME.</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct a.lob_name display_value,a.lob_id return_value from rca13_lobs a,rca13_lob2sys_mapping ',
'where a.lob_id = rca13_lob2sys_mapping.lob_id',
'order by display_value',
''))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'All &BU_NAME.'
,p_lov_null_value=>'All'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
end;
/
begin
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(308396756757347496)
,p_computation_sequence=>10
,p_computation_item=>'P1012_SYS_FILTER'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'All'
,p_compute_when=>'P1012_SYS_FILTER'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(308515547057482083)
,p_computation_sequence=>10
,p_computation_item=>'P1012_FLAG_FILTER'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'All'
,p_compute_when=>'P1012_FLAG_FILTER'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312697259712452533)
,p_computation_sequence=>10
,p_computation_item=>'P1012_BUSINESS_UNITS'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'All'
,p_compute_when=>'P1012_BUSINESS_UNITS'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(308399467659146474)
,p_name=>'change flag button color on click'
,p_event_sequence=>10
,p_triggering_element_type=>'ITEM'
,p_triggering_element=>'P1012_FLAG_FILTER'
,p_condition_element=>'P1012_FLAG_FILTER'
,p_triggering_condition_type=>'IN_LIST'
,p_triggering_expression=>'All,RED,ORANGE,GREEN'
,p_bind_type=>'bind'
,p_bind_event_type=>'apexafterrefresh'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(308399743337146562)
,p_event_id=>wwv_flow_api.id(308399467659146474)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_JAVASCRIPT_CODE'
,p_attribute_01=>wwv_flow_string.join(wwv_flow_t_varchar2(
'var rVal = $(''#P1012_FLAG_FILTER'').val();',
'var obj = document.getElementById( ''FLAG_''+rVal);',
'obj.className = obj.className + ''activeFlag'';'))
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308571960421914521)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Reset sys filter'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'if :REQUEST = ''P1012_BUSINESS_UNITS'' and :P1012_BUSINESS_UNITS = ''All'' then --No need to reset values',
'  NULL;',
'else -- We need to reset values',
'  :P1012_SYS_FILTER := ''All''; ',
'end if;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when=>'P1012_BUSINESS_UNITS'
,p_process_when_type=>'REQUEST_IN_CONDITION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312175939834896746)
,p_process_sequence=>20
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Set Ignore DI'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' if  nvl(:P1012_FIRST_VISIT,1) = 1 and :P1012_IGNORE_DI is null then',
'   :P1012_IGNORE_DI := 1;',
'   :P1012_FIRST_VISIT := 0;',
' end if;',
'end;'))
);
end;
/
prompt --application/pages/page_01013
begin
wwv_flow_api.create_page(
 p_id=>1013
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Recent Activity'
,p_alias=>'RECENTACTIVITY'
,p_page_mode=>'NORMAL'
,p_step_title=>'Recent Activity'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131212053347'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312258058878894423)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312258262125904771)
,p_plug_name=>'Recent Activity'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_2'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare ',
'  l_cnt integer := 0;',
'  l_max integer := 200;',
'  attr1 varchar2(1000);',
'  attr2 varchar2(1000);',
'  attr3 varchar2(1000);',
'begin',
'',
'sys.htp.p(''<ul class="vapList">'');',
'',
'for c1 in (',
'',
'select  0 id,null subject,null created,null created_by,a.created updated,a.created_by updated_by,',
''''' PRODUCT_NAME,0 row_version_number,action_on,action,collection_date,attr1,b.system_name sysName',
'from rca13_track_actions a,rca13_systems b,rca13_lob2sys_mapping c',
'where a.system_id = b.system_id and b.system_id = c.system_id',
'',
'UNION ALL',
'',
'select a.id, a.subject, a.created, a.created_by, a.updated, a.updated_by, PRODUCT_NAME, a.row_version_number,',
'null type,null action,null collection_date,null attr1,null sysName',
'from RCA13_intrack_incidents_view a,rca13_ac_tickets b,rca13_lob2sys_mapping c',
'where a.id = b.ticket_id and b.system_id = c.system_id',
'order by updated desc ',
')  loop',
'  begin',
'  -- if it is my activity, continue if uid !=  :G_USER_ID',
'  if :P1013_IS_MINE = 1 then ',
'    --continue when c1.usr_id != :G_USER_ID;',
'    null;',
'  end if;',
'  l_cnt := l_cnt+1;',
'  ',
'  if  c1.id = 0 then -- Non ticket actions',
'    sys.htp.p(''<li><span>'');',
'    /* -- Not tracking view actions',
'    if c1.type = ''COLLECTION'' then ',
'     select upload_collection_name into attr1 from rca13_auditcheck_result_view where collection_date = c1.collection_date;',
'     sys.htp.prn(''Collection <a href="''|| apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002,:P1002_COLLECTION_DATE:''||sys.htf.escape_sc(c1.collection_date))||''">''||sys.htf.escape_sc(attr1));',
'     sys.htp.prn(''</a> Viewed by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated)));',
'    elsif c1.type = ''COL_ZIP'' then  ',
'     select filename into attr1 from rca13_docs where collection_id = c1.attr1 and attr1 = ''ZIP_FILE'';',
'     sys.htp.prn(''Collection zip <a href="''|| apex_util.prepare_url(''f?p=''||:APP_ID||'':1006:''||:APP_SESSION||''::NO:RP,1006,:P1006_COLLECTION_ID:''||sys.htf.escape_sc(c1.attr1))||''">''||sys.htf.escape_sc(attr1));',
'     sys.htp.prn(''</a> viewed by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated)));',
'    */ ',
'    if c1.action = ''IGNORE'' then       ',
'       if c1.action_on = ''CHECK'' and c1.collection_date is not null then -- Ignore on a collection of a system or a particular check',
'          select nvl(check_name,param_name),upload_collection_name into attr1,attr2 ',
'          from auditcheck_result where collection_date = c1.collection_date and check_id = c1.attr1 and rownum = 1; ',
'          sys.htp.prn(''Check <a href="''|| apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002,:P1002_COLLECTION_DATE,P1002_CHECK_ID:''||sys.htf.escape_sc(c1.collection_date)||'',''||c1.attr1)||''">''||sys.htf.escape_sc(attr1));',
'          sys.htp.prn(''</a> is ignored from collection ''||c1.sysName||'': ''||attr2||'' by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated)));     ',
'       else --Ignore from system',
'          select nvl(check_name,param_name) into attr1 from auditcheck_result where check_id = c1.attr1 and rownum = 1;   ',
'          sys.htp.prn(''Check <a href="''|| apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002,:P1002_CHECK_ID:''||c1.attr1)||''">''||sys.htf.escape_sc(attr1));',
'          sys.htp.prn(''</a> is ignored from system ''||c1.sysName||'' by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated)));                 ',
'       end if;',
'    elsif c1.action = ''UNIGNORE'' then  ',
'       if c1.action_on = ''CHECK'' and c1.collection_date is not null then ',
'          select nvl(check_name,param_name),upload_collection_name into attr1,attr2 ',
'          from auditcheck_result where collection_date = c1.collection_date and check_id = c1.attr1 and rownum = 1; ',
'          sys.htp.prn(''Check <a href="''|| apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002,:P1002_COLLECTION_DATE,P1002_CHECK_ID:''||sys.htf.escape_sc(c1.collection_date)||'',''||c1.attr1)||''">''||sys.htf.escape_sc(attr1));',
'          sys.htp.prn(''</a> is un-ignored from collection ''||c1.sysName||'': ''||attr2||'' by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated)));     ',
'       else',
'          select nvl(check_name,param_name) into attr1 from auditcheck_result where check_id = c1.attr1 and rownum = 1;   ',
'          sys.htp.prn(''Check <a href="''|| apex_util.prepare_url(''f?p=''||:APP_ID||'':1002:''||:APP_SESSION||''::NO:RP,1002,:P1002_CHECK_ID:''||c1.attr1)||''">''||sys.htf.escape_sc(attr1));',
'          sys.htp.prn(''</a> is un-ignored from system ''||c1.sysName||'' by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated)));                 ',
'       end if;',
'    end if;  ',
'    sys.htp.prn(''</span></li>''); ',
'  else',
'    -- Ticket Actions',
'    sys.htp.p(''<li><span> Ticket <a href="''||apex_util.prepare_url(''f?p=''||:APP_ID||'':50:''||:APP_SESSION||''::NO:RP,50,:P50_ID:''||sys.htf.escape_sc(c1.id))||''">''||sys.htf.escape_sc(substr(c1.subject,1,50)));',
'    if c1.row_version_number = 1 then',
'      sys.htp.prn(''</a> created by <strong>''||sys.htf.escape_sc(lower(c1.created_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.created))||''</span></li>'');',
'    else',
'      sys.htp.prn(''</a> updated by <strong>''||sys.htf.escape_sc(lower(c1.updated_by))||''</strong> ''||sys.htf.escape_sc(apex_util.get_since(c1.updated))||''</span></li>'');',
'    end if;',
'  end if;',
'',
'  if l_cnt = l_max then',
'      exit;',
'  end if;',
'  exception when others then null;',
'  end;',
'end loop;',
'',
'sys.htp.p(''</ul>'');',
'',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312258535778910994)
,p_name=>'P1013_IS_MINE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(312258262125904771)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312258752156918583)
,p_name=>'P1013_MESSAGE'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(312258262125904771)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312258854338940320)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'message'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'  :P1013_MESSAGE := NULL;',
'  if :P1013_IS_MINE = 1 then ',
'    :P1013_MESSAGE := ''My '';',
'  end if;',
'end;'))
);
end;
/
prompt --application/pages/page_01014
begin
wwv_flow_api.create_page(
 p_id=>1014
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'IgnoredChecks'
,p_alias=>'IGNOREDCHECKS'
,p_page_mode=>'NORMAL'
,p_step_title=>'IgnoredChecks'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131211051844'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312402954012303219)
,p_name=>'Ignored checks'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'SELECT DISTINCT ignore_id,a.check_id,b.checkName,a.system_id,',
'decode(a.collection_date,null,e.lob_name||'': ''||c.system_name,e.lob_name||'': ''||',
'(select upload_collection_name from auditcheck_result where collection_date = a.collection_date and rownum = 1)) iFrom,',
'a.created_by,  a.created,  a.collection_date',
'FROM rca13_ignored_checks a,( SELECT DISTINCT t2.check_id, NVL(t1.check_name,t1.param_name) checkName  FROM auditcheck_result t1,',
'     (SELECT check_id, MAX(collection_date) collection_date FROM auditcheck_result  GROUP BY check_id ) t2',
'     WHERE t1.check_id      = t2.check_id  AND t1.collection_date = t2.collection_date  ) b,',
'     rca13_systems c,rca13_lob2sys_mapping d,rca13_lobs e',
'WHERE a.check_id  = b.check_id',
'and a.system_id = c.system_id',
'and c.system_id = d.system_id',
'and d.lob_id = e.lob_id',
'order by a.created desc '))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>100
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312403250063303241)
,p_query_column_id=>1
,p_column_alias=>'IGNORE_ID'
,p_column_display_sequence=>1
,p_column_heading=>'IGNORE_ID'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312403341100303246)
,p_query_column_id=>2
,p_column_alias=>'CHECK_ID'
,p_column_display_sequence=>2
,p_column_heading=>'CHECK_ID'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312403945462387218)
,p_query_column_id=>3
,p_column_alias=>'CHECKNAME'
,p_column_display_sequence=>3
,p_column_heading=>'Check Name'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_CHECK_ID,P1002_FIRST_VISIT,P1002_STATUS,P1002_SYS_FILTER:#CHECK_ID#,0,IGNORE,#SYSTEM_ID#'
,p_column_linktext=>'#CHECKNAME#'
,p_heading_alignment=>'LEFT'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312752040721129193)
,p_query_column_id=>4
,p_column_alias=>'SYSTEM_ID'
,p_column_display_sequence=>8
,p_column_heading=>'System Id'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312403458268303246)
,p_query_column_id=>5
,p_column_alias=>'IFROM'
,p_column_display_sequence=>4
,p_column_heading=>'Ignored From'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312750155849818367)
,p_query_column_id=>6
,p_column_alias=>'CREATED_BY'
,p_column_display_sequence=>5
,p_column_heading=>'Ignored By'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312403656046303246)
,p_query_column_id=>7
,p_column_alias=>'CREATED'
,p_column_display_sequence=>6
,p_column_heading=>'Ignored On'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312427559690766960)
,p_query_column_id=>8
,p_column_alias=>'COLLECTION_DATE'
,p_column_display_sequence=>7
,p_column_heading=>'Collection Date'
,p_heading_alignment=>'LEFT'
,p_hidden_column=>'Y'
);
end;
/
prompt --application/pages/page_01015
begin
wwv_flow_api.create_page(
 p_id=>1015
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Line Of Business'
,p_alias=>'MANGELOBS'
,p_page_mode=>'NORMAL'
,p_step_title=>'Line Of Business'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20140109040737'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312475338072750712)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312475543529771212)
,p_plug_name=>'&BU_NAME. Details'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_plug_footer=>'<font color="RED">Nore:</font>If you wanted to delete &BU_NAME., first you need to un-map the systems which were mapped to the business unit.'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312479360806173588)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(312475543529771212)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CHANGE'
,p_button_condition=>'P1015_LOB_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_database_action=>'UPDATE'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312476266778806323)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(312475543529771212)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:1016:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312481267779554065)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(312475543529771212)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Create'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>'P1015_LOB_ID'
,p_button_condition_type=>'ITEM_IS_NULL'
,p_grid_new_grid=>false
,p_database_action=>'INSERT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312476448340819931)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(312475543529771212)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1015_LOB_ID is not null and :P1015_LOB_ID != ''SAMPLE'' then',
' return true;',
'else',
' return false;',
'end if;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
,p_database_action=>'DELETE'
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(308588850096657928)
,p_branch_name=>'After changes applied'
,p_branch_action=>'f?p=&APP_ID.:1016:&SESSION.::&DEBUG.:::'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(312479360806173588)
,p_branch_sequence=>10
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312479663626187376)
,p_name=>'P1015_LOB_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(312475543529771212)
,p_use_cache_before_default=>'NO'
,p_source=>'LOB_ID'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312479965974216687)
,p_name=>'P1015_LOB_NAME'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(312475543529771212)
,p_use_cache_before_default=>'NO'
,p_prompt=>'Business Unit Name'
,p_source=>'LOB_NAME'
,p_source_type=>'DB_COLUMN'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717524309910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(308589359333699208)
,p_validation_name=>'P1015_LOB_NAME'
,p_validation_sequence=>10
,p_validation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'If :P1015_LOB_ID = ''SAMPLE'' and :P1015_LOB_NAME != ''SAMPLE'' then',
' return FALSE;',
'else',
' return TRUE;',
'end if;'))
,p_validation_type=>'FUNC_BODY_RETURNING_BOOLEAN'
,p_error_message=>'You can''t change SAMPLE Business unit name'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(312479360806173588)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(312479965974216687)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312480041769243759)
,p_process_sequence=>10
,p_process_point=>'AFTER_HEADER'
,p_process_type=>'NATIVE_FORM_FETCH'
,p_process_name=>'Fetch Row from RCA13_LOBS'
,p_attribute_02=>'RCA13_LOBS'
,p_attribute_03=>'P1015_LOB_ID'
,p_attribute_04=>'LOB_ID'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312480565374354680)
,p_process_sequence=>5
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_FORM_PROCESS'
,p_process_name=>'Process Row of RCA13_LOBS'
,p_attribute_02=>'RCA13_LOBS'
,p_attribute_03=>'P1015_LOB_ID'
,p_attribute_04=>'LOB_ID'
,p_attribute_11=>'I:U:D'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_success_message=>'Action Processed.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312480248311293032)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(312476448340819931)
);
end;
/
prompt --application/pages/page_01016
begin
wwv_flow_api.create_page(
 p_id=>1016
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Line Of Business'
,p_alias=>'LOBSLIST'
,p_page_mode=>'NORMAL'
,p_step_title=>'Line Of Business'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(312611953325942122)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131209051503'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312477356829860207)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312477563399136469)
,p_plug_name=>'Manage Bussiness Units'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713028018910731)
,p_plug_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>'select lob_id,lob_name,created_by,created from rca13_lobs'
,p_plug_source_type=>'NATIVE_IR'
,p_plug_query_row_template=>1
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_worksheet(
 p_id=>wwv_flow_api.id(312477642325136469)
,p_name=>'Manage LOB'
,p_max_row_count=>'1000000'
,p_max_row_count_message=>'The maximum row count for this report is #MAX_ROW_COUNT# rows.  Please apply a filter to reduce the number of records in your query.'
,p_no_data_found_message=>'No data found.'
,p_allow_report_categories=>'N'
,p_show_nulls_as=>'-'
,p_pagination_type=>'ROWS_X_TO_Y'
,p_pagination_display_pos=>'BOTTOM_RIGHT'
,p_report_list_mode=>'TABS'
,p_fixed_header=>'NONE'
,p_show_detail_link=>'C'
,p_show_pivot=>'N'
,p_show_calendar=>'N'
,p_download_formats=>'CSV:HTML:EMAIL'
,p_detail_link=>'f?p=&APP_ID.:1015:&SESSION.::&DEBUG.::P1015_LOB_ID:#LOB_ID#'
,p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pencil16x16.gif" alt="" />'
,p_allow_exclude_null_values=>'N'
,p_allow_hide_extra_columns=>'N'
,p_icon_view_columns_per_row=>1
,p_owner=>'LEELA.KUMARASWAMY.LAKKANA'
,p_internal_uid=>11420506547193716
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(312477863980136501)
,p_db_column_name=>'LOB_ID'
,p_display_order=>1
,p_column_identifier=>'A'
,p_column_label=>'Lob Id'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_display_text_as=>'HIDDEN'
,p_tz_dependent=>'N'
,p_static_id=>'LOB_ID'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(312477945801136509)
,p_db_column_name=>'LOB_NAME'
,p_display_order=>2
,p_column_identifier=>'B'
,p_column_label=>'Name'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'LOB_NAME'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(312478050528136509)
,p_db_column_name=>'CREATED'
,p_display_order=>3
,p_column_identifier=>'C'
,p_column_label=>'Created On'
,p_allow_pivot=>'N'
,p_column_type=>'DATE'
,p_format_mask=>'DD-MON-YYYY HH24:MI:SS'
,p_tz_dependent=>'Y'
,p_static_id=>'CREATED'
);
wwv_flow_api.create_worksheet_column(
 p_id=>wwv_flow_api.id(312481962861597987)
,p_db_column_name=>'CREATED_BY'
,p_display_order=>4
,p_column_identifier=>'D'
,p_column_label=>'Created By'
,p_allow_pivot=>'N'
,p_column_type=>'STRING'
,p_tz_dependent=>'N'
,p_static_id=>'CREATED_BY'
);
wwv_flow_api.create_worksheet_rpt(
 p_id=>wwv_flow_api.id(312478461106145345)
,p_application_user=>'APXWS_DEFAULT'
,p_report_seq=>10
,p_report_alias=>'114214'
,p_status=>'PUBLIC'
,p_is_default=>'Y'
,p_display_rows=>15
,p_report_columns=>'LOB_NAME:CREATED_BY:CREATED:'
,p_flashback_enabled=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312478259721144911)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(312477563399136469)
,p_button_name=>'CREATE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955206389689345171)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Create'
,p_button_position=>'RIGHT_OF_IR_SEARCH_BAR'
,p_button_redirect_url=>'f?p=&APP_ID.:1015:&SESSION.::&DEBUG.:1015::'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_01017
begin
wwv_flow_api.create_page(
 p_id=>1017
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Manage User Roles'
,p_alias=>'MANAGEUSERROLES'
,p_page_mode=>'NORMAL'
,p_step_title=>'Manage User Roles'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'.bin_class {',
'text-decoration:none;',
'background-position: center center;',
'background-repeat: no-repeat;',
'background-image: url(''data:image/gif;base64,R0lGODlhEgASAPcAAADGAEJCQlJSUmNjY3t7e4SEhIyMjJSUlJycnKWlpa2trbW1tb29vcbGxs7OztbW1t7e3ufn5+/v7/f39////////////////////////////////////////////////////////////////////////////////////////////////////////////'
||'//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////'
||'//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////'
||'//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////'
||'//////////////////////////////////////////////////////////////////////////////////////yH5BAEAAAAALAAAAAASABIAAAi5AAEIHEiQ4IIEEwoqHLigQYQCCRcwQECxIoIGABA8gADhwQIABiJMGEly5IEACDgy+BiSgsuXFBAoEBCAwUqBLWHGbOBgpgAGA3O6nHDRgYMGBTAGjfCSqIMHDxwkeFAwp4QET59OV'
||'djyatYHByAsDBlBQdYGYSV8LLhxQMejBiRQiGBgIQIJBCA0iOuSrsIGECI8PDDhpd+CCAQ/gAjz8EAGBBgowChBsOK6BAcciDCwgUWZC0OHDggAOw=='');',
'}',
'',
'',
'/*',
'--delete image',
'background-image: url(data:image/gif;base64,R0lGODlhEAAQAOZcAHF6hf///664w5KeqfHz9JqksMTL1Nbc4rjE0eTr8bnEzyw3QvD1/Ovx+O/0+2BqdFlha/X4+e71+rG7xig0P1xlbys2QeDo8Sk0QNXd5pGdqsHN2bjEz7/K1Fhha56lrLjE0LrF0JGdp5qiqXF7hoeRm6Krtio1QH+Klaayvtrb3VZfabLAzvDz9Jymsn'
||'F8h15mb3J+ioyZpcfR2cHM14GMl9zk62pzfGlyfmx2gmVueCYyPrC7x1xkbXuGkejv9cfP146Xn5iirpSgq5uotPj9/6OnrbnF0MLK011lbm53grnE0EZOWOPq8GFqc0FLVc/U2rjDztDa5M/X4JWcpbC9ynaBi7vH1NXb4tnf5i04Q2RueP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'
||'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAFwALAAAAAAQABAAAAeggFyCgwCFAIOIiAAMDQ0Mh4lchpOUhAGXmJkBUJAADjYZUzMdCjwpRBoynTEqRh8jVEElNSgmPpBcLwFAET8uWVdDEwpWiDkBBgQJBQcIAwJRJIg4yMrMzgIcSohb1cvNzwo3iA/e1+E6iBXm4AJLTo'
||'ge7NhHMIgrAUgtTUJYICICQvRABOFSEQkXpGxgUYVGkkRPdlDAcMLCAi0LmAwKBAA7);',
'*/'))
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'ADMIN'
,p_last_upd_yyyymmddhh24miss=>'20160506032645'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(81474601932132712)
,p_plug_name=>'Manage Users&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>21
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(81482721867377826)
,p_name=>' '
,p_template=>wwv_flow_api.id(6040712028632910726)
,p_display_sequence=>31
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select id,username ',
'from RCA13_intrack_users'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_header=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<font color="RED">Note:</font> Please make sure the username is valid.<br>',
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'))
,p_translate_title=>'N'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>15
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(81488220854945797)
,p_query_column_id=>1
,p_column_alias=>'ID'
,p_column_display_sequence=>3
,p_column_heading=>'<b>Revoke Login Access</b></b>'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1017:&SESSION.::&DEBUG.::P1017_DELETE_USER:#ID#'
,p_column_linktext=>'  <img src="#APP_IMAGES#Delete.gif" width="16" height="16" border="0" />'
,p_column_link_attr=>'  onclick="return confirm(''Would you like to revoke the user login privilege?'')"'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(81483018445377839)
,p_query_column_id=>2
,p_column_alias=>'USERNAME'
,p_column_display_sequence=>2
,p_column_heading=>'USERNAME'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(81489429711172969)
,p_query_column_id=>3
,p_column_alias=>'LINK$01'
,p_column_display_sequence=>1
,p_column_heading=>'Edit'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1017:&SESSION.::&DEBUG.::P1017_EDIT_USER_ID,P1017_USER_EDIT_MODE:#ID#,1'
,p_column_linktext=>'<img src="#IMAGE_PREFIX#e2.gif" alt="Edit">'
,p_column_alignment=>'CENTER'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312484556912891498)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312484842545925194)
,p_name=>'Manage User Roles'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'SELECT a.user_id,',
'  b.username,',
'  a.lob_id,',
'  a.role_id,',
'  a.system_id,',
'  e.role_name role_name,',
'  NVL(c.lob_name,''All Business Units'')||'': ''||NVL(d.system_name,''All systems'') BU_SYS,  ',
'  DECODE(a.lob_id,''SAMPLE'','''',',
'  DECODE(:P1017_USER_ROLE,',
'         ''SUPER_ADMIN'',''<a href="f?p=&APP_ID.:1024:&SESSION.::::P1024_USER_ROLE_ID2EDIT:''||a.USER_ROLE_ID||''" class="bin_class" title="Edit" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>'',',
'         ''DBA_MANAGER'',decode((select count(1) from rca13_user_roles t1 where t1.user_id = :G_USER_ID and t1.lob_id = a.lob_id and t1.system_id = ''All'' ),0,'''',',
'         ''<a href="f?p=&APP_ID.:1024:&SESSION.::::P1024_USER_ROLE_ID2EDIT:''||a.USER_ROLE_ID||''" class="bin_class" title="Edit" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>'')',
'         ,'''')) del,',
'  a.created,',
'  a.created_by,',
'  a.updated,',
'  a.updated_by,',
'  a.user_role_id',
'FROM',
'rca13_user_roles a,RCA13_intrack_users b, rca13_lobs c,  rca13_access_roles e,  rca13_systems d ',
'WHERE a.user_id = b.id',
'AND a.lob_id    = c.lob_id(+)',
'AND a.role_id   = e.role_id',
'AND a.system_id = d.system_id(+)',
'order by b.username,e.role_name desc',
'--,NVL(c.lob_name,''All Business Units'')',
''))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>100
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' '
,p_query_break_cols=>'1:2:3'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312504537185337829)
,p_query_column_id=>1
,p_column_alias=>'USER_ID'
,p_column_display_sequence=>5
,p_column_heading=>'User Id'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312485259848925215)
,p_query_column_id=>2
,p_column_alias=>'USERNAME'
,p_column_display_sequence=>1
,p_column_heading=>'User Name'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312504637940337829)
,p_query_column_id=>3
,p_column_alias=>'LOB_ID'
,p_column_display_sequence=>6
,p_column_heading=>'Lob Id'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312504835870337829)
,p_query_column_id=>4
,p_column_alias=>'ROLE_ID'
,p_column_display_sequence=>7
,p_column_heading=>'Role Id'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312505045676337829)
,p_query_column_id=>5
,p_column_alias=>'SYSTEM_ID'
,p_column_display_sequence=>8
,p_column_heading=>'System Id'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312504946709337829)
,p_query_column_id=>6
,p_column_alias=>'ROLE_NAME'
,p_column_display_sequence=>2
,p_column_heading=>'Role Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308424860204653943)
,p_query_column_id=>7
,p_column_alias=>'BU_SYS'
,p_column_display_sequence=>3
,p_column_heading=>'BU: SYS Name'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308425840228830238)
,p_query_column_id=>8
,p_column_alias=>'DEL'
,p_column_display_sequence=>4
,p_column_heading=>'Edit'
,p_use_as_row_header=>'N'
,p_report_column_required_role=>wwv_flow_api.id(312644151692764842)
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312645060416171071)
,p_query_column_id=>9
,p_column_alias=>'CREATED'
,p_column_display_sequence=>10
,p_column_heading=>'Added On'
,p_use_as_row_header=>'N'
,p_column_format=>'DD-MON-YYYY HH24:MI:SS'
,p_hidden_column=>'Y'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312645138255171090)
,p_query_column_id=>10
,p_column_alias=>'CREATED_BY'
,p_column_display_sequence=>9
,p_column_heading=>'Added By '
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308406541576314393)
,p_query_column_id=>11
,p_column_alias=>'UPDATED'
,p_column_display_sequence=>12
,p_column_heading=>'Updated On'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308406654744314405)
,p_query_column_id=>12
,p_column_alias=>'UPDATED_BY'
,p_column_display_sequence=>11
,p_column_heading=>'Updated By'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308423761609516503)
,p_query_column_id=>13
,p_column_alias=>'USER_ROLE_ID'
,p_column_display_sequence=>13
,p_column_heading=>'User Role Id'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312505243440357813)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(312484842545925194)
,p_button_name=>'CREATE_ROLE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204383161343979)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Create Role For User'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:1020:&SESSION.::&DEBUG.:1020,1021,1022,1023::'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if rca13_manage_acl.is_dbamanager(:G_USER_ID) = 1 then ',
'  return true;',
'else ',
'  return false;',
'end if;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
,p_security_scheme=>wwv_flow_api.id(312644151692764842)
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(81475012453145277)
,p_button_sequence=>17
,p_button_plug_id=>wwv_flow_api.id(81474601932132712)
,p_button_name=>'CREATE_USER'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Create User'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_alignment=>'LEFT'
,p_button_condition=>'select 1 from rca13_intrack_preferences where preference_name=''CAPTURE_USER_DETAIL'' and preference_value= ''N'''
,p_button_condition_type=>'EXISTS'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(81491621105715099)
,p_button_sequence=>18
,p_button_plug_id=>wwv_flow_api.id(81474601932132712)
,p_button_name=>'UPDATE_USER_DETAIL'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Update User Detail'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_alignment=>'LEFT'
,p_button_condition=>'P1017_EDIT_USER_ID'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(81471915486815014)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(81474601932132712)
,p_button_name=>'ENABLE_CaptureUserDetail_(DEFAULT)'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Capture User Details (When Login)'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_alignment=>'LEFT'
,p_button_condition=>'select 1 from rca13_intrack_preferences where preference_name=''CAPTURE_USER_DETAIL'' and preference_value= ''N'''
,p_button_condition_type=>'EXISTS'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(81472113539823945)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(81474601932132712)
,p_button_name=>'DISABLE_ACCESSCONTROL_'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Dont Capture User Details (When Login)'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_alignment=>'LEFT'
,p_button_condition=>'select 1 from rca13_intrack_preferences where preference_name=''CAPTURE_USER_DETAIL'' and preference_value= ''Y'''
,p_button_condition_type=>'EXISTS'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(81474011057111273)
,p_name=>'P1017_USER_NAME'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(81474601932132712)
,p_prompt=>'<b>User Name</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>80
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(81488809830981283)
,p_name=>'P1017_DELETE_USER'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(81474601932132712)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(81489924655308605)
,p_name=>'P1017_EDIT_USER_ID'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(81474601932132712)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(81490828049666571)
,p_name=>'P1017_USER_EDIT_MODE'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(81474601932132712)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308555941462484452)
,p_name=>'P1017_USER_ROLE'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(312484842545925194)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312647959435581666)
,p_name=>'P1017_USER_ROLE_ID2DELETE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(312484842545925194)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(308548250456317510)
,p_computation_sequence=>10
,p_computation_item=>'LAST_PAGE'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'ITEM_VALUE'
,p_computation=>'APP_PAGE_ID'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(92349721335118906)
,p_validation_name=>'P1017_USER_NAME'
,p_validation_sequence=>10
,p_validation=>'P1017_USER_NAME'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'User Name should have value.'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(81475012453145277)
,p_associated_item=>wwv_flow_api.id(81474011057111273)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(81472913155871141)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Diable_Capturing_User_Detail'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'-- Set AC flag',
'begin',
'rca13_intrack_fw.set_preference_value(''CAPTURE_USER_DETAIL'',''N'');',
'end;'))
,p_process_error_message=>'Error Occured. Please Contact Admin'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(81472113539823945)
,p_process_success_message=>wwv_flow_string.join(wwv_flow_t_varchar2(
'User access disabled to capture the user details when they login. ',
'Use Create User button to create users. ',
''))
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(81473227831884816)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Enable_Capture_User_detail'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'-- Set AC flag',
'begin',
'rca13_intrack_fw.set_preference_value(''CAPTURE_USER_DETAIL'',''Y'');',
'end;'))
,p_process_error_message=>'Error Occured. Please contact Admin.'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(81471915486815014)
,p_process_success_message=>'User access enabled and it will take care of adding the user for collection manager UI login. '
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(81475713323183335)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'CreateUser'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'   l_count number;',
'userId number;',
'begin ',
'select count(*) into l_count from rca13_intrack_users where username = :P1017_USER_NAME;',
'if(l_count = 0) then',
'insert into rca13_intrack_users(username, access_level_id) values (:P1017_USER_NAME, 3) return id into userId;',
'insert into rca13_user_roles(user_id,role_id,lob_id,system_id,created_by)',
'    values(userId,3,''SAMPLE'',''All'',:P1017_USER_NAME);',
'end if;',
':P1017_USER_NAME := NULL;',
':P1017_USER_EDIT_MODE := 0;',
'end;'))
,p_process_error_message=>'Error Occured.Contact Admin!'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(81475012453145277)
,p_process_success_message=>'User Created Successfully'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(81491832234746647)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Save User Edit'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'update rca13_intrack_users set',
'  username = :P1017_USER_NAME',
'where id = :P1017_EDIT_USER_ID;',
'',
':P1017_USER_EDIT_MODE := 0;',
':P1017_EDIT_USER_ID := NULL;'))
,p_process_error_message=>'Unable to save User edit'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(81491621105715099)
,p_process_when=>'P1017_EDIT_USER_ID'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
,p_process_success_message=>'User edit Saved'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308556062130497071)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'load user role'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if rca13_manage_acl.is_superadmin(:G_USER_ID) = 1 then ',
'  :P1017_USER_ROLE := ''SUPER_ADMIN'';',
'elsif rca13_manage_acl.is_dbamanager(:G_USER_ID) = 1 then',
'  :P1017_USER_ROLE := ''DBA_MANAGER'';',
'else',
'  :P1017_USER_ROLE := ''DBA'';  ',
'end if;'))
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(81489125752010973)
,p_process_sequence=>40
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'DELETE_USER'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'delete from rca13_intrack_users where id= :P1017_DELETE_USER;',
'end;'))
,p_process_error_message=>'Error Occurred. Please contact Admin'
,p_process_when=>'P1017_DELETE_USER'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(81489625003256674)
,p_process_sequence=>40
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Load User for Edit'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select ',
'  username',
'into',
'  :P1017_USER_NAME',
'from ',
'  rca13_intrack_users',
'where',
'  id = :P1017_EDIT_USER_ID;'))
,p_process_when=>'P1017_USER_EDIT_MODE'
,p_process_when_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_process_when2=>'1'
);
end;
/
prompt --application/pages/page_01018
begin
wwv_flow_api.create_page(
 p_id=>1018
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Map system to BU'
,p_alias=>'MAPSYSTEM2LOB'
,p_page_mode=>'NORMAL'
,p_step_title=>'Map systems to LOBS'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'ADMIN'
,p_last_upd_yyyymmddhh24miss=>'20160415013547'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(83751602051170630)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312487242440192980)
,p_name=>'&BU_NAME. & &SYS_NAME.'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select a.lob_id,b.lob_name,a.system_id,',
'decode(a.system_id,''SAMPLE_SYSTEM'',null,''<a href="f?p=&APP_ID.:1019:&SESSION.:::1019:P1019_MAP_ID:''||a.map_id||''" title="Edit" ><img width="16" height="16" border="0" alt="" src="/i/menu/pencil16x16.gif"></a>&nbsp;&nbsp;'')||c.system_name system_name,',
'd.host_name ',
'from  rca13_lob2sys_mapping a,rca13_lobs b,rca13_systems c,rca13_system_hosts d',
'where a.lob_id = b.lob_id and a.system_id = c.system_id and c.system_id = d.system_id',
'order by LOB_NAME,system_name,host_name'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>100
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'1:2'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312487543956192991)
,p_query_column_id=>1
,p_column_alias=>'LOB_ID'
,p_column_display_sequence=>4
,p_column_heading=>'LOB_ID'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312487668109192997)
,p_query_column_id=>2
,p_column_alias=>'LOB_NAME'
,p_column_display_sequence=>1
,p_column_heading=>'Unit Name'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312489065638075746)
,p_query_column_id=>3
,p_column_alias=>'SYSTEM_ID'
,p_column_display_sequence=>5
,p_column_heading=>'System Id'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312489151474075747)
,p_query_column_id=>4
,p_column_alias=>'SYSTEM_NAME'
,p_column_display_sequence=>2
,p_column_heading=>'System Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312498567762320987)
,p_query_column_id=>5
,p_column_alias=>'HOST_NAME'
,p_column_display_sequence=>3
,p_column_heading=>'Host Names'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312489265706129687)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(312487242440192980)
,p_button_name=>'ASSIGN_SYSTEM_TO_LOB'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204383161343979)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Assign System To BU'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:1019:&SESSION.::&DEBUG.:1019::'
,p_button_condition_type=>'NEVER'
,p_grid_new_grid=>false
,p_button_comment=>'We are disabling this button because we introduced DEFAULT BU and each non classified systems comes under DEFAULT BU. '
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(83750503895029278)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(312487242440192980)
,p_button_name=>'BULK_MAPPING_UPLOAD'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204383161343979)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Bulk Mapping'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_redirect_url=>'f?p=&APP_ID.:1040:&SESSION.::&DEBUG.:1018::'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if rca13_manage_acl.is_dbamanager(:G_USER_ID) = 1 then ',
'  return true;',
'else ',
'  return false;',
'end if;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
);
end;
/
prompt --application/pages/page_01019
begin
wwv_flow_api.create_page(
 p_id=>1019
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'System & LOB Management'
,p_alias=>'SYS2LOB_ASSIGNMENT'
,p_page_mode=>'NORMAL'
,p_step_title=>'System & LOB Management'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131211025049'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312491050084172494)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312491839185783460)
,p_plug_name=>'Create / Edit details'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_plug_footer=>'<font color="red">Note</font>: One system should associate with only one Unit'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312492142433793873)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(312491839185783460)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'f?p=&APP_ID.:1018:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312492555031806971)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(312491839185783460)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1019_SYSTEMS is not null and :P1019_LOBS is not null then',
' return true;',
'else',
' return false;',
'end if;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312492745465813713)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(312491839185783460)
,p_button_name=>'CREATE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Create'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1019_SYSTEMS is null and :P1019_LOBS is null then',
' return true;',
'else',
' return false;',
'end if;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312492359748798921)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(312491839185783460)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_DELETE'
,p_button_redirect_url=>'javascript:apex.confirm(htmldb_delete_message,''DELETE'');'
,p_button_execute_validations=>'N'
,p_button_condition_type=>'NEVER'
,p_grid_new_grid=>false
,p_button_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'Display condition return Boolean:',
'if :P1019_SYSTEMS is not null and :P1019_LOBS is not null then ',
' return true;',
'else',
' return false;',
'end if;'))
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312494340945930923)
,p_name=>'P1019_LOBS'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(312491839185783460)
,p_prompt=>'<b>Units</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select lob_name,lob_id from rca13_lobs where lob_id != ''SAMPLE''',
'--We should not allow user to assign a system to SAMPLE unit'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select Unit -- '
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312494640069946511)
,p_name=>'P1019_SYSTEMS'
,p_item_sequence=>5
,p_item_plug_id=>wwv_flow_api.id(312491839185783460)
,p_prompt=>'<b>Systems</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select system_name,system_id from rca13_systems where system_id not in ',
'( select system_id from  rca13_lob2sys_mapping where :P1019_MAP_ID is null ) order by system_name'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select System --'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_read_only_when=>'P1019_MAP_ID'
,p_read_only_when_type=>'ITEM_IS_NOT_NULL'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312495167001964413)
,p_name=>'P1019_ASSIGN_MSG'
,p_item_sequence=>8
,p_item_plug_id=>wwv_flow_api.id(312491839185783460)
,p_pre_element_text=>'&nbsp;&nbsp;&nbsp;'
,p_post_element_text=>'&nbsp;&nbsp;&nbsp;'
,p_source=>'Assign To'
,p_source_type=>'STATIC'
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:200px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'CENTER-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'VALUE'
,p_attribute_04=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312502545727908483)
,p_name=>'P1019_MAP_ID'
,p_item_sequence=>2
,p_item_plug_id=>wwv_flow_api.id(312491839185783460)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(312496560890058404)
,p_validation_name=>'P1019_SYSTEMS'
,p_validation_sequence=>10
,p_validation=>'P1019_SYSTEMS'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'System Name should not be null'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(312492745465813713)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(312494640069946511)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(312496751832062567)
,p_validation_name=>'P1019_LOBS'
,p_validation_sequence=>20
,p_validation=>'P1019_LOBS'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'LOB Name should not be null'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(312492745465813713)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(312494340945930923)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(312496939971068030)
,p_validation_name=>'P1019_SYSTEMS'
,p_validation_sequence=>30
,p_validation=>'P1019_SYSTEMS'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'System Name should not be null'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(312492555031806971)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(312494640069946511)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(312497664038163292)
,p_validation_name=>'P1019_LOBS'
,p_validation_sequence=>40
,p_validation=>'P1019_LOBS'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'LOB value should not be null'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(312492555031806971)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(312494340945930923)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312496243893049755)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Add Mapping'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' insert into rca13_lob2sys_mapping(map_id,system_id,lob_id,created,created_on) ',
' values(sys_guid(),:P1019_SYSTEMS,:P1019_LOBS,v(''APP_USER''),systimestamp) return map_id into :P1019_MAP_ID;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(312492745465813713)
,p_process_success_message=>'Mapping Created'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312497752567244007)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Delete Mapping'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' delete from rca13_lob2sys_mapping where map_id = :P1019_MAP_ID;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(312492359748798921)
,p_process_success_message=>'Mapping deleted'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312497939192249617)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Change Mapping'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'update rca13_lob2sys_mapping set lob_id = :P1019_LOBS where map_id = :P1019_MAP_ID;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(312492555031806971)
,p_process_success_message=>'Applied Changes'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312493744951851371)
,p_process_sequence=>50
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_SESSION_STATE'
,p_process_name=>'reset page'
,p_attribute_01=>'CLEAR_CACHE_CURRENT_PAGE'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(312492359748798921)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312502764339947605)
,p_process_sequence=>60
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Load Mapping'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' select lob_id,system_id into :P1019_LOBS,:P1019_SYSTEMS from rca13_lob2sys_mapping where map_id = :P1019_MAP_ID;',
'end;'))
,p_process_when=>'P1019_MAP_ID'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
end;
/
prompt --application/pages/page_01020
begin
wwv_flow_api.create_page(
 p_id=>1020
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Edit user roles'
,p_alias=>'EDITUSERROLES'
,p_page_mode=>'NORMAL'
,p_step_title=>'Edit user roles'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711306762910725)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(312644151692764842)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131126230051'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312505751030483039)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312509050871596516)
,p_plug_name=>'Button Region'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040714228547910735)
,p_plug_display_sequence=>25
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_display_column=>1
,p_plug_display_point=>'REGION_POSITION_02'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312515663909666498)
,p_plug_name=>'User Role Creation'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_display_point=>'REGION_POSITION_02'
,p_list_id=>wwv_flow_api.id(312513259491646231)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(6040716020337910738)
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312518050628728907)
,p_plug_name=>'Users'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>35
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_list_template_id=>wwv_flow_api.id(6040716020337910738)
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312518751760785981)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(312509050871596516)
,p_button_name=>'NEXT'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204383161343979)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Next'
,p_button_position=>'REGION_TEMPLATE_NEXT'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312531637720368535)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(312509050871596516)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_PREVIOUS'
,p_button_redirect_url=>'f?p=&APP_ID.:1017:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(312519139175807874)
,p_branch_action=>'f?p=&APP_ID.:1022:&SESSION.::&DEBUG.:1022::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(312552066030495954)
,p_branch_sequence=>10
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308409160510624638)
,p_name=>'P1020_USER_1'
,p_item_sequence=>90
,p_item_plug_id=>wwv_flow_api.id(312518050628728907)
,p_prompt=>'<b>Select Users1</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select username display_value,id return_value from RCA13_intrack_users ',
'--where id != :G_USER_ID'))
,p_cSize=>150
,p_cMaxlength=>4000
,p_cHeight=>10
,p_tag_attributes=>'style="width:250px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'MOVE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308409646480646354)
,p_name=>'P1020_USER_2'
,p_item_sequence=>100
,p_item_plug_id=>wwv_flow_api.id(312518050628728907)
,p_prompt=>'<b>Select Users2</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select username display_value,id return_value from RCA13_intrack_users ',
'--where id != :G_USER_ID'))
,p_cSize=>150
,p_cMaxlength=>4000
,p_cHeight=>10
,p_tag_attributes=>'style="width:250px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'MOVE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308409942154663506)
,p_name=>'P1020_ROLE_1'
,p_item_sequence=>95
,p_item_plug_id=>wwv_flow_api.id(312518050628728907)
,p_prompt=>'<b>Select Role1</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select role_name display_value,role_id return_value from rca13_access_roles',
'where rca13_manage_acl.is_superadmin(:G_USER_ID) = 1 ',
'UNION',
'select role_name display_value,role_id return_value from rca13_access_roles',
'where rca13_manage_acl.is_dbamanager(:G_USER_ID) = 1  and role_id != 1',
'',
''))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>10
,p_tag_attributes=>'style="width:250px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308410246887676554)
,p_name=>'P1020_ROLE_2'
,p_item_sequence=>105
,p_item_plug_id=>wwv_flow_api.id(312518050628728907)
,p_prompt=>'<b>Select Role2</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select role_name display_value,role_id return_value from rca13_access_roles',
'where rca13_manage_acl.is_superadmin(:G_USER_ID) = 1 ',
'UNION',
'select role_name display_value,role_id return_value from rca13_access_roles',
'where rca13_manage_acl.is_dbamanager(:G_USER_ID) = 1  and role_id != 1',
'',
''))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>10
,p_tag_attributes=>'style="width:250px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308419367721843821)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Atleast one set should be not null'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if ( :P1020_USER_1 is not null and :P1020_ROLE_1 is not null ) OR ( :P1020_USER_2 is not null and :P1020_ROLE_2 is not null ) then',
'  null; ',
'elsif ( :P1020_USER_1 is not null and :P1020_ROLE_1 is null ) OR ( :P1020_USER_2 is not null and :P1020_ROLE_2 is null ) then',
' raise_application_error (-20001,''You Should select role for the selected users'');',
'elsif ( :P1020_USER_ is null and :P1020_ROLE_1 is not null ) OR ( :P1020_USER_2 is null and :P1020_ROLE_2 is not null ) then',
' raise_application_error (-20001,''You Should select user in at least one set'');',
'else',
' raise_application_error (-20001,''User and role should not be null in at least in one set'');',
'end if;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(312518751760785981)
);
end;
/
prompt --application/pages/page_01022
begin
wwv_flow_api.create_page(
 p_id=>1022
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'LOBs Page'
,p_alias=>'LOBSPAGE'
,p_page_mode=>'NORMAL'
,p_step_title=>'LOBs Page'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711306762910725)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(312644151692764842)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131211090746'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312551066807477233)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312551445467480505)
,p_plug_name=>'LOBs'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_list_template_id=>wwv_flow_api.id(6040716020337910738)
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312551661743485256)
,p_plug_name=>'User Role Creation'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>21
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_02'
,p_list_id=>wwv_flow_api.id(312513259491646231)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(6040716020337910738)
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312551846983490487)
,p_plug_name=>'Button Region'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040714228547910735)
,p_plug_display_sequence=>31
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_02'
,p_list_template_id=>wwv_flow_api.id(6040716020337910738)
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312571649296649925)
,p_plug_name=>'Role Names'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>41
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312552066030495954)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(312551846983490487)
,p_button_name=>'NEXT'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204383161343979)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Next'
,p_button_position=>'REGION_TEMPLATE_NEXT'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312552248499500346)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(312551846983490487)
,p_button_name=>'PREVIOUS'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204585164343995)
,p_button_image_alt=>'Previous'
,p_button_position=>'REGION_TEMPLATE_PREVIOUS'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(312552557678503571)
,p_branch_action=>'f?p=&APP_ID.:1023:&SESSION.::&DEBUG.:1023::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(312552066030495954)
,p_branch_sequence=>10
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(312552749914507122)
,p_branch_action=>'f?p=&APP_ID.:1020:&SESSION.::&DEBUG.:::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'BEFORE_VALIDATION'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(312552248499500346)
,p_branch_sequence=>20
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308413757053899762)
,p_name=>'P1022_LOB_1'
,p_item_sequence=>90
,p_item_plug_id=>wwv_flow_api.id(312551445467480505)
,p_prompt=>'<b>Business Units</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select lob_name display_value,lob_id return_value from ( select * from rca13_lobs where lob_id != ''SAMPLE'' ) ',
'where rca13_manage_acl.is_superadmin(:G_USER_ID) = 1 ',
'UNION',
'select distinct a.lob_name display_value,a.lob_id return_value from ( select * from rca13_lobs where lob_id != ''SAMPLE'' ) a ',
'where rca13_manage_acl.is_dbamanager(:G_USER_ID) = 1 and ',
'exists ( select 1 from rca13_user_roles t1 where t1.lob_id = a.lob_id and t1.system_id = ''All'' and t1.user_id = :G_USER_ID ) ',
'order by 1',
'',
''))
,p_cSize=>150
,p_cMaxlength=>4000
,p_cHeight=>10
,p_tag_attributes=>'style="width:250px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1020_USER_1 is not null and :P1020_ROLE_1 is not null then',
'  return true;',
'else',
'  return false;',
'end if;'))
,p_display_when_type=>'FUNCTION_BODY'
,p_read_only_when=>'P1020_ROLE_1'
,p_read_only_when2=>'1'
,p_read_only_when_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'MOVE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308414339560938220)
,p_name=>'P1022_LOB_2'
,p_item_sequence=>100
,p_item_plug_id=>wwv_flow_api.id(312551445467480505)
,p_prompt=>'<b>Business Units</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select lob_name display_value,lob_id return_value from ( select * from rca13_lobs where lob_id != ''SAMPLE'' ) ',
'where rca13_manage_acl.is_superadmin(:G_USER_ID) = 1 ',
'UNION',
'select distinct a.lob_name display_value,a.lob_id return_value from ( select * from rca13_lobs where lob_id != ''SAMPLE'' ) a ',
'where rca13_manage_acl.is_dbamanager(:G_USER_ID) = 1 and ',
'exists ( select 1 from rca13_user_roles t1 where t1.lob_id = a.lob_id and t1.system_id = ''All'' and t1.user_id = :G_USER_ID ) ',
'order by 1',
'',
''))
,p_cSize=>150
,p_cMaxlength=>4000
,p_cHeight=>10
,p_tag_attributes=>'style="width:250px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1020_USER_2 is not null and :P1020_ROLE_2 is not null then',
'  return true;',
'else',
'  return false;',
'end if;'))
,p_display_when_type=>'FUNCTION_BODY'
,p_read_only_when=>'P1020_ROLE_2'
,p_read_only_when2=>'1'
,p_read_only_when_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'MOVE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308419748815923482)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'validation checks'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1022_LOB_1 is not null or :P1022_LOB_2 is not null then',
' null;',
'else',
' raise_application_error (-20001,''You should select at least one Business Unit'');',
'end if;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(312552066030495954)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308420141588949814)
,p_process_sequence=>20
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Load all lobs for super'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'  if :P1020_ROLE_1 = 1 then',
'    select  listagg(lob_id,'':'')  within group (order by lob_name) into :P1022_LOB_1 ',
'    from rca13_lobs where lob_id != ''SAMPLE'';',
'  end if;',
'  if :P1020_ROLE_2 = 1 then',
'    select  listagg(lob_id,'':'')  within group (order by lob_name) into :P1022_LOB_2 from rca13_lobs where lob_id != ''SAMPLE'';    ',
'  end if;',
'end;'))
);
end;
/
prompt --application/pages/page_01023
begin
wwv_flow_api.create_page(
 p_id=>1023
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Systems Page'
,p_alias=>'SYSTEMSPAGE'
,p_page_mode=>'NORMAL'
,p_step_title=>'Systems Page'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711306762910725)
,p_page_template_options=>'#DEFAULT#'
,p_required_role=>wwv_flow_api.id(312644151692764842)
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131211093235'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312553141966526805)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312553556165530966)
,p_plug_name=>'User Role Creation'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_02'
,p_list_id=>wwv_flow_api.id(312513259491646231)
,p_plug_source_type=>'NATIVE_LIST'
,p_list_template_id=>wwv_flow_api.id(6040716020337910738)
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312553738634535324)
,p_plug_name=>'Button Region'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040714228547910735)
,p_plug_display_sequence=>21
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_02'
,p_list_template_id=>wwv_flow_api.id(6040716020337910738)
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312554048677538261)
,p_plug_name=>'Content'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>31
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_list_template_id=>wwv_flow_api.id(6040716020337910738)
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312583540778082676)
,p_plug_name=>'Other Items'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>41
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312555342921545998)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(312553738634535324)
,p_button_name=>'CREATE_ROLE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Create'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312555563007551811)
,p_button_sequence=>5
,p_button_plug_id=>wwv_flow_api.id(312553738634535324)
,p_button_name=>'PREVIOUS'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(2955204585164343995)
,p_button_image_alt=>'previous'
,p_button_position=>'REGION_TEMPLATE_PREVIOUS'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(312555836937558767)
,p_branch_action=>'f?p=&APP_ID.:1017:&SESSION.::&DEBUG.:::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(312555342921545998)
,p_branch_sequence=>10
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(312556248571568515)
,p_branch_action=>'f?p=&APP_ID.:1022:&SESSION.::&DEBUG.:::&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'BEFORE_VALIDATION'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(312555563007551811)
,p_branch_sequence=>20
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308416461184832639)
,p_name=>'P1023_SYSTEM_1'
,p_item_sequence=>560
,p_item_plug_id=>wwv_flow_api.id(312554048677538261)
,p_prompt=>'<b>Systems1</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select display_value,return_value from (',
'select c.lob_name||'': ''||a.system_name display_value,a.system_id return_value ',
'from rca13_systems a,rca13_lob2sys_mapping b,rca13_lobs c',
'where a.system_id = b.system_id ',
'and instr('':''||:P1022_LOB_1||'':'','':''||b.lob_id||'':'') > 0 ',
'and b.lob_id = c.lob_id',
') order by display_value',
''))
,p_cSize=>150
,p_cMaxlength=>4000
,p_cHeight=>10
,p_tag_attributes=>'style="width:250px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>'P1022_LOB_1'
,p_display_when_type=>'ITEM_IS_NOT_NULL'
,p_read_only_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1020_ROLE_1 = 1 or :P1020_ROLE_1 = 2 then',
' return true;',
'else',
' return false;',
'end if;'))
,p_read_only_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'MOVE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308416947548899758)
,p_name=>'P1023_SYSTEM_2'
,p_item_sequence=>570
,p_item_plug_id=>wwv_flow_api.id(312554048677538261)
,p_prompt=>'<b>Systems2</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select display_value,return_value from (',
'select c.lob_name||'': ''||a.system_name display_value,a.system_id return_value ',
'from rca13_systems a,rca13_lob2sys_mapping b,rca13_lobs c',
'where a.system_id = b.system_id ',
'and instr('':''||:P1022_LOB_2||'':'','':''||b.lob_id||'':'') > 0 ',
'and b.lob_id = c.lob_id',
') order by display_value',
'',
''))
,p_cSize=>150
,p_cMaxlength=>4000
,p_cHeight=>10
,p_tag_attributes=>'style="width:250px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>'P1022_LOB_2'
,p_display_when_type=>'ITEM_IS_NOT_NULL'
,p_read_only_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1020_ROLE_2 = 1 or :P1020_ROLE_2 = 2 then',
' return true;',
'else',
' return false;',
'end if;'))
,p_read_only_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'MOVE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308418857641538171)
,p_process_sequence=>5
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Creaet Role'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'  if :P1023_SYSTEM_1 is not null  then',
'    --For each user',
'    for rec in ( select regexp_substr(:P1020_USER_1,''[^:]+'', 1, level) usr from dual connect by regexp_substr(:P1020_USER_1,''[^:]+'', 1, level) is not null ) loop',
'      --For each BU',
'      if :P1020_ROLE_1 = 1 then -- supser admin',
'        --Delete all other roles for user if he is going to be super admin',
'        --delete from rca13_user_roles where user_id = rec.usr;',
'        begin',
'         insert into rca13_user_roles(user_role_id,user_id,role_id,lob_id,system_id,created_by)',
'         values (sys_guid(),rec.usr,:P1020_ROLE_1,''All'',''All'',:APP_USER);',
'         exception when dup_val_on_index then null;',
'        end;',
'      else        ',
'        for rec1 in ( select regexp_substr(:P1022_LOB_1,''[^:]+'', 1, level) lid from dual connect by regexp_substr(:P1022_LOB_1,''[^:]+'', 1, level) is not null ) loop ',
'         if :P1020_ROLE_1 = 2 then -- DBA Manager',
'           --Delete all dba roles for user for the LOB if he is going to be DBA Manager',
'           --delete from rca13_user_roles where user_id = rec.usr and lob_id = rec1.lid;',
'           begin',
'            insert into rca13_user_roles(user_role_id,user_id,role_id,lob_id,system_id,created_by)',
'            values (sys_guid(),rec.usr,:P1020_ROLE_1,rec1.lid,''All'',:APP_USER); ',
'           exception when dup_val_on_index then null;',
'           end;        ',
'         else --DBA ROLE',
'          --For each system',
'          for rec2 in ( select sid from ( select regexp_substr(:P1023_SYSTEM_1,''[^:]+'', 1, level) sid ',
'                        from dual connect by regexp_substr(:P1023_SYSTEM_1,''[^:]+'', 1, level) is not null ) a, rca13_lob2sys_mapping b ',
'                        where a.sid = b.system_id and b.lob_id = rec1.lid ) loop',
'            begin',
'             insert into rca13_user_roles(user_role_id,user_id,role_id,lob_id,system_id,created_by)',
'             values (sys_guid(),rec.usr,:P1020_ROLE_1,rec1.lid,rec2.sid,:APP_USER);',
'            exception when dup_val_on_index then null;',
'            end;',
'          end loop;',
'         end if;',
'        end loop;',
'      end if;',
'    end loop;',
'  end if;',
'',
'  if :P1023_SYSTEM_2 is not null  then',
'    --For each user',
'    for rec in ( select regexp_substr(:P1020_USER_2,''[^:]+'', 1, level) usr from dual connect by regexp_substr(:P1020_USER_2,''[^:]+'', 1, level) is not null ) loop',
'      --For each BU',
'      if :P1020_ROLE_2 = 1 then -- supser admin',
'        --Delete all other roles for user if he is going to be super admin',
'        --delete from rca13_user_roles where user_id = rec.usr;',
'        begin',
'         insert into rca13_user_roles(user_role_id,user_id,role_id,lob_id,system_id,created_by)',
'         values (sys_guid(),rec.usr,:P1020_ROLE_2,''All'',''All'',:APP_USER);',
'         exception when dup_val_on_index then null;',
'         end;',
'      else        ',
'        for rec1 in ( select regexp_substr(:P1022_LOB_2,''[^:]+'', 1, level) lid from dual connect by regexp_substr(:P1022_LOB_2,''[^:]+'', 1, level) is not null ) loop ',
'         if :P1020_ROLE_2 = 2 then -- DBA Manager',
'           --Delete all dba roles for user for the LOB if he is going to be DBA Manager',
'           --delete from rca13_user_roles where user_id = rec.usr and lob_id = rec1.lid;',
'           begin',
'            insert into rca13_user_roles(user_role_id,user_id,role_id,lob_id,system_id,created_by)',
'            values (sys_guid(),rec.usr,:P1020_ROLE_2,rec1.lid,''All'',:APP_USER); ',
'           exception when dup_val_on_index then null;',
'           end;',
'         else --DBA ROLE',
'          --For each system',
'          for rec2 in ( select sid from ( select regexp_substr(:P1023_SYSTEM_2,''[^:]+'', 1, level) sid ',
'                        from dual connect by regexp_substr(:P1023_SYSTEM_2,''[^:]+'', 1, level) is not null ) a, rca13_lob2sys_mapping b ',
'                        where a.sid = b.system_id and b.lob_id = rec1.lid ) loop         ',
'            begin',
'             insert into rca13_user_roles(user_role_id,user_id,role_id,lob_id,system_id,created_by)',
'             values (sys_guid(),rec.usr,:P1020_ROLE_2,rec1.lid,rec2.sid,:APP_USER);',
'            exception when dup_val_on_index then null;',
'            end;',
'          end loop;',
'         end if;',
'        end loop;',
'      end if;',
'    end loop;',
'  end if;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(312555342921545998)
,p_process_success_message=>'Created Roles'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308421048571055904)
,p_process_sequence=>5
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Load systems'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'  if :P1020_ROLE_1 = 1 then ',
'    -- Select all systems from all BU''s',
'    select listagg(a.system_id,'':'')  within group (order by lob_name,system_name) into  :P1023_SYSTEM_1 from rca13_systems a,rca13_lob2sys_mapping b,( select * from rca13_lobs where lob_id != ''SAMPLE'' ) c',
'    where a.system_id = b.system_id and b.lob_id = c.lob_id;',
'    --We should be able to give supser admin roles even there are no systems under BU''s',
'    if :P1023_SYSTEM_1 is null then',
'       :P1023_SYSTEM_1 := ''All'';',
'    end if;',
'  elsif :P1020_ROLE_1 = 2 then ',
'    --Select systems from only selected Business units',
'    select listagg(a.system_id,'':'')  within group (order by lob_name,system_name) into  :P1023_SYSTEM_1 from rca13_systems a,rca13_lob2sys_mapping b,',
'    ( select * from rca13_lobs where instr('':''||:P1022_LOB_1||'':'',lob_id) > 0 ) c',
'    where a.system_id = b.system_id and b.lob_id = c.lob_id;',
'    --We should be able to give dba manager roles even there are no systems under BU''s',
'    if :P1023_SYSTEM_1 is null then',
'       :P1023_SYSTEM_1 := ''All'';',
'    end if;',
'  end if;',
'',
'  if :P1020_ROLE_2 = 1 then ',
'    -- Select all systems from all BU''s',
'    select listagg(a.system_id,'':'')  within group (order by lob_name,system_name) into  :P1023_SYSTEM_2 from rca13_systems a,rca13_lob2sys_mapping b,( select * from rca13_lobs where lob_id != ''SAMPLE'' ) c',
'    where a.system_id = b.system_id and b.lob_id = c.lob_id;',
'    if :P1023_SYSTEM_2 is null then',
'       :P1023_SYSTEM_2 := ''All'';',
'    end if;',
'  elsif :P1020_ROLE_2 = 2 then ',
'    --Select systems from only selected Business units',
'    select listagg(a.system_id,'':'')  within group (order by lob_name,system_name) into  :P1023_SYSTEM_2 from rca13_systems a,rca13_lob2sys_mapping b,',
'    ( select * from rca13_lobs where instr('':''||:P1022_LOB_2||'':'',lob_id) > 0 ) c',
'    where a.system_id = b.system_id and b.lob_id = c.lob_id;',
'    if :P1023_SYSTEM_2 is null then',
'       :P1023_SYSTEM_2 := ''All'';',
'    end if;',
'  end if;',
'',
'end;'))
);
end;
/
prompt --application/pages/page_01024
begin
wwv_flow_api.create_page(
 p_id=>1024
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Edit Role'
,p_alias=>'EDITROLE'
,p_page_mode=>'NORMAL'
,p_step_title=>'Edit Role'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20131211093513'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(308536463832593847)
,p_plug_name=>'Edit/Delete Role For <font color="blue">&P1024_USER_NAME.</font>'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(308544948676970808)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(307799540464507608)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(308543649791876444)
,p_button_sequence=>5
,p_button_plug_id=>wwv_flow_api.id(308536463832593847)
,p_button_name=>'CANCEL'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(308542241639760589)
,p_button_sequence=>8
,p_button_plug_id=>wwv_flow_api.id(308536463832593847)
,p_button_name=>'DELETE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(308541562717738262)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(308536463832593847)
,p_button_name=>'APPLYCHANGES'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Changes'
,p_button_position=>'REGION_TEMPLATE_CREATE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(308545450295983321)
,p_branch_name=>'Cancel'
,p_branch_action=>'f?p=&APP_ID.:1017:&SESSION.::&DEBUG.:::'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(308543649791876444)
,p_branch_sequence=>10
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(308545639728988263)
,p_branch_name=>'Delete'
,p_branch_action=>'f?p=&APP_ID.:1017:&SESSION.::&DEBUG.:::'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(308542241639760589)
,p_branch_sequence=>20
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(308554155006265476)
,p_branch_name=>'Apply Changes'
,p_branch_action=>'f?p=&APP_ID.:1017:&SESSION.::&DEBUG.:::'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(308541562717738262)
,p_branch_sequence=>30
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308541438997563183)
,p_name=>'P1024_USER_ROLE_ID2EDIT'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(308536463832593847)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308542635792792630)
,p_name=>'P1024_USER_NAME'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(308536463832593847)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308543937862897996)
,p_name=>'P1024_ROLE'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(308536463832593847)
,p_prompt=>'<b>User Role</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select role_name,role_id from rca13_access_roles ',
'where rca13_manage_acl.is_superadmin(:G_USER_ID) = 1 ',
'UNION ',
'select role_name,role_id from rca13_access_roles ',
'where rca13_manage_acl.is_dbamanager(:G_USER_ID) = 1 and role_id != 1',
'',
''))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308546565256143569)
,p_name=>'P1024_BUSINESS_UNIT'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(308536463832593847)
,p_prompt=>'<b>Business Unit</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select lob_name display_value,lob_id return_value from ( select * from rca13_lobs where lob_id != ''SAMPLE'' )',
'where rca13_manage_acl.is_superadmin(:G_USER_ID) = 1 ',
'UNION',
'select distinct a.lob_name display_value,a.lob_id return_value from ( select * from rca13_lobs where lob_id != ''SAMPLE'' ) a ',
'where rca13_manage_acl.is_dbamanager(:G_USER_ID) = 1 and ',
'exists ( select 1 from rca13_user_roles t1 where t1.lob_id = a.lob_id and t1.system_id = ''All'' and t1.user_id = :G_USER_ID ) ',
'order by 1',
'',
''))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select Business Unit --'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308546745416152782)
,p_name=>'P1024_SYSTEM'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(308536463832593847)
,p_prompt=>'<b>System</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select a.system_name,a.system_id from rca13_systems a,rca13_lob2sys_mapping b',
'where a.system_id = b.system_id and b.lob_id = :P1024_BUSINESS_UNIT'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- Select System --'
,p_lov_cascade_parent_items=>'P1024_BUSINESS_UNIT'
,p_ajax_optimize_refresh=>'Y'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:230px;"'
,p_label_alignment=>'LEFT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(308547264788189312)
,p_name=>'P1024_USER_ID'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(308536463832593847)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(308549848611491146)
,p_name=>'hide and show'
,p_event_sequence=>10
,p_triggering_element_type=>'ITEM'
,p_triggering_element=>'P1024_ROLE'
,p_condition_element=>'P1024_ROLE'
,p_triggering_condition_type=>'EQUALS'
,p_triggering_expression=>'1'
,p_bind_type=>'bind'
,p_bind_event_type=>'change'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(308550149645491150)
,p_event_id=>wwv_flow_api.id(308549848611491146)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_HIDE'
,p_affected_elements_type=>'ITEM'
,p_affected_elements=>'P1024_BUSINESS_UNIT,P1024_SYSTEM'
,p_attribute_01=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(308550260647513491)
,p_name=>'hide and show 1'
,p_event_sequence=>20
,p_triggering_element_type=>'ITEM'
,p_triggering_element=>'P1024_ROLE'
,p_condition_element=>'P1024_ROLE'
,p_triggering_condition_type=>'EQUALS'
,p_triggering_expression=>'2'
,p_bind_type=>'bind'
,p_bind_event_type=>'change'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(308550741669519154)
,p_event_id=>wwv_flow_api.id(308550260647513491)
,p_event_result=>'TRUE'
,p_action_sequence=>5
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_SHOW'
,p_affected_elements_type=>'ITEM'
,p_affected_elements=>'P1024_BUSINESS_UNIT'
,p_attribute_01=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(308550562115513492)
,p_event_id=>wwv_flow_api.id(308550260647513491)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_HIDE'
,p_affected_elements_type=>'ITEM'
,p_affected_elements=>'P1024_SYSTEM'
,p_attribute_01=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(308550842902527322)
,p_name=>'hide and show 2'
,p_event_sequence=>30
,p_triggering_element_type=>'ITEM'
,p_triggering_element=>'P1024_ROLE'
,p_condition_element=>'P1024_ROLE'
,p_triggering_condition_type=>'EQUALS'
,p_triggering_expression=>'3'
,p_bind_type=>'bind'
,p_bind_event_type=>'change'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(308551140541527330)
,p_event_id=>wwv_flow_api.id(308550842902527322)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'Y'
,p_action=>'NATIVE_SHOW'
,p_affected_elements_type=>'ITEM'
,p_affected_elements=>'P1024_BUSINESS_UNIT,P1024_SYSTEM'
,p_attribute_01=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308546262492022110)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Delete Role'
,p_process_sql_clob=>'delete from rca13_user_roles where user_role_id = :P1024_USER_ROLE_ID2EDIT;'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(308542241639760589)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308551666722628783)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Apply Changes'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'  if :P1024_ROLE = 1 then ',
'     update rca13_user_roles set role_id = 1,lob_id = ''All'',system_id = ''All'' where user_role_id = :P1024_USER_ROLE_ID2EDIT;',
'  elsif :P1024_ROLE = 2 then ',
'    if :P1024_BUSINESS_UNIT is not null then',
'     update rca13_user_roles set role_id = 2,lob_id = :P1024_BUSINESS_UNIT,system_id = ''All'' where user_role_id = :P1024_USER_ROLE_ID2EDIT;',
'    else',
'      raise_application_error (-20001,''Business Unit should not be null'');',
'    end if;',
'  elsif :P1024_ROLE = 3 then',
'    if :P1024_SYSTEM is not null and :P1024_BUSINESS_UNIT is not null then ',
'      update rca13_user_roles set role_id = 3,lob_id = :P1024_BUSINESS_UNIT,system_id = :P1024_SYSTEM',
'      where user_role_id = :P1024_USER_ROLE_ID2EDIT;',
'    else',
'       raise_application_error (-20001,''Business Unit and system should not be null'');',
'    end if;',
'  else',
'   null;',
'  end if;',
'  exception when dup_val_on_index then null;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(308541562717738262)
,p_process_success_message=>'Changes applied'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(308542750952810628)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Load User Details'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'  select b.username,a.user_id,a.role_id,decode(a.lob_id,''All'',null,a.lob_id),decode(a.system_id,''All'',null,a.system_id) ',
'  into :P1024_USER_NAME,:P1024_USER_ID,:P1024_ROLE,:P1024_BUSINESS_UNIT,:P1024_SYSTEM ',
'  from rca13_user_roles a,rca13_intrack_users b ',
'  where a.user_id = b.id and a.user_role_id = :P1024_USER_ROLE_ID2EDIT;',
'  :LAST_PAGE := 1024;',
'end;'))
,p_process_when=>'LAST_PAGE'
,p_process_when_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_process_when2=>'1017'
);
end;
/
prompt --application/pages/page_01025
begin
wwv_flow_api.create_page(
 p_id=>1025
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Collections Comparison'
,p_alias=>'HIGHLEVELCOMPARISION'
,p_page_mode=>'NORMAL'
,p_step_title=>'Collections Comparison'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20141204111543'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312014554524046571)
,p_plug_name=>'System Chart'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(312014756243046588)
,p_default_chart_type=>'2DLine'
,p_chart_rendering=>'SVG_ONLY'
,p_chart_name=>'chart_10957620465103835'
,p_chart_width=>1400
,p_chart_height=>540
,p_chart_animation=>'N'
,p_display_attr=>':H:N::B:N:Top::H:Y:Default:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_map_source=>'%'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'0'
,p_custom_colors=>'P1025_COLOR_CODE'
,p_x_axis_label_rotation=>90
,p_x_axis_label_font=>'Tahoma:10:#000000'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'N'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312016444141869516)
,p_chart_id=>wwv_flow_api.id(312014756243046588)
,p_series_seq=>10
,p_series_name=>'Passes'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select a.collection_date||''|''||a.collection_name link,to_char(a.collection_date,''YYYY-MM-DD HH24:MI:SS'') name,count(b.status) Passes',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) )  a,auditcheck_result b',
'where a.collection_date = b.collection_date',
'and a.system_id = :P1025_SYS_FILTER',
'and b.status not in ( ''FAIL'',''WARNING'')',
'group by a.collection_date,a.collection_name',
'order by a.collection_date'))
,p_series_type=>'Line'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No Collections Found for the selected time range'
,p_series_query_row_count_max=>35
,p_action_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_COLLECTION_DATE,P1002_STATUS,P1002_FIRST_VISIT:#LINK#,PASS,0'
,p_show_action_link=>'C'
,p_display_when_cond_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_display_when_condition=>'P1025_STATUS'
,p_display_when_condition2=>'PASS'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312016343664859906)
,p_chart_id=>wwv_flow_api.id(312014756243046588)
,p_series_seq=>20
,p_series_name=>'Warnings'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select a.collection_date||''|''||a.collection_name  link,to_char(a.collection_date,''YYYY-MM-DD HH24:MI:SS'') name,count(b.status) Warnings',
'from( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) )  a,auditcheck_result b',
'where a.collection_date = b.collection_date',
'and a.system_id = :P1025_SYS_FILTER',
'and b.status = ''WARNING''',
'group by a.collection_date,a.collection_name',
'order by a.collection_date'))
,p_series_type=>'Line'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No Collections Found for the selected time range'
,p_series_query_row_count_max=>35
,p_action_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_COLLECTION_DATE,P1002_STATUS,P1002_FIRST_VISIT:#LINK#,WARNING,0'
,p_show_action_link=>'C'
,p_display_when_cond_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_display_when_condition=>'P1025_STATUS'
,p_display_when_condition2=>'WARNING'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312014850715046594)
,p_chart_id=>wwv_flow_api.id(312014756243046588)
,p_series_seq=>30
,p_series_name=>'Fails'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select a.collection_date||''|''||a.collection_name link,to_char(a.collection_date,''YYYY-MON-DD HH24:MI:SS'') name,count(b.status) Fails',
'from ( select * from rca13_col2sys_mapping  where nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) a,auditcheck_result b',
'where a.collection_date = b.collection_date',
'and a.system_id = :P1025_SYS_FILTER',
'and b.status = ''FAIL''',
'group by a.collection_date,a.collection_name',
'order by a.collection_date'))
,p_series_type=>'Line'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No Collections Found for the selected time range'
,p_series_query_row_count_max=>35
,p_action_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_COLLECTION_DATE,P1002_STATUS,P1002_FIRST_VISIT:#LINK#,FAIL,0'
,p_show_action_link=>'C'
,p_display_when_cond_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_display_when_condition=>'P1025_STATUS'
,p_display_when_condition2=>'FAIL'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312023144197390755)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(312022352115364667)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312018561112092622)
,p_name=>'P1025_SYS_FILTER'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(312014554524046571)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312020064978341345)
,p_name=>'P1025_MESSAGE'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(312014554524046571)
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_escape_on_http_output=>'N'
,p_attribute_01=>'N'
,p_attribute_02=>'VALUE'
,p_attribute_04=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312021046757744814)
,p_name=>'P1025_STATUS'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(312014554524046571)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312161548173187335)
,p_name=>'P1025_COLOR_CODE'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(312014554524046571)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312021259900753980)
,p_computation_sequence=>10
,p_computation_item=>'P1025_STATUS'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'FAIL'
,p_compute_when=>'P1025_STATUS'
,p_compute_when_type=>'ITEM_IS_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312022168081297052)
,p_computation_sequence=>10
,p_computation_item=>'P1025_SYS_FILTER'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'QUERY'
,p_computation=>'select decode(:P0_SYS_FILTER,''All'',:P1025_SYS_FILTER,:P0_SYS_FILTER) from dual'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312369067923345700)
,p_process_sequence=>5
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'get cd when single point'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' CD_SINGLE varchar2(400) := null;',
'begin',
'select link into CD_SINGLE from  (',
'select a.collection_date||''|''||a.collection_name link,to_char(a.collection_date,''YYYY-MM-DD HH24:MI:SS'') name,count(b.status) Passes',
'from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) )  a,auditcheck_result b',
'where a.collection_date = b.collection_date',
'and a.system_id = :P1025_SYS_FILTER',
'and ( b.status = :P1025_STATUS OR ( :P1025_STATUS = ''PASS'' and b.status in (''PASS'',''INFO-PASS'') ) )',
'group by a.collection_date,a.collection_name );',
'',
'if CD_SINGLE is not null then ',
' htp.init;',
' owa_util.redirect_url(''f?p=&APP_ID.:1002:&APP_SESSION.:::1002:P1002_COLLECTION_DATE,P1002_STATUS,P1002_FIRST_VISIT:''||CD_SINGLE||'',&P1025_STATUS.,0'');',
' apex_application.stop_apex_engine;',
'end if;',
'exception when others then null;',
'end;'))
,p_process_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number := 0;',
'begin',
'select count(*) into cnt from (select 1 from ( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) )  a,auditcheck_result b',
'where a.collection_date = b.collection_date',
'and a.system_id = :P1025_SYS_FILTER',
'and ( b.status = :P1025_STATUS OR ( :P1025_STATUS = ''PASS'' and b.status in (''PASS'',''INFO-PASS'') ) )',
'group by a.collection_date,a.collection_name);',
'if cnt = 1 then ',
' return true;',
'end if;',
'return false;',
'end;',
''))
,p_process_when_type=>'FUNCTION_BODY'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312020139743367646)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Set Message'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'sysName varchar2(100);',
'begin',
' select system_name into sysName from rca13_systems where system_id =  :P1025_SYS_FILTER;',
' :P1025_MESSAGE := ''&nbsp;&nbsp;<b> ''||:P1025_STATUS||'' checks in collections for the system <font color="blue">''||sysName||''</font><b>'';',
'end;'))
,p_process_when=>'P1025_SYS_FILTER'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
end;
/
prompt --application/pages/page_01026
begin
wwv_flow_api.create_page(
 p_id=>1026
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Check Collected Deatails'
,p_alias=>'CHECKCOLLECTEDDETAILS'
,p_page_mode=>'NORMAL'
,p_step_title=>'Check Collected Deatails'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function ShowHide(divId)',
'{',
'  if(document.getElementById(divId).style.display == ''none'')',
'  {',
'    document.getElementById(divId).style.display=''block'';',
'    document.getElementById(divId+''_mh'').innerHTML = ''Click for less data'';',
'  }',
'   else',
'  {',
'    document.getElementById(divId).style.display = ''none'';',
'    document.getElementById(divId + ''_mh'').innerHTML = ''Click for more data'';',
'    window.location.hash = divId + ''_a'';',
'  }',
'}',
''))
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'body {',
'    font-family: Lucida Grande,Lucida Sans,Arial,sans-serif;',
'    font-size: 13px ;',
'    background:white;',
'}',
'h1 {color:blue !important;}',
'h2 {',
'color:blue; ',
'background:white',
'}',
'h3 {',
'color:blue !important; ',
'background:white !important',
'}',
'p {',
'  font-family: Lucida Grande,Lucida Sans,Arial,sans-serif;',
'  font-size: 13px;',
'}',
'',
'.a_bgw {',
'  color: #000000;',
'  background:white;',
'}',
'',
'.scrollc{',
'        display:block;',
'        border: 0px;',
'        padding:5px;',
'        margin-top:5px;',
'        width:1500px;',
'        height:450px;',
'        overflow-y:hidden;',
'        }',
'',
'.scrolle{',
'        display:block;',
'        border: 0px;',
'        padding:5px;',
'        margin-top:5px;',
'        width:1500px;',
'        height:100%;',
'        overflow-y:hidden;',
'        }',
'table {',
'    color: #000000;',
'    font-weight: bold;',
'    border-spacing: 0;',
'    outline: medium none;',
'    font-family: Lucida Grande,Lucida Sans,Arial,sans-serif;',
'    font-size: 12px;',
'',
'}',
'',
'th {',
' background: #D7EBF9 !important;',
'    border: 1px solid #AED0EA !important;',
'    font-size: 13px !important;',
'    font-weight: bold !important;',
'}',
'td {',
'',
' background: #F2F5F7 !important;',
'    border: 1px solid #AED0EA !important;',
'    font-weight: normal !important;',
'    padding: 5 !important; ',
'}',
'',
'.status_FAIL',
'{',
'    font-weight: bold;',
'    color: #c70303;',
'}',
'.status_WARNING',
'{',
'    font-weight: bold;',
'    color: #b05c1c;',
'}',
'.status_INFO',
'{',
'    font-weight: bold;',
'    color: blue;',
'}',
'.status_PASS',
'{',
'    font-weight: bold;',
'    color: #006600;',
'}',
'',
'.td_output {',
'  color: #000000;',
' background: #E0E0E0 !important;',
'    border: 1px solid #AED0EA !important;',
'font-family: Lucida Grande,Lucida Sans,Arial,sans-serif;',
'font-size: 13px;',
'    font-weight: normal;',
'    padding: 1 !important;',
'}',
'.td_column {',
' background: #D7EBF9 !important;',
'    border: 1px solid #AED0EA !important;',
'    font-size: 13px;',
'    font-weight: bold;',
'}',
'',
'.td_title {',
'',
' background: #F2F5F7 !important;',
'    border: 0px solid #AED0EA !important;',
'    font-weight: normal !important;',
'    padding: 5 !important;',
'}',
'',
'pre {',
' overflow-x: auto; /* Use horizontal scroller if needed; for Firefox 2, not needed in Firefox 3 */',
' white-space: pre-wrap !important; /* css-3 */',
' white-space: -moz-pre-wrap !important; /* Mozilla, since 1999 */',
' white-space: -pre-wrap; /* Opera 4-6 */',
' white-space: -o-pre-wrap; /* Opera 7 */',
' /* width: 99%; */',
' word-wrap: break-word; /* Internet Explorer 5.5+ */',
'}',
'',
'.shs_bar {',
'width: 500px ;',
'height: 20px ;',
'float: left ;',
'border: 1px solid #444444;',
'background-color: #656565 ;',
'}',
'',
'.shs_barfill {',
'height: 20px ;',
'float: left ;',
'background-color: #FF6600 ;',
'width: 83% ;',
'}',
'',
'.more_less_style {',
'  font-family: Lucida Grande,Lucida Sans,Arial,sans-serif;',
'  font-weight: bold;',
'  color: blue;',
'}',
''))
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20140825070740'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(307779360013828383)
,p_plug_name=>'Check Details'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'collectionId varchar2(40);',
'cName varchar2(256);',
'htmlFileId varchar2(40) := NULL;',
'readingOn number := 0;',
'begin',
' begin',
'   select collection_id,collection_name into collectionId,cName from rca13_collections where collection_date||''|''||collection_name = :P1026_COLLECTION_DATE;',
'   exception when NO_DATA_FOUND then sys.htp.prn(''Collected Data Not Found'');',
' end;  ',
' -- Get file id of html file',
' for rec in ( select collection_file_id cfi from rca13_collection_files a where short_file_name = cName||''.html'' ',
'              and collection_id = collectionId ',
'              and (select count(1) from rca13_collection_file_data where collection_file_id = a.collection_file_id ) > 0 ) loop',
'   htmlFileId := rec.cfi;',
' end loop; ',
' if htmlFileId is null then ',
'   sys.htp.prn(''Collected Data Not Found'');',
' end if;',
' for rec in ( select line_text lt from rca13_collection_file_data where collection_file_id = htmlFileId order by line_number ) loop ',
'   if readingOn = 0 and instr(rec.lt,''id="''||:P1026_CHECK_ID||''_contents"'') > 0 then',
'     readingOn := 1;',
'   end if;',
'   if readingOn = 1 and instr(rec.lt,''<div id="'') > 0 and  instr(rec.lt,''_contents">'') > 0 and  instr(rec.lt,:P1026_CHECK_ID) = 0 then',
'     exit;',
'   end if;   ',
'   if readingOn = 1 then ',
'     if instr(rec.lt,''>Top<'') = 0 and instr(rec.lt,''<hr>'') = 0 then',
'       sys.htp.prn(''<pre style="overflow-x: auto;white-space: pre-wrap;white-space: -moz-pre-wrap !important;white-space: -pre-wrap;white-space: -o-pre-wrap;width: 99%;',
'word-wrap: break-word;">'' ||rec.lt||''</pre>'');',
'     end if;',
'   end if;',
' end loop;',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(307797860531362107)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
,p_plug_display_condition_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_plug_display_when_condition=>'LAST_PAGE'
,p_plug_display_when_cond2=>'1002'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(307800053408520862)
,p_plug_name=>'Breadcrumb1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(307799540464507608)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
,p_plug_display_condition_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_plug_display_when_condition=>'LAST_PAGE'
,p_plug_display_when_cond2=>'1003'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(307779656118832254)
,p_name=>'P1026_COLLECTION_DATE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(307779360013828383)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(307779851373834489)
,p_name=>'P1026_CHECK_ID'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(307779360013828383)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
end;
/
prompt --application/pages/page_01028
begin
wwv_flow_api.create_page(
 p_id=>1028
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'email notifications'
,p_alias=>'EMAILNOTIFICATIONS'
,p_page_mode=>'NORMAL'
,p_step_title=>'email notifications'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_group_id=>wwv_flow_api.id(2856540390011829470)
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'ORACHKCM'
,p_last_upd_yyyymmddhh24miss=>'20160830000753'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(39629513088603355)
,p_plug_name=>'Mail Notification Job Interval'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style=width:100%'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>'<font color="red">Note:</font> When the application installed first time, the Email notifications are disabled by default. Please configure email server details <br> and then enable the Email notifications using Click to Enable/Disable Email notifica'
||'tions for all users including Admin. <br> By default, the frequency of email notifications are 4 hours. Please configure frequency of the Email notifications <br>using Click To Receive Email Notifications Once Every.'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(311002746096169544)
,p_plug_name=>'Enable/Disable Notifications Job<hr>'
,p_parent_plug_id=>wwv_flow_api.id(39629513088603355)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712432812910730)
,p_plug_display_sequence=>15
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(311004256803295637)
,p_name=>'Mail Notification Job Run Details'
,p_parent_plug_id=>wwv_flow_api.id(311002746096169544)
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>38
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY'
,p_source=>'select log_date,Status,error#,additional_info from user_scheduler_job_run_details where job_name like ''RCA13_NOTIFICATIONS_JOB'' order by log_date desc '
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>10
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_item=>'10'
,p_query_num_rows_type=>'ROW_RANGES'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_prn_format=>'PDF'
,p_prn_output_show_link=>'Y'
,p_prn_output_link_text=>'Print'
,p_prn_content_disposition=>'ATTACHMENT'
,p_prn_document_header=>'APEX'
,p_prn_units=>'INCHES'
,p_prn_paper_size=>'LETTER'
,p_prn_width_units=>'PERCENTAGE'
,p_prn_width=>11
,p_prn_height=>8.5
,p_prn_orientation=>'HORIZONTAL'
,p_prn_page_header_font_color=>'#000000'
,p_prn_page_header_font_family=>'Helvetica'
,p_prn_page_header_font_weight=>'normal'
,p_prn_page_header_font_size=>'12'
,p_prn_page_footer_font_color=>'#000000'
,p_prn_page_footer_font_family=>'Helvetica'
,p_prn_page_footer_font_weight=>'normal'
,p_prn_page_footer_font_size=>'12'
,p_prn_header_bg_color=>'#9bafde'
,p_prn_header_font_color=>'#ffffff'
,p_prn_header_font_family=>'Helvetica'
,p_prn_header_font_weight=>'normal'
,p_prn_header_font_size=>'10'
,p_prn_body_bg_color=>'#efefef'
,p_prn_body_font_color=>'#000000'
,p_prn_body_font_family=>'Helvetica'
,p_prn_body_font_weight=>'normal'
,p_prn_body_font_size=>'10'
,p_prn_border_width=>.5
,p_prn_page_header_alignment=>'CENTER'
,p_prn_page_footer_alignment=>'CENTER'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311004557644295879)
,p_query_column_id=>1
,p_column_alias=>'LOG_DATE'
,p_column_display_sequence=>1
,p_column_heading=>'Run On'
,p_heading_alignment=>'LEFT'
,p_include_in_export=>'Y'
,p_print_col_width=>'25'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311004662938295892)
,p_query_column_id=>2
,p_column_alias=>'STATUS'
,p_column_display_sequence=>2
,p_column_heading=>'Status'
,p_heading_alignment=>'LEFT'
,p_include_in_export=>'Y'
,p_print_col_width=>'25'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311004745817295892)
,p_query_column_id=>3
,p_column_alias=>'ERROR#'
,p_column_display_sequence=>3
,p_column_heading=>'Error Code'
,p_heading_alignment=>'LEFT'
,p_include_in_export=>'Y'
,p_print_col_width=>'25'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(311004861556295892)
,p_query_column_id=>4
,p_column_alias=>'ADDITIONAL_INFO'
,p_column_display_sequence=>4
,p_column_heading=>'Additional Info'
,p_heading_alignment=>'LEFT'
,p_include_in_export=>'Y'
,p_print_col_width=>'25'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(81452724811985969)
,p_plug_name=>'Purge Job Interval'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style=width:100%'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>37
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_display_point=>'BODY_3'
,p_plug_source=>'<br><font color="red">Note:</font> When the application installed first time, the purge job enabled by default for every 3 months.<br> Please configure the frequency of purge using Click to purge every.<br><br>'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(81453807636066129)
,p_name=>'Purge Job Run Details'
,p_parent_plug_id=>wwv_flow_api.id(81452724811985969)
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select to_char(log_date,''DD-MON-YYYY'') log_date,Status,error#,additional_info from user_scheduler_job_run_details where job_name like ''RCA13_PURGE_JOB'' order by log_date desc',
'',
'',
''))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>20
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_item=>'20'
,p_query_num_rows_type=>'ROW_RANGES'
,p_query_row_count_max=>500
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(81695603463922217)
,p_query_column_id=>1
,p_column_alias=>'LOG_DATE'
,p_column_display_sequence=>1
,p_column_heading=>'Log Date'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(81454211748066142)
,p_query_column_id=>2
,p_column_alias=>'STATUS'
,p_column_display_sequence=>2
,p_column_heading=>'STATUS'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(81454306734066142)
,p_query_column_id=>3
,p_column_alias=>'ERROR#'
,p_column_display_sequence=>3
,p_column_heading=>'ERROR#'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(81454411955066142)
,p_query_column_id=>4
,p_column_alias=>'ADDITIONAL_INFO'
,p_column_display_sequence=>4
,p_column_heading=>'ADDITIONAL_INFO'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(310962842149404971)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(311001543653017531)
,p_plug_name=>'Manage Email Server &nbsp&nbsp&nbsp'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>5
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_plug_header=>'<br><br>'
,p_plug_footer=>'<br><br>'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311003539956224586)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(39629513088603355)
,p_button_name=>'P1028_DISABLE'
,p_button_static_id=>'P1028_DISABLE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Click To Disable Email Notifications'
,p_button_position=>'BODY'
,p_button_condition_type=>'NEVER'
,p_grid_new_grid=>false
,p_grid_new_row=>'N'
,p_grid_new_column=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(311003262073202545)
,p_button_sequence=>80
,p_button_plug_id=>wwv_flow_api.id(39629513088603355)
,p_button_name=>'P1028_ENABLE'
,p_button_static_id=>'P1028_ENABLE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Click To Enable Email Notifications'
,p_button_position=>'BODY'
,p_button_alignment=>'LEFT'
,p_button_condition_type=>'NEVER'
,p_grid_new_grid=>false
,p_grid_new_row=>'N'
,p_grid_new_column=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(310963966493544446)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(311001543653017531)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Set My Email Server Settings'
,p_button_position=>'RIGHT_OF_TITLE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(39627906837750002)
,p_button_sequence=>70
,p_button_plug_id=>wwv_flow_api.id(39629513088603355)
,p_button_name=>'SET_JOB_INTERVAL'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Click To Receive Email Notifications Once Every'
,p_button_position=>'TEMPLATE_DEFAULT'
,p_button_alignment=>'LEFT'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(81458600195451936)
,p_button_sequence=>90
,p_button_plug_id=>wwv_flow_api.id(81452724811985969)
,p_button_name=>'P1028_PURGE_ENABLE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Click To Enable Purging'
,p_button_position=>'TOP'
,p_button_alignment=>'LEFT'
,p_button_condition=>'select 1 from user_scheduler_jobs where job_name like ''RCA13_PURGE_JOB'' and enabled = ''FALSE'''
,p_button_condition_type=>'EXISTS'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(81458825821459350)
,p_button_sequence=>100
,p_button_plug_id=>wwv_flow_api.id(81452724811985969)
,p_button_name=>'P1028_PURGE_DISABLE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Click To Disable Purging'
,p_button_position=>'TOP'
,p_button_alignment=>'LEFT'
,p_button_condition=>'select 1 from user_scheduler_jobs where job_name like ''RCA13_PURGE_JOB'' and enabled = ''TRUE'''
,p_button_condition_type=>'EXISTS'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(81453030399015997)
,p_button_sequence=>110
,p_button_plug_id=>wwv_flow_api.id(81452724811985969)
,p_button_name=>'CLICK_TO_PURGE_EVERY'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Click To Purge Data Older than interval'
,p_button_position=>'TOP'
,p_button_alignment=>'LEFT'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(81462309086946477)
,p_button_sequence=>120
,p_button_plug_id=>wwv_flow_api.id(39629513088603355)
,p_button_name=>'P1028_DISABLE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Click To Disable Email Notifications'
,p_button_position=>'TOP'
,p_button_alignment=>'LEFT'
,p_button_condition=>'select 1 from user_scheduler_jobs where job_name like ''RCA13_NOTIFICATIONS_JOB'' and enabled = ''TRUE'''
,p_button_condition_type=>'EXISTS'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(81462606446955121)
,p_button_sequence=>130
,p_button_plug_id=>wwv_flow_api.id(39629513088603355)
,p_button_name=>'P1028_ENABLE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Click To Enable Email Notifications'
,p_button_position=>'TOP'
,p_button_alignment=>'LEFT'
,p_button_condition=>'select 1 from user_scheduler_jobs where job_name like ''RCA13_NOTIFICATIONS_JOB'' and enabled = ''FALSE'''
,p_button_condition_type=>'EXISTS'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(310970251445000610)
,p_branch_name=>'After submit'
,p_branch_action=>'f?p=&APP_ID.:1028:&SESSION.::&DEBUG.&success_msg=#SUCCESS_MSG#'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(310963966493544446)
,p_branch_sequence=>10
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(39624608950379791)
,p_name=>'P1028_INTERVAL'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(39629513088603355)
,p_prompt=>'<b>Email Frequency<b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:30px;"'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'RIGHT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(39626024022403177)
,p_name=>'P1028_INTERVAL_TYPE'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(39629513088603355)
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'STATIC2:HOURS;HOURS,DAYS;DAYS'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(81456717924137014)
,p_name=>'P1028_PURGE_INTERVAL'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(81452724811985969)
,p_prompt=>'<b>Purge Frequency<b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:30px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'RIGHT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(81457403666174083)
,p_name=>'P1028_PURGE_INTERVAL_TYPE'
,p_item_sequence=>90
,p_item_plug_id=>wwv_flow_api.id(81452724811985969)
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'STATIC2:DAYS;DAYS,WEEKLY;WEEKLY,MONTHLY;MONTHLY,YEARLY;YEARLY'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(310963346905486126)
,p_name=>'P1028_SERVER_NAME'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(311001543653017531)
,p_prompt=>'<b>Server Name</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>40
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(310972067126069308)
,p_name=>'P1028_PORT'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(311001543653017531)
,p_prompt=>'<b>Port Number</b>'
,p_display_as=>'NATIVE_NUMBER_FIELD'
,p_cSize=>10
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_03=>'right'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(310964745525593172)
,p_validation_name=>'P1028_SERVER_NAME'
,p_validation_sequence=>10
,p_validation=>'P1028_SERVER_NAME'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'Server name should not be null'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(310963966493544446)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(310963346905486126)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(39631520881795071)
,p_validation_name=>'P1028_INTERVAL'
,p_validation_sequence=>20
,p_validation=>'P1028_INTERVAL'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'Email Notificaitions Interval should not be null.'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(39627906837750002)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(39624608950379791)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(39633220683038228)
,p_validation_name=>'P1028_PORT'
,p_validation_sequence=>30
,p_validation=>'P1028_PORT'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'Port Number cant be null to complete your server settings'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(310963966493544446)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(310972067126069308)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(310964337582573908)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Update Mail server Details'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'urlName varchar2(1000) := NULL;',
'begin',
'select count(1) into cnt from rca13_mail_server;',
'if cnt = 0 then ',
' insert into rca13_mail_server(id,server_name,port) values(sys_guid(),:P1028_SERVER_NAME,:P1028_PORT);',
'else',
' update rca13_mail_server set server_name = :P1028_SERVER_NAME,port = :P1028_PORT;',
'end if;',
'',
'-- Now get apex details like full URL and app Id etc',
'/*',
'urlName := OWA_UTIL.get_cgi_env (''REQUEST_PROTOCOL'') || ''://''|| OWA_UTIL.get_cgi_env (''HTTP_HOST'')|| '':''|| OWA_UTIL.get_cgi_env (''SERVER_PORT'') ||OWA_UTIL.get_cgi_env(''SCRIPT_NAME'')||''/'';',
'*/',
'urlName := OWA_UTIL.get_cgi_env (''REQUEST_PROTOCOL'') || ''://''|| OWA_UTIL.get_cgi_env (''HTTP_HOST'')||OWA_UTIL.get_cgi_env(''SCRIPT_NAME'')||''/'';',
'',
'select count(1) into cnt from rca13_apex_details;',
'if cnt = 0 then',
'  insert into rca13_apex_details(url,app_id) values(urlName,:APP_ID);',
'else ',
' update rca13_apex_details set url = urlName,app_id = :APP_ID;',
'end if;',
'end;'))
,p_process_error_message=>'Error Occured. Please contact Admin.'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(310963966493544446)
,p_process_success_message=>'Server details updated Successfully'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(311003738487243099)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Enable Job'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'l_job_exists number := 0;',
'begin',
'select count(1) into l_job_exists from user_scheduler_jobs where job_name = ''RCA13_NOTIFICATIONS_JOB'';',
'if(l_job_exists = 1) then',
' DBMS_SCHEDULER.enable (''RCA13_NOTIFICATIONS_JOB'');',
'end if;',
'exception when others then',
'insert into RCA13_EXCEPTION_LOG(TEXT) VALUES (''Enable Job error'');',
'  COMMIT;',
'end;'))
,p_process_error_message=>'Could not enable notifications Job, Please contact admin'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(311003262073202545)
,p_process_success_message=>'Enabled Notifications Job'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(39628315064771324)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'SET JOB INTERVAL'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'BEGIN',
'RCA13_MANAGE_NOTIFICATIONS.jobintervalconfiguration(:P1028_INTERVAL,:P1028_INTERVAL_TYPE);',
'END;'))
,p_process_error_message=>'Error occured in setting up the email notification frequency. Please contact Admin.'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(39627906837750002)
,p_process_success_message=>'Email Notifications Interval/Frequency Submitted Successfully.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(39637323465271095)
,p_process_sequence=>50
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'DISABLE NOTIFICATIONS JOB'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'l_job_exists number := 0;',
'begin',
'select count(1) into l_job_exists from user_scheduler_jobs where job_name = ''RCA13_NOTIFICATIONS_JOB'';',
'if(l_job_exists = 1) then',
' DBMS_SCHEDULER.disable(''RCA13_NOTIFICATIONS_JOB'');',
'end if;',
'exception when others then',
'insert into RCA13_EXCEPTION_LOG(TEXT) VALUES (''Disable Job error'');',
'  COMMIT;',
'end;'))
,p_process_error_message=>'Could not disable notifications Job, Please contact Admin.'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(311003539956224586)
,p_process_success_message=>'Disabled Mail Notification.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(81457721807193208)
,p_process_sequence=>60
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Enable Purge Job'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'l_job_exists number := 0;',
'begin',
'select count(1) into l_job_exists from user_scheduler_jobs where job_name = ''RCA13_PURGE_JOB'';',
'if(l_job_exists = 1) then',
' DBMS_SCHEDULER.enable (''RCA13_PURGE_JOB'');',
'end if;',
'exception when others then',
'insert into RCA13_EXCEPTION_LOG(TEXT) VALUES (''Enable Purge Job Error'');',
'  COMMIT;',
'end;'))
,p_process_error_message=>'Could not enable purge Job, Please contact admin'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(81458600195451936)
,p_process_success_message=>'Enabled Purge Job'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(81458017454352791)
,p_process_sequence=>70
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'SET PURGE JOB INTERVAL'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'BEGIN',
'RCA13_MANAGE_NOTIFICATIONS.purgejobintervalconfiguration',
'(:P1028_PURGE_INTERVAL,:P1028_PURGE_INTERVAL_TYPE);',
'END;'))
,p_process_error_message=>'Error occured in setting up the purge frequency. Please contact Admin.'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(81453030399015997)
,p_process_success_message=>'Purge Interval/Frequency Submitted Successfully.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(81459223313477543)
,p_process_sequence=>80
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Disable Purge Job'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'l_job_exists number := 0;',
'begin',
'select count(1) into l_job_exists from user_scheduler_jobs where job_name = ''RCA13_PURGE_JOB'';',
'if(l_job_exists = 1) then',
' DBMS_SCHEDULER.disable(''RCA13_PURGE_JOB'');',
'end if;',
'exception when others then',
'insert into RCA13_EXCEPTION_LOG(TEXT) VALUES (''Disable Purge Job error'');',
'  COMMIT;',
'end;'))
,p_process_error_message=>'Could not disable purge Job, Please contact Admin.'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(81458825821459350)
,p_process_success_message=>'Disabled Purge Job.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(310967149571917993)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Fetch server Details'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' :P1028_SERVER_NAME := NULL;',
' :P1028_PORT := NULL;',
' for rec in ( select server_name,port from rca13_mail_server ) loop ',
'   :P1028_SERVER_NAME := rec.server_name;',
'   :P1028_PORT := rec.port;',
' end loop;',
'select trim(replace(replace(substr(repeat_interval,22,3),''='',''''),'';'',null)), decode(substr(repeat_interval,6,5),''daily'',''DAYS'',''hourl'',''HOURS'',substr(repeat_interval,6,5)) into :P1028_INTERVAL, :P1028_INTERVAL_TYPE ',
'from user_scheduler_jobs where job_name=''RCA13_NOTIFICATIONS_JOB'';',
'select preference_value,preference_description into :P1028_PURGE_INTERVAL, :P1028_PURGE_INTERVAL_TYPE ',
'from rca13_intrack_preferences where preference_name=''PURGE_JOB_INTERVAL'';',
'exception when others then ',
' INSERT INTO RCA13_EXCEPTION_LOG(TEXT) VALUES (''Exceptionpage1028::fetchdetails'');',
'  COMMIT;',
'end;'))
);
end;
/
prompt --application/pages/page_01029
begin
wwv_flow_api.create_page(
 p_id=>1029
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Manage Notification'
,p_alias=>'MANAGENOTIFICATION'
,p_page_mode=>'NORMAL'
,p_step_title=>'Manage Notification'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'ADMIN'
,p_last_upd_yyyymmddhh24miss=>'20160418013919'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(310984157679766138)
,p_plug_name=>'Register For Email Notifications'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(4363033908831479553)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_plug_footer=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<font color="RED">Note:</font> Please make sure the email is valid. If ACL system is enabled, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;All subscribed users will receive notifications for the systems that they have access on the'
||'ir notification preferences.<br>',
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'))
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(310995552642701337)
,p_plug_name=>'Warning block'
,p_parent_plug_id=>wwv_flow_api.id(310984157679766138)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY'
,p_plug_source=>'<font color="RED"> Waring:</font> Mail server is not configured. Please configure the mail server first as admin.&nbsp;You will not receive any emails until server is configured.'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'NOT_EXISTS'
,p_plug_display_when_condition=>'select 1 from rca13_mail_server'
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(310996247326765944)
,p_plug_name=>'Test your email settings &nbsp;&nbsp;'
,p_parent_plug_id=>wwv_flow_api.id(310984157679766138)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712028632910726)
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_grid_column_span=>6
,p_plug_display_column=>5
,p_plug_display_point=>'BODY'
,p_plug_source=>'Use the Test email button to verify proper email delivery.  If there is a problem please contact your administrator.'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'EXISTS'
,p_plug_display_when_condition=>'select 1 from rca13_mail_server'
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(311005167848346209)
,p_plug_name=>'Job Warning Block'
,p_parent_plug_id=>wwv_flow_api.id(310984157679766138)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>22
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY'
,p_plug_source=>'<font color="red">Warning:</font> Email Notifications Job is not enabled. Please contact admin.'
,p_plug_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows=>15
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'EXISTS'
,p_plug_display_when_condition=>'select 1 from user_scheduler_jobs where job_name like ''RCA13_NOTIFICATIONS_JOB'' and enabled = ''FALSE'''
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(310992948459473063)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(310989845014273355)
,p_button_sequence=>5
,p_button_plug_id=>wwv_flow_api.id(310984157679766138)
,p_button_name=>'P1029_CANCEL'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'BOTTOM'
,p_button_redirect_url=>'f?p=&APP_ID.:4:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(310988652802237721)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(310984157679766138)
,p_button_name=>'P1029_SUBMIT'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Submit'
,p_button_position=>'BOTTOM'
,p_button_execute_validations=>'N'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(310996462348779740)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(310996247326765944)
,p_button_name=>'TEST'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'Test'
,p_button_position=>'RIGHT_OF_TITLE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(5694712706887923)
,p_name=>'P1029_EMAILALERT'
,p_item_sequence=>25
,p_item_plug_id=>wwv_flow_api.id(310984157679766138)
,p_item_default=>'3'
,p_prompt=>'<b>Collection Notifications<b>'
,p_display_as=>'NATIVE_CHECKBOX'
,p_lov=>'STATIC2:New Collections Without Comparisons;0,Collections Regressed with Warnings;2,Collections that Improved with Passes;4,Collections Regressed with Failures;3'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_new_grid=>true
,p_begin_on_new_line=>'N'
,p_colspan=>4
,p_grid_column=>4
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1029_IS_REGISTER = 1 then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52727411791198868)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<br><b>New</b> - The first collection for a system will not have an earlier collection to be compared to.  Those reports could contain Warnings, Failures and Passes but there would be no regressions or improvements to note.',
'Future collections would be compared to the next most recent collection for the same system regardless of the interval between collections and there could be other regressions or improvements to note.<br>',
'<br><br>',
'<b>Warn</b> - One or more checks regressed from Passing state to a Warning state since the next most recent collection.<br>',
'<br><br>',
'<b>',
'Fail</b> - One or more checks regressed from Passing state to a Failing state since the next most recent collection.<br><br>',
'<b>',
'Pass</b> - One or more checks improved from a Warning or Failing state to a Passing state.<br><br>',
''))
,p_attribute_01=>'1'
,p_attribute_02=>'VERTICAL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(5709911015931878)
,p_name=>'P1029_TABLESPACEALERT'
,p_item_sequence=>41
,p_item_plug_id=>wwv_flow_api.id(310984157679766138)
,p_prompt=>'<b>ORAchk CM Tablespace Notifications <b>'
,p_display_as=>'NATIVE_CHECKBOX'
,p_lov=>'STATIC2:ORAchk CM space in data base falls below 500MB;1'
,p_lov_display_null=>'YES'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_new_grid=>true
,p_begin_on_new_line=>'N'
,p_colspan=>5
,p_grid_column=>5
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1029_IS_REGISTER = 1 then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'1'
,p_attribute_02=>'HORIZONTAL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(310984957091846190)
,p_name=>'P1029_IS_REGISTER'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(310984157679766138)
,p_item_default=>'1'
,p_prompt=>'&nbsp;'
,p_display_as=>'NATIVE_CHECKBOX'
,p_lov=>'STATIC2:Subscribe/Unsubscribe My Mail Notifications;1'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT-TOP'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_attribute_01=>'1'
,p_attribute_02=>'HORIZONTAL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(310985737201916173)
,p_name=>'P1029_EMAIL_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(310984157679766138)
,p_prompt=>'<b>Email Id</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>60
,p_cMaxlength=>3000
,p_cHeight=>1
,p_tag_attributes=>'style="width:250px;"'
,p_colspan=>3
,p_grid_column=>2
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'EMAIL'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(310997258001848452)
,p_validation_name=>'P1029_EMAIL_ID'
,p_validation_sequence=>10
,p_validation=>'P1029_EMAIL_ID'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'Email address should not be null'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(310988652802237721)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(310985737201916173)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(310997536219858562)
,p_validation_name=>'P1029_EMAIL_ID'
,p_validation_sequence=>20
,p_validation=>'P1029_EMAIL_ID'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'Please enter valid email address to test the sytem'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(310996462348779740)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(310985737201916173)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(310994167646563668)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'add user details'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'delete from rca13_user_details where user_id=:G_USER_ID;',
' insert into rca13_user_details(user_id,email_address,is_notified,emailalert,tablespacealert) values(:G_USER_ID,:P1029_EMAIL_ID,nvl(:P1029_IS_REGISTER,0),:P1029_EMAILALERT,:P1029_TABLESPACEALERT);',
'commit;',
'exception when others then',
'insert into rca13_exception_log(text) values(''adduserdetails'');',
'commit;',
'end;'))
,p_process_error_message=>'Failed to submit user details'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(310988652802237721)
,p_process_success_message=>'Submitted user details'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(310996950798842656)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'send test mail'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'emailId varchar2(200);',
'begin',
'select email_address into emailId from rca13_user_details where',
'user_id = :G_USER_ID;',
'rca13_email.send(emailId,emailId,''From CM Notification System'',''Test Mail From Collection Manager'',''Testing Collection Manager Email Notification System'');',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(310996462348779740)
,p_process_success_message=>'Submitted Test'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(310994655618617014)
,p_process_sequence=>20
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'load user details'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' :P1029_EMAIL_ID := NULL;',
' :P1029_IS_REGISTER := NULL;',
' :P1029_FLAG := NULL;',
':P1029_EMAILALERT := NULL;',
':P1029_TABLESPACEALERT  := NULL;',
'',
' select email_address,is_notified, emailalert,tablespacealert into :P1029_EMAIL_ID,:P1029_IS_REGISTER, :P1029_EMAILALERT, :P1029_TABLESPACEALERT from rca13_user_details where',
'user_id = :G_USER_ID;',
'',
'exception when others then null;',
'end;'))
);
end;
/
prompt --application/pages/page_01030
begin
wwv_flow_api.create_page(
 p_id=>1030
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_name=>'Parameter Trending'
,p_alias=>'PARAMETERTRENDING'
,p_page_mode=>'NORMAL'
,p_step_title=>'Parameter Trending'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20140810101547'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312053662080001466)
,p_name=>'Parameeters'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select a.param_name,a.value,b.value ',
'from rca13_parameters a,rca13_parameters b',
'where a.collection_id = :P1030_COLLECTION_ID1 and b.collection_id = :P1030_COLLECTION_ID2',
'and a.db_name = b.db_name and a.instance_name = b.instance_name'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>100
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312053947370001611)
,p_query_column_id=>1
,p_column_alias=>'PARAM_NAME'
,p_column_display_sequence=>1
,p_column_heading=>'PARAM_NAME'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312054048855001622)
,p_query_column_id=>2
,p_column_alias=>'VALUE'
,p_column_display_sequence=>2
,p_column_heading=>'VALUE'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312054168470001622)
,p_query_column_id=>3
,p_column_alias=>'VALUE'
,p_column_display_sequence=>3
,p_column_heading=>'VALUE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312054354263009459)
,p_name=>'P1030_COLLECTION_ID1'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(312053662080001466)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312054560936021526)
,p_name=>'P1030_COLLECTION_ID2'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(312053662080001466)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
end;
/
prompt --application/pages/page_01031
begin
wwv_flow_api.create_page(
 p_id=>1031
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Reporting'
,p_alias=>'REPORTING'
,p_page_mode=>'NORMAL'
,p_step_title=>'Reporting'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'.table_c {',
'    color: #000000;',
'    font-weight: bold;',
'    border-spacing: 0;',
'    outline: medium none;',
'    font-family: Lucida Grande,Lucida Sans,Arial,sans-serif;',
'    font-size: 12px;',
'    float:left;',
'    margin:2px;',
'    height:185px;',
'}',
'',
'.th_c {',
'    background: #AAAAAA;',
'    border: 1px solid #AED0EA !important;',
'    font-size: 13px;',
'    font-weight: bold;',
'    vertical-align: middle !important;',
'    padding: 1px 4px !important;    ',
'    ',
'}',
'.td_c {   ',
'    background: #F2F5F7;',
'    border: 1px solid #AED0EA !important;',
'    font-weight: normal;',
'    padding: 1px 4px !important;',
'    vertical-align: middle !important;',
'}',
'',
'.td_FAIL {',
'    background: #FE2E2E;    ',
'}',
'',
'.td_WARNING {',
'    background: #F89406;    ',
'}',
'.td_PASS {    ',
'    background: #52BA25;',
'}',
'.td_INFO-PASS {    ',
'    background: #52BA25;',
'}',
'.td_INFO {',
'    background: #3a87ad;',
'}',
'.container {',
' /*height:200px;*/',
' margin:14px;',
' /*border: 1px solid blue;*/',
'}',
'',
'.h2c {',
' font-size: 19px !important;',
' margin: 2px;',
' padding: 2px;',
'}',
'.h3c {',
' font-size: 18px !important;',
' margin: 2px;',
' padding: 2px;',
'}',
'.h4c {',
' font-size: 14px;',
' margin: 2px;',
' padding: 2px;',
'}'))
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20141110022414'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312083736303855025)
,p_plug_name=>'Collections'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312084664239045322)
,p_plug_name=>'Collection Details < 12.1.0.2.1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare ',
' prevHost varchar2(200);',
' prevType varchar2(50);',
' checkTypeMsg varchar2(1000);',
' statusMsg varchar2(1000);',
' firstTime number := 1;',
' firstTime_s number := 1;',
' dbSerList varchar2(4000) := ''z'';',
' cellList varchar2(4000) := ''z'';',
' switchList varchar2(4000) := ''z'';',
' dbList varchar2(4000) := ''z'';',
' dbiList varchar2(4000) := ''z'';',
' asmList varchar2(4000) := ''z'';',
'begin',
'--  ',
'begin',
'select listagg(hostname,'', '') within group ( order by hostname ) into dbSerList from (',
'select distinct hostname  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and needs_running not in (''STORAGE_CELL'',''SWITCH'')  and ( check_type in (''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') OR ',
'( check_type = ''OS'' and needs_running not in (''RDBMS'',''ASM'')  ) ) );',
'exception when others then NULL;',
'end;',
'',
'begin',
'select listagg(hostname,'', '') within group ( order by hostname ) into switchList from (',
'select distinct hostname  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and needs_running = ''SWITCH'' );',
'exception when others then NULL;',
'end;',
'',
'begin',
'select listagg(hostname,'', '') within group ( order by hostname ) into cellList from (',
'select distinct hostname  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and needs_running = ''STORAGE_CELL'' );',
'exception when others then NULL;',
'end; ',
'',
'begin',
'select listagg(instance_name,'', '') within group ( order by instance_name ) into asmList from (',
'select distinct instance_name  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and check_type = ''OS'' and needs_running = ''ASM'' );',
'exception when others then NULL;',
'end; ',
'',
'begin',
'select listagg(db_name,'', '') within group ( order by db_name ) into dbList from (',
'select distinct db_name from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and ( check_type = ''SQL'' OR ( check_type = ''OS'' and needs_running = ''RDBMS'' ) ) );',
'exception when others then NULL;',
'end; ',
'',
'begin',
'select listagg(instance_name,'', '') within group ( order by instance_name ) into dbiList from (',
'select distinct instance_name  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and check_type = ''SQL_PARAM'' );',
'exception when others then NULL;',
'end; ',
'',
'',
'htp.p(''<br>'');',
'htp.p(''<h2 class="h3c">System Health Checks Details</h2>'');',
'htp.p(''<br>'');',
'sys.htp.p(''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">'');',
'/*',
'  htp.p(''<div class="uRegionHeading">'');',
'sys.htp.p(''<h1 align="center">Collection ''||:P1031_COLLECTION_NAME||'' Report [  Score :  ''||:P1031_COLLECTION_SCORE ||''% ]</h1>'');',
'sys.htp.p(''  </div> ''); ',
'*/',
' htp.p(''<div class="uRegionContent clearfix">',
'    <div style="overflow: auto;">',
'<table class="uReportContainer" id="report_REPORT1" summary="">',
'<tbody class="uReportBody">',
'<tr><td>',
'<table summary="Audit checks" class="uReport uReportStandard">',
'<thead>',
'<tr>',
'<th align="left">Status</th><th align="left">Check Type</th><th align="left">Check Name</th><th align="left">Status Message</th><th align="left">Status On</th>',
'</tr>',
'</thead>',
'<tbody>'');',
'--------------------------------------------------------------------------------------------',
'for rec in ( select distinct status,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) sord ',
'             from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE order by sord ) loop    ',
'  --Print status',
'  statusMsg := ''<tr><td> <h4 class="td_c td_''||rec.status||''">''||rec.status||''</h4></td><td></td><td></td><td></td><td></td></tr>'';',
'  --Cluster wide checks  ',
'  firstTime := 1;',
'  firstTime_s := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Cluster wide</h3></td><td></td><td></td><td></td></tr>'';  ',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,''Cluster Wide'' son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and check_type = ''CLUSTERWIDE_CHECK''',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'  end loop;',
'  ',
'  -- Database server checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>DB Server</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,listagg(hostname,'', '') within group ( order by hostname ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and needs_running not in (''STORAGE_CELL'',''SWITCH'') ',
'                and ( check_type in (''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') OR ( check_type = ''OS'' and needs_running not in (''RDBMS'',''ASM'')  ) )',
'                group by check_name,STATUS_MESSAGE',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbSerList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All DB Servers</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'  -- Switch checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>IB Switch</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(STATUS_MESSAGE,hostname,'''') sm,listagg(hostname,'', '') within group ( order by hostname ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and needs_running = ''SWITCH''',
'                group by check_name,replace(STATUS_MESSAGE,hostname,'''')',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = switchList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All IB Switches</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop; ',
'  ',
'  -- Cell checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Storage Cell</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(STATUS_MESSAGE,hostname,'''') sm,listagg(hostname,'', '') within group ( order by hostname ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and needs_running = ''STORAGE_CELL''',
'                group by check_name,replace(STATUS_MESSAGE,hostname,'''')',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = cellList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All Cells</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop; ',
'  ',
'  -- ASM checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>ASM </h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,listagg(instance_name,'', '') within group ( order by instance_name ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and check_type = ''OS'' and needs_running = ''ASM''',
'                group by check_name,STATUS_MESSAGE',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = asmList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All ASM Instances</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'  -- DB checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Database</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(STATUS_MESSAGE,db_name) sm,listagg(db_name,'', '') within group ( order by db_name) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and ( check_type = ''SQL'' OR ( check_type = ''OS'' and needs_running = ''RDBMS'' ) )',
'                group by check_name,replace(STATUS_MESSAGE,db_name)',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All Databases</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'  -- DB Instance checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>DB Instance</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,listagg(instance_name,'', '') within group ( order by instance_name ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and check_type = ''SQL_PARAM''',
'                group by check_name,STATUS_MESSAGE',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbiList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All DB Instances</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
' end loop;',
'---------------------------------------------------------------------------------------------',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt number;',
'begin',
'if :P1031_COLLECTION_DATE is null then ',
' return false;',
'end if;',
'select count(1) into cnt from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and target_type is not null;',
'if cnt > 0 then ',
' return false;',
'end if;',
'return true;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312115961738328484)
,p_plug_name=>'Collection Summary  < 12.1.0.2.1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>15
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'firstTime number;',
'height number;',
'table_height number := 165; -- = table height-header height',
't_checks number;',
't_height number;',
'begin',
' htp.p(''<br>'');',
' --Heading',
' htp.p(''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">'');',
' htp.p(''<div class="uRegionHeading">'');',
' htp.p(''<h1 class=h2c align="center">Collection ''||:P1031_COLLECTION_NAME||'' Report [  Score :  ''||:P1031_COLLECTION_SCORE ||''% ]</h1>'');',
' htp.p(''</div></section>'');',
' htp.p(''<br>'');',
' -- Summary Details',
' htp.p(''<h2 class="h3c">System Graphical Summary</h2>'');',
'',
' --Database server details',
' htp.p(''<div class=container style="float:left;">'');',
' firstTime := 1; ',
'   --Clusterwide checks',
'  for rec in ( select ''Clusterwide'' hostname,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and check_type = ''CLUSTERWIDE_CHECK'' ) loop',
'    exit when rec.cnt = 0; ',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Database Servers Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.hostname||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'                 and check_type = ''CLUSTERWIDE_CHECK'' group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);  ',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'',
'  --Non Clusterwide',
'  for rec in ( select hostname,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and nvl(needs_running,''z'') not in (''STORAGE_CELL'',''SWITCH'') ',
'               and ( check_type in (''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') ',
'               OR ( check_type = ''OS'' and nvl(needs_running,''z'') not in (''RDBMS'',''ASM'')  ) )',
'               group by hostname order by hostname ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Database Servers Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.hostname||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                  where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                  and nvl(needs_running,''z'') not in (''STORAGE_CELL'',''SWITCH'') ',
'                  and ( check_type in (''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') ',
'                  OR ( check_type = ''OS'' and nvl(needs_running,''z'') not in (''RDBMS'',''ASM'')  ) ) ',
'                  and hostname = rec.hostname group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
' htp.p(''</div>'');',
'',
' --Switches Details',
' firstTime := 1;',
' htp.p(''<div class=container style="float:left;">'');  ',
'  for rec in ( select hostname,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and needs_running = ''SWITCH'' group by hostname order by hostname ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> IB Switches Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.hostname||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and needs_running = ''SWITCH'' and hostname = rec.hostname group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
' htp.p(''</div>'');',
'',
' --Storage cell details',
'  firstTime := 1;',
'  htp.p(''<div class=container style="float:left;">'');',
'  for rec in ( select hostname,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and needs_running = ''STORAGE_CELL'' group by hostname order by hostname ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Storage Cells Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.hostname||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and needs_running = ''STORAGE_CELL'' and hostname = rec.hostname group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- ASM checks',
'  firstTime := 1;',
'  htp.p(''<div class=container style="float:left;">'');',
'  for rec in ( select instance_name,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and check_type = ''OS'' and needs_running = ''ASM''  group by instance_name order by instance_name ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> ASM Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.instance_name||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and check_type = ''OS'' and needs_running = ''ASM'' and instance_name= rec.instance_name group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- Database checks',
'  firstTime := 1;',
'  htp.p(''<div class=container style="float:left;">'');',
'  for rec in ( select db_name,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and ( check_type = ''SQL'' OR ( check_type = ''OS'' and needs_running = ''RDBMS'' ) )  group by db_name order by db_name ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Databases Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.db_name||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and ( check_type = ''SQL'' OR ( check_type = ''OS'' and needs_running = ''RDBMS'' ) ) and db_name= rec.db_name group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- Database Instance Checks',
'  firstTime := 1;',
'  htp.p(''<div class=container style="float:left;">'');',
'  for rec in ( select instance_name,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and check_type = ''SQL_PARAM''  group by instance_name order by instance_name ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Database Instances Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.instance_name||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and check_type = ''SQL_PARAM'' and instance_name= rec.instance_name group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- Database Home Checks',
'   ',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt number;',
'begin',
'if :P1031_COLLECTION_DATE is null then ',
' return false;',
'end if;',
'select count(1) into cnt from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and target_type is not null;',
'if cnt > 0 then ',
' return false;',
'end if;',
'return true;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312143663243329725)
,p_plug_name=>'Collection Details_old'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare ',
' prevHost varchar2(200);',
' prevType varchar2(50);',
'begin',
'htp.p(''<br>'');',
'htp.p(''<h2 class="h3c">System Health Checks Details</h2>'');',
'htp.p(''<br>'');',
'sys.htp.p(''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">'');',
'/*',
'  htp.p(''<div class="uRegionHeading">'');',
'sys.htp.p(''<h1 align="center">Collection ''||:P1031_COLLECTION_NAME||'' Report [  Score :  ''||:P1031_COLLECTION_SCORE ||''% ]</h1>'');',
'sys.htp.p(''  </div> ''); ',
'*/',
' htp.p(''<div class="uRegionContent clearfix">',
'    <div style="overflow: auto;">',
'<table class="uReportContainer" id="report_REPORT1" summary="">',
'<tbody class="uReportBody">',
'<tr><td>',
'<table summary="Audit checks" class="uReport uReportStandard">',
'<thead>',
'<tr>',
'<th align="left">&nbsp;</th><th align="left">&nbsp;</th><th align="left">&nbsp;</th><th align="left">Check Name</th><th align="left">Status Msg</th>',
'<th align="left">Act Value</th><th align="left">Comp Operator</th><th align="left">Rec Value</th>',
'</tr>',
'</thead>',
'<tbody>'');',
'--------------------------------------------------------------------------------------------',
'for rec in ( select distinct status,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) sord ',
'             from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE order by sord ) loop  ',
'  prevHost := NULL; ',
'  htp.p(''<tr><td colspan="8"><h2 class=h4c>''||rec.status||''</h2></td></tr>'');',
'  for rec1 in ( select check_name,hostname,STATUS_MESSAGE,recommended_value,comparison_operator,actual_value,check_type',
'                from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status order by hostname,check_type ) loop',
'   if nvl(prevHost,''z'') != rec1.hostname then',
'     htp.p(''<tr><td>&nbsp;</td><td colspan="7"><h3 class=h4c>''||rec1.hostname||''</h3></td></tr>'');',
'     prevType := NULL;',
'   end if;',
'   if nvl(prevType,''z'') != rec1.check_type then',
'     htp.p(''<tr><td>&nbsp;</td><td>&nbsp;</td><td colspan="6"><h4 class=h4c>''||rec1.check_type||'' Checks</h4></td></tr>'');',
'   end if;',
'   htp.p(''<tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>''||rec1.check_name||''</td><td>''||rec1.STATUS_MESSAGE||''</td><td>''||',
'          rec1.actual_value||''</td><td>''||rec1.comparison_operator||''</td><td>''||rec1.recommended_value||''</td></tr>'');',
'   prevType := rec1.check_type;  ',
'   prevHost := rec1.hostname; ',
'  end loop;',
' end loop;',
'---------------------------------------------------------------------------------------------',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'NEVER'
,p_plug_read_only_when_type=>'ITEM_IS_NOT_NULL'
,p_plug_read_only_when=>'P1031_COLLECTION_DATE'
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
end;
/
begin
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312182150060880720)
,p_plug_name=>'Collection Summary >= 12.1.0.2.1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>18
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'firstTime number;',
'height number;',
'table_height number := 165; -- = table height-header height',
't_checks number;',
't_height number;',
'begin',
' --Heading',
' htp.p(''<br>'');',
' htp.p(''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">'');',
' htp.p(''<div class="uRegionHeading">'');',
' htp.p(''<h1 class=h2c align="center">Collection ''||:P1031_COLLECTION_NAME||'' Report [  Score :  ''||:P1031_COLLECTION_SCORE ||''% ]</h1>'');',
' htp.p(''</div></section>'');',
' htp.p(''<br>''); ',
' -- Summary Details',
' htp.p(''<h2 class="h3c">System Graphical Summary</h2>'');',
'',
' --Database server details',
' htp.p(''<div class=container style="float:left;">'');',
' firstTime := 1; ',
'   --Clusterwide checks',
'  for rec in ( select ''Clusterwide'' target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and target_type = ''CLUSTER'' ) loop',
'    exit when rec.cnt = 0; ',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Database Servers Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'                 and target_type = ''CLUSTER'' group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'',
'  --Non Clusterwide',
'  for rec in ( select target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'              and target_type = ''HOST'' group by target_value order by target_value ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Database Servers Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                  where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                  and target_type = ''HOST'' and target_value = rec.target_value group by status order by ord ) loop        ',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
' htp.p(''</div>'');',
'',
' --Switches Details',
' firstTime := 1;',
' htp.p(''&nbsp;&nbsp;<div class=container style="float:left;">'');  ',
'  for rec in ( select target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and target_type = ''SWITCH'' group by target_value order by target_value) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> IB Switches Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and target_type = ''SWITCH'' and target_value= rec.target_value group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height); ',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
' htp.p(''</div>'');',
'',
' --Storage cell details',
'  firstTime := 1;',
'  htp.p(''&nbsp;&nbsp;<div class=container style="float:left;">'');',
'  for rec in ( select target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and target_type = ''STORAGE_CELL'' group by target_value order by target_value) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Storage Cells Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and target_type = ''STORAGE_CELL'' and target_value = rec.target_value group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);  ',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- ASM checks',
'  firstTime := 1;',
'  htp.p(''&nbsp;&nbsp;<div class=container style="float:left;">'');',
'  for rec in ( select target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and target_type = ''ASM''  group by target_value order by target_value ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> ASM Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and target_type = ''ASM'' and target_value= rec.target_value group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- Database checks',
'  firstTime := 1;',
'  htp.p(''&nbsp;&nbsp;<div class=container style="float:left;">'');',
'  for rec in ( select target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and target_type = ''RDBMS''  group by target_value order by target_value ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Databases Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and target_type = ''RDBMS'' and target_value = rec.target_value group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- Database Instance Checks',
'  firstTime := 1;',
'  htp.p(''&nbsp;&nbsp;<div class=container style="float:left;">'');',
'  for rec in ( select target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and target_type = ''RDBMS_INSTANCE''  group by target_value order by target_value ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Database Instances Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and target_type = ''RDBMS_INSTANCE'' and nvl(target_value,''z'')= nvl(rec.target_value,''z'') group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- Home Path Checks',
'   firstTime := 1;',
'  htp.p(''&nbsp;&nbsp;<div class=container style="float:left;">'');',
'  for rec in (select target_value,count(status) cnt,decode(target_type,''CRS_HOME'',1,''ASM_HOME'',2,3) ord',
'              from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'              and target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')  group by target_value,decode(target_type,''CRS_HOME'',1,''ASM_HOME'',2,3) order by ord ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Home Path Checks Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'') and target_value= rec.target_value group by status order by ord  ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'   ',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt number;',
'begin',
'if :P1031_COLLECTION_DATE is null then ',
' return false;',
'end if;',
'select count(1) into cnt from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and  target_type is not null;',
'if cnt > 0 then ',
' return true;',
'end if;',
'return false;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312183357941251985)
,p_plug_name=>'Collection Details >= 12.1.0.2.1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>25
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare ',
' prevHost varchar2(200);',
' prevType varchar2(50);',
' checkTypeMsg varchar2(1000);',
' statusMsg varchar2(1000);',
' firstTime number := 1;',
' firstTime_s number := 1;',
' dbSerList varchar2(4000) := ''z'';',
' cellList varchar2(4000) := ''z'';',
' switchList varchar2(4000) := ''z'';',
' dbList varchar2(4000) := ''z'';',
' dbiList varchar2(4000) := ''z'';',
' asmList varchar2(4000) := ''z'';',
'begin',
'--  ',
'begin',
'select listagg(target_value,'', '') within group ( order by target_value ) into dbSerList from (',
'select distinct target_value  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and target_type =''HOST'' );',
'exception when others then NULL;',
'end;',
'',
'begin',
'select listagg(target_value,'', '') within group ( order by target_value ) into switchList from (',
'select distinct target_value  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and target_type = ''SWITCH'' );',
'exception when others then NULL;',
'end;',
'',
'begin',
'select listagg(target_value,'', '') within group ( order by target_value ) into cellList from (',
'select distinct target_value  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and target_type = ''STORAGE_CELL'' );',
'exception when others then NULL;',
'end; ',
'',
'begin',
'select listagg(target_value,'', '') within group ( order by target_value ) into asmList from (',
'select distinct target_value  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and target_type = ''ASM'' );',
'exception when others then NULL;',
'end; ',
'',
'begin',
'select listagg(target_value,'', '') within group ( order by target_value ) into dbList from (',
'select distinct target_value from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and target_type = ''RDBMS'' );',
'exception when others then NULL;',
'end; ',
'',
'begin',
'select listagg(target_value,'', '') within group ( order by target_value ) into dbiList from (',
'select distinct target_value  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and target_type = ''RDBMS_INSTANCE'' );',
'exception when others then NULL;',
'end; ',
'',
'',
'htp.p(''<br>'');',
'htp.p(''<h2 class="h3c">System Health Checks Details</h2>'');',
'htp.p(''<br>'');',
'sys.htp.p(''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">'');',
'/*',
'  htp.p(''<div class="uRegionHeading">'');',
'sys.htp.p(''<h1 align="center">Collection ''||:P1031_COLLECTION_NAME||'' Report [  Score :  ''||:P1031_COLLECTION_SCORE ||''% ]</h1>'');',
'sys.htp.p(''  </div> ''); ',
'*/',
' htp.p(''<div class="uRegionContent clearfix">',
'    <div style="overflow: auto;">',
'<table class="uReportContainer" id="report_REPORT1" summary="">',
'<tbody class="uReportBody">',
'<tr><td>',
'<table summary="Audit checks" class="uReport uReportStandard">',
'<thead>',
'<tr>',
'<th align="left">Status</th><th align="left">Check Type</th><th align="left">Check Name</th><th align="left">Status Message</th><th align="left">Status On</th>',
'</tr>',
'</thead>',
'<tbody>'');',
'--------------------------------------------------------------------------------------------',
'for rec in ( select distinct status,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) sord ',
'             from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE order by sord ) loop    ',
'  --Print status',
'  statusMsg := ''<tr><td> <h4 class="td_c td_''||rec.status||''">''||rec.status||''</h4></td><td></td><td></td><td></td><td></td></tr>'';',
'  --Cluster wide checks  ',
'  firstTime := 1;',
'  firstTime_s := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Cluster wide</h3></td><td></td><td></td><td></td></tr>'';  ',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,''Cluster Wide'' son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''CLUSTER''',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'  end loop;',
'  ',
'  -- Database server checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>DB Server</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,listagg(target_value,'', '') within group ( order by target_value ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''HOST''',
'                group by check_name,STATUS_MESSAGE',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbSerList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All DB Servers</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'  -- Switch checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>IB Switch</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(STATUS_MESSAGE,target_value,'''') sm,listagg(target_value,'', '') within group ( order by target_value ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''SWITCH''',
'                group by check_name,replace(STATUS_MESSAGE,target_value,'''')',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = switchList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All IB Switches</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop; ',
'  ',
'  -- Cell checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Storage Cell</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(STATUS_MESSAGE,target_value,'''') sm,listagg(target_value,'', '') within group ( order by target_value ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''STORAGE_CELL''',
'                group by check_name,replace(STATUS_MESSAGE,target_value,'''')',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = cellList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All Cells</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop; ',
'  ',
'  -- ASM checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>ASM </h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,listagg(target_value,'', '') within group ( order by target_value ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''ASM''',
'                group by check_name,STATUS_MESSAGE',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = asmList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All ASM Instances</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'  -- DB checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Database</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(replace(STATUS_MESSAGE,''for ''||target_value),target_value) sm,',
'                listagg(target_value,'', '') within group ( order by target_value) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''RDBMS''',
'                group by check_name,replace(replace(STATUS_MESSAGE,''for ''||target_value),target_value)',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All Databases</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'  -- DB Instance checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>DB Instance</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(STATUS_MESSAGE,target_value) sm,',
'                listagg(target_value,'', '') within group ( order by target_value ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''RDBMS_INSTANCE''',
'                group by check_name,replace(STATUS_MESSAGE,target_value)',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbiList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All DB Instances</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'--Home Path Checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Home Path Checks</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,listagg(hostname||'': ''||target_value,'', '') within group ( order by target_value ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type in (''ASM_HOME'',''CRS_HOME'',''RDBMS_HOME'')',
'                group by check_name,STATUS_MESSAGE',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbiList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All Home Path CHecks</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
' end loop;',
'---------------------------------------------------------------------------------------------',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt number;',
'begin',
'if :P1031_COLLECTION_DATE is null then ',
' return false;',
'end if;',
'select count(1) into cnt from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and  target_type is not null;',
'if cnt > 0 then ',
' return true;',
'end if;',
'return false;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312388739815955477)
,p_plug_name=>'Test'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>5
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'htp.p(''<svg width="150px" height="180px">',
'  <g>',
'   <rect x="0" y="1" width="250" height="60" fill="red" ></rect>',
'   <rect x="0" y="60" width="250" height="60" fill="blue" ></rect>',
'   <rect x="0" y="120" width="250" height="60" fill="green" ></rect>',
'</g>',
'</svg> '');'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'NEVER'
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312095367514843853)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(312083736303855025)
,p_button_name=>'P1031_PRINTABLE_VIEW'
,p_button_static_id=>'P1031_PRINTABLE_VIEW'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Printable View'
,p_button_position=>'BODY'
,p_button_alignment=>'LEFT'
,p_button_redirect_url=>'f?p=&APP_ID.:1032:&SESSION.::&DEBUG.:::'
,p_button_condition=>'P1031_COLLECTION_DATE'
,p_button_condition_type=>'ITEM_IS_NOT_NULL'
,p_grid_new_grid=>false
,p_grid_new_row=>'N'
,p_grid_new_column=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312084055712905524)
,p_name=>'P1031_COLLECTION_DATE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(312083736303855025)
,p_prompt=>'<b>Select Collection</b>'
,p_display_as=>'NATIVE_POPUP_LOV'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select replace(substr(a.collection_name,instr(a.collection_name,''_'',1,1)+1),''_'','' '') display_value,a.collection_date||''|''||a.collection_name return_value',
'from rca13_collections_md a,',
'(select * from rca13_col2sys_mapping where :P1031_IGNORE_DI = 1 or nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) b,',
'rca13_lob2sys_mapping c',
'where a.collection_date = b.collection_date',
'and a.collection_name = b.collection_name ',
'and b.system_id = c.system_id ',
'and ( :P0_BUSINESS_UNITS = ''All'' OR c.lob_id = :P0_BUSINESS_UNITS )',
'and ( :P0_SYS_FILTER = ''All'' OR c.system_id = :P0_SYS_FILTER )',
'order by a.COLLECTION_DATE desc',
'',
'',
''))
,p_lov_display_null=>'YES'
,p_cSize=>40
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT-CENTER'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_attribute_01=>'NOT_ENTERABLE'
,p_attribute_02=>'FIRST_ROWSET'
);
end;
/
begin
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312139449165242766)
,p_name=>'P1031_COLLECTION_NAME'
,p_item_sequence=>12
,p_item_plug_id=>wwv_flow_api.id(312083736303855025)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312139658641253639)
,p_name=>'P1031_COLLECTION_SCORE'
,p_item_sequence=>15
,p_item_plug_id=>wwv_flow_api.id(312083736303855025)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312170566913135552)
,p_name=>'P1031_IGNORE_DI'
,p_item_sequence=>11
,p_item_plug_id=>wwv_flow_api.id(312083736303855025)
,p_display_as=>'NATIVE_CHECKBOX'
,p_lov=>'STATIC2:Ignore Data Interval;1'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'onClick="javascript:doSubmit(''P1031_IGNORE_DI'');"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_attribute_01=>'1'
,p_attribute_02=>'VERTICAL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312171756234277256)
,p_name=>'P1031_FIRST_VISIT'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(312083736303855025)
,p_item_default=>'1'
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(312380849776066143)
,p_name=>'Submit page on change of Collection Date'
,p_event_sequence=>10
,p_triggering_element_type=>'ITEM'
,p_triggering_element=>'P1031_COLLECTION_DATE'
,p_bind_type=>'bind'
,p_bind_event_type=>'change'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(312381152953066163)
,p_event_id=>wwv_flow_api.id(312380849776066143)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'N'
,p_action=>'NATIVE_SUBMIT_PAGE'
,p_attribute_02=>'N'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312174637719593384)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Reset Collection Date'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :REQUESt = ''P1031_IGNORE_DI'' then ',
' :P1031_COLLECTION_DATE := NULL;',
'end if;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312171948942331700)
,p_process_sequence=>5
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Set Ignore DI'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' if  nvl(:P1031_FIRST_VISIT,1) = 1 and :P1031_IGNORE_DI is null then',
'   :P1031_IGNORE_DI := 1;',
'   :P1031_FIRST_VISIT := 0;',
' end if;',
'end;'))
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312140054718286606)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Get Name and score'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin ',
' select substr(:P1031_COLLECTION_DATE,instr(:P1031_COLLECTION_DATE,''|'',1,1)+1) into :P1031_COLLECTION_NAME from dual;',
' select score into  :P1031_COLLECTION_SCORE from rca13_collection_values where collection_date||''|''||collection_name = :P1031_COLLECTION_DATE;',
' exception when others then null;',
'end;'))
,p_process_when=>'P1031_COLLECTION_DATE'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
end;
/
prompt --application/pages/page_01032
begin
wwv_flow_api.create_page(
 p_id=>1032
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_name=>'Printable Reports'
,p_alias=>'PRINTALBEREPORT'
,p_page_mode=>'NORMAL'
,p_step_title=>'Printable Reports'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'.table_c {',
'    color: #000000;',
'    font-weight: bold;',
'    border-spacing: 0;',
'    outline: medium none;',
'    font-family: Lucida Grande,Lucida Sans,Arial,sans-serif;',
'    font-size: 12px;',
'    float:left;',
'    margin:2px;',
'    height:185px;',
'}',
'',
'.th_c {',
'    background: #AAAAAA;',
'    border: 1px solid #AED0EA !important;',
'    font-size: 13px;',
'    font-weight: bold;',
'    vertical-align: middle !important;',
'    padding: 1px 4px !important;    ',
'    ',
'}',
'.td_c {   ',
'    background: #F2F5F7;',
'    border: 1px solid #AED0EA !important;',
'    font-weight: normal;',
'    padding: 1px 4px !important;',
'    vertical-align: middle !important;',
'}',
'',
'.td_FAIL {',
'    background: #FE2E2E;    ',
'}',
'',
'.td_WARNING {',
'    background: #F89406;    ',
'}',
'.td_PASS {    ',
'    background: #52BA25;',
'}',
'.td_INFO-PASS {    ',
'    background: #52BA25;',
'}',
'.td_INFO {',
'    background: #3a87ad;',
'}',
'.container {',
' /*height:200px; */',
' margin:15px;',
' /*border: 1px solid blue;*/',
'}',
'',
'.h2c {',
' font-size: 19px !important;',
' margin: 2px;',
' padding: 2px;',
'}',
'.h3c {',
' font-size: 18px !important;',
' margin: 2px;',
' padding: 2px;',
'}',
'.h4c {',
' font-size: 14px;',
' margin: 2px;',
' padding: 2px;',
'}'))
,p_step_template=>wwv_flow_api.id(312092957712150462)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20141110024759'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312396564737471525)
,p_plug_name=>'Collection Summary  < 12.1.0.2.1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'firstTime number;',
'height number;',
'table_height number := 165; -- = table height-header height',
't_checks number;',
't_height number;',
'begin',
' htp.p(''<br>'');',
' --Heading',
' htp.p(''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">'');',
' htp.p(''<div class="uRegionHeading">'');',
' htp.p(''<h1 class=h2c align="center">Collection ''||:P1031_COLLECTION_NAME||'' Report [  Score :  ''||:P1031_COLLECTION_SCORE ||''% ]</h1>'');',
' htp.p(''</div></section>'');',
' htp.p(''<br>'');',
' -- Summary Details',
' htp.p(''<h2 class="h3c">System Graphical Summary</h2>'');',
'',
' --Database server details',
' htp.p(''<div class=container style="float:left;">'');',
' firstTime := 1; ',
'   --Clusterwide checks',
'  for rec in ( select ''Clusterwide'' hostname,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and check_type = ''CLUSTERWIDE_CHECK'' ) loop',
'    exit when rec.cnt = 0; ',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Database Servers Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.hostname||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'                 and check_type = ''CLUSTERWIDE_CHECK'' group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);  ',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'',
'  --Non Clusterwide',
'  for rec in ( select hostname,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and nvl(needs_running,''z'') not in (''STORAGE_CELL'',''SWITCH'') ',
'               and ( check_type in (''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') ',
'               OR ( check_type = ''OS'' and nvl(needs_running,''z'') not in (''RDBMS'',''ASM'')  ) )',
'               group by hostname order by hostname ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Database Servers Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.hostname||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                  where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                  and nvl(needs_running,''z'') not in (''STORAGE_CELL'',''SWITCH'') ',
'                  and ( check_type in (''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') ',
'                  OR ( check_type = ''OS'' and nvl(needs_running,''z'') not in (''RDBMS'',''ASM'')  ) ) ',
'                  and hostname = rec.hostname group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
' htp.p(''</div>'');',
'',
' --Switches Details',
' firstTime := 1;',
' htp.p(''<div class=container style="float:left;">'');  ',
'  for rec in ( select hostname,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and needs_running = ''SWITCH'' group by hostname order by hostname ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> IB Switches Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.hostname||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and needs_running = ''SWITCH'' and hostname = rec.hostname group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
' htp.p(''</div>'');',
'',
' --Storage cell details',
'  firstTime := 1;',
'  htp.p(''<div class=container style="float:left;">'');',
'  for rec in ( select hostname,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and needs_running = ''STORAGE_CELL'' group by hostname order by hostname ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Storage Cells Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.hostname||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and needs_running = ''STORAGE_CELL'' and hostname = rec.hostname group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- ASM checks',
'  firstTime := 1;',
'  htp.p(''<div class=container style="float:left;">'');',
'  for rec in ( select instance_name,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and check_type = ''OS'' and needs_running = ''ASM''  group by instance_name order by instance_name ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> ASM Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.instance_name||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and check_type = ''OS'' and needs_running = ''ASM'' and instance_name= rec.instance_name group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- Database checks',
'  firstTime := 1;',
'  htp.p(''<div class=container style="float:left;">'');',
'  for rec in ( select db_name,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and ( check_type = ''SQL'' OR ( check_type = ''OS'' and needs_running = ''RDBMS'' ) )  group by db_name order by db_name ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Databases Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.db_name||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and ( check_type = ''SQL'' OR ( check_type = ''OS'' and needs_running = ''RDBMS'' ) ) and db_name= rec.db_name group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- Database Instance Checks',
'  firstTime := 1;',
'  htp.p(''<div class=container style="float:left;">'');',
'  for rec in ( select instance_name,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and check_type = ''SQL_PARAM''  group by instance_name order by instance_name ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Database Instances Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;""><th class="th_c">''||rec.instance_name||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and check_type = ''SQL_PARAM'' and instance_name= rec.instance_name group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- Database Home Checks',
'   ',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt number;',
'begin',
'if :P1031_COLLECTION_DATE is null then ',
' return false;',
'end if;',
'select count(1) into cnt from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and target_type is not null;',
'if cnt > 0 then ',
' return false;',
'end if;',
'return true;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312396739241473587)
,p_plug_name=>'Collection Summary >= 12.1.0.2.1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'firstTime number;',
'height number;',
'table_height number := 165; -- = table height-header height',
't_checks number;',
't_height number;',
'begin',
' --Heading',
' htp.p(''<br>'');',
' htp.p(''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">'');',
' htp.p(''<div class="uRegionHeading">'');',
' htp.p(''<h1 class=h2c align="center">Collection ''||:P1031_COLLECTION_NAME||'' Report [  Score :  ''||:P1031_COLLECTION_SCORE ||''% ]</h1>'');',
' htp.p(''</div></section>'');',
' htp.p(''<br>''); ',
' -- Summary Details',
' htp.p(''<h2 class="h3c">System Graphical Summary</h2>'');',
'',
' --Database server details',
' htp.p(''<div class=container style="float:left;">'');',
' firstTime := 1; ',
'   --Clusterwide checks',
'  for rec in ( select ''Clusterwide'' target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and target_type = ''CLUSTER'' ) loop',
'    exit when rec.cnt = 0; ',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Database Servers Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'                 and target_type = ''CLUSTER'' group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'',
'  --Non Clusterwide',
'  for rec in ( select target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'              and target_type = ''HOST'' group by target_value order by target_value ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Database Servers Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                  where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                  and target_type = ''HOST'' and target_value = rec.target_value group by status order by ord ) loop        ',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
' htp.p(''</div>'');',
'',
' --Switches Details',
' firstTime := 1;',
' htp.p(''&nbsp;&nbsp;<div class=container style="float:left;">'');  ',
'  for rec in ( select target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and target_type = ''SWITCH'' group by target_value order by target_value) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> IB Switches Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and target_type = ''SWITCH'' and target_value= rec.target_value group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height); ',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
' htp.p(''</div>'');',
'',
' --Storage cell details',
'  firstTime := 1;',
'  htp.p(''&nbsp;&nbsp;<div class=container style="float:left;">'');',
'  for rec in ( select target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and target_type = ''STORAGE_CELL'' group by target_value order by target_value) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Storage Cells Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and target_type = ''STORAGE_CELL'' and target_value = rec.target_value group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);  ',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- ASM checks',
'  firstTime := 1;',
'  htp.p(''&nbsp;&nbsp;<div class=container style="float:left;">'');',
'  for rec in ( select target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and target_type = ''ASM''  group by target_value order by target_value ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> ASM Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and target_type = ''ASM'' and target_value= rec.target_value group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- Database checks',
'  firstTime := 1;',
'  htp.p(''&nbsp;&nbsp;<div class=container style="float:left;">'');',
'  for rec in ( select target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and target_type = ''RDBMS''  group by target_value order by target_value ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Databases Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and target_type = ''RDBMS'' and target_value = rec.target_value group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- Database Instance Checks',
'  firstTime := 1;',
'  htp.p(''&nbsp;&nbsp;<div class=container style="float:left;">'');',
'  for rec in ( select target_value,count(status) cnt from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'               and target_type = ''RDBMS_INSTANCE''  group by target_value order by target_value ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Database Instances Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and target_type = ''RDBMS_INSTANCE'' and nvl(target_value,''z'')= nvl(rec.target_value,''z'') group by status order by ord ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- Home Path Checks',
'   firstTime := 1;',
'  htp.p(''&nbsp;&nbsp;<div class=container style="float:left;">'');',
'  for rec in (select target_value,count(status) cnt,decode(target_type,''CRS_HOME'',1,''ASM_HOME'',2,3) ord',
'              from auditcheck_result where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE',
'              and target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'')  group by target_value,decode(target_type,''CRS_HOME'',1,''ASM_HOME'',2,3) order by ord ) loop ',
'    exit when rec.cnt = 0;',
'    if firstTime = 1 then',
'      htp.p(''<h2 class=h4c> Home Path Checks Summary </h2>'');',
'      firstTime := 0;',
'    end if;',
'    t_checks := rec.cnt;',
'    t_height := table_height;',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:20px;"><th class="th_c">''||rec.target_value||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where collection_date||''|''||upload_collection_name =  :P1031_COLLECTION_DATE ',
'                 and target_type in (''CRS_HOME'',''ASM_HOME'',''RDBMS_HOME'') and target_value= rec.target_value group by status order by ord  ) loop',
'        height := t_height/t_checks*rec1.cnt;',
'        if height < 20 then ',
'         height := 20;         ',
'        end if;  ',
'        t_height := t_height - height;',
'        t_checks := t_checks - rec1.cnt;',
'        height := floor(height);',
'        htp.p(''<tr style="height:''||height||''px;"><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'   ',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt number;',
'begin',
'if :P1031_COLLECTION_DATE is null then ',
' return false;',
'end if;',
'select count(1) into cnt from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and  target_type is not null;',
'if cnt > 0 then ',
' return true;',
'end if;',
'return false;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312396943743474937)
,p_plug_name=>'Collection Details < 12.1.0.2.1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare ',
' prevHost varchar2(200);',
' prevType varchar2(50);',
' checkTypeMsg varchar2(1000);',
' statusMsg varchar2(1000);',
' firstTime number := 1;',
' firstTime_s number := 1;',
' dbSerList varchar2(4000) := ''z'';',
' cellList varchar2(4000) := ''z'';',
' switchList varchar2(4000) := ''z'';',
' dbList varchar2(4000) := ''z'';',
' dbiList varchar2(4000) := ''z'';',
' asmList varchar2(4000) := ''z'';',
'begin',
'--  ',
'begin',
'select listagg(hostname,'', '') within group ( order by hostname ) into dbSerList from (',
'select distinct hostname  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and needs_running not in (''STORAGE_CELL'',''SWITCH'')  and ( check_type in (''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') OR ',
'( check_type = ''OS'' and needs_running not in (''RDBMS'',''ASM'')  ) ) );',
'exception when others then NULL;',
'end;',
'',
'begin',
'select listagg(hostname,'', '') within group ( order by hostname ) into switchList from (',
'select distinct hostname  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and needs_running = ''SWITCH'' );',
'exception when others then NULL;',
'end;',
'',
'begin',
'select listagg(hostname,'', '') within group ( order by hostname ) into cellList from (',
'select distinct hostname  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and needs_running = ''STORAGE_CELL'' );',
'exception when others then NULL;',
'end; ',
'',
'begin',
'select listagg(instance_name,'', '') within group ( order by instance_name ) into asmList from (',
'select distinct instance_name  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and check_type = ''OS'' and needs_running = ''ASM'' );',
'exception when others then NULL;',
'end; ',
'',
'begin',
'select listagg(db_name,'', '') within group ( order by db_name ) into dbList from (',
'select distinct db_name from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and ( check_type = ''SQL'' OR ( check_type = ''OS'' and needs_running = ''RDBMS'' ) ) );',
'exception when others then NULL;',
'end; ',
'',
'begin',
'select listagg(instance_name,'', '') within group ( order by instance_name ) into dbiList from (',
'select distinct instance_name  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and check_type = ''SQL_PARAM'' );',
'exception when others then NULL;',
'end; ',
'',
'',
'htp.p(''<br>'');',
'htp.p(''<h2 class="h3c">System Health Checks Details</h2>'');',
'htp.p(''<br>'');',
'sys.htp.p(''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">'');',
'/*',
'  htp.p(''<div class="uRegionHeading">'');',
'sys.htp.p(''<h1 align="center">Collection ''||:P1031_COLLECTION_NAME||'' Report [  Score :  ''||:P1031_COLLECTION_SCORE ||''% ]</h1>'');',
'sys.htp.p(''  </div> ''); ',
'*/',
' htp.p(''<div class="uRegionContent clearfix">',
'    <div style="overflow: auto;">',
'<table class="uReportContainer" id="report_REPORT1" summary="">',
'<tbody class="uReportBody">',
'<tr><td>',
'<table summary="Audit checks" class="uReport uReportStandard">',
'<thead>',
'<tr>',
'<th align="left">Status</th><th align="left">Check Type</th><th align="left">Check Name</th><th align="left">Status Message</th><th align="left">Status On</th>',
'</tr>',
'</thead>',
'<tbody>'');',
'--------------------------------------------------------------------------------------------',
'for rec in ( select distinct status,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) sord ',
'             from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE order by sord ) loop    ',
'  --Print status',
'  statusMsg := ''<tr><td> <h4 class="td_c td_''||rec.status||''">''||rec.status||''</h4></td><td></td><td></td><td></td><td></td></tr>'';',
'  --Cluster wide checks  ',
'  firstTime := 1;',
'  firstTime_s := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Cluster wide</h3></td><td></td><td></td><td></td></tr>'';  ',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,''Cluster Wide'' son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and check_type = ''CLUSTERWIDE_CHECK''',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'  end loop;',
'  ',
'  -- Database server checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>DB Server</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,listagg(hostname,'', '') within group ( order by hostname ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and needs_running not in (''STORAGE_CELL'',''SWITCH'') ',
'                and ( check_type in (''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') OR ( check_type = ''OS'' and needs_running not in (''RDBMS'',''ASM'')  ) )',
'                group by check_name,STATUS_MESSAGE',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbSerList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All DB Servers</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'  -- Switch checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>IB Switch</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(STATUS_MESSAGE,hostname,'''') sm,listagg(hostname,'', '') within group ( order by hostname ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and needs_running = ''SWITCH''',
'                group by check_name,replace(STATUS_MESSAGE,hostname,'''')',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = switchList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All IB Switches</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop; ',
'  ',
'  -- Cell checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Storage Cell</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(STATUS_MESSAGE,hostname,'''') sm,listagg(hostname,'', '') within group ( order by hostname ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and needs_running = ''STORAGE_CELL''',
'                group by check_name,replace(STATUS_MESSAGE,hostname,'''')',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = cellList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All Cells</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop; ',
'  ',
'  -- ASM checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>ASM </h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,listagg(instance_name,'', '') within group ( order by instance_name ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and check_type = ''OS'' and needs_running = ''ASM''',
'                group by check_name,STATUS_MESSAGE',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = asmList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All ASM Instances</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'  -- DB checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Database</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(STATUS_MESSAGE,db_name) sm,listagg(db_name,'', '') within group ( order by db_name) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and ( check_type = ''SQL'' OR ( check_type = ''OS'' and needs_running = ''RDBMS'' ) )',
'                group by check_name,replace(STATUS_MESSAGE,db_name)',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All Databases</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'  -- DB Instance checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>DB Instance</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,listagg(instance_name,'', '') within group ( order by instance_name ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and check_type = ''SQL_PARAM''',
'                group by check_name,STATUS_MESSAGE',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbiList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All DB Instances</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
' end loop;',
'---------------------------------------------------------------------------------------------',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt number;',
'begin',
'if :P1031_COLLECTION_DATE is null then ',
' return false;',
'end if;',
'select count(1) into cnt from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and target_type is not null;',
'if cnt > 0 then ',
' return false;',
'end if;',
'return true;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
end;
/
begin
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312397148938476401)
,p_plug_name=>'Collection Details >= 12.1.0.2.1'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>50
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare ',
' prevHost varchar2(200);',
' prevType varchar2(50);',
' checkTypeMsg varchar2(1000);',
' statusMsg varchar2(1000);',
' firstTime number := 1;',
' firstTime_s number := 1;',
' dbSerList varchar2(4000) := ''z'';',
' cellList varchar2(4000) := ''z'';',
' switchList varchar2(4000) := ''z'';',
' dbList varchar2(4000) := ''z'';',
' dbiList varchar2(4000) := ''z'';',
' asmList varchar2(4000) := ''z'';',
'begin',
'--  ',
'begin',
'select listagg(target_value,'', '') within group ( order by target_value ) into dbSerList from (',
'select distinct target_value  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and target_type =''HOST'' );',
'exception when others then NULL;',
'end;',
'',
'begin',
'select listagg(target_value,'', '') within group ( order by target_value ) into switchList from (',
'select distinct target_value  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and target_type = ''SWITCH'' );',
'exception when others then NULL;',
'end;',
'',
'begin',
'select listagg(target_value,'', '') within group ( order by target_value ) into cellList from (',
'select distinct target_value  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and target_type = ''STORAGE_CELL'' );',
'exception when others then NULL;',
'end; ',
'',
'begin',
'select listagg(target_value,'', '') within group ( order by target_value ) into asmList from (',
'select distinct target_value  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and target_type = ''ASM'' );',
'exception when others then NULL;',
'end; ',
'',
'begin',
'select listagg(target_value,'', '') within group ( order by target_value ) into dbList from (',
'select distinct target_value from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and target_type = ''RDBMS'' );',
'exception when others then NULL;',
'end; ',
'',
'begin',
'select listagg(target_value,'', '') within group ( order by target_value ) into dbiList from (',
'select distinct target_value  from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE',
'and target_type = ''RDBMS_INSTANCE'' );',
'exception when others then NULL;',
'end; ',
'',
'',
'htp.p(''<br>'');',
'htp.p(''<h2 class="h3c">System Health Checks Details</h2>'');',
'htp.p(''<br>'');',
'sys.htp.p(''<section class="uRegion uRegionNoPadding clearfix" id="REPORT1" aria-live="polite">'');',
'/*',
'  htp.p(''<div class="uRegionHeading">'');',
'sys.htp.p(''<h1 align="center">Collection ''||:P1031_COLLECTION_NAME||'' Report [  Score :  ''||:P1031_COLLECTION_SCORE ||''% ]</h1>'');',
'sys.htp.p(''  </div> ''); ',
'*/',
' htp.p(''<div class="uRegionContent clearfix">',
'    <div style="overflow: auto;">',
'<table class="uReportContainer" id="report_REPORT1" summary="">',
'<tbody class="uReportBody">',
'<tr><td>',
'<table summary="Audit checks" class="uReport uReportStandard">',
'<thead>',
'<tr>',
'<th align="left">Status</th><th align="left">Check Type</th><th align="left">Check Name</th><th align="left">Status Message</th><th align="left">Status On</th>',
'</tr>',
'</thead>',
'<tbody>'');',
'--------------------------------------------------------------------------------------------',
'for rec in ( select distinct status,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) sord ',
'             from auditcheck_result where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE order by sord ) loop    ',
'  --Print status',
'  statusMsg := ''<tr><td> <h4 class="td_c td_''||rec.status||''">''||rec.status||''</h4></td><td></td><td></td><td></td><td></td></tr>'';',
'  --Cluster wide checks  ',
'  firstTime := 1;',
'  firstTime_s := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Cluster wide</h3></td><td></td><td></td><td></td></tr>'';  ',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,''Cluster Wide'' son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''CLUSTER''',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'  end loop;',
'  ',
'  -- Database server checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>DB Server</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,listagg(target_value,'', '') within group ( order by target_value ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''HOST''',
'                group by check_name,STATUS_MESSAGE',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbSerList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All DB Servers</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'  -- Switch checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>IB Switch</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(STATUS_MESSAGE,target_value,'''') sm,listagg(target_value,'', '') within group ( order by target_value ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''SWITCH''',
'                group by check_name,replace(STATUS_MESSAGE,target_value,'''')',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = switchList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All IB Switches</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop; ',
'  ',
'  -- Cell checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Storage Cell</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(STATUS_MESSAGE,target_value,'''') sm,listagg(target_value,'', '') within group ( order by target_value ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''STORAGE_CELL''',
'                group by check_name,replace(STATUS_MESSAGE,target_value,'''')',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = cellList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All Cells</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop; ',
'  ',
'  -- ASM checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>ASM </h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,listagg(target_value,'', '') within group ( order by target_value ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''ASM''',
'                group by check_name,STATUS_MESSAGE',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = asmList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All ASM Instances</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'  -- DB checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Database</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(replace(STATUS_MESSAGE,''for ''||target_value),target_value) sm,',
'                listagg(target_value,'', '') within group ( order by target_value) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''RDBMS''',
'                group by check_name,replace(replace(STATUS_MESSAGE,''for ''||target_value),target_value)',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All Databases</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'  -- DB Instance checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>DB Instance</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,replace(STATUS_MESSAGE,target_value) sm,',
'                listagg(target_value,'', '') within group ( order by target_value ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type = ''RDBMS_INSTANCE''',
'                group by check_name,replace(STATUS_MESSAGE,target_value)',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbiList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All DB Instances</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
'',
'--Home Path Checks',
'  firstTime := 1;',
'  checkTypeMsg := ''<tr><td></td><td><h3 class=h4c>Home Path Checks</h3></td><td></td><td></td><td></td></tr>'';',
'  for rec1 in ( select check_name,STATUS_MESSAGE sm,listagg(hostname||'': ''||target_value,'', '') within group ( order by target_value ) son from auditcheck_result ',
'                where collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and status = rec.status ',
'                and target_type in (''ASM_HOME'',''CRS_HOME'',''RDBMS_HOME'')',
'                group by check_name,STATUS_MESSAGE',
'                order by check_name ) loop',
'    if firstTime_s = 1 then',
'      htp.p(statusMsg);',
'      firstTime_s := 0;',
'    end if;',
'    if firstTime = 1 then        ',
'      htp.p(checkTypeMsg);',
'      firstTime := 0;',
'    end if;',
'    if rec1.son = dbiList then',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>All Home Path CHecks</td></tr>'');',
'    else',
'      htp.p(''<tr><td></td><td></td><td>''||rec1.check_name||''</td><td>''||rec1.sm||''</td><td>''||rec1.son||''</td></tr>'');',
'    end if;  ',
'  end loop;',
' end loop;',
'---------------------------------------------------------------------------------------------',
'sys.htp.p(''</tbody>',
'</table>',
'</td>',
'</tr>',
'</tbody>',
'</table>',
'</div>',
'  </div>',
'</section>'');',
'',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt number;',
'begin',
'if :P1031_COLLECTION_DATE is null then ',
' return false;',
'end if;',
'select count(1) into cnt from auditcheck_result where  collection_date||''|''||upload_collection_name = :P1031_COLLECTION_DATE and  target_type is not null;',
'if cnt > 0 then ',
' return true;',
'end if;',
'return false;',
'end;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
null;
end;
/
prompt --application/pages/page_01033
begin
wwv_flow_api.create_page(
 p_id=>1033
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_name=>'System Summary'
,p_alias=>'SYSTEMSUMMARY'
,p_page_mode=>'NORMAL'
,p_step_title=>'System Summary'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'.table_c {',
'    color: #000000;',
'    font-weight: bold;',
'    border-spacing: 0;',
'    outline: medium none;',
'    font-family: Lucida Grande,Lucida Sans,Arial,sans-serif;',
'    font-size: 12px;',
'    float:left;',
'    margin:6px;',
'    height:85%;',
'}',
'',
'.th_c {',
'    background: #AAAAAA;',
'    border: 1px solid #AED0EA !important;',
'    font-size: 13px;',
'    font-weight: bold;',
'    vertical-align: middle !important;',
'    padding: 4px !important;    ',
'    ',
'}',
'.td_c {   ',
'    background: #F2F5F7;',
'    border: 1px solid #AED0EA !important;',
'    font-weight: normal;',
'    padding: 4px !important;',
'    vertical-align: middle !important;',
'}',
'',
'.td_FAIL {',
'    background: #FE2E2E;    ',
'}',
'',
'.td_WARNING {',
'    background: #F89406;    ',
'}',
'.td_PASS {    ',
'    background: #52BA25;',
'}',
'.td_INFO-PASS {    ',
'    background: #52BA25;',
'}',
'.td_INFO {',
'    background: #3a87ad;',
'}',
'.container {',
' height:200px;',
' margin:15px;',
' /*border: 1px solid blue;*/',
'}',
'',
'.h2c {',
' font-size: 20px;',
' margin: 2px;',
' padding: 2px;',
'}'))
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20140827055208'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312109663472228666)
,p_plug_name=>'Collection Summary'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'begin',
' htp.p(''<br>''); ',
' --Database server details',
' htp.p(''<div class=container style="float:left;">'');',
' htp.p(''<h2 class=h2c> Database Server Checks Summary </h2>'');',
'  --Clusterwide checks',
'  for rec in ( select ''Clusterwide'' hostname,count(status) cnt from auditcheck_result where upload_collection_name =''exachk_scac01db05_dbm01_082614_072159''',
'               and check_type in (''CLUSTERWIDE_CHECK'') ) loop ',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:4px;""><th class="th_c">''||rec.hostname||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where upload_collection_name =''exachk_scac01db05_dbm01_082614_072159'' ',
'                 and check_type in (''CLUSTERWIDE_CHECK'') group by status order by ord ) loop',
'        htp.p(''<tr><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  --Others',
'  for rec in ( select hostname,count(status) cnt from auditcheck_result where upload_collection_name =''exachk_scac01db05_dbm01_082614_072159''',
'               and nvl(needs_running,''z'') not in (''SWITCH'',''STORAGE_CELL'') and check_type in (''OS'',''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'')',
'               group by hostname order by hostname ) loop ',
'',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:4px;""><th class="th_c">''||rec.hostname||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where upload_collection_name =''exachk_scac01db05_dbm01_082614_072159'' ',
'                 and nvl(needs_running,''z'') not in (''SWITCH'',''STORAGE_CELL'') and check_type in (''OS'',''OS_OUT_CHECK'',''OS_PACKAGE'',''OS_PARAM'',''OS_PATCH'') ',
'                 and hostname = rec.hostname group by status order by ord ) loop',
'        htp.p(''<tr><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
' htp.p(''</div>'');',
'',
' --Switches Details',
' htp.p(''<div class=container style="float:left;">'');',
'  htp.p(''<h2 class=h2c> IB Switche Checks Summary </h2>'');',
'  for rec in ( select hostname,count(status) cnt from auditcheck_result where upload_collection_name =''exachk_scac01db05_dbm01_082614_072159''',
'               and needs_running = ''SWITCH'' group by hostname order by hostname ) loop ',
'',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:4px;""><th class="th_c">''||rec.hostname||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where upload_collection_name =''exachk_scac01db05_dbm01_082614_072159'' ',
'                 and needs_running = ''SWITCH'' and hostname = rec.hostname group by status order by ord ) loop',
'        htp.p(''<tr><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
' htp.p(''</div>'');',
'',
' --Storage cell details',
'  htp.p(''<div class=container style="float:left;">'');',
'  htp.p(''<h2 class=h2c> Storage Cell Checks Summary </h2>'');',
'  for rec in ( select hostname,count(status) cnt from auditcheck_result where upload_collection_name =''exachk_scac01db05_dbm01_082614_072159''',
'               and needs_running = ''STORAGE_CELL'' group by hostname order by hostname ) loop ',
'',
'    htp.p(''<table class="table_c">',
'           <thead><tr style="height:4px;""><th class="th_c">''||rec.hostname||'' ( ''||rec.cnt||'' )</th></tr></thead><tbody>'');    ',
'    for rec1 in ( select status,count(status) cnt,decode(status,''FAIL'',1,''WARNING'',2,''INFO'',3,''INFO-PASS'',4,''PASS'',5,6) ord from auditcheck_result ',
'                 where upload_collection_name =''exachk_scac01db05_dbm01_082614_072159'' ',
'                 and needs_running = ''STORAGE_CELL'' and hostname = rec.hostname group by status order by ord ) loop',
'        htp.p(''<tr><td class="td_c td_''||rec1.status||''">''||rec1.status||'' - ''||rec1.cnt||''</td></tr>'');',
'    end loop;',
'    htp.p(''</tbody></table>'');',
'  end loop;',
'  htp.p(''</div>'');',
'',
'  -- Database checks',
'  -- Database Instance Checks',
'  -- Database Home Checks',
'  -- ASM checks',
'  -- ASM Instance checks  ',
'end;'))
,p_plug_source_type=>'NATIVE_PLSQL'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
);
end;
/
prompt --application/pages/page_01034
begin
wwv_flow_api.create_page(
 p_id=>1034
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Analytics'
,p_alias=>'ANALYTICS'
,p_page_mode=>'NORMAL'
,p_step_title=>'Analytics'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20141217015436'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312466647853364333)
,p_plug_name=>'Filters'
,p_region_name=>'FILTERS_1034'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>7
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_query_row_template=>1
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312467257166414322)
,p_plug_name=>'No of ORAchk runs per cusotmer'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
,p_plug_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select NULL LINK,b.system_name LABEL, count(*) collections from rca13_col2sys_mapping a,rca13_systems b , rca13_collections c where ',
'(a.system_id=b.system_id and a.collection_date=c.collection_date and a.collection_name=c.collection_name)',
'and (:P1034_ORACHK_VERSION is null or tool_version=:P1034_ORACHK_VERSION) ',
'and (:P1034_DB_VERSION is null or exists (select version from rca13_homes t where version=:P1034_DB_VERSION and t.COLLECTION_ID=c.COLLECTION_ID)) ',
'and ((:P1034_COLLECTION_FROM is null or :P1034_COLLECTION_TO is null) or (a.collection_date >= :P1034_COLLECTION_FROM and a.collection_date <= :P1034_COLLECTION_TO))',
'and (:P1034_OS is null or os_platform=:P1034_OS)',
'group by b.system_name ',
'order by 3 desc'))
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(312467462996414336)
,p_default_chart_type=>'2DColumn'
,p_chart_title=>'No of ORAchk runs per cusotmer'
,p_chart_rendering=>'SVG_ONLY'
,p_chart_name=>'chart_11410327218471583'
,p_chart_width=>1350
,p_chart_height=>350
,p_chart_animation=>'Appear'
,p_display_attr=>':H:N:V:X::N::V:Y:None:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'6'
,p_x_axis_label_rotation=>90
,p_x_axis_label_font=>'Tahoma:10:#000000'
,p_y_axis_title=>'No Of Collections'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'N'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312467564301414354)
,p_chart_id=>wwv_flow_api.id(312467462996414336)
,p_series_seq=>10
,p_series_name=>'Series 1'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select NULL LINK,substr(nvl(customer_name,''INTERNAL''),1,20),count(*) ',
'from rca13_collections ',
'group by nvl(customer_name,''INTERNAL'')',
'order by 3 desc'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No data found.'
,p_series_query_row_count_max=>25
,p_action_link=>'f?p=&APP_ID.:1036:&SESSION.::&DEBUG.:1036:P1036_PER_CUSTOMER:#LABEL#'
,p_show_action_link=>'C'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312467760891434298)
,p_plug_name=>'checktype'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>50
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(312467937915434339)
,p_default_chart_type=>'2DColumn'
,p_chart_title=>'Type of Checks'
,p_chart_rendering=>'SVG_ONLY'
,p_chart_name=>'chart_11410802137491586'
,p_chart_width=>1350
,p_chart_height=>250
,p_chart_animation=>'Appear'
,p_display_attr=>':H:N:V:X::N::V:Y:None:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'6'
,p_x_axis_label_font=>'Tahoma:10:#000000'
,p_y_axis_title=>'No of Checks'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'N'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312468052030434343)
,p_chart_id=>wwv_flow_api.id(312467937915434339)
,p_series_seq=>10
,p_series_name=>'Series 1'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select NULL LINK, check_type LABEL, count(*) from auditcheck_result a ,rca13_collections b ',
'where a.collection_id = b.collection_id ',
'and (:P1034_ORACHK_VERSION is null or tool_version=:P1034_ORACHK_VERSION) ',
'and (:P1034_DB_VERSION is null or exists (select version from rca13_homes t where version=:P1034_DB_VERSION and t.COLLECTION_ID=a.COLLECTION_ID)) ',
'and ((:P1034_COLLECTION_FROM is null or :P1034_COLLECTION_TO is null) or (a.collection_date >= :P1034_COLLECTION_FROM and a.collection_date <= :P1034_COLLECTION_TO))',
'and (:P1034_OS is null or os_platform=:P1034_OS)',
'group by check_type ',
'order by 3 desc'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No data found.'
,p_series_query_row_count_max=>15
,p_action_link=>'f?p=&APP_ID.:1036:&SESSION.::&DEBUG.:1036:P1036_CHECK_TYPE:#LABEL#'
,p_show_action_link=>'C'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312481347071739625)
,p_plug_name=>'Collection Execution Time'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>15
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(312481557744739920)
,p_default_chart_type=>'2DColumn'
,p_chart_title=>'Collection Execution Time'
,p_chart_rendering=>'SVG_ONLY'
,p_chart_name=>'chart_11424421966797167'
,p_chart_width=>1350
,p_chart_height=>250
,p_chart_animation=>'Appear'
,p_display_attr=>':H:N:V:X::N::V:Y:None:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_map_source=>'%'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'6'
,p_x_axis_label_font=>'Tahoma:10:#000000'
,p_y_axis_title=>'No Of Collections'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'N'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312481647490739938)
,p_chart_id=>wwv_flow_api.id(312481557744739920)
,p_series_seq=>10
,p_series_name=>'Series 1'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'with data as (select et ,',
'decode(et ,''01m-15m'',1,''15m-30m'',2,''30m-45m'',3,''45m-1h'',4,''1h-1h15m'',5,''1h15m-1h30m'',6,''1h30m-1h45m'',7,''1h45m-2h'',8,''2h-3h'',9,''3h-4h'',10,''above 4h'',11) ord ',
'from ',
'(SELECT CASE ',
'  WHEN execution_time is null or execution_time <= 1500  THEN ''01m-15m''',
'  WHEN execution_time > 1500 and execution_time <= 3000  THEN ''15m-30m''',
'  WHEN execution_time > 3000 and execution_time <= 4500  THEN ''30m-45m''',
'  WHEN execution_time > 4500 and execution_time <= 10000 THEN ''45m-1h''',
'  WHEN execution_time > 6000 and execution_time <= 11500  THEN ''1h-1h15m''',
'  WHEN execution_time > 11500 and execution_time <= 13000  THEN ''1h15m-1h30m''',
'  WHEN execution_time > 13000 and execution_time <= 14500  THEN ''1h30m-1h45m''',
'  WHEN execution_time > 14500 and execution_time <= 20000  THEN ''1h45m-2h''',
'  WHEN execution_time > 20000 and execution_time <= 30000  THEN ''2h-3h''',
'  when execution_time > 30000 and  execution_time <= 40000  THEN ''3h-4h''',
'    ELSE ''above 4h''',
'  END et ',
'FROM rca13_collections a where ',
'(:P1034_ORACHK_VERSION is null or tool_version=:P1034_ORACHK_VERSION) ',
'and (:P1034_DB_VERSION is null or exists (select version from rca13_homes t where version=:P1034_DB_VERSION and t.COLLECTION_ID=a.COLLECTION_ID)) ',
'and ((:P1034_COLLECTION_FROM is null or :P1034_COLLECTION_TO is null) or (collection_date >= :P1034_COLLECTION_FROM and collection_date <= :P1034_COLLECTION_TO))',
'and (:P1034_OS is null or os_platform=:P1034_OS))) ',
'select NULL LINK, et LABEL, count(*) val from data',
'group by et,ord',
'order by ord'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No data found.'
,p_series_query_row_count_max=>50
,p_action_link=>'f?p=&APP_ID.:1036:&SESSION.::&DEBUG.:1036:P1036_EXECUTION_DURATION:#LABEL#'
,p_show_action_link=>'C'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(543818060235064671)
,p_plug_name=>'OS Platforms'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(543818245350064678)
,p_default_chart_type=>'2DColumn'
,p_chart_title=>'OS Platforms'
,p_chart_rendering=>'SVG_ONLY'
,p_chart_name=>'chart_242761109572121925'
,p_chart_width=>1350
,p_chart_height=>250
,p_chart_animation=>'Appear'
,p_display_attr=>':H:N:V:X::N::V:Y:None:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_map_source=>'%'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'6'
,p_x_axis_label_font=>'Tahoma:10:#000000'
,p_y_axis_title=>'No Of Customers'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'N'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(543818347817064709)
,p_chart_id=>wwv_flow_api.id(543818245350064678)
,p_series_seq=>10
,p_series_name=>'Series 1'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select null link,platform,count(*) customers from ',
'( select  distinct nvl(customer_name,''NA'') CustName,nvl(os_platform,''NA'') platform from rca13_collections )',
'group by platform',
'order by 3 desc'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No data found.'
,p_series_query_row_count_max=>50
,p_action_link=>'f?p=&APP_ID.:1036:&SESSION.::&DEBUG.:1036:P1036_PLATFORM:#LABEL#'
,p_show_action_link=>'C'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(543850348488825615)
,p_plug_name=>'ORACHK Run User'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
,p_plug_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select null link,current_user,count(*) customers from ',
'( select nvl(sr_bug_num,''NA'') sr_bug_num,nvl(current_user,''NA'') current_user from rca13_collections a',
'where (:P1034_ORACHK_VERSION is null or tool_version=:P1034_ORACHK_VERSION) ',
'and (:P1034_DB_VERSION is null or exists (select version from rca13_homes t where version=:P1034_DB_VERSION and t.COLLECTION_ID=a.COLLECTION_ID)) ',
'and ((:P1034_COLLECTION_FROM is null or :P1034_COLLECTION_TO is null) or (collection_date >= :P1034_COLLECTION_FROM and collection_date <= :P1034_COLLECTION_TO))',
'and (:P1034_OS is null or os_platform=:P1034_OS))',
'group by current_user',
'order by 3 desc'))
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(543850554199825674)
,p_default_chart_type=>'2DColumn'
,p_chart_title=>'ORAchk Run User'
,p_chart_rendering=>'SVG_ONLY'
,p_chart_name=>'chart_242761109572121925'
,p_chart_width=>1350
,p_chart_height=>350
,p_chart_animation=>'Appear'
,p_display_attr=>':H:N:V:X::N::V:Y:None:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_map_source=>'%'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'6'
,p_x_axis_label_rotation=>90
,p_x_axis_label_font=>'Tahoma:10:#000000'
,p_y_axis_title=>'No Of Customers'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'N'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(543850643091825679)
,p_chart_id=>wwv_flow_api.id(543850554199825674)
,p_series_seq=>10
,p_series_name=>'Series 1'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select null link,substr(nvl(current_user,''NA''),1,15),count(*) customers from ',
'( select distinct nvl(customer_name,''INTERNAL'') cn,current_user from rca13_collections )',
'group by current_user',
'order by 3 desc'))
,p_series_type=>'Bar'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No data found.'
,p_series_query_row_count_max=>50
,p_action_link=>'f?p=&APP_ID.:1036:&SESSION.::&DEBUG.:1036:P1036_USER:#LABEL#'
,p_show_action_link=>'C'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(544138853522520314)
,p_plug_name=>'Score'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>60
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(544139040478520324)
,p_default_chart_type=>'2DLine'
,p_chart_title=>'Score'
,p_chart_rendering=>'FLASH_PREFERRED'
,p_chart_name=>'chart_243081904700577571'
,p_chart_width=>1350
,p_chart_height=>300
,p_chart_animation=>'N'
,p_display_attr=>':H:N::X:N:N::V:Y:Default:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_map_source=>'%'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'6'
,p_x_axis_label_font=>'Tahoma:10:#000000'
,p_y_axis_title=>'Collections Score'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'N'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(544139164468520335)
,p_chart_id=>wwv_flow_api.id(544139040478520324)
,p_series_seq=>10
,p_series_name=>'Series 1'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select null,sr_bug_num,round(avg(score)) from (',
'select nvl(sr_bug_num,''NA'') sr_bug_num,score from rca13_collection_values a,rca13_collections b',
'where (a.collection_name = b.collection_name and a.collection_date = b.collection_date )',
'and (:P1034_ORACHK_VERSION is null or tool_version=:P1034_ORACHK_VERSION) ',
'and (:P1034_DB_VERSION is null or exists (select version from rca13_homes t where version=:P1034_DB_VERSION and t.COLLECTION_ID=b.COLLECTION_ID)) ',
'and ((:P1034_COLLECTION_FROM is null or :P1034_COLLECTION_TO is null) or (b.collection_date >= :P1034_COLLECTION_FROM and b.collection_date <= :P1034_COLLECTION_TO))',
'and (:P1034_OS is null or os_platform=:P1034_OS))',
'group by sr_bug_num',
'order by 3 desc'))
,p_series_type=>'Line'
,p_series_query_type=>'SQL_QUERY'
,p_series_query_parse_opt=>'PARSE_CHART_QUERY'
,p_series_query_no_data_found=>'No data found.'
,p_series_query_row_count_max=>50
,p_show_action_link=>'N'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312468260676443661)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(312466647853364333)
,p_button_name=>'APPLY_FILTERS'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Apply Filters'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_cattributes=>'style="margin-left:20px";'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312468441414447599)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(312466647853364333)
,p_button_name=>'CLEAR_FILTERS'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Clear Filters'
,p_button_position=>'RIGHT_OF_TITLE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312469055223470748)
,p_name=>'P1034_COLLECTION_DATE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(312466647853364333)
,p_prompt=>'<b>Collection Date </b>'
,p_display_as=>'NATIVE_DATE_PICKER'
,p_cSize=>15
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_css_classes=>'style="padding:0px;"'
,p_new_grid=>true
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_04=>'button'
,p_attribute_05=>'N'
,p_attribute_07=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312469341192492448)
,p_name=>'P1034_ORACHK_VERSION'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(312466647853364333)
,p_prompt=>'<b>Tool Version</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct tool_version display_value, nvl(tool_version,''Not Available'') return_value from rca13_collections',
'where tool_version is not null',
'order by tool_version ',
''))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'-- select --'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:200px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312490263320109560)
,p_name=>'P1034_EXECUTION_DURATION'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(312466647853364333)
,p_prompt=>'<b>Execution Duration</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct decode(et ,1,''01m-15m'',2,''15m-30m'',3,''30m-45m'',4,''45m-1h'',5,''1h-1h15m'',6,''1h15m-1h30m'',7,''1h30m-1h45m'',8,''1h45m-2h'',9,''2h-3h'',10,''3h-4h'',''above 4h'') display_value ,et return_value from (SELECT CASE ',
'  WHEN execution_time > 0 and execution_time <= 1500  THEN ''1''',
'  WHEN execution_time > 1500 and execution_time <= 3000  THEN ''2''',
'  WHEN execution_time > 3000 and execution_time <= 4500  THEN ''3''',
'  WHEN execution_time > 4500 and execution_time <= 10000 THEN ''4''',
'  WHEN execution_time > 6000 and execution_time <= 11500  THEN ''5''',
'  WHEN execution_time > 11500 and execution_time <= 13000  THEN ''6''',
'  WHEN execution_time > 13000 and execution_time <= 14500  THEN ''7''',
'  WHEN execution_time > 14500 and execution_time <= 20000  THEN ''8''',
'  WHEN execution_time > 20000 and execution_time <= 30000  THEN ''9''',
'  when execution_time > 30000 and  execution_time <= 40000  THEN ''10''',
'    ELSE ''99''',
'  END et ',
'FROM rca13_collections where execution_time is not null)',
'order by et',
''))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'--select--'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when_type=>'NEVER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312491437871653079)
,p_name=>'P1034_OS'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(312466647853364333)
,p_prompt=>'<b>Operating System</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
' select col display_value, col return_value from (select distinct nvl(os_platform,''NA'') col from rca13_collections)',
'order by col',
''))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'--select--'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:200px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312491946855740097)
,p_name=>'P1034_DB_VERSION'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(312466647853364333)
,p_prompt=>'<b>DB Version</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct version display_vale,version return_value from rca13_homes where type=''RDBMS'' ',
'order by version'))
,p_lov_display_null=>'YES'
,p_lov_null_text=>'--select--'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:200px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312495665839030002)
,p_name=>'P1034_COLLECTION_FROM'
,p_item_sequence=>11
,p_item_plug_id=>wwv_flow_api.id(312466647853364333)
,p_prompt=>'<b>Collection Date  From </b>'
,p_display_as=>'NATIVE_DATE_PICKER'
,p_cSize=>15
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_css_classes=>'style="padding:0px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_04=>'button'
,p_attribute_05=>'N'
,p_attribute_07=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312495944488039811)
,p_name=>'P1034_COLLECTION_TO'
,p_item_sequence=>12
,p_item_plug_id=>wwv_flow_api.id(312466647853364333)
,p_prompt=>'<b> To Collection Date  </b>'
,p_display_as=>'NATIVE_DATE_PICKER'
,p_cSize=>15
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_css_classes=>'style="padding:0px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_04=>'button'
,p_attribute_05=>'N'
,p_attribute_07=>'NONE'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(312494362992179468)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'clear filters'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
' :P1034_COLLECTION_DATE := NULL;',
' :P1034_ORACHK_VERSION := NULL;',
' :P1034_EXECUTION_DURATION := NULL;',
' :P1034_DB_VERSION := NULL;',
' :P1034_OS := NULL;',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(312468441414447599)
);
end;
/
prompt --application/pages/page_01035
begin
wwv_flow_api.create_page(
 p_id=>1035
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_name=>'Check Trending'
,p_alias=>'CHECKTRENDING'
,p_page_mode=>'NORMAL'
,p_step_title=>'Check Trending'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20141113054637'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312445167363415555)
,p_plug_name=>'Check Status'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source_type=>'NATIVE_FLASH_CHART5'
,p_plug_query_row_template=>1
);
wwv_flow_api.create_flash_chart5(
 p_id=>wwv_flow_api.id(312445367558415564)
,p_default_chart_type=>'2DLine'
,p_chart_title=>'Check Status'
,p_chart_rendering=>'FLASH_PREFERRED'
,p_chart_name=>'chart_11388231780472811'
,p_chart_width=>700
,p_chart_height=>500
,p_chart_animation=>'N'
,p_display_attr=>':H:N:V:X:N:N::V:Y:Circle:::N:::Default:::S'
,p_dial_tick_attr=>':::::::::::'
,p_gantt_attr=>'Y:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:Rhomb:Rhomb:Full:30:15:5:Y:I:N:S:E::'
,p_pie_attr=>'Outside:::'
,p_map_attr=>'Orthographic:RegionBounds:REGION_NAME'
,p_map_source=>'%'
,p_margins=>':::'
, p_omit_label_interval=> null
,p_bgtype=>'Trans'
,p_color_scheme=>'6'
,p_x_axis_label_font=>'Tahoma:10:#000000'
,p_y_axis_label_font=>'Tahoma:10:#000000'
,p_async_update=>'N'
, p_names_font=> null
, p_names_rotation=> null
,p_values_font=>'Tahoma:10:#000000'
,p_hints_font=>'Tahoma:10:#000000'
,p_legend_font=>'Tahoma:10:#000000'
,p_grid_labels_font=>'Tahoma:10:#000000'
,p_chart_title_font=>'Tahoma:14:#000000'
,p_x_axis_title_font=>'Tahoma:14:#000000'
,p_y_axis_title_font=>'Tahoma:14:#000000'
,p_gauge_labels_font=>'Tahoma:10:#000000'
,p_use_chart_xml=>'N'
);
wwv_flow_api.create_flash_chart5_series(
 p_id=>wwv_flow_api.id(312445444950415568)
,p_chart_id=>wwv_flow_api.id(312445367558415564)
,p_series_seq=>10
,p_series_name=>'Series 1'
,p_series_query=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select null link,a.collection_date,decode(status,''PASS'',1,''INFO-PASS'',1,''INFO'',2,''WARNING'',3,''FAIL'',4,0) Status ',
'from auditcheck_result a,( select * from rca13_col2sys_mapping  where ',
'nvl(:P0_TIME,''All'') = ''All'' OR ( :P0_TIME != ''All'' and collection_date > sysdate - :P0_TIME ) ) b',
'where b.system_id = :P1035_SYSTEM_ID ',
'and a.collection_date = b.collection_date',
'and a.check_id = :P1035_CHECK_ID',
''))
,p_series_query_type=>'SQL_QUERY'
,p_series_query_no_data_found=>'No data found.'
,p_series_query_row_count_max=>500
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312445763936450651)
,p_name=>'P1035_CHECK_ID'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(312445167363415555)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312445943436475369)
,p_name=>'P1035_COLLECTION_DATE'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(312445167363415555)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312446159814482881)
,p_name=>'P1035_SYSTEM_ID'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(312445167363415555)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(312446351607501900)
,p_computation_sequence=>10
,p_computation_item=>'P1035_SYSTEM_ID'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'QUERY'
,p_computation=>'select system_id from rca13_col2sys_mapping where collection_date||''|''||collection_name = :P1035_COLLECTION_DATE and rownum = 1'
,p_compute_when=>'P1035_COLLECTION_DATE'
,p_compute_when_type=>'ITEM_IS_NOT_NULL'
);
end;
/
prompt --application/pages/page_01036
begin
wwv_flow_api.create_page(
 p_id=>1036
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Collection Analytics'
,p_page_mode=>'NORMAL'
,p_step_title=>'Collection Analytics'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_html_page_header=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<style>',
'.uRegionContent {',
' overflow-x:auto;',
'}',
'</style>'))
,p_javascript_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function changeColor() {',
' // We need to cahnge color of time period on selction',
' var val = document.getElementById(''P1002_TIME'').value;',
' //alert(val);',
' document.getElementById(''TIMEP_''+val).style.color="RED";',
'}',
'',
'function open_dialog (v1) ',
'{',
'  if ( !  document.getElementById(v1+''_rec'').innerHTML )',
'  {',
'    var get = new htmldb_Get(null, &APP_ID., ''APPLICATION_PROCESS=GETRECO'', &APP_PAGE_ID.);',
'    get.add(''G_RATIONAL_CID'' , v1);',
'    gReturn = get.get();',
'    document.getElementById(v1+''_rec'').innerHTML = gReturn;',
'    get = null;',
'  }',
'  var w = $(window).width()-200;',
'  var h = $(window).height()-200;',
'  $(''#''+v1+''_rec'').dialog({',
'      autoOpen: true,',
'      show: {',
'        effect: "blind",',
'        duration: 500',
'      },',
'      hide: {',
'        effect: "explode",',
'        duration: 500',
'      },',
'      width: w,',
'      height: h',
'    });',
'}',
'',
'function selectAllFun() ',
'{',
' var allSel = document.getElementById("ALL_SEL");',
' var cboxes = document.getElementsByTagName("input");',
' if ( allSel.checked ) {',
'    for(var i = 0; i < cboxes.length; i++) {   ',
'        cboxes[i].checked = true;',
'    }',
' }',
' else {',
'    for(var i = 0; i < cboxes.length; i++) {   ',
'        cboxes[i].checked = false;',
'    }',
' }',
'}',
'',
'function ShowHide( inVal ) ',
'{',
'  var val = document.getElementById(inVal).style.display;',
'  //alert(val);',
'  if ( val == ''none'' ) {',
'    document.getElementById(inVal).style.display = ''block'';',
'    document.getElementById(inVal+''_mh'').innerHTML = ''...Less'';',
'  }',
'  else {',
'   document.getElementById(inVal).style.display = ''none''; ',
'       document.getElementById(inVal+''_mh'').innerHTML = ''...More'';',
'  }',
'}'))
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'#PATCH_RESULT_1002,#FILTERS_1002 {',
' margin: 0px !important;',
'}',
'',
'.recommendation {',
'   text-decoration:none;',
'background-image: url(data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gAxSW1hZ2UgUmVzaXplZCBhdCBodHRwOi8vd3d3LnNocmlua3BpY3R1cmVzLmNvbQr/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQE'
||'Bw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAATABMDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0R'
||'FRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzU'
||'vAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDR0yJruC5AyXijUxqGCgkuq4/Wor9xBfSw28rtGjYBbr7j86yoNVe3gmi'
||'QKVnQK2eoAIPH4gVsXVw11pb3aov21EUXY/i2fwvj1PGT9PU1t1JKLTyE5LUVnfax60VQjDtp5Wt43LksVBzVj7XcFy/nPuYYJzyRRRSGZtxeXCzsFkIA9qKKKi5R/9k=);',
'}',
'',
'',
'.label-pass, .badge-pass {',
'background-color: #468847;',
'}',
'',
'.label-fail, .badge-fail {',
'background-color: #b94a48;',
'}',
'',
'.label-ignore, .badge-ignore {',
'background-color: #EEBC00;',
'}',
'',
'.label-info, .badge-info {',
'background-color: #3a87ad;',
'}',
'',
'.label-warning, .badge-warning {',
'background-color: #f89406;',
'}',
'',
'',
'.label {',
'//-webkit-border-radius: 3px;',
'//-moz-border-radius: 3px;',
'//border-radius: 3px;',
'}',
'',
'.label, .badge {',
'display: inline-block;',
'padding: 2px 4px;',
'font-size: 11.844px;',
'font-weight: bold;',
'line-height: 14px;',
'color: #ffffff;',
'text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);',
'white-space: nowrap;',
'vertical-align: baseline;',
'width:75px;',
'text-align:center;',
'//background-color: #999999;',
'}'))
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'MURALIMOHAN.REDDY.BELLALA'
,p_last_upd_yyyymmddhh24miss=>'20141217015240'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312483654400222630)
,p_name=>'collections'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'SELECT decode(execution_time,null,''Execution time NA'',decode(length(execution_time),5,substr(execution_time,-5,1)||''Hr '',6,substr(execution_time,-4,4)||''Hr '')||',
'(select case when length(execution_time) = 3 then substr(execution_time,-3,1)||''Min '' when length(execution_time) > 3 then substr(execution_time,-4,2)||''Min '' END from dual)',
'||decode(length(execution_time),1,substr(execution_time,-1,1)||''Sec '',substr(execution_time,-2,2)||''Sec '')) et, ',
'collection_name,collection_date FROM rca13_collections ',
'where nvl(execution_time,0) >= :P1036_ET_FROM and Nvl(execution_time,0) <= :P1036_ET_TO',
'order by nvl(execution_time,0) desc'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'P1036_EXECUTION_DURATION'
,p_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>100
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'ROW_RANGES_IN_SELECT_LIST'
,p_query_row_count_max=>5000
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312513355873840154)
,p_query_column_id=>1
,p_column_alias=>'ET'
,p_column_display_sequence=>3
,p_column_heading=>'Execution Time'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312487737284309835)
,p_query_column_id=>2
,p_column_alias=>'COLLECTION_NAME'
,p_column_display_sequence=>2
,p_column_heading=>'Collection Name'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_COLLECTION_DATE:#COLLECTION_NAME#|#COLLECTION_DATE#'
,p_column_linktext=>'#COLLECTION_NAME#'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312498350726647256)
,p_query_column_id=>3
,p_column_alias=>'COLLECTION_DATE'
,p_column_display_sequence=>1
,p_column_heading=>'Collection Date'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312511347322476898)
,p_name=>'Collections run by user'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>30
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'SELECT collection_name,collection_date,nvl(customer_name,''NA''),current_user FROM rca13_collections ',
'where substr(nvl(current_user,''NA''),1,15) = :P1036_USER',
'order by nvl(current_user,''NA'')'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'P1036_USER'
,p_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'ROW_RANGES_IN_SELECT_LIST'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312511659000477386)
,p_query_column_id=>1
,p_column_alias=>'COLLECTION_NAME'
,p_column_display_sequence=>2
,p_column_heading=>'Collection Name'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_COLLECTION_DATE:#COLLECTION_NAME#|#COLLECTION_DATE##CURRENT_USER#'
,p_column_linktext=>'#COLLECTION_NAME#'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312511754930477396)
,p_query_column_id=>2
,p_column_alias=>'COLLECTION_DATE'
,p_column_display_sequence=>1
,p_column_heading=>'Collection Date'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312511863536477396)
,p_query_column_id=>3
,p_column_alias=>'NVL(CUSTOMER_NAME,''NA'')'
,p_column_display_sequence=>3
,p_column_heading=>'Customer'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312511938977477396)
,p_query_column_id=>4
,p_column_alias=>'CURRENT_USER'
,p_column_display_sequence=>4
,p_column_heading=>'owner'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312514064570042572)
,p_name=>'Collections per customer'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'Select Collection_Name,Collection_Date,Nvl(Customer_Name,''INTERNAL''),Current_User From Rca13_Collections ',
'Where substr(nvl(customer_name,''INTERNAL''),1,20) = :P1036_PER_CUSTOMER',
'Order By Nvl(customer_name,''INTERNAL'')'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'P1036_PER_CUSTOMER'
,p_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>1000
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'ROW_RANGES_IN_SELECT_LIST'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312514343926042598)
,p_query_column_id=>1
,p_column_alias=>'COLLECTION_NAME'
,p_column_display_sequence=>2
,p_column_heading=>'Collection Name'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1002:&SESSION.::&DEBUG.:1002:P1002_COLLECTION_DATE:#COLLECTION_NAME#|#COLLECTION_DATE#'
,p_column_linktext=>'#COLLECTION_NAME#'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312514441928042602)
,p_query_column_id=>2
,p_column_alias=>'COLLECTION_DATE'
,p_column_display_sequence=>1
,p_column_heading=>'Collection Date'
,p_heading_alignment=>'LEFT'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312516348509147404)
,p_query_column_id=>3
,p_column_alias=>'NVL(CUSTOMER_NAME,''INTERNAL'')'
,p_column_display_sequence=>4
,p_column_heading=>'Customer Name'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312514637752042602)
,p_query_column_id=>4
,p_column_alias=>'CURRENT_USER'
,p_column_display_sequence=>3
,p_column_heading=>'owner'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312521147368795414)
,p_name=>'checktype'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>50
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>'select distinct b.collection_name,a.check_name,a.status,a.check_type from auditcheck_result a,rca13_collections b where a.check_type = :P1036_CHECK_TYPE and a.collection_id = b.collection_id'
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'P1036_CHECK_TYPE'
,p_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312521444869795670)
,p_query_column_id=>1
,p_column_alias=>'COLLECTION_NAME'
,p_column_display_sequence=>1
,p_column_heading=>'COLLECTION_NAME'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312521567843795677)
,p_query_column_id=>2
,p_column_alias=>'CHECK_NAME'
,p_column_display_sequence=>2
,p_column_heading=>'CHECK_NAME'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312521662829795678)
,p_query_column_id=>3
,p_column_alias=>'STATUS'
,p_column_display_sequence=>3
,p_column_heading=>'STATUS'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(312521745091795678)
,p_query_column_id=>4
,p_column_alias=>'CHECK_TYPE'
,p_column_display_sequence=>4
,p_column_heading=>'CHECK_TYPE'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(552162446119620842)
,p_name=>'customers'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select distinct nvl(customer_name,''NA'') from rca13_Collections',
'where nvl(os_platform,''NA'') = :P1036_PLATFORM',
'order by nvl(customer_name,''NA'')'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>'P1036_PLATFORM'
,p_display_condition_type=>'ITEM_IS_NOT_NULL'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>100
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'ROW_RANGES_IN_SELECT_LIST'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(552162767647620940)
,p_query_column_id=>1
,p_column_alias=>'NVL(CUSTOMER_NAME,''NA'')'
,p_column_display_sequence=>1
,p_column_heading=>'Customer Name'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(552169642281742718)
,p_plug_name=>'Breadcrumb'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712204958910730)
,p_plug_display_sequence=>1
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'REGION_POSITION_01'
,p_menu_id=>wwv_flow_api.id(4053496353388880329)
,p_plug_source_type=>'NATIVE_BREADCRUMB'
,p_menu_template_id=>wwv_flow_api.id(6040718112235910745)
,p_plug_query_row_template=>1
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312498857387674593)
,p_name=>'P1036_EXECUTION_DURATION'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(312483654400222630)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312499062970702392)
,p_name=>'P1036_ET_FROM'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(312483654400222630)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312499258225704579)
,p_name=>'P1036_ET_TO'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(312483654400222630)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312500438583855868)
,p_name=>'P1036_MESSAGE'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(312483654400222630)
,p_display_as=>'NATIVE_DISPLAY_ONLY'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'VALUE'
,p_attribute_04=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312512363076730456)
,p_name=>'P1036_USER'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(312511347322476898)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312515860839096056)
,p_name=>'P1036_PER_CUSTOMER'
,p_item_sequence=>80
,p_item_plug_id=>wwv_flow_api.id(312514064570042572)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(312522044039804572)
,p_name=>'P1036_CHECK_TYPE'
,p_item_sequence=>90
,p_item_plug_id=>wwv_flow_api.id(312521147368795414)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(552167345142674561)
,p_name=>'P1036_PLATFORM'
,p_item_sequence=>60
,p_item_plug_id=>wwv_flow_api.id(552162446119620842)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(552140752690197025)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'get from and to execution times'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'temp1 varchar2(20);',
'temp2 varchar2(20);',
'begin',
'if ( instr(:P1036_EXECUTION_DURATION,''-'',1,1) > 0 ) then',
'temp1 := substr(:P1036_EXECUTION_DURATION,1,instr(:P1036_EXECUTION_DURATION,''-'',1,1)-1);',
'select xmlquery(replace(replace(replace(temp1,''h'',''*10000+0''),''m'',''*100''), ''/'', '' div '') returning content).getNumberVal() into :P1036_ET_FROM from dual;',
'temp2 := substr(:P1036_EXECUTION_DURATION,instr(:P1036_EXECUTION_DURATION,''-'',1,1)+1);',
'select xmlquery(replace(replace(replace(temp2,''h'',''*10000+0''),''m'',''*100''), ''/'', '' div '') returning content).getNumberVal() into :P1036_ET_TO from dual;',
'else',
'select xmlquery(replace(replace(replace(:P1036_EXECUTION_DURATION,''h'',''*10000+0''),''m'',''*100''), ''/'', '' div '') returning content).getNumberVal() into :P1036_ET_FROM from dual;',
':P1036_ET_TO := ''999999'';',
'end if;',
'if :P1036_ET_FROM = 100 then',
' :P1036_ET_FROM := 0;',
'end if;',
'end;'))
,p_process_when=>'P1036_EXECUTION_DURATION'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
end;
/
prompt --application/pages/page_01037
begin
wwv_flow_api.create_page(
 p_id=>1037
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'User Defined Checks'
,p_alias=>'MANAGEUSERDEFINEDAUDITCHECKS'
,p_page_mode=>'NORMAL'
,p_step_title=>'User Defined Checks'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'ADMIN'
,p_last_upd_yyyymmddhh24miss=>'20151222025341'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(3450424833104426)
,p_plug_name=>'Manage user defined checks'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_1'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(3637312324802876)
,p_plug_name=>'<b>Manage Report Messages and Rationale</b>'
,p_parent_plug_id=>wwv_flow_api.id(3450424833104426)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713810066910732)
,p_plug_display_sequence=>40
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_plug_display_condition_type=>'FUNCTION_BODY'
,p_plug_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'IF :P1037_ACTION_TYPE IS NOT NULL THEN',
'RETURN TRUE;',
'ELSE',
'RETURN FALSE;',
'END IF;'))
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(3680609784461279)
,p_name=>'Add Links to Audit Check'
,p_parent_plug_id=>wwv_flow_api.id(3450424833104426)
,p_template=>wwv_flow_api.id(6040713703191910732)
,p_display_sequence=>70
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
' select ',
' sf_link_id,',
' name,',
' link, ',
' decode(type,0,''DOC'',1,''NOTE'') type',
' from ',
' RCA13_ORACHK_link'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE  in (''OS'',''SQL'') then',
'return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_display_condition_type=>'FUNCTION_BODY'
,p_header=>'<b>Links added here are assumed to be available to customers.  User responsible for verifying before entering.</b>'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715214521910736)
,p_query_num_rows=>15
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_num_rows_type=>'ROW_RANGES'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_prn_output=>'N'
,p_prn_format=>'PDF'
,p_prn_output_show_link=>'Y'
,p_prn_output_link_text=>'Print'
,p_prn_content_disposition=>'ATTACHMENT'
,p_prn_document_header=>'APEX'
,p_prn_units=>'INCHES'
,p_prn_paper_size=>'LETTER'
,p_prn_width_units=>'PERCENTAGE'
,p_prn_width=>11
,p_prn_height=>8.5
,p_prn_orientation=>'HORIZONTAL'
,p_prn_page_header_font_color=>'#000000'
,p_prn_page_header_font_family=>'Helvetica'
,p_prn_page_header_font_weight=>'normal'
,p_prn_page_header_font_size=>'12'
,p_prn_page_footer_font_color=>'#000000'
,p_prn_page_footer_font_family=>'Helvetica'
,p_prn_page_footer_font_weight=>'normal'
,p_prn_page_footer_font_size=>'12'
,p_prn_header_bg_color=>'#9bafde'
,p_prn_header_font_color=>'#ffffff'
,p_prn_header_font_family=>'Helvetica'
,p_prn_header_font_weight=>'normal'
,p_prn_header_font_size=>'10'
,p_prn_body_bg_color=>'#efefef'
,p_prn_body_font_color=>'#000000'
,p_prn_body_font_family=>'Helvetica'
,p_prn_body_font_weight=>'normal'
,p_prn_body_font_size=>'10'
,p_prn_border_width=>.5
,p_prn_page_header_alignment=>'CENTER'
,p_prn_page_footer_alignment=>'CENTER'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(3738209782435977)
,p_query_column_id=>1
,p_column_alias=>'SF_LINK_ID'
,p_column_display_sequence=>5
,p_column_heading=>'<b>Delete Link</b>'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1037:&SESSION.::&DEBUG.::REMOVE_SF_LINK:#SF_LINK_ID#'
,p_column_linktext=>'<img src="#WORKSPACE_IMAGES#Delete.gif" width="16" height="16" border="0" />'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
,p_print_col_width=>'345'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(3738302133435977)
,p_query_column_id=>2
,p_column_alias=>'NAME'
,p_column_display_sequence=>3
,p_column_heading=>'Name'
,p_use_as_row_header=>'N'
,p_column_linktext=>'LINK_NAME'
,p_heading_alignment=>'LEFT'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
,p_print_col_width=>'345'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(3738425483435977)
,p_query_column_id=>3
,p_column_alias=>'LINK'
,p_column_display_sequence=>2
,p_column_heading=>'Link'
,p_use_as_row_header=>'N'
,p_column_html_expression=>'<a href="#LINK#" class="btn" style="text-decoration:none"  onclick="window.open(this.href, ''mywin'', ''height=800,width=500''); return false;" >#LINK#</a>'
,p_column_link=>'#LINK#'
,p_column_linktext=>'#LINK#'
,p_heading_alignment=>'LEFT'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
,p_print_col_width=>'345'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(3738525747435977)
,p_query_column_id=>4
,p_column_alias=>'TYPE'
,p_column_display_sequence=>4
,p_column_heading=>'Type'
,p_hidden_column=>'Y'
,p_print_col_width=>'345'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(3768523140024997)
,p_query_column_id=>5
,p_column_alias=>'LINK$01'
,p_column_display_sequence=>1
,p_column_heading=>'Edit'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1037:&SESSION.::&DEBUG.::P1037_EDIT_SF_LINK_ID,P1037_LINK_EDIT_MODE:#SF_LINK_ID#,1'
,p_column_linktext=>'<img src="#IMAGE_PREFIX#e2.gif" alt="Edit">'
,p_column_alignment=>'CENTER'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3629111510518833)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(3450424833104426)
,p_button_name=>'New'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'New'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_CHECK_ID is not null  then',
'return TRUE;',
'else',
'return FALSE;',
'end if;',
':P1037_CHECK_ID := NULL;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3656513100484356)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(3450424833104426)
,p_button_name=>'CLONE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Clone'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_CHECK_ID is not null  then',
'return TRUE;',
'else',
'return FALSE;',
'end if;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3629510041537346)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(3450424833104426)
,p_button_name=>'SAVE'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Save Check'
,p_button_position=>'RIGHT_OF_TITLE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3862123458792127)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(3450424833104426)
,p_button_name=>'CLEAR_FORM'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Clear Form'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if  :P1037_check_id is not null  then',
'return TRUE;',
'else',
'return TRUE;',
'end if;',
':P1037_CHECK_ID := NULL;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3657503366528784)
,p_button_sequence=>45
,p_button_plug_id=>wwv_flow_api.id(3450424833104426)
,p_button_name=>'DELETE'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Delete'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_redirect_url=>'javascript:apex.confirm(''Would you like to delete the check?'',''DELETE'');'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_CHECK_ID is not null  then',
'return TRUE;',
'else',
'return FALsE;',
'end if;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3656828122498136)
,p_button_sequence=>50
,p_button_plug_id=>wwv_flow_api.id(3637312324802876)
,p_button_name=>'SAVE_VISIBLE_DATA'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Save Messages/Rationale'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_redirect_url=>'javascript:apex.confirm(''Saves only messages/Rationale. Please click on save check to complete new check creation'',''SAVE_VISIBLE_DATA'');'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3657003796510011)
,p_button_sequence=>60
,p_button_plug_id=>wwv_flow_api.id(3680609784461279)
,p_button_name=>'SAVE_LINK_EDIT'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Save'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_condition=>'P1037_LINK_EDIT_MODE'
,p_button_condition2=>'1'
,p_button_condition_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3657228384517115)
,p_button_sequence=>70
,p_button_plug_id=>wwv_flow_api.id(3680609784461279)
,p_button_name=>'CANCEL_LINK_EDIT'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Cancel '
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_condition=>'P1037_LINK_EDIT_MODE'
,p_button_condition2=>'1'
,p_button_condition_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3659127654564213)
,p_button_sequence=>80
,p_button_plug_id=>wwv_flow_api.id(3680609784461279)
,p_button_name=>'SAVE_LINK'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Save Link'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_LINK_TYPE is not null and :P1037_EDIT_SF_LINK_ID is null then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_button_condition_type=>'FUNCTION_BODY'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3670027767148931)
,p_button_sequence=>110
,p_button_plug_id=>wwv_flow_api.id(3450424833104426)
,p_button_name=>'SEARCH/MANAGE'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Manage XML / List Checks '
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_redirect_url=>'f?p=&APP_ID.:1038:&SESSION.::&DEBUG.:::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(4140514197321613)
,p_branch_name=>'Go to 1038'
,p_branch_action=>'f?p=&APP_ID.:1038:&SESSION.::&DEBUG.:::'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(3657503366528784)
,p_branch_sequence=>10
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3452629357684678)
,p_name=>'P1037_ACTION_TYPE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>Audit Check Type</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'select name display_value,value return_value from RCA13_ORACHK_CHK_TYPE order by name;'
,p_lov_display_null=>'YES'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:125px;font-size:12px;"'
,p_rowspan=>10
,p_label_alignment=>'ABOVE'
,p_field_template=>wwv_flow_api.id(52726708281169559)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'Various types of Audit Checks are supported:',
'<br><br>',
'<b>OS_CHECK</b> - a run-time check of an operating system command or single-line program which results in a SINGLE value which is compared to a user specified comparison value using a user specified comparison operator.  The result of the comparison '
||'results in a TRUE/FALSE evaluation to determine a PASS/FAIL/WARNING status for the data comparison being done.',
'<br><br> ',
'<b>SQL_CHECK</b> - a run-time check of a SQL command or PL/SQL program which results in a SINGLE value which is compared to a user specified comparison value using a user specified comparison operator.  The result of the comparison results in a TRUE/'
||'FALSE evaluation to determine a PASS/FAIL/WARNING status for the data comparison being done.',
'<br><br>'))
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3452815671812500)
,p_name=>'P1037_ORACLE_HOME_PATH'
,p_item_sequence=>102
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>Oracle Executable Path</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'select trim(decode(ora_home_name,''RDBMS'',''Database'',''CRS'',''Clusterware'',ora_home_name))  display_value,trim(ora_home_name) return_value from RCA13_ORACHK_ORACLE_HOME_TYPE order by ora_home_name;'
,p_lov_display_null=>'YES'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:175px;font-size:12px;"'
,p_begin_on_new_line=>'N'
,p_rowspan=>10
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52727411791198868)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Oracle Home Path (or) Executable Path:</b><br><br>',
'Oracle Home Type controls the setting of the ORACLE_HOME environment variable at runtime if for instance an Oracle executable needs to be run from that home.  Examples of executables that might be run from a home are sqlplus, srvctl, crsctl, oifcfg, '
||'etc.  In general if your logic uses an Oracle executable to derive data then the script needs to know in which home''s bin directory to find that executable.  The shuttle widget lists valid selections.  <br><br>',
'If your check logic has no dependencies on Oracle executables, i.e. just basic OS commands, then no selection is required.<br><br>'))
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3456012578905126)
,p_name=>'P1037_ORACLE_VERSION'
,p_item_sequence=>32
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>Oracle Version</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>'select trim(version_name) display_value,trim(version_id) return_value from RCA13_VERSION where is_preferred = 1 order by version_name'
,p_cSize=>150
,p_cMaxlength=>4000
,p_cHeight=>12
,p_tag_attributes=>'style="width:150px;height:90px;font-size:12px;"'
,p_begin_on_new_line=>'N'
,p_rowspan=>10
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52726708281169559)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Versions:</b><br>The listed Versions are supported for Grid Infrastructure and Database.  If your check applies to multiple supported versions then include them using the shuttle widget, ie., move them to the right pane.  Your checks will only run'
||' for the version or versions that you specify and sometimes the logic for a check can be version-specific.  <br>',
'In those cases only include the specific version.  It doesn’t hurt anything to specify versions that do not exist in your environment',
'Versions that do not exist in your environment will just be ignored.  On the other hand, if a check is version-specific then you ',
'would want to remove the versions that the check does not apply to.'))
,p_attribute_01=>'MOVE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3458203409046133)
,p_name=>'P1037_PLATFORMS'
,p_item_sequence=>80
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>Platforms</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select decode(p.product_line_id,',
'        23,''Solaris Sparc'',',
'        46,''Linux x86'',',
'        226,''Linux x86_64'',',
'        59,''HP-UX PA-RISC'',',
'        197,''HP-UX Itanium'',',
'        212,''AIX'',',
'        267,''Solaris x86-64'',',
'        233,''MS Windows x64 (64-bit)'',',
'        209,''ZLinux (64-bit)''--,',
'      --  ''UNKNOWN''',
'      )||'' - ''||osdist||'' ''||osversion display_value,DISTRIBUTION_OS_ID return_value ',
'        from RCA13_DISTRIBUTION a,RCA13_PLATFORM p where a.platform_id = p.platform_id and a.osdist_rep_kernel = 1 order by display_value'))
,p_cSize=>120
,p_cMaxlength=>4000
,p_cHeight=>10
,p_tag_attributes=>'style="width:250px;height:90px;font-size:12px;"'
,p_begin_on_new_line=>'N'
,p_rowspan=>10
,p_grid_column=>2
,p_label_alignment=>'ABOVE'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52726708281169559)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Platforms:</b><br>The listed platforms are supported for Grid Infrastructure and Database.  If your check applies to multiple supported platforms then include them using the shuttle widget, ie., move them to the right pane.  Your checks will only '
||'run for the platform or platforms that you specify and sometimes the logic for a check can be platform-specific.  In those cases only include the specific platform.  It doesn’t hurt anything to specify platforms that do not exist in your environment.'
||'  Platforms that do not exist in your environment will just be ignored.  On the other hand, if a check is platform-specific then you would want to remove the platforms that the check does not apply to.',
'<br><br>',
'Linux OELRHEL refers to Oracle Linux or Red Hat Linux',
'<br>'))
,p_attribute_01=>'ALL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3460529916322421)
,p_name=>'P1037_DATABASE_TYPE'
,p_item_sequence=>110
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>Database Type  (Default Value NORMAL)</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>'select trim(decode(database_type,''CDB'',''CONTAINER DATABASE'',''PDB'',''PLUGGABLE DATABASE'',database_type)) display_value,trim(database_type_id) return_value  from RCA13_ORACHK_DB_TYPES_MASTER order by database_type;'
,p_cSize=>120
,p_cMaxlength=>4000
,p_cHeight=>8
,p_tag_attributes=>'style="width:165px;font-size:12px;"'
,p_new_grid=>true
,p_rowspan=>10
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52727411791198868)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Database Type:</b><br><br>',
'Database versions BEFORE 12.1 are referred to here as NORMAL (not multi-tenant).  Database versions 12.1 or greater could be NORMAL (not multi-tenant), CDB (multi-tenant container DB), or PDB (multi-tenant pluggable DB).  Select  the appropriate Data'
||'base Type(s) for your check depending upon version and multi-tenancy.  Your check will only run on the specified Database Type(s).<br><br>',
'',
'If there is no database dependency at all then no selection is required.<br><br>',
'If you dont select any database type, check will execute on default value NORMAL.',
'<br>'))
,p_attribute_01=>'ALL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3465630501398174)
,p_name=>'P1037_DATABASE_MODE'
,p_item_sequence=>122
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>Database Mode (Default Mode OPEN)</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>'select trim(database_mode) display_value,trim(DATABASE_MODE_ID) return_value from RCA13_ORACHK_DB_MODES_MASTER order by database_mode;'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>8
,p_tag_attributes=>'style="width:125px;font-size:12px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52727411791198868)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Database Mode:</b><br><br>',
'If the command being run contains a SQL command that depends upon the database mode in order to derive the needed data then select that mode here - nomount, mount, open.  Most, but not all, SQL commands executed against a database will depend upon th'
||'e database running in Open mode.<br><br>  ',
'',
'If there is no database dependency in the check then no selection is required.<br><br>',
'If you dont select any database mode, check will execute on default value OPEN. '))
,p_attribute_01=>'ALL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3470803925471237)
,p_name=>'P1037_DATABASE_ROLE'
,p_item_sequence=>120
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>Database Role (Default Value PRIMARY)</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>'select trim(database_role) display_value, trim(database_role_id) return_value from RCA13_ORACHK_DB_ROLES_MASTER order by database_role;'
,p_cSize=>150
,p_cMaxlength=>4000
,p_cHeight=>8
,p_tag_attributes=>'style="width:165px;font-size:12px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52727411791198868)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Database Role:</b><br><br>',
'Database roles are PRIMARY, PHYSICAL STANDBY, LOGICAL STANDBY.  A PHYSICAL STANDBY may be running in managed recovery (mounted mode) or Read Only mode and so the kinds of SQL checks that can be run may vary.  Similarly a LOGICAL STANDBY may be runnin'
||'g in apply mode and so the kinds of SQL checks that can be run may vary.  In a database consolidation environment there could be databases of either role on a given system.  The role determination is made for each database at runtime.  ORAchk/EXAchk '
||'runs checks with the appropriate role and ignores checks with an inappropriate role <br><br>',
'',
'If there is no database dependency at all then no selection is required.<br><br>',
'If you dont select any database role, check will execute on default value PRIMARY. ',
'<br>'))
,p_attribute_01=>'ALL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3475027512627429)
,p_name=>'P1037_COMPARISON_OPERATOR'
,p_item_sequence=>130
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>Comparison Operator</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select name display_value,value  return_value from RCA13_ORACHK_OP_STRING order by name;',
''))
,p_lov_display_null=>'YES'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:175px;font-size:12px;"'
,p_new_grid=>true
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52726708281169559)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Comparison operator:</b><br><br>',
'The comparison operator is used in conjunction with the command''s actual return value and the comparison value, which is the expected return value.  The comparison is evaluated and the check either passes or it fails.  Valid comparison operators and '
||'their type, numeric or string, are listed in the Comparison Operator shuttle widget.<br><br>',
''))
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3475303574638454)
,p_name=>'P1037_COMPARE_VALUE'
,p_item_sequence=>140
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>Comparison Value</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:175px;font-size:12px;"'
,p_begin_on_new_line=>'N'
,p_rowspan=>3
,p_grid_column=>2
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52727411791198868)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Comparison Value:</b><br><br>',
'The comparison value is the EXPECTED return value of the command used in conjunction with the comparison operator and the actual command return value to determine PASS/FAIL.  In other words, if the expected and actual return values are different that'
||' would result in a warning or failure.  If they are the same a pass would be the result.<br>'))
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3477316895693045)
,p_name=>'P1037_COMPONENT_DEPENDENCY'
,p_item_sequence=>100
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>Needs Running</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'  select trim(decode(comp_dep_name,''RDBMS'',''Database'',''CRS'',''Clusterware'',comp_dep_name)) display_value,trim(comp_dep_name) return_value from RCA13_ORACHK_COMP_DEP order by comp_dep_name;'
,p_lov_display_null=>'YES'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cattributes_element=>'style="width:10px;height:10px;font-size:12px;"'
,p_tag_attributes=>'style="width:175px;font-size:12px;"'
,p_begin_on_new_line=>'N'
,p_rowspan=>10
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52727411791198868)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Needs_Running (or) Component Dependency:</b><br><br>',
'Select a component of the Oracle stack if it is required for it to be running in order for the check command to be run successfully.  For instance, if a check command is querying the ASM instance then the ASM instance must be up and running in order '
||'to be successfully queried.  If it is not then the sqlplus commands upon which the check logic depends would be missing some input.  If the Component Dependency is not fulfilled at runtime then the check will be skipped.<br><br>',
'If there is no component dependency needed at runtime then no selection is required.<br><br>'))
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3478414996438401)
,p_name=>'P1037_ACTION'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>&P1037_ACTION_LABEL.</b>'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>80
,p_cMaxlength=>4000
,p_cHeight=>4
,p_tag_attributes=>'style="width:450px;font-size:12px;"'
,p_new_grid=>true
,p_begin_on_new_line=>'N'
,p_rowspan=>10
,p_label_alignment=>'ABOVE'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52726708281169559)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Command:</b><br>',
'OS commands or inline programs and SQL commands should result in a single string or numeric return value that can be compared to a single comparison value using an appropriate string or numeric comparison operator.  Typically this will be a boolean r'
||'eturn value e.g.., 1 or 0.  But it could be a count resulting from the use of a command like grep -c or select count(*) where the count is expected to be 0 or a non-zero number depending upon the logic required for your check.  The important thing to'
||' remember though is that it should not result in a list or array.  ',
'<br><br>',
'The best approach is to perfect your logic in a terminal shell or sqlplus and once perfected copy and paste it into the Command field of your check.  Note that ORAchk populates two environment variables at runtime $CRS_HOME and $ORACLE_HOME.  So you '
||'can use those in your logic.  $CRS_HOME will be static but $ORACLE_HOME will change according to the context of its usage for databases.',
'<br><br>',
'Note that when querying v$ views in Oracle using OS commands the dollar sign needs to be escaped as in v\$parameter.<br>',
'Note also that it is possible to embed SQLPlus formatting directives in your command and that a newline character (\n) follows them.  NOTE: DO NOT embed any tabs in multi-line programs as that may cause problems parsing or executing the commands.',
'<br><br>',
'Here is an example OS command:',
'<br><br>',
'afdest=$(echo -e "set heading off timing off feedback off lines 180\n select value from v\$parameter where name=''audit_file_dest'';"|$ORACLE_HOME/bin/sqlplus -s / as sysdba|grep -v ^$)<br>',
'aud_files=$(find $afdest -name ''*.*'' 2>/dev/null|wc -l)<br>',
'if [ $aud_files -gt 100000 ]<br>',
'then echo 1 <br>',
'else echo 0<br>',
'fi<br>',
'<br>'))
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
end;
/
begin
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3479114096484347)
,p_name=>'P1037_ACTION_LABEL'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_rowspan=>10
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3484423756100942)
,p_name=>'P1037_ACTION_REPORT_LABEL'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_rowspan=>10
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3484932358127357)
,p_name=>'P1037_ACTION_REPORT'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>&P1037_ACTION_REPORT_LABEL.</b>'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>80
,p_cMaxlength=>4000
,p_cHeight=>4
,p_tag_attributes=>'style="width:450px;font-size:12px;"'
,p_new_grid=>true
,p_begin_on_new_line=>'N'
,p_rowspan=>10
,p_label_alignment=>'ABOVE'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52726708281169559)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Report Command:</b><br><br>',
'The Report command is an OS or SQL command that should result in formatted output easily readable by a user reviewing the report',
'and the output should make it easy for the user to validate the finding of its accompanying check.  So it should result in formatted output derived from the system at runtime and unlike the check logic itself can contain a listing of multiple rows of'
||' data if appropriate.',
'On the other hand you do not want to print out hundreds or thousands of rows of text.  That would be too unreadable and make the report larger in size than perhaps necessary. <br><br> ',
'',
'So in the report command example the number of audit files is output in a very readable and understandable format rather than listing of all the audit files and the user can clearly see if ether are more audit files than should be allowed to build up'
||' on the filesystem and there is action required to remediate the problem.  Limit your output to a reasonable number of rows.  If necessary refer users to a command they can run manually to derive the complete set of data needed for Action / Repair.<b'
||'r><br>',
'',
'TEST YOUR LOGIC OUTSIDE OF ORACHK  and verify the formatting before pasting the command here.<br><br>',
'',
'<b>Example report command:</b><br>',
'',
'echo -e "Number of audit files at $afdest = $aud_files"<br><br>'))
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3489031489401177)
,p_name=>'P1037_ALERT_LEVEL'
,p_item_sequence=>160
,p_item_plug_id=>wwv_flow_api.id(3637312324802876)
,p_prompt=>'<b>Alert Level</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'select alert_level display_value, alert_type return_value  from RCA13_ORACHK_ALERT_LEVEL order by alert_level;'
,p_lov_display_null=>'YES'
,p_lov_null_text=>'--Select AlertLevel--'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:175px;font-size:12px;"'
,p_new_grid=>true
,p_begin_on_new_line=>'N'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52726708281169559)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Alert Level:</b><br><br>',
'Select an alert level from the list of valid values.  These alert levels are somewhat subjective but in general FAIL should be reserved for the most potentially severe issues and WARNING is serious but does not rise to the level of a FAIL.  INFO is t'
||'he least serious but still important to evaluate and correct.<br><br>',
'',
'It is also possible to pass purely informational data to the report by assigning an alert level of INFO and designing a check that is meant to fail, i.e.., a no-op check.<br><br>',
'',
'NOTE:  INFOs that PASS are not displayed in the reports and therefore an INFO check that fails can be used to display the desired message in the report.'))
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3491024920551059)
,p_name=>'P1037_PASS_MSG'
,p_item_sequence=>170
,p_item_plug_id=>wwv_flow_api.id(3637312324802876)
,p_prompt=>'<b>Success Message(If Check Passes)</b>'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>80
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:500px;font-size:12px;"'
,p_new_grid=>true
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52726708281169559)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Pass Message:</b><br><br>',
'This is the text that you want displayed in the report if your check PASSes.  It should be limited to 80 - 100 characters.  It is not intended for lengthy messages, just a summary of the finding.<br><br>'))
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3491211981557073)
,p_name=>'P1037_FAIL_MSG'
,p_item_sequence=>180
,p_item_plug_id=>wwv_flow_api.id(3637312324802876)
,p_prompt=>'<b>Failure Message(If Check Fails)</b>'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>80
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:500px;font-size:12px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52726708281169559)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Fail Message:</b><br><br>',
'This is the text that you want displayed in the report if your check does NOT PASS.  It should be limited to 80 - 100 characters.  It is not intended for lengthy messages, just a summary of the finding.<br><br>'))
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3524304444077159)
,p_name=>'P1037_BENEFIT_IMPACT'
,p_item_sequence=>190
,p_item_plug_id=>wwv_flow_api.id(3637312324802876)
,p_prompt=>'<b>Benefit/Impact</b>'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>80
,p_cMaxlength=>4000
,p_cHeight=>4
,p_tag_attributes=>'style="width:500px;font-size:12px;"'
,p_new_grid=>true
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52727411791198868)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Benefit/Impact:</b><br><br>',
'The Benefit/Impact, Risk and Action/Repair together comprise the Rationale for the recommendation - why it is important (Benefit/Impact), what might happen if mis-configured (Risk), and how to mitigate the risk (Action/Repair).  The three fields are '
||'concatenated together at runtime to form the entire rationale.'))
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3526812805133978)
,p_name=>'P1037_RISK'
,p_item_sequence=>200
,p_item_plug_id=>wwv_flow_api.id(3637312324802876)
,p_prompt=>'<b>Risk</b>'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>80
,p_cMaxlength=>4000
,p_cHeight=>4
,p_tag_attributes=>'style="width:500px;font-size:12px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52727411791198868)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Risk:</b><br><br>',
'same as benefit/impact<br><br>'))
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3527007198136623)
,p_name=>'P1037_ACTION_REPAIR'
,p_item_sequence=>210
,p_item_plug_id=>wwv_flow_api.id(3637312324802876)
,p_prompt=>'<b>Action/Repair</b>'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>80
,p_cMaxlength=>4000
,p_cHeight=>4
,p_tag_attributes=>'style="width:500px;font-size:12px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52727411791198868)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Action/Repair:</b><br><br>',
'same as benefit/impact<br><br>'))
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3598125936583270)
,p_name=>'P1037_START_NEW'
,p_item_sequence=>220
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3599013163649934)
,p_name=>'P1037_CHECK_ID'
,p_item_sequence=>230
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3636210807709809)
,p_name=>'P1037_AUDIT_CHECK_NAME'
,p_item_sequence=>11
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>Audit Check Name</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>25
,p_cMaxlength=>2000
,p_cHeight=>1
,p_tag_attributes=>'style="width:400px;font-size:12px;"'
,p_new_grid=>true
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52726708281169559)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Check Name:</b><br>',
'Use a name that is self-documenting and as brief as possible to identify the purpose of the check.',
'<br><br>'))
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3642500424018485)
,p_name=>'P1037_LINK_TYPE'
,p_item_sequence=>260
,p_item_plug_id=>wwv_flow_api.id(3680609784461279)
,p_prompt=>'<b>Link Type</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'STATIC2:Document or Other Link;0,Note (MOS);1'
,p_lov_display_null=>'YES'
,p_lov_null_text=>'- Select Link Type -'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cAttributes=>'nowrap'
,p_tag_attributes=>'style="width:175px;font-size:12px;"'
,p_label_alignment=>'RIGHT'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'Link types in this context are either MOS Notes or Documents which would be externally available to customers and are intended to serve as references for them to use in order to get more details on the subject of the audit check.  It is better to kee'
||'p the information in the On Failure Comment field brief and refer the customer to living documents that they can refer to.  These links are transferred to the customer via the Exachk driver files and will appear in the report for any findings which d'
||'o NOT pass the audit.',
'',
'The user should verify that whatever documents entered here are externally available before entering them here.  If an internal document is referenced the customer will not be able to access it and it will just confuse them or cause a support issue.'))
,p_attribute_01=>'SUBMIT'
,p_attribute_03=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3643813973057810)
,p_name=>'P1037_LINK_NAME'
,p_item_sequence=>270
,p_item_plug_id=>wwv_flow_api.id(3680609784461279)
,p_prompt=>'<b>&P1037_LINK_NAME_LABEL.</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:400px;font-size:12px;"'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>'P1037_LINK_TYPE'
,p_display_when_type=>'ITEM_IS_NOT_NULL'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3644014392072755)
,p_name=>'P1037_LINK_NAME_LABEL'
,p_item_sequence=>290
,p_item_plug_id=>wwv_flow_api.id(3680609784461279)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3645614534163881)
,p_name=>'P1037_LINK'
,p_item_sequence=>310
,p_item_plug_id=>wwv_flow_api.id(3680609784461279)
,p_prompt=>'<b>URL</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>2000
,p_cHeight=>1
,p_cAttributes=>'nowrap="nowrap"'
,p_tag_attributes=>'style="width:750px;font-size:12px;"'
,p_colspan=>1
,p_grid_column=>1
,p_label_alignment=>'RIGHT'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_LINK_TYPE = 0 then',
' return TRUE;',
'else',
' return FALSE;',
'end if;'))
,p_display_when_type=>'FUNCTION_BODY'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>'Copy and paste the valid URL of the referenced document including the http://.  This URL will be transferred to the customer for thwem to use to reference the document.'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3646014472239847)
,p_name=>'P1037_NOTE_TITLE'
,p_item_sequence=>300
,p_item_plug_id=>wwv_flow_api.id(3680609784461279)
,p_prompt=>'<b>Note Title</b>'
,p_post_element_text=>'(copy/paste from MOS)'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:750px;font-size:12px;"'
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>'P1037_LINK_TYPE'
,p_display_when2=>'1'
,p_display_when_type=>'VAL_OF_ITEM_IN_COND_EQ_COND2'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3660519902045175)
,p_name=>'P1037_EDIT_SF_LINK_ID'
,p_item_sequence=>360
,p_item_plug_id=>wwv_flow_api.id(3680609784461279)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3662111472337777)
,p_name=>'P1037_CANDIDATE_SYSTEMS'
,p_item_sequence=>90
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>Candidate Systems</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select  decode(cand_sys_name,''RACCHECK'',''RAC'',',
'''SIDB'',''SINGLE INSTANCE'',',
'''X2-2'',''EXADATA X2-2'',',
'''X3-2'',''EXADATA X3-2'',',
'''X4-2'',''EXADATA X4-2'',',
'''X5-2'',''EXADATA X5-2'',',
'''X2-8'',''EXADATA X2-8'',',
'''X3-8'',''EXADATA X3-8'',',
'''X4-8'',''EXADATA X4-8'',',
'''X5-8'',''EXADATA X5-8'',',
'''DBM'',''EXADATA V2'',cand_sys_name) display_value,trim(cand_sys_id)  return_value  from RCA13_ORACHK_CAND_SYS order by cand_sys_name;'))
,p_cSize=>150
,p_cMaxlength=>4000
,p_cHeight=>10
,p_tag_attributes=>'style="width:150px;height:90px;font-size:12px;"'
,p_new_grid=>true
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52726708281169559)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>Candidate System:</b><br><br>',
'If the system ORAchk is being run on is either a RAC or non-RAC database system, then database or Grid Infrastructure checks can be run.  However some checks might be specific to a RAC system while others may only apply to non-RAC systems.   In many '
||'cases a check might apply to both.  Specify whether your check applies to RAC, non-RAC or both using the shuttle widget.<br><br>'))
,p_attribute_01=>'ALL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3687912772922775)
,p_name=>'P1037_SF_LINK_ID_WHEN_LOADED'
,p_item_sequence=>340
,p_item_plug_id=>wwv_flow_api.id(3637312324802876)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3699207376822406)
,p_name=>'P1037_LINK_EDIT_MODE'
,p_item_sequence=>350
,p_item_plug_id=>wwv_flow_api.id(3680609784461279)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3740505216483731)
,p_name=>'P1037_DOC_ID'
,p_item_sequence=>370
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3789722622464880)
,p_name=>'P1037_SF_LINK_ID'
,p_item_sequence=>320
,p_item_plug_id=>wwv_flow_api.id(3637312324802876)
,p_prompt=>'<b>Documents/Notes</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select ',
'  name||''-''||link display_value,sf_link_id return_value from ',
'  RCA13_ORACHK_link '))
,p_cSize=>150
,p_cMaxlength=>4000
,p_cHeight=>8
,p_tag_attributes=>'style="width:1000;width:100%;min-width:500px;font-size:12px;"'
,p_new_grid=>true
,p_colspan=>2
,p_rowspan=>1
,p_label_alignment=>'ABOVE'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE is not null then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52727411791198868)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>References(Documents/Notes):</b><br><br>',
'You can specify references that back up or further explain the rationale or that explain in more detail the Action / Repair.  These references can be MOS Notes, external product documentation websites, or even customer authored reference documents no'
||'t otherwise accessible to other Oracle customers, eg., customer build or standards documents.  These references will be converted to clickable HTML links.<br><br>',
'',
'For MOS Notes enter the note number and title.  For other references enter the document title and URL.  As references are added hey will be listed in the left panel of the shuttle widget and can be selected again later if applicable to other checks. '
||' If new references are added they will be applied to the current check, appear in the right shuttle pane for the current check, and also be added to the list of available references for future selection as appropriate.<br><br>'))
,p_attribute_01=>'MOVE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3854417233091146)
,p_name=>'P1037_HOLD'
,p_item_sequence=>10.5
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_prompt=>'<b>On Hold</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'STATIC2:NO;0,YES;1'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:125px;font-size:12px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'')',
'then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;',
''))
,p_display_when_type=>'FUNCTION_BODY'
,p_field_template=>wwv_flow_api.id(52726708281169559)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<b>On_Hold </b>-This will disable the check from auditing.',
'<br><br>'))
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3871601605308651)
,p_name=>'P1037_LOADING_AC'
,p_item_sequence=>380
,p_item_plug_id=>wwv_flow_api.id(3450424833104426)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3914221079559814)
,p_name=>'REMOVE_SF_LINK'
,p_item_sequence=>390
,p_item_plug_id=>wwv_flow_api.id(3637312324802876)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(5662716387789239)
,p_name=>'P1037_USER_COMMENTS'
,p_item_sequence=>220
,p_item_plug_id=>wwv_flow_api.id(3637312324802876)
,p_prompt=>'<b>User Comments</b>'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>80
,p_cMaxlength=>4000
,p_cHeight=>4
,p_tag_attributes=>'style="width:500px;font-size:12px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(52727411791198868)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<br>The user comment field applies only to the GUI and doesn''t appear anywhere in the xmlgeneration/html report.<br>',
'<br>',
'Here''s an example of some of the types of entries I place in this field:',
'<br>',
'10/20/15 VW: removed edvm module<br>',
'10/21/15 VW: cloned from TSO check<br>',
'07/22/15 VW: removed the incorrect reference to MOS 1588546.1<br>',
'07/01/15 VW:  cloned from the apm rewrite check<br>',
'<br>',
'The intent here is to provide a trail of breadcrumbs for who did what when.  In this case, the check was a clone of a clone, which is not easy to see in the audit records.<br>',
''))
,p_attribute_01=>'Y'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(3481614213605836)
,p_computation_sequence=>3
,p_computation_item=>'P1037_ACTION_LABEL'
,p_computation_point=>'AFTER_HEADER'
,p_computation_type=>'FUNCTION_BODY'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE = ''SQL'' then',
'  return ''SQL Statement:'';',
'elsif :P1037_ACTION_TYPE = ''OS'' then',
'  return ''OS Command'';',
'end if;'))
,p_compute_when=>'P1037_ACTION_TYPE'
,p_compute_when_text=>'OS:SQL'
,p_compute_when_type=>'VALUE_OF_ITEM_IN_CONDITION_IN_COLON_DELIMITED_LIST'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(3484717274119118)
,p_computation_sequence=>6
,p_computation_item=>'P1037_ACTION_REPORT_LABEL'
,p_computation_point=>'AFTER_HEADER'
,p_computation_type=>'FUNCTION_BODY'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE = ''SQL'' then',
'  return ''SQL Statement for report:'';',
'elsif :P1037_ACTION_TYPE = ''OS'' then',
'  return ''OS Command for report'';',
'end if;'))
,p_compute_when=>'P1037_ACTION_TYPE'
,p_compute_when_text=>'OS:SQL'
,p_compute_when_type=>'VALUE_OF_ITEM_IN_CONDITION_IN_COLON_DELIMITED_LIST'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(3644419340085650)
,p_computation_sequence=>10
,p_computation_item=>'P1037_LINK_NAME_LABEL'
,p_computation_type=>'QUERY'
,p_computation=>'select decode(:P1037_LINK_TYPE,0,''Document/Other Title'',1,''Note Number'') from dual'
,p_compute_when=>'P1037_LINK_TYPE'
,p_compute_when_type=>'ITEM_IS_NOT_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(3647826259325528)
,p_computation_sequence=>20
,p_computation_item=>'P1037_LINK_NAME'
,p_computation_type=>'FUNCTION_BODY'
,p_computation=>'return trim(:P1037_LINK_NAME);'
,p_compute_when=>'P1037_LINK_NAME'
,p_compute_when_type=>'ITEM_IS_NOT_NULL'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(3764427041783836)
,p_computation_sequence=>30
,p_computation_item=>'P1037_ACTION'
,p_computation_type=>'FUNCTION_BODY'
,p_computation=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'  theString varchar2(32000) := :P1037_ACTION;',
'begin',
'  --strip off any trailing "/" characters, LFs, CRs',
'  --this might be overkill but trying to prevent any from getting',
'  --through as they might cause a problems for the script at runtime',
'  --the script adds the / needed for executing PL/SQL blocks',
'  --SQL statements shouldn''t end in "/", LF ot CR anyway',
'  theString := rtrim(theString,''/'');',
'  theString := rtrim(theString,chr(10));',
'  theString := rtrim(theString,chr(13));',
'  theString := rtrim(theString,''/'');',
'  theString := rtrim(theString,chr(10));',
'  theString := rtrim(theString,chr(13));',
'  return theString;',
'end;',
'  '))
,p_compute_when=>'P1037_ACTION_TYPE'
,p_compute_when_text=>'SQL'
,p_compute_when_type=>'VALUE_OF_ITEM_IN_CONDITION_IN_COLON_DELIMITED_LIST'
);
wwv_flow_api.create_page_computation(
 p_id=>wwv_flow_api.id(3768228425998556)
,p_computation_sequence=>40
,p_computation_item=>'P1037_START_NEW'
,p_computation_point=>'BEFORE_HEADER'
,p_computation_type=>'STATIC_ASSIGNMENT'
,p_computation=>'New'
,p_compute_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' cnt number;',
'begin',
' if  :P1037_CHECK_ID is not null then',
'   select count(*) into cnt from RCA13_ORACHK_audit_checks where check_id = :P1037_CHECK_ID;',
'   if cnt = 0 then ',
'     :P1037_CHECK_ID := NULL;',
'   :P1037_DOC_ID  := NULL;',
'     return true;',
'   else',
'     return false;',
'   end if;',
' else',
'   return FALSE;',
' end if;',
'end;'))
,p_compute_when_type=>'FUNCTION_BODY'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(3688932476080698)
,p_validation_name=>'P1037_LINK_NAME'
,p_validation_sequence=>30
,p_validation=>'P1037_LINK_NAME'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'Required'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(3659127654564213)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3643813973057810)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(3741925271006073)
,p_validation_name=>'P1037_ACTION_TYPE'
,p_validation_sequence=>50
,p_validation=>'P1037_ACTION_TYPE'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'Please Select ActionType'
,p_always_execute=>'N'
,p_when_button_pressed=>wwv_flow_api.id(3629510041537346)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3452629357684678)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(3742101117017282)
,p_validation_name=>'P1037_AUDIT_CHECK_NAME'
,p_validation_sequence=>60
,p_validation=>'P1037_AUDIT_CHECK_NAME'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'Please Enter Audit Check Name'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE is not null  then',
'return TRUE;',
'else',
'return FALsE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3629510041537346)
,p_associated_item=>wwv_flow_api.id(3636210807709809)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4187922098575872)
,p_validation_name=>'P1037_ORACLE_VERSION'
,p_validation_sequence=>61
,p_validation=>'P1037_ORACLE_VERSION'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must select atleast one version'
,p_always_execute=>'Y'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3629510041537346)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3456012578905126)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(3742429991034321)
,p_validation_name=>'P1037_ACTION'
,p_validation_sequence=>70
,p_validation=>'P1037_ACTION'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must have Action'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_AUDIT_CHECK_NAME is not null  then',
'return TRUE;',
'else',
'return FALsE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3629510041537346)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3478414996438401)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(3743230804094678)
,p_validation_name=>'P1037_ACTION_REPORT'
,p_validation_sequence=>90
,p_validation=>'P1037_ACTION_REPORT'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must have Action Report'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3629510041537346)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3484932358127357)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
end;
/
begin
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4069713023121643)
,p_validation_name=>'P1037_HOLD'
,p_validation_sequence=>100
,p_validation=>'P1037_ACTION_TYPE'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'Please select On hold'
,p_always_execute=>'N'
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3854417233091146)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4069919050134003)
,p_validation_name=>'P1037_PLATFORMS'
,p_validation_sequence=>110
,p_validation=>'P1037_PLATFORMS'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must select atleast one platform'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_AUDIT_CHECK_NAME is not null  then',
'return TRUE;',
'else',
'return FALsE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3629510041537346)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3458203409046133)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4195104751520789)
,p_validation_name=>'P1037_CANDIDATE_SYSTEMS'
,p_validation_sequence=>111
,p_validation=>'P1037_CANDIDATE_SYSTEMS'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must select Candidate Systems'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3629510041537346)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3662111472337777)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4172711878321472)
,p_validation_name=>'P1037_COMPARISON_OPERATOR'
,p_validation_sequence=>120
,p_validation=>'P1037_COMPARISON_OPERATOR'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must select Operator String'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3629510041537346)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3475027512627429)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4174415106593488)
,p_validation_name=>'P1037_ALERT_LEVEL'
,p_validation_sequence=>130
,p_validation=>'P1037_ALERT_LEVEL'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must select Alert Level'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3629510041537346)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3489031489401177)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4174729112602096)
,p_validation_name=>'P1037_PASS_MSG'
,p_validation_sequence=>140
,p_validation=>'P1037_PASS_MSG'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must have Pass Message'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3629510041537346)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3491024920551059)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4177211667111557)
,p_validation_name=>'P1037_FAIL_MSG'
,p_validation_sequence=>150
,p_validation=>'P1037_FAIL_MSG'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You Must have Fail Message'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3629510041537346)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3491211981557073)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4182924008347039)
,p_validation_name=>'P1037_ACTION_TYPE'
,p_validation_sequence=>160
,p_validation=>'P1037_ACTION_TYPE'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'Action Type should not be NULL'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3656828122498136)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3452629357684678)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4184610804413925)
,p_validation_name=>'P1037_AUDIT_CHECK_NAME'
,p_validation_sequence=>170
,p_validation=>'P1037_AUDIT_CHECK_NAME'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You Must have the Check Name'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3656828122498136)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3636210807709809)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4185024378422843)
,p_validation_name=>'P1037_ACTION_REPORT'
,p_validation_sequence=>180
,p_validation=>'P1037_ACTION_REPORT'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must have the action report.'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3656828122498136)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3484932358127357)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4185232129434505)
,p_validation_name=>'P1037_ACTION'
,p_validation_sequence=>190
,p_validation=>'P1037_ACTION'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must have the action'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3656828122498136)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3478414996438401)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4185629098451058)
,p_validation_name=>'P1037_ORACLE_PLATFORM'
,p_validation_sequence=>210
,p_validation=>'P1037_ORACLE_VERSION'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must select atleast one platform'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3656828122498136)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3458203409046133)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4186202534508900)
,p_validation_name=>'P1037_COMPARISON_OPERATOR'
,p_validation_sequence=>220
,p_validation=>'P1037_COMPARISON_OPERATOR'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You Must select the comparison operator'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3656828122498136)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3475027512627429)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4186423657514335)
,p_validation_name=>'P1037_ALERT_LEVEL'
,p_validation_sequence=>230
,p_validation=>'P1037_ALERT_LEVEL'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must select the Alert Level'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3656828122498136)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3489031489401177)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4186610286520546)
,p_validation_name=>'P1037_PASS_MSG'
,p_validation_sequence=>240
,p_validation=>'P1037_PASS_MSG'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must have the Success Message'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3656828122498136)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3491024920551059)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4188525511619865)
,p_validation_name=>'P1037_ORACLE_VERSION'
,p_validation_sequence=>250
,p_validation=>'P1037_ORACLE_VERSION'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must select atleast one version'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3656828122498136)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3456012578905126)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4195411639532713)
,p_validation_name=>'P1037_CANDIDATE_SYSTEMS'
,p_validation_sequence=>260
,p_validation=>'P1037_CANDIDATE_SYSTEMS'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must select Candidate Systems'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3656828122498136)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3662111472337777)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_validation(
 p_id=>wwv_flow_api.id(4195624517602754)
,p_validation_name=>'P1037_FAIL_MSG'
,p_validation_sequence=>270
,p_validation=>'P1037_FAIL_MSG'
,p_validation_type=>'ITEM_NOT_NULL'
,p_error_message=>'You must have Fail Message'
,p_always_execute=>'N'
,p_validation_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''SQL'',''OS'') then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_validation_condition_type=>'FUNCTION_BODY'
,p_when_button_pressed=>wwv_flow_api.id(3656828122498136)
,p_only_for_changed_rows=>'Y'
,p_associated_item=>wwv_flow_api.id(3491211981557073)
,p_error_display_location=>'INLINE_WITH_FIELD_AND_NOTIFICATION'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3605226092898597)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'SAVE AUDIT CHECK'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'  theArray    APEX_APPLICATION_GLOBAL.VC_ARR2;',
'  action varchar2(40);',
'  vcnt number;',
'  oldplist varchar2(4000);',
'  oldvlist varchar2(4000);',
'  olddbtype varchar2(4000);',
'  olddbrole varchar2(4000);',
'  olddbmode varchar2(4000);',
'  oldchklink varchar2(4000);',
'  tmp varchar2(4000);',
'begin ',
' ',
' :P1037_RETURN_VALUE := NULL; ',
'',
'select decode(:P1037_ALERT_LEVEL,''%null%'',NULL,:P1037_ALERT_LEVEL) into :P1037_ALERT_LEVEL from dual;',
'',
'if :P1037_CHECK_ID is null then',
'  action := ''INSERT'';',
'  --insert',
' insert into RCA13_ORACHK_audit_CHECKS(',
' AUDIT_CHECK_NAME,',
' ACTION_TYPE,',
' ON_HOLD,',
' PARAM_PATH,',
' COMMAND,',
' COMMAND_REPORT,',
' OPERATOR_STRING,',
' COMPARE_VALUE,',
' COMPONENT_DEPENDENCY,',
' ORACLE_HOME_TYPE,',
' ALERT_LEVEL,',
' PASS_MSG,',
' FAIL_MSG,',
' BENEFIT_IMPACT, ',
' RISK,',
' ACTION_REPAIR,',
' USER_COMMENTS,',
' CREATE_USER,',
' CREATE_DATE,',
' MODIFY_USER,',
' MODIFY_DATE)         ',
' VALUES',
'(:P1037_AUDIT_CHECK_NAME,',
':P1037_ACTION_TYPE,',
':P1037_HOLD,',
'''SQLCHECK''||PARAMPATHSEQ.NEXTVAL,',
':P1037_ACTION,',
':P1037_ACTION_REPORT,',
':P1037_COMPARISON_OPERATOR,',
':P1037_COMPARE_VALUE,',
':P1037_COMPONENT_DEPENDENCY,',
':P1037_ORACLE_HOME_PATH,',
':P1037_ALERT_LEVEL,',
'rtrim(:P1037_PASS_MSG),',
'rtrim(:P1037_FAIL_MSG),',
':P1037_BENEFIT_IMPACT,',
':P1037_RISK,		  ',
':P1037_ACTION_REPAIR,',
':P1037_USER_COMMENTS,',
':APP_USER,',
'SYSDATE, ',
':APP_USER,',
'SYSDATE)	',
'returning check_id into :P1037_CHECK_ID;',
'   ',
'  :P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_DATABASE_ROLE,''DB_ROLE'');',
'  :P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_DATABASE_TYPE,''DB_TYPE'');',
'	:P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_DATABASE_MODE,''DB_MODE'');',
'	:P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_CANDIDATE_SYSTEMS,''CAND_SYS'');	',
'	:P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_PLATFORMS,''PLATFORM'');',
'	:P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_ORACLE_VERSION,''VERSION'');',
'	:P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_SF_LINK_ID,''LINKS'');',
'   :P1037_RETURN_VALUE := NULL; --Don''t care above return values',
'',
'elsif :P1037_CHECK_ID is NOT null then',
'',
'  action := ''UPDATE'';',
'',
'update RCA13_ORACHK_audit_checks set',
'   action_type = :P1037_ACTION_TYPE,',
'   audit_check_name = :P1037_AUDIT_CHECK_NAME,',
'   on_hold = :P1037_HOLD,',
'   COMMAND = :P1037_ACTION,',
'   COMMAND_REPORT = :P1037_ACTION_REPORT,',
'   OPERATOR_STRING = :P1037_COMPARISON_OPERATOR,',
'   compare_value = :P1037_COMPARE_VALUE,',
'   component_dependency = :P1037_COMPONENT_DEPENDENCY,   ',
'   ORACLE_HOME_TYPE = :P1037_ORACLE_HOME_PATH,',
'   alert_level = :P1037_ALERT_LEVEL,	',
'   PASS_MSG = rtrim(:P1037_PASS_MSG),',
'   FAIL_MSG = rtrim(:P1037_FAIL_MSG),  				  ',
'   BENEFIT_IMPACT = rtrim(:P1037_BENEFIT_IMPACT), ',
'   RISK = :P1037_RISK,',
'   ACTION_REPAIR = :P1037_ACTION_REPAIR,   ',
'   USER_COMMENTS = :P1037_USER_COMMENTS,  ',
'   modify_user = :APP_USER,',
'   modify_date = sysdate',
'  where check_id = :P1037_CHECK_ID;',
'',
'    :P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_DATABASE_ROLE,''DB_ROLE'');',
'    :P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_DATABASE_TYPE,''DB_TYPE'');',
'	:P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_DATABASE_MODE,''DB_MODE'');',
'	:P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_CANDIDATE_SYSTEMS,''CAND_SYS'');	',
'	:P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_PLATFORMS,''PLATFORM'');',
'	:P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_ORACLE_VERSION,''VERSION'');',
'    :P1037_RETURN_VALUE := rca13_manage_audit_checks.update_audit_check_info(:P1037_CHECK_ID, :P1037_SF_LINK_ID,''LINKS'');',
'    :P1037_RETURN_VALUE := NULL; -- Don''t care above return values',
'',
'  --easiest just to delete these and re-insert them than to track the changes in state',
'  --delete from RCA13_ORACHK_CHECKS_PLATFORM where check_id = :P1037_CHECK_ID;',
'  --delete from RCA13_ORACHK_CHECKS_VERSION where check_id = :P1037_CHECK_ID;',
'  --delete from RCA13_ORACHK_AUDIT_CHECKS where check_id = :P1037_CHECK_ID;',
'  :p1037_doc_id := NULL;',
'end if;',
'',
'commit;',
'end;'))
,p_process_error_message=>'Unable to Save Audit Check.  Please try again.'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(3629510041537346)
,p_process_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE is null then',
' return FALSE;',
'end if;',
'return TRUE;'))
,p_process_when_type=>'FUNCTION_BODY'
,p_process_success_message=>'Audit Check Saved. '
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3688229420034606)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Add Link'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'',
'',
' sfLinkId varchar2(40);',
' ',
'begin',
'',
'  --prepopulate the SFLinkId',
'sfLinkId := sys_guid();',
'',
'--attach this link to the master link table',
'begin',
'',
' insert into RCA13_ORACHK_link (sf_link_id, name,link, type)',
'  values',
' (sfLinkId, :P1037_LINK_NAME,COALESCE(:P1037_LINK,:P1037_NOTE_TITLE), nvl2(:P1037_LINK,0,1));',
'exception when dup_val_on_index then null;',
'end;',
'',
'--attach this link to the current audit check',
'',
' begin ',
'  if :P1037_SF_LINK_ID is not null then',
'    :P1037_SF_LINK_ID := :P1037_SF_LINK_ID||'':''||sfLinkId;',
'  else',
'    :P1037_SF_LINK_ID := sfLinkId;',
' end if;',
'  exception when dup_val_on_index then null;',
' end;',
'',
'',
'',
':P1037_LINK_EDIT_MODE := 0;',
':P1037_EDIT_SF_LINK_ID := NULL;',
':P1037_LINK_TYPE := NULL;',
':P1037_LINK_NAME := NULL;',
':P1037_NOTE_TITLE := NULL;',
':P1037_LINK := NULL;',
':P1037_LINK_NAME_LABEL := NULL;',
'',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(3659127654564213)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3688431975044785)
,p_process_sequence=>40
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Save SF Link Edit'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'update RCA13_ORACHK_link set',
'  type = :P1037_LINK_TYPE,',
'  name = :P1037_LINK_NAME,',
'  --note_title = :P1037_NOTE_TITLE,',
'  --link = :P1037_LINK',
'  --link = nvl2(:P1037_LINK,:P1037_LINK,:P1037_NOTE_TITLE)',
'  --link = decode(:P1037_LINK_TYPE,0,:P1037_NOTE_TITLE,1,:P1037_LINK)',
' link = :P1037_LINK||:P1037_NOTE_TITLE',
'where sf_link_id = :P1037_EDIT_SF_LINK_ID;',
'',
':P1037_LINK_EDIT_MODE := 0;',
':P1037_EDIT_SF_LINK_ID := NULL;',
':P1037_LINK_TYPE := NULL;',
':P1037_LINK_NAME := NULL;',
':P1037_NOTE_TITLE := NULL;',
':P1037_LINK := NULL;',
':P1037_LINK_NAME_LABEL := NULL;'))
,p_process_error_message=>'Unable to save SF Link Edit '
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(3657003796510011)
,p_process_success_message=>'SF Link Edit Saved'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3866409802977335)
,p_process_sequence=>50
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'DELETE AUDIT CHECK'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'  theArray    APEX_APPLICATION_GLOBAL.VC_ARR2;',
'  action varchar2(40);',
'  vcnt number;',
'  oldplist varchar2(4000);',
'  oldvlist varchar2(4000);',
'  oldtvlist varchar2(4000);',
'  oldmlist varchar2(4000);',
'  oldproflist varchar2(4000);',
'  olddbtype varchar2(4000);',
'  olddbrole varchar2(4000);',
'  oldchklink varchar2(4000);',
'begin',
'delete from RCA13_ORACHK_AUDIT_CHECKS where check_id = :P1037_CHECK_ID;',
'delete from RCA13_ORACHK_CHECKS_VERSION where check_id = :P1037_CHECK_ID;',
'delete from RCA13_ORACHK_CHECKS_PLATFORM where check_id = :P1037_CHECK_ID;',
'delete from RCA13_ORACHK_CHECKS_DB_TYPES where check_id = :P1037_CHECK_ID;',
'delete from RCA13_ORACHK_CHECKS_DB_ROLES where check_id = :P1037_CHECK_ID;',
'delete from RCA13_ORACHK_CHECKS_DB_MODES where check_id = :P1037_CHECK_ID;',
'delete from RCA13_ORACHK_CHECKS_LINK where check_id = :P1037_CHECK_ID;',
'delete from RCA13_ORACHK_CHECKS_CAND_SYS where check_id = :P1037_CHECK_ID;',
'--this will initialize the form',
':P1037_CHECK_ID := NULL;',
':P1037_START_NEW := ''YES'';',
':P1037_DOC_ID  := NULL;',
'end;'))
,p_process_error_message=>'Unable to delete Audit Check.  Please try again.'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(3657503366528784)
,p_process_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_CHECK_ID is not null  then',
' return true;',
'end if;',
'return false;'))
,p_process_when_type=>'FUNCTION_BODY'
,p_process_success_message=>'Audit Check successfully deleted.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3897232004029812)
,p_process_sequence=>60
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'update visible data'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'',
'  theArray    APEX_APPLICATION_GLOBAL.VC_ARR2;',
'  vcnt number;',
'  oldplist varchar2(4000);',
'  oldvlist varchar2(4000);',
'  olddbtype varchar2(4000);',
'  olddbrole varchar2(4000);',
'  olddbmode varchar2(4000);',
'  oldchklink varchar2(4000);',
'begin',
'   SELECT LISTAGG(distribution_os_id, '':'') WITHIN GROUP (ORDER BY distribution_os_id) into oldplist',
'	FROM RCA13_ORACHK_CHECKS_PLATFORM WHERE check_id = :P1037_CHECK_ID;',
'	SELECT LISTAGG(version_id, '':'') WITHIN GROUP (ORDER BY version_id) into oldvlist',
'	FROM RCA13_ORACHK_CHECKS_VERSION WHERE check_id = :P1037_CHECK_ID;	',
'        SELECT LISTAGG(a.DATABASE_TYPE_id,'':'') WITHIN GROUP (ORDER BY b.DATABASE_TYPE_ID) into olddbtype ',
'        FROM RCA13_ORACHK_DB_TYPES_MASTER a,RCA13_ORACHK_CHECKS_DB_TYPES b where a.DATABASE_TYPE_ID = b.DATABASE_TYPE_ID ',
'        and b.check_id = :P1037_CHECK_ID;',
'        SELECT LISTAGG(a.DATABASE_ROLE_id,'':'') WITHIN GROUP (ORDER BY b.DATABASE_ROLE_ID) into olddbrole ',
'        FROM RCA13_ORACHK_DB_ROLES_MASTER a,RCA13_ORACHK_CHECKS_DB_ROLES b where a.DATABASE_ROLE_ID = b.DATABASE_ROLE_ID ',
'        and b.check_id = :P1037_CHECK_ID;',
'        SELECT LISTAGG(a.DATABASE_mode_id,'':'') WITHIN GROUP (ORDER BY b.DATABASE_mode_id) into olddbmode ',
'        FROM RCA13_ORACHK_DB_MODES_MASTER a,RCA13_ORACHK_CHECKS_DB_MODES b where a.DATABASE_mode_id = b.DATABASE_mode_id ',
'        and b.check_id = :P1037_CHECK_ID;',
'        SELECT LISTAGG(SF_LINK_ID,'':'') WITHIN GROUP (ORDER BY sf_link_id) into oldchklink',
' FROM RCA13_ORACHK_CHECKS_LINK  where check_id = :P1037_CHECK_ID;',
'	',
'	  update RCA13_ORACHK_AUDIT_CHECKS set',
'   ALERT_LEVEL = :P1037_ALERT_LEVEL,    ',
'   PASS_MSG = rtrim(:P1037_PASS_MSG),',
'   FAIL_MSG = rtrim(:P1037_FAIL_MSG),',
'   BENEFIT_IMPACT = :P1037_BENEFIT_IMPACT,',
'   RISK = :P1037_RISK,',
'   ACTION_REPAIR = :P1037_ACTION_REPAIR,',
'   USER_COMMENTS = :P1037_USER_COMMENTS,',
'   modify_user = :APP_USER,',
'   modify_date = sysdate   ',
'  where check_id = :P1037_CHECK_ID;',
'',
'',
'  if nvl(:P1037_SF_LINK_ID,''NONE'') != nvl(:P1037_SF_LINK_ID_WHEN_LOADED,''NONE'') then',
'    delete from RCA13_ORACHK_CHECKS_LINK where check_id = :P1037_CHECK_ID;',
'',
'    theArray := APEX_UTIL.STRING_TO_TABLE(:P1037_SF_LINK_ID);',
'    for i in 1..theArray.count loop',
'      begin',
'        insert into RCA13_ORACHK_CHECKS_LINK values (:P1037_CHECK_ID,theArray(i));',
'      exception when dup_val_on_index then null;',
'      end;',
'    end loop;',
'  end if; ',
'end;'))
,p_process_error_message=>'Unable to update Report Messages/Rationale Data'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(3656828122498136)
,p_process_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_ACTION_TYPE in (''OS'',''SQL'') and :P1037_check_id is not null then',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_process_when_type=>'FUNCTION_BODY'
,p_process_success_message=>'Report Messages/Rationale Data updated. Please click on Save Check to complete creation of new check'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3598731905644863)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'NEW FORM'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
':P1037_ACTION_TYPE := NULL;',
':P1037_AUDIT_CHECK_NAME := NULL;',
':P1037_ACTION := NULL;',
':P1037_ACTION_LABEL := NULL;',
':P1037_ORACLE_VERSION := NULL;',
':P1037_ACTION_REPORT := NULL;',
':P1037_ACTION_REPORT_LABEL := NULL;',
':P1037_PLATFORMS := NULL;',
':P1037_CANDIDATE_SYSTEMS := NULL;',
':P1037_COMPONENT_DEPENDENCY := NULL;',
':P1037_ORACLE_HOME_PATH := NULL;',
':P1037_DATABASE_TYPE := NULL;',
':P1037_DATABASE_ROLE := NULL;',
':P1037_DATABASE_MODE := NULL;',
':P1037_COMPARISON_OPERATOR := NULL;',
':P1037_COMPARE_VALUE := NULL;',
':P1037_CHECK_ID := NULL;',
':P1037_ALERT_LEVEL := NULL;',
':P1037_PASS_MSG := NULL;',
':P1037_FAIL_MSG := NULL;',
':P1037_BENEFIT_IMPACT := NULL;',
':P1037_RISK := NULL;',
':P1037_ACTION_REPAIR := NULL;',
':P1037_SF_LINK_ID := NULL;',
':P1037_LINK_TYPE := NULL;',
':P1037_DOC_ID  := NULL;',
':P1037_NOTE_TITLE := NULL;',
':P1037_LINK := NULL;'))
,p_process_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_CHECK_ID is null and :P1037_START_NEW = ''YES'' then',
'  --reset P1037_START_NEW at this point',
'  :P1037_START_NEW := NULL;',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_process_when_type=>'FUNCTION_BODY'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3864319395847754)
,p_process_sequence=>10
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'CLEAR FORM'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
':P1037_ACTION_TYPE := NULL;',
':P1037_AUDIT_CHECK_NAME := NULL;',
':P1037_HOLD := NULL;',
':P1037_ACTION := NULL;',
':P1037_ACTION_LABEL := NULL;',
':P1037_ORACLE_VERSION := NULL;',
':P1037_ACTION_REPORT := NULL;',
':P1037_ACTION_REPORT_LABEL := NULL;',
':P1037_PLATFORMS := NULL;',
':P1037_CANDIDATE_SYSTEMS := NULL;',
':P1037_COMPONENT_DEPENDENCY := NULL;',
':P1037_ORACLE_HOME_PATH := NULL;',
':P1037_DATABASE_TYPE := NULL;',
':P1037_DATABASE_ROLE := NULL;',
':P1037_DATABASE_MODE := NULL;',
':P1037_COMPARISON_OPERATOR := NULL;',
':P1037_COMPARE_VALUE := NULL;',
':P1037_CHECK_ID := NULL;',
':P1037_ALERT_LEVEL := NULL;',
':P1037_PASS_MSG := NULL;',
':P1037_FAIL_MSG := NULL;',
':P1037_BENEFIT_IMPACT := NULL;',
':P1037_RISK := NULL;',
':P1037_ACTION_REPAIR := NULL;',
':P1037_SF_LINK_ID := NULL;',
':P1037_LINK_TYPE := NULL;',
':P1037_DOC_ID  := NULL;'))
,p_process_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_CHECK_ID is null and :P1037_START_NEW = ''YES'' then',
'  --reset P1037_START_NEW at this point',
'  :P1037_START_NEW := NULL;',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_process_when_type=>'FUNCTION_BODY'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3660704347175207)
,p_process_sequence=>20
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'REMOVE_SF_LINK'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'delete from RCA13_ORACHK_checks_link where sf_link_id = :REMOVE_SF_LINK and check_id = :P1037_CHECK_ID;',
'COMMIT;',
'delete RCA13_ORACHK_link where sf_link_id = :REMOVE_SF_LINK;',
'COMMIT;',
':REMOVE_SF_LINK := NULL;'))
,p_process_when=>'REMOVE_SF_LINK'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3660915653244749)
,p_process_sequence=>20
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Load SF Link for Edit'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select ',
'  type,',
'  name,',
'  decode(type,0,Link,1,null),',
'  decode(type,0,null,1,link),',
'  decode(type,0,''Document/Other Title'',1,''Note'') name_label',
'into',
'  :P1037_LINK_TYPE,',
'  :P1037_LINK_NAME,',
'  :P1037_LINK,',
'  :P1037_NOTE_TITLE,',
'  :P1037_LINK_NAME_LABEL',
'from ',
'  RCA13_ORACHK_link',
'where',
'  sf_link_id = :P1037_EDIT_SF_LINK_ID;'))
,p_process_when=>'P1037_EDIT_SF_LINK_ID'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3868319721096629)
,p_process_sequence=>60
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'LOAD AUDIT CHECK'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'verStr varchar2(32512);',
'  candsysstr varchar2(32512);',
'  platformstr varchar2(32512);',
'  linkstr varchar2(32512);',
'  dbmodestr varchar2(32512);',
'  dbrolestr varchar2(32512);',
'  dbtypestr varchar2(32512);',
' ',
'  cursor version is ',
'    select version_id from RCA13_ORACHK_CHECKS_VERSION where check_id = :P1037_CHECK_ID;',
'',
'  cursor candsys is ',
'    select CAND_SYS_ID from RCA13_ORACHK_CHECKS_CAND_SYS where check_id = :P1037_CHECK_ID;',
'',
'  cursor platform is ',
'    select DISTRIBUTION_OS_ID from RCA13_ORACHK_CHECKS_PLATFORM where check_id = :P1037_CHECK_ID;',
'',
'  cursor link is ',
'    select sf_link_id from RCA13_ORACHK_CHECKS_LINK where check_id = :P1037_CHECK_ID;',
'',
'  cursor dbmode is ',
'    select DATABASE_MODE_ID from RCA13_ORACHK_CHECKS_DB_MODES where check_id = :P1037_CHECK_ID;',
'	',
'  cursor dbrole is ',
'    select DATABASE_ROLE_ID from RCA13_ORACHK_CHECKS_DB_ROLES where check_id = :P1037_CHECK_ID;',
'			',
'  cursor dbtype is ',
'    select DATABASE_TYPE_ID from RCA13_ORACHK_CHECKS_DB_TYPES where check_id = :P1037_CHECK_ID;',
'	',
'  ',
'begin',
' ',
'select ',
' AUDIT_CHECK_NAME,',
' ACTION_TYPE,',
' ON_HOLD,',
' COMMAND,',
' COMMAND_REPORT,',
' OPERATOR_STRING,',
' COMPARE_VALUE,',
' COMPONENT_DEPENDENCY,',
' ORACLE_HOME_TYPE,',
' ALERT_LEVEL,',
' PASS_MSG,',
' FAIL_MSG,',
' BENEFIT_IMPACT, ',
' RISK,',
' ACTION_REPAIR,',
'USER_COMMENTS',
'into',
':P1037_AUDIT_CHECK_NAME,',
':P1037_ACTION_TYPE,',
':P1037_HOLD,',
':P1037_ACTION,',
':P1037_ACTION_REPORT,',
':P1037_COMPARISON_OPERATOR,',
':P1037_COMPARE_VALUE,',
':P1037_COMPONENT_DEPENDENCY,',
':P1037_ORACLE_HOME_PATH,',
':P1037_ALERT_LEVEL,',
':P1037_PASS_MSG,',
':P1037_FAIL_MSG,',
':P1037_BENEFIT_IMPACT,',
':P1037_RISK,		  ',
':P1037_ACTION_REPAIR,',
':P1037_USER_COMMENTS',
'from ',
'  RCA13_ORACHK_AUDIT_CHECKS',
'where',
'  CHECK_ID = :P1037_CHECK_ID;',
'',
' ',
'for rec in version loop',
'  verStr := verStr || rec.version_id || '':'';',
'end loop;',
'',
'for rec in candsys loop',
'  candsysStr := candsysStr || rec.CAND_SYS_ID || '':'';',
'end loop;',
'',
'',
'for rec in platform loop',
'  platformStr := platformStr || rec.DISTRIBUTION_OS_ID || '':'';',
'end loop;',
'',
'for rec in link loop',
'  linkStr := linkStr || rec.sf_link_id || '':'';',
'end loop;',
'',
'for rec in dbmode loop',
'  dbmodeStr := dbmodeStr || rec.DATABASE_MODE_ID || '':'';',
'end loop;',
'',
'for rec in dbrole loop',
'  dbroleStr := dbroleStr || rec.DATABASE_ROLE_ID || '':'';',
'end loop;',
'',
'for rec in dbtype loop',
'  dbtypeStr := dbtypeStr || rec.DATABASE_TYPE_ID || '':'';',
'end loop;',
'',
'--Load versions',
'for rec3 in ( select listagg(version_id,'':'') within group (order by version_id ) version from RCA13_ORACHK_CHECKS_VERSION',
'              where check_id = :P1037_CHECK_ID ) loop',
' :P1037_ORACLE_VERSION := rec3.version ;',
'end loop;',
'',
'--Load candidate systems',
'for rec3 in ( select listagg(CAND_SYS_ID,'':'') within group (order by CAND_SYS_ID ) candsys from RCA13_ORACHK_CHECKS_CAND_SYS',
'              where check_id = :P1037_CHECK_ID ) loop',
' :P1037_CANDIDATE_SYSTEMS := rec3.candsys ;',
'end loop;',
'',
'',
'--Load db roles',
'for rec3 in ( select listagg(database_role_id,'':'') within group (order by database_role_id ) dbrol from RCA13_ORACHK_CHECKS_DB_ROLES ',
'              where check_id = :P1037_CHECK_ID ) loop',
' :P1037_DATABASE_ROLE := rec3.dbrol;',
'end loop;',
'',
'--Load db modes',
'for rec3 in ( select listagg(database_mode_id,'':'') within group (order by database_mode_id ) dbmod from RCA13_ORACHK_CHECKS_DB_MODES ',
'              where check_id = :P1037_CHECK_ID ) loop',
' :P1037_DATABASE_MODE := rec3.dbmod;',
'end loop;',
'',
'--Load db types',
'for rec3 in ( select listagg(database_type_id,'':'') within group (order by database_type_id ) dbTyp from RCA13_ORACHK_CHECKS_DB_TYPES',
'              where check_id = :P1037_CHECK_ID ) loop',
' :P1037_DATABASE_TYPE := rec3.dbTyp;',
'end loop;',
'',
'--Load platforms',
'for rec3 in ( select listagg(DISTRIBUTION_OS_ID,'':'') within group (order by DISTRIBUTION_OS_ID ) plat from RCA13_ORACHK_CHECKS_PLATFORM',
'              where check_id = :P1037_CHECK_ID ) loop',
' :P1037_PLATFORMS := rec3.plat;',
'end loop;',
'',
'--Load links',
'for rec3 in ( select listagg(sf_link_id,'':'') within group (order by sf_link_id ) lks from RCA13_ORACHK_CHECKS_LINK',
'              where check_id = :P1037_CHECK_ID ) loop',
' :P1037_SF_LINK_ID := rec3.lks;',
'end loop;',
'',
'',
':P1037_ORACLE_VERSION := rtrim(verStr,'':'');',
':P1037_CANDIDATE_SYSTEMS := rtrim(candsysStr,'':'');',
':P1037_DATABASE_ROLE := rtrim(dbroleStr,'':'');',
':P1037_DATABASE_MODE := rtrim(dbmodeStr,'':'');',
':P1037_DATABASE_TYPE := rtrim(dbTypeStr,'':'');',
':P1037_PLATFORMS := rtrim(platformstr,'':'');',
':P1037_SF_LINK_ID := rtrim(linkStr,'':'');',
':P1037_LOADING_AC := 0;',
':P1037_DOC_ID := NULL;',
':FILE_ID := NULL;',
':P1037_SF_LINK_ID_WHEN_LOADED := :P1037_SF_LINK_ID;',
'end;'))
,p_process_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_CHECK_ID is not null and :P1037_LOADING_AC = 1 then',
'  return true;',
'else',
' return false;',
'end if;'))
,p_process_when_type=>'FUNCTION_BODY'
);
end;
/
begin
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3597803976570542)
,p_process_sequence=>10
,p_process_point=>'ON_SUBMIT_BEFORE_COMPUTATION'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Set Up to New Form'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
':P1037_CHECK_ID := NULL;',
':P1037_START_NEW := ''YES'';'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(3629111510518833)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3688032396950291)
,p_process_sequence=>20
,p_process_point=>'ON_SUBMIT_BEFORE_COMPUTATION'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Cancel SF Link Edit'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
':P1037_LINK_EDIT_MODE := 0;',
':P1037_EDIT_SF_LINK_ID := NULL;',
':P1037_LINK_TYPE := NULL;',
':P1037_LINK_NAME := NULL;',
':P1037_NOTE_TITLE := NULL;',
':P1037_LINK := NULL;',
':P1037_LINK_NAME_LABEL := NULL;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(3657228384517115)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3866227061878292)
,p_process_sequence=>50
,p_process_point=>'ON_SUBMIT_BEFORE_COMPUTATION'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'P1037_CLEAR_FORM'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
':P1037_CHECK_ID := NULL;',
':P1037_START_NEW := ''YES'';'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(3862123458792127)
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3897631058086369)
,p_process_sequence=>70
,p_process_point=>'ON_SUBMIT_BEFORE_COMPUTATION'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'P1037_CLONE_FORM'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
':P1037_CHECK_ID := NULL;',
':P1037_AUDIT_CHECK_NAME := NULL;'))
,p_process_error_message=>'Unable to save. Please enter unique check name'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(3656513100484356)
);
end;
/
prompt --application/pages/page_01038
begin
wwv_flow_api.create_page(
 p_id=>1038
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'View and Manage Audit Checks'
,p_page_mode=>'NORMAL'
,p_step_title=>'View and Manage Audit Checks'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function selectAllFun(obj) {',
' $(''[name="f01"]'').each( function() {',
'        if ( $(obj).attr(''checked'') ) {',
'            $(this).attr(''checked'',true);',
'        }  ',
'        else {',
'           $(this).attr(''checked'',false);',
'        }',
' });',
'}',
'',
'',
'',
'function open_dialog (v1) ',
'{',
'  if ( !  document.getElementById(v1+''_INFO'').innerHTML )',
'  {',
'    var get = new htmldb_Get(null, &APP_ID., ''APPLICATION_PROCESS=GET_CHECK_INFO'', &APP_PAGE_ID.);',
'    get.add(''G_CID_4INFO'' , v1);',
'    gReturn = get.get();',
'    document.getElementById(v1+''_INFO'').innerHTML = gReturn;',
'    get = null;',
'  }',
'  var w = $(window).width()-200;',
'  var h = $(window).height()-200;',
'  $(''#''+v1+''_INFO'').dialog({',
'      autoOpen: true,',
'      show: {',
'        effect: "blind",',
'        duration: 500',
'      },',
'      hide: {',
'        effect: "explode",',
'        duration: 500',
'      },',
'      width: w,',
'      height: h',
'    });',
'}'))
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'KAVITHA.DHANASEKAR'
,p_last_upd_yyyymmddhh24miss=>'20160506063115'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(4013732048962830)
,p_name=>'<b>Available Audit Checks</b>'
,p_region_name=>'AVAILABLE_CHECKS'
,p_template=>wwv_flow_api.id(6040713703191910732)
,p_display_sequence=>120
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style="overflow-x:auto;"'
,p_new_grid=>true
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'q varchar2(32000);',
'begin',
'if (:P1038_KEYWORD is not null) then',
'q :=''',
'select  check_id,audit_check_name acname,action_type,command,command_report,',
'decode(component_dependency,''''RDBMS'''',''''Database'''',''''CRS'''',''''Clusterware'''',component_dependency) component_dependency,',
'(select rca13_getplatformlist(check_id) from dual) pname,',
'(select rca13_getcandsyslist(check_id) from dual) cname, ',
'(select rca13_getversionlist(check_id) from dual) versions,',
'(select rca13_getdbtypelist(check_id) from dual) dbtype,',
'(select rca13_getdbrolelist(check_id) from dual) dbrole,',
'(select rca13_getdbmodelist(check_id) from dual) dbmode,',
'pass_msg,fail_msg,decode(on_hold,''''1'''',''''Yes'''',''''0'''',''''No'''') on_hold,operator_string,compare_value',
'from RCA13_ORACHK_audit_checks where ',
':P1038_KEYWORD is not null and ((upper(AUDIT_CHECK_NAME) like ''''%''''||upper(:P1038_KEYWORD)||''''%'''' OR AUDIT_CHECK_NAME like ''''%''''||(:P1038_KEYWORD)||''''%'''')',
'OR (upper(COMMAND) like ''''%''''||upper(:P1038_KEYWORD)||''''%'''' OR COMMAND like ''''%''''||(:P1038_KEYWORD)||''''%'''')',
'OR (upper(COMMAND_REPORT) like ''''%''''||upper(:P1038_KEYWORD)||''''%'''' OR COMMAND_REPORT like ''''%''''||(:P1038_KEYWORD)||''''%'''')',
'OR (upper(PASS_MSG) like ''''%''''||upper(:P1038_KEYWORD)||''''%'''' OR PASS_MSG like ''''%''''||(:P1038_KEYWORD)||''''%'''')  ',
'OR (upper(FAIL_MSG) like ''''%''''||upper(:P1038_KEYWORD)||''''%'''' OR FAIL_MSG like ''''%''''||(:	P1038_KEYWORD)||''''%'''') ',
'OR (upper(BENEFIT_IMPACT) like ''''%''''||upper(:P1038_KEYWORD)||''''%'''' OR BENEFIT_IMPACT like ''''%''''||(:P1038_KEYWORD)||''''%'''') ',
'OR (upper(RISK) like ''''%''''||upper(:P1038_KEYWORD)||''''%'''' OR RISK like ''''%''''||(:P1038_KEYWORD)||''''%'''') ',
'OR (upper(ACTION_REPAIR) like ''''%''''||upper(:P1038_KEYWORD)||''''%'''' OR ACTION_REPAIR like ''''%''''||(:P1038_KEYWORD)||''''%''''))'';',
'else',
'q :=''',
'select check_id,acname,action_type,command,command_report,',
'decode(component_dependency,''''RDBMS'''',''''Database'''',''''CRS'''',''''Clusterware'''',component_dependency) component_dependency,',
'(select rca13_getplatformlist(check_id) from dual) pname,',
'(select rca13_getcandsyslist(check_id) from dual) cname, ',
'(select rca13_getversionlist(check_id) from dual) versions,',
'(select rca13_getdbtypelist(check_id) from dual) dbtype,',
'(select rca13_getdbrolelist(check_id) from dual) dbrole,',
'(select rca13_getdbmodelist(check_id) from dual) dbmode,',
'pass_msg,fail_msg,decode(on_hold,''''1'''',''''Yes'''',''''0'''',''''No'''') on_hold,operator_string,compare_value',
'from (',
'select distinct ac.check_id,audit_check_name acname,ACTION_TYPE,command,command_report,component_dependency,',
't2.pname,',
't4.cname,',
't1.versions,',
'pass_msg,fail_msg,on_hold,operator_string,compare_value',
'from RCA13_ORACHK_audit_checks ac,',
'',
'( select acv.check_id, listagg(substr(version_name,1,instr(version_name,''''.'''',-1,1)-1), '''', '''')  within group (order by version_name) versions',
'from RCA13_ORACHK_CHECKS_VERSION acv,rca13_version v ',
'where '''':''''||:P1038_VERSIONS||'''':'''' like ''''%:''''||acv.version_id||'''':%'''' and ',
'acv.version_id = v.version_id ',
'group by acv.check_id ',
'UNION ',
'select distinct check_id,''''VERSION'''' from RCA13_ORACHK_CHECKS_VERSION where  :P1038_VERSIONS is null ) t1,',
'',
'( select ccs.check_id, listagg(cand_sys_name,'''','''')   within group (order by cand_sys_name) cname',
'from RCA13_ORACHK_CHECKS_CAND_SYS ccs,RCA13_ORACHK_CAND_SYS a',
'where '''':''''||:P1038_CAND_SYS||'''':'''' like ''''%:''''||ccs.CAND_SYS_ID||'''':%''''',
' and ccs.CAND_SYS_ID = a.CAND_SYS_ID',
'group by ccs.check_id',
'UNION ',
'select distinct check_id,''''cname'''' from RCA13_ORACHK_CHECKS_CAND_SYS where  :P1038_CAND_SYS is null ) t4,',
'',
'',
'( select check_id,listagg(pname,'''', '''') within group(order by pname) pname',
'  from RCA13_ORACHK_CHECKS_PLATFORM acp,',
' (select decode(p.product_line_id,',
'        23,''''Solaris Sparc'''',',
'        46,''''Linux x86'''',',
'        226,''''Linux x86_64'''',',
'        59,''''HP-UX PA-RISC'''',',
'        197,''''HP-UX Itanium'''',',
'        212,''''AIX'''',',
'        267,''''Solaris x86-64'''',',
'        233,''''MS Windows x64 (64-bit)'''',',
'        209,''''ZLinux (64-bit)''''',
'      )||'''' - ''''||osdist||'''' ''''||osversion pname,DISTRIBUTION_OS_ID  ',
'        from RCA13_DISTRIBUTION a,RCA13_PLATFORM p where a.platform_id = p.platform_id and a.osdist_rep_kernel = 1 order by pname ) t3',
'where '''':''''||:P1038_PLATFORMS||'''':'''' like ''''%:''''||acp.distribution_os_id||'''':%'''' and ',
'acp.distribution_os_id = t3.distribution_os_id',
'group by check_id ',
'UNION ',
'select distinct check_id,''''pname'''' from RCA13_ORACHK_CHECKS_PLATFORM where  :P1038_PLATFORMS is null) t2',
'',
'where ',
'ac.check_id = t2.check_id ',
'and ac.check_id = t1.check_id',
'and',
'ac.check_id = t4.check_id',
'and ( ac.component_dependency = :P1038_COMP_DEP OR upper(ac.component_dependency) = upper(:P1038_COMP_DEP) OR :P1038_COMP_DEP is null )',
'and ( ac.ACTION_TYPE = :P1038_ACTION_TYPE OR upper(ac.ACTION_TYPE) = upper(:P1038_ACTION_TYPE) OR :P1038_ACTION_TYPE is null )',
')',
'group by check_id,acname,component_dependency,',
'pname,',
'cname,',
'ACTION_TYPE,command,command_report,',
'versions,',
'pass_msg,fail_msg,on_hold,operator_string,compare_value',
'order by acname,component_dependency,pname,versions'';',
'end if;',
'return q;',
'end;',
''))
,p_source_type=>'NATIVE_FNC_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>15
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4017316035641431)
,p_query_column_id=>1
,p_column_alias=>'CHECK_ID'
,p_column_display_sequence=>19
,p_column_heading=>'<b>Delete Check</b>'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1038:&SESSION.::&DEBUG.::P1038_DELETE_CHECK:#CHECK_ID#'
,p_column_linktext=>'  <img src="#WORKSPACE_IMAGES#Delete.gif" width="16" height="16" border="0" />'
,p_column_link_attr=>'  onclick="return confirm(''Would you like to delete the check?'')"'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4014006752962839)
,p_query_column_id=>2
,p_column_alias=>'ACNAME'
,p_column_display_sequence=>3
,p_column_heading=>'<b>Audit Check Name</b>'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4015008358538687)
,p_query_column_id=>3
,p_column_alias=>'ACTION_TYPE'
,p_column_display_sequence=>7
,p_column_heading=>'<b>Action Type</b>'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4030829038355046)
,p_query_column_id=>4
,p_column_alias=>'COMMAND'
,p_column_display_sequence=>14
,p_column_heading=>'<b>Action</b>'
,p_use_as_row_header=>'N'
,p_display_when_cond_type=>'FUNCTION_BODY'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if ( instr(:P1038_COLUMNS_VISIBILITY,''3'') > 0) then',
' return true;',
'end if;',
'return false;'))
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4030916675355047)
,p_query_column_id=>5
,p_column_alias=>'COMMAND_REPORT'
,p_column_display_sequence=>15
,p_column_heading=>'<b>Action Report</b>'
,p_use_as_row_header=>'N'
,p_display_when_cond_type=>'FUNCTION_BODY'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if ( instr(:P1038_COLUMNS_VISIBILITY,''4'') > 0) then',
' return true;',
'end if;',
'return false;'))
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4015107768538687)
,p_query_column_id=>6
,p_column_alias=>'COMPONENT_DEPENDENCY'
,p_column_display_sequence=>5
,p_column_heading=>'<b>Needs Running</b>'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4014121870962839)
,p_query_column_id=>7
,p_column_alias=>'PNAME'
,p_column_display_sequence=>4
,p_column_heading=>'<b>Platforms</b>'
,p_use_as_row_header=>'N'
,p_display_when_cond_type=>'FUNCTION_BODY'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if ( instr(:P1038_COLUMNS_VISIBILITY,''1'') > 0 ) then',
' return true;',
'end if;',
'return false;'))
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4015223676538687)
,p_query_column_id=>8
,p_column_alias=>'CNAME'
,p_column_display_sequence=>8
,p_column_heading=>'<b>Candidate Systems</b>'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4014209018962840)
,p_query_column_id=>9
,p_column_alias=>'VERSIONS'
,p_column_display_sequence=>6
,p_column_heading=>'<b>Versions</b>'
,p_use_as_row_header=>'N'
,p_display_when_cond_type=>'FUNCTION_BODY'
,p_display_when_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if ( instr(:P1038_COLUMNS_VISIBILITY,''2'') > 0 )  then',
' return true;',
'end if;',
'return false;'))
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(49432627934668155)
,p_query_column_id=>10
,p_column_alias=>'DBTYPE'
,p_column_display_sequence=>16
,p_column_heading=>'<b>Dbtype</b>'
,p_report_column_width=>20
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(49432726237668156)
,p_query_column_id=>11
,p_column_alias=>'DBROLE'
,p_column_display_sequence=>17
,p_column_heading=>'<b>Dbrole</b>'
,p_report_column_width=>15
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(49432800502668156)
,p_query_column_id=>12
,p_column_alias=>'DBMODE'
,p_column_display_sequence=>18
,p_column_heading=>'<b>Dbmode</b>'
,p_report_column_width=>15
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4015320166538687)
,p_query_column_id=>13
,p_column_alias=>'PASS_MSG'
,p_column_display_sequence=>9
,p_column_heading=>'<b>Pass Msg</b>'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4015417504538687)
,p_query_column_id=>14
,p_column_alias=>'FAIL_MSG'
,p_column_display_sequence=>10
,p_column_heading=>'<b>Fail Msg</b>'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4015501525538687)
,p_query_column_id=>15
,p_column_alias=>'ON_HOLD'
,p_column_display_sequence=>11
,p_column_heading=>'<b>On Hold</b>'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4015616241538687)
,p_query_column_id=>16
,p_column_alias=>'OPERATOR_STRING'
,p_column_display_sequence=>12
,p_column_heading=>'<b>Operator String</b>'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4015718884538687)
,p_query_column_id=>17
,p_column_alias=>'COMPARE_VALUE'
,p_column_display_sequence=>13
,p_column_heading=>'<b>Compare Value</b>'
,p_use_as_row_header=>'N'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4016706458608168)
,p_query_column_id=>18
,p_column_alias=>'LINK$01'
,p_column_display_sequence=>2
,p_column_heading=>'<b>Edit</b>'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1037:&SESSION.::&DEBUG.:1037:P1037_LOADING_AC,P1037_CHECK_ID:1,#CHECK_ID#'
,p_column_linktext=>'<img src="#IMAGE_PREFIX#e2.gif" alt="Edit">'
,p_column_alignment=>'CENTER'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(4074523239776794)
,p_query_column_id=>19
,p_column_alias=>'LINK$02'
,p_column_display_sequence=>1
,p_column_heading=>'<input type="checkbox" onclick="selectAllFun(this);">'
,p_use_as_row_header=>'N'
,p_column_alignment=>'CENTER'
,p_hidden_column=>'Y'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(4090029356854567)
,p_plug_name=>'Parent'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040712432812910730)
,p_plug_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_translate_title=>'N'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(3669823480138179)
,p_plug_name=>'<b> Manage Filters                  </b>'
,p_parent_plug_id=>wwv_flow_api.id(4090029356854567)
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style="width:900px;height:450px;font-size:12px;"'
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid=>true
,p_plug_new_grid_row=>false
,p_plug_display_point=>'BODY'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(3941611449507026)
,p_name=>'<b>Download Generated XML (user_defined_checks.xml)</b>'
,p_parent_plug_id=>wwv_flow_api.id(4090029356854567)
,p_template=>wwv_flow_api.id(6040713703191910732)
,p_display_sequence=>25
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_region_attributes=>'style="width:700px;height:450px;font-size:12px;"'
,p_new_grid_row=>false
,p_display_point=>'BODY'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select * from (select DOC_ID,',
'filename, ',
'   attr1 date_generated,uploaded_by from rca13_docs',
'  WHERE  FILENAME like ''user_defined_checks%'' order by to_Date(attr1,''MM/DD/YYYY HH24:MI:SS'') desc',
') where rownum<500;'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715214521910736)
,p_query_num_rows=>12
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'ROW_RANGES_IN_SELECT_LIST'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(3941919022507032)
,p_query_column_id=>1
,p_column_alias=>'DOC_ID'
,p_column_display_sequence=>1
,p_column_heading=>'<b>Download</b>'
,p_use_as_row_header=>'N'
,p_column_html_expression=>'<a href="f?p=&APP_ID.:&APP_PAGE_ID.:&APP_SESSION.:APPLICATION_PROCESS=GET_FILE:::FILE_ID:#DOC_ID#"><img src="#WORKSPACE_IMAGES#ICGEN.GIF" width="16" height="16" border="0" /></a>'
,p_column_linktext=>'#file_name#'
,p_column_alignment=>'CENTER'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(3942014209507033)
,p_query_column_id=>2
,p_column_alias=>'FILENAME'
,p_column_display_sequence=>4
,p_column_heading=>'<b>Delete XML</b>'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1038:&SESSION.::&DEBUG.::P1038_DELETE_FILE:#FILENAME#'
,p_column_linktext=>'  <img src="#APP_IMAGES#Delete.gif" width="16" height="16" border="0" />'
,p_column_link_attr=>'  onclick="return confirm(''Would you like to delete the xml file?'')"'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(3942115691507033)
,p_query_column_id=>3
,p_column_alias=>'DATE_GENERATED'
,p_column_display_sequence=>2
,p_column_heading=>'<b>Date_Generated</b>'
,p_column_alignment=>'CENTER'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(3997505092599793)
,p_query_column_id=>4
,p_column_alias=>'UPLOADED_BY'
,p_column_display_sequence=>3
,p_column_heading=>'<b>Generated_By</b>'
,p_column_alignment=>'CENTER'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3670804312198868)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(3669823480138179)
,p_button_name=>'<b>RESET</b>'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Reset'
,p_button_position=>'RIGHT_OF_TITLE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3671006521209017)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(3669823480138179)
,p_button_name=>'APPLY_FILTER'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Apply Filter'
,p_button_position=>'RIGHT_OF_TITLE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3945416653934297)
,p_button_sequence=>40
,p_button_plug_id=>wwv_flow_api.id(3669823480138179)
,p_button_name=>'GENERATE_XML'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Generate XML'
,p_button_position=>'RIGHT_OF_TITLE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(3789326539373286)
,p_button_sequence=>50
,p_button_plug_id=>wwv_flow_api.id(3669823480138179)
,p_button_name=>'BACK_TO_NEW_CHECKS'
,p_button_action=>'REDIRECT_PAGE'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717814537910745)
,p_button_image_alt=>'Add New Check'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_redirect_url=>'f?p=&APP_ID.:1037:&SESSION.::&DEBUG.:1037::'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_branch(
 p_id=>wwv_flow_api.id(3852121080686361)
,p_branch_name=>'Reset Page'
,p_branch_action=>'f?p=&APP_ID.:1038:&SESSION.::&DEBUG.:1038::'
,p_branch_point=>'AFTER_PROCESSING'
,p_branch_type=>'REDIRECT_URL'
,p_branch_when_button_id=>wwv_flow_api.id(3670804312198868)
,p_branch_sequence=>10
,p_branch_condition_type=>'FUNCTION_BODY'
,p_branch_condition=>wwv_flow_string.join(wwv_flow_t_varchar2(
':P1038_COLUMNS_VISIBILITY := NULL;',
':P1038_PLATFORMS := NULL;',
':P1038_VERSIONS := NULL;',
':P1038_action_type := NULL;',
':P1038_COMP_DEP := NULL;',
':P1038_CAND_SYS := NULL;',
':P1038_KEYWORD := NULL;'))
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3850805929495825)
,p_name=>'P1038_KEYWORD'
,p_item_sequence=>52
,p_item_plug_id=>wwv_flow_api.id(3669823480138179)
,p_prompt=>'<b>Keyword Search(action, report, pass/fail messages and rational)</b>'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>60
,p_cMaxlength=>4000
,p_cHeight=>1
,p_new_grid=>true
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(3949725850405988)
,p_name=>'P1038_ACTION_TYPE'
,p_item_sequence=>40
,p_item_plug_id=>wwv_flow_api.id(3669823480138179)
,p_prompt=>'<b>Audit Check Type</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'select name display_value,value return_value from RCA13_ORACHK_CHK_TYPE order by name;'
,p_lov_display_null=>'YES'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_cattributes_element=>'style="width:10px;height:10px;font-size:12px;"'
,p_tag_attributes=>'style="width:125px;font-size:12px;"'
,p_new_grid=>true
,p_begin_on_new_line=>'N'
,p_begin_on_new_field=>'N'
,p_colspan=>1
,p_rowspan=>10
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(4008117069574804)
,p_name=>'P1038_PLATFORMS'
,p_item_sequence=>35
,p_item_plug_id=>wwv_flow_api.id(3669823480138179)
,p_prompt=>'<b>Platform</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select decode(p.product_line_id,',
'        23,''Solaris Sparc'',',
'        46,''Linux x86'',',
'        226,''Linux x86_64'',',
'        59,''HP-UX PA-RISC'',',
'        197,''HP-UX Itanium'',',
'        212,''AIX'',',
'        267,''Solaris x86-64'',',
'        233,''MS Windows x64 (64-bit)'',',
'        209,''ZLinux (64-bit)''--,',
'      --  ''UNKNOWN''',
'      )||'' - ''||osdist||'' ''||osversion display_value,DISTRIBUTION_OS_ID return_value ',
'        from RCA13_DISTRIBUTION a,RCA13_PLATFORM p where a.platform_id = p.platform_id and a.osdist_rep_kernel = 1 order by display_value'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>10
,p_tag_attributes=>'style="width:175px;font-size:12px;"'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'ALL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(4008400451597737)
,p_name=>'P1038_VERSIONS'
,p_item_sequence=>36
,p_item_plug_id=>wwv_flow_api.id(3669823480138179)
,p_prompt=>'<b>Versions</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>'select trim(version_name) display_value,trim(version_id) return_value from RCA13_VERSION where is_preferred = 1 order by version_name'
,p_cSize=>150
,p_cMaxlength=>4000
,p_cHeight=>10
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'ALL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(4008708190624492)
,p_name=>'P1038_COLUMNS_VISIBILITY'
,p_item_sequence=>55
,p_item_plug_id=>wwv_flow_api.id(3669823480138179)
,p_prompt=>'<br><b>Show/Hide Columns:</b>'
,p_display_as=>'NATIVE_CHECKBOX'
,p_lov=>'STATIC2:Platforms;1,Versions;2,Action;3,ActionReport;4;'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'NO'
,p_attribute_01=>'5'
,p_attribute_02=>'HORIZONTAL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(4009723021678444)
,p_name=>'P1038_IS_FIRST_TIME'
,p_item_sequence=>65
,p_item_plug_id=>wwv_flow_api.id(3669823480138179)
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(4026424625453239)
,p_name=>'P1038_COMP_DEP'
,p_item_sequence=>45
,p_item_plug_id=>wwv_flow_api.id(3669823480138179)
,p_prompt=>'<b>Needs Running</b>'
,p_display_as=>'NATIVE_SELECT_LIST'
,p_lov=>'  select trim(decode(comp_dep_name,''RDBMS'',''Database'',''CRS'',''Clusterware'',comp_dep_name)) display_value,trim(comp_dep_name) return_value from RCA13_ORACHK_COMP_DEP order by comp_dep_name;'
,p_lov_display_null=>'YES'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:125px;font-size:12px;"'
,p_begin_on_new_line=>'N'
,p_rowspan=>10
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'NONE'
,p_attribute_02=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(4033115407680435)
,p_name=>'P1038_CAND_SYS'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(3669823480138179)
,p_prompt=>'<b>Candidate Systems</b>'
,p_display_as=>'NATIVE_SHUTTLE'
,p_lov=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select  decode(cand_sys_name,''RACCHECK'',''RAC'',',
'''SIDB'',''SINGLE INSTANCE'',',
'''X2-2'',''EXADATA X2-2'',',
'''X3-2'',''EXADATA X3-2'',',
'''X4-2'',''EXADATA X4-2'',',
'''X5-2'',''EXADATA X5-2'',',
'''X2-8'',''EXADATA X2-8'',',
'''X3-8'',''EXADATA X3-8'',',
'''X4-8'',''EXADATA X4-8'',',
'''X5-8'',''EXADATA X5-8'',',
'''DBM'',''EXADATA V2'',cand_sys_name) display_value,trim(cand_sys_id)  return_value  from RCA13_ORACHK_CAND_SYS order by cand_sys_name;'))
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_tag_attributes=>'style="width:150px;height:90px;font-size:12px;"'
,p_begin_on_new_line=>'N'
,p_label_alignment=>'ABOVE'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(6040717307241910742)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'ALL'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(4080703315735726)
,p_name=>'P1038_DELETE_CHECK'
,p_item_sequence=>75
,p_item_plug_id=>wwv_flow_api.id(4013732048962830)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(64649626846960729)
,p_name=>'P1038_DELETE_FILE'
,p_item_sequence=>85
,p_item_plug_id=>wwv_flow_api.id(3941611449507026)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(4111309830889650)
,p_name=>'AddScroll'
,p_event_sequence=>10
,p_bind_type=>'bind'
,p_bind_event_type=>'ready'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(4111603015889656)
,p_event_id=>wwv_flow_api.id(4111309830889650)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'N'
,p_action=>'NATIVE_JAVASCRIPT_CODE'
,p_attribute_01=>'$("#AVAILABLE_CHECKS .uRegionContent").css(''overflow-x'',''auto'');'
,p_stop_execution_on_error=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3968531748480801)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'GENERATE XML'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'UserDefPluginXml(:APP_USER);',
'end;'))
,p_process_error_message=>'Please try after sometime.'
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(3945416653934297)
,p_process_success_message=>'XML Generated'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3996020933489652)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Set Up to New Form'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
':P1037_CHECK_ID := NULL;',
':P1037_LOADING_AC := NULL;',
':P1037_START_NEW := ''YES'';',
':P1037_ACTION_TYPE := NULL;',
':P1037_AUDIT_CHECK_NAME := NULL;',
':P1037_ACTION := NULL;',
':P1037_ACTION_LABEL := NULL;',
':P1037_ORACLE_VERSION := NULL;',
':P1037_ACTION_REPORT := NULL;',
':P1037_ACTION_REPORT_LABEL := NULL;',
':P1037_PLATFORMS := NULL;',
':P1037_CANDIDATE_SYSTEMS := NULL;',
':P1037_COMPONENT_DEPENDENCY := NULL;',
':P1037_ORACLE_HOME_PATH := NULL;',
':P1037_DATABASE_TYPE := NULL;',
':P1037_DATABASE_ROLE := NULL;',
':P1037_DATABASE_MODE := NULL;',
':P1037_COMPARISON_OPERATOR := NULL;',
':P1037_COMPARE_VALUE := NULL;',
':P1037_CHECK_ID := NULL;',
':P1037_ALERT_LEVEL := NULL;',
':P1037_PASS_MSG := NULL;',
':P1037_FAIL_MSG := NULL;',
':P1037_BENEFIT_IMPACT := NULL;',
':P1037_RISK := NULL;',
':P1037_ACTION_REPAIR := NULL;',
':P1037_SF_LINK_ID := NULL;',
':P1037_LINK_TYPE := NULL;',
':P1037_DOC_ID  := NULL;',
':P1037_NOTE_TITLE := NULL;',
':P1037_LINK := NULL;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(3789326539373286)
);
end;
/
begin
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(3996710029524377)
,p_process_sequence=>20
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'New Form'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
':P1037_ACTION_TYPE := NULL;',
':P1037_AUDIT_CHECK_NAME := NULL;',
':P1037_ACTION := NULL;',
':P1037_ACTION_LABEL := NULL;',
':P1037_ORACLE_VERSION := NULL;',
':P1037_ACTION_REPORT := NULL;',
':P1037_ACTION_REPORT_LABEL := NULL;',
':P1037_PLATFORMS := NULL;',
':P1037_CANDIDATE_SYSTEMS := NULL;',
':P1037_COMPONENT_DEPENDENCY := NULL;',
':P1037_ORACLE_HOME_PATH := NULL;',
':P1037_DATABASE_TYPE := NULL;',
':P1037_DATABASE_ROLE := NULL;',
':P1037_DATABASE_MODE := NULL;',
':P1037_COMPARISON_OPERATOR := NULL;',
':P1037_COMPARE_VALUE := NULL;',
':P1037_CHECK_ID := NULL;',
':P1037_ALERT_LEVEL := NULL;',
':P1037_PASS_MSG := NULL;',
':P1037_FAIL_MSG := NULL;',
':P1037_BENEFIT_IMPACT := NULL;',
':P1037_RISK := NULL;',
':P1037_ACTION_REPAIR := NULL;',
':P1037_SF_LINK_ID := NULL;',
':P1037_LINK_TYPE := NULL;',
':P1037_DOC_ID  := NULL;',
':P1037_NOTE_TITLE := NULL;',
':P1037_LINK := NULL;'))
,p_process_when=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if :P1037_CHECK_ID is null and :P1037_START_NEW = ''YES'' then',
'  :P1037_START_NEW := NULL;',
'  return TRUE;',
'else',
'  return FALSE;',
'end if;'))
,p_process_when_type=>'FUNCTION_BODY'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(4009422541673424)
,p_process_sequence=>30
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'IsFirstTime'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'if ( :P1038_IS_FIRST_TIME is null ) then',
' :P1038_IS_FIRST_TIME := 1;',
'else',
' :P1038_IS_FIRST_TIME := 0;',
'end if;'))
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(4081118970761070)
,p_process_sequence=>30
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'DELETE_CHECK'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'  action varchar2(40); ',
'begin',
'delete from RCA13_ORACHK_AUDIT_CHECKS where check_id = :P1038_DELETE_CHECK;',
'delete from RCA13_ORACHK_CHECKS_VERSION where check_id = :P1038_DELETE_CHECK;',
'delete from RCA13_ORACHK_CHECKS_PLATFORM where check_id = :P1038_DELETE_CHECK;',
'delete from RCA13_ORACHK_CHECKS_DB_TYPES where check_id = :P1038_DELETE_CHECK;',
'delete from RCA13_ORACHK_CHECKS_DB_ROLES where check_id = :P1038_DELETE_CHECK;',
'delete from RCA13_ORACHK_CHECKS_DB_MODES where check_id = :P1038_DELETE_CHECK;',
'delete from RCA13_ORACHK_CHECKS_LINK where check_id = :P1038_DELETE_CHECK;',
'delete from RCA13_ORACHK_CHECKS_CAND_SYS where check_id = :P1038_DELETE_CHECK;',
'--this will initialize the form',
'',
'end;'))
,p_process_when=>'P1038_DELETE_CHECK'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(64649812252970470)
,p_process_sequence=>30
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'DELETE_FILE'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'delete from RCA13_DOCS where filename= :P1038_DELETE_FILE;',
'end;'))
,p_process_error_message=>'Error Occurred. Please contact Admin'
,p_process_when=>'P1038_DELETE_FILE'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
end;
/
prompt --application/pages/page_01040
begin
wwv_flow_api.create_page(
 p_id=>1040
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_tab_set=>'TS1'
,p_name=>'Bulk Mapping'
,p_page_mode=>'NORMAL'
,p_step_title=>'Bulk Mapping'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title=>'Bulk Mapping'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'AUTO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function open_process_log(val) ',
'{',
'',
'window.open("f?p=&APP_ID.:7:&SESSION.::::P7_LOG_ID:"+val,"Log Messages");',
'/*',
'  var ajaxRequest = new htmldb_Get(); ',
'  ajaxRequest.add(''P6_LOG_ID'',val);',
'  ajaxResult = ajaxRequest.get();',
'  alert(document.getElementById(''P6_LOG_ID'').value);',
'  doSubmit();',
'  openModal(''PROCESS_LOG'');  ',
'*/',
'}',
'',
'',
'function selectAllFun(obj) {',
' $(''[name="f01"]'').each( function() {',
'        if ( $(obj).attr(''checked'') == ''checked'' ) {',
'            $(this).attr(''checked'',true);',
'        }  ',
'        else {',
'           $(this).attr(''checked'',false);',
'        }',
' });',
'}'))
,p_inline_css=>wwv_flow_string.join(wwv_flow_t_varchar2(
'.dlImg {',
'   text-decoration:none;',
'   background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAoZJREFUeNqUk89PE0EUx992Z3/MFqFVaoECwoHoydSDiYSDkmjAk/wLkph4Mx5N9AD/gSfjDU9eTDzrhYOSiAfZGA8kCLYgSLsFu+3uzO7'
||'sj3EWCZQCGl4yM3mT+X7em/dmJGi1R2PF6dHrS5fzGajTHfhNamCJQZgPNIyBRQDfK9yszi5ca5UhOGqZq4U8FAsDYDkGbDclWN21wfYCcAMOXsih0pCK1TZROwSCyIeKswaWW4EasUQGLkRxDP+yVPuGjgw4qx2DGErnmSFIFPPtkzv3Mlw4TY9kLmUHYcernirACkD3s7H5SAhYCOBSeJXUZGbFKs8/nZzIsIiJDtQBvNOj9p4X1e+Ub'
||'jk+wOoWn4PnC3MpMZlvTHP89Zf39eQQDZr/TT9KWr3JzSaBx4kv7+0ubmwv5JR3mtp4eCXfJ0AukGQwAg5zIRS5i+6CeCogug1fSwJAYVwkUD+E7IM+9+DyhTSaGsgap0K+bXDTahwCjkL+gsxPeVTu7tCnLnbKxyBmmZfWazDaCjgO2QeVRnC5P6tM6Qo/gCyu8fpaFe4KQKldIp9UOPJh3Vwe6rILGXlSlhl8XInr4s8kVzBPOi+1Op7'
||'nySwIMGMBjqIQj7188ALr9s0bPRPTM7fvL8lyykcyooqqEFVRPF3XowMIpVQn1MsTQvoJoQXh9/i+n2OMdS3XNnpHsn27six7qqrauq7VMMa/DMPYNDD+ibFeQUEQpAilOSEcchx32HGcYcfdW4dclwwqXpgrNda5iGql0+lyR0e6dC4If8RxjJNyIIRipChK7LquLaLsiCjpKIpUzrmUkiSqqVolFNfa+x8IEeHvGoa+LaJvaZpmaaqaZ'
||'Gj/EWAAxoJln3HTj5EAAAAASUVORK5CYII=);',
'}',
''))
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'ORACHKCM'
,p_last_upd_yyyymmddhh24miss=>'20160830035646'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(83758718562381808)
,p_name=>'Import File&nbsp&nbsp&nbsp&nbsp&nbsp'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
' SELECT',
'  /*+ FIRST_ROWS */',
'  apex_item.checkbox(1,a.doc_id) sel,',
'  apex_custom_auth.get_security_group_id secGroupId,',
'  a.uploaded_on,',
'  a.uploaded_by,',
'a.filename fn,',
'  ''<a class="dlImg" href="f?p=&APP_ID.:1040:&APP_SESSION.:APPLICATION_PROCESS=GET_FILE:::FILE_ID:''',
'  ||a.DOC_ID',
'  ||''">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>''',
'  ||''&nbsp;&nbsp;''',
'  || ''<a "f?p=&APP_ID.:1040:&APP_SESSION.:::1040:P1040_DOC_ID:''',
'  ||a.DOC_ID',
'  ||''">''',
'  ||a.filename',
'  ||''</a>'' FileName',
'FROM rca13_docs a',
'WHERE a.attr1=''MAP_FILE'' and a.filename LIKE ''%.xml%''',
'ORDER BY uploaded_on DESC'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_footer=>'<br><font color="red">Note:</font> Use unique names for the upload files. Entries in xml file maps the BU-System <br>and pre-create the parent entries of BU.'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>5
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_break_cols=>'0'
,p_query_no_data_found=>'No files attached.'
,p_query_num_rows_item=>'5'
,p_query_num_rows_type=>'ROW_RANGES_WITH_LINKS'
,p_query_row_count_max=>5000
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(83758931773381809)
,p_query_column_id=>1
,p_column_alias=>'SEL'
,p_column_display_sequence=>1
,p_column_heading=>'<input type="checkbox" onclick="selectAllFun(this);">'
,p_use_as_row_header=>'N'
,p_column_alignment=>'CENTER'
,p_hidden_column=>'Y'
,p_report_column_required_role=>wwv_flow_api.id(312611953325942122)
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(83759030382381809)
,p_query_column_id=>2
,p_column_alias=>'SECGROUPID'
,p_column_display_sequence=>7
,p_column_heading=>'Secgroupid'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(83759322990381809)
,p_query_column_id=>3
,p_column_alias=>'UPLOADED_ON'
,p_column_display_sequence=>4
,p_column_heading=>'Uploaded On'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(83759410295381809)
,p_query_column_id=>4
,p_column_alias=>'UPLOADED_BY'
,p_column_display_sequence=>3
,p_column_heading=>'Uploaded By'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(93372807721219078)
,p_query_column_id=>5
,p_column_alias=>'FN'
,p_column_display_sequence=>8
,p_column_heading=>'<b>Delete XML</b>'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1040:&SESSION.::&DEBUG.::P1040_DELETE_FILE:#FILENAME#'
,p_column_linktext=>'  <img src="#APP_IMAGES#Delete.gif" width="16" height="16" border="0" />'
,p_column_link_attr=>'  onclick="return confirm(''Would you like to delete the xml file?'')"'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(83759625552381809)
,p_query_column_id=>6
,p_column_alias=>'FILENAME'
,p_column_display_sequence=>2
,p_column_heading=>'File Name'
,p_use_as_row_header=>'N'
,p_heading_alignment=>'LEFT'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(83759811594381810)
,p_query_column_id=>7
,p_column_alias=>'LINK$01'
,p_column_display_sequence=>5
,p_column_heading=>'<b>Delete XML</b>'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1040:&SESSION.::&DEBUG.::P1040_DELETE_FILE:#FILENAME#'
,p_column_linktext=>'  <img src="#APP_IMAGES#Delete.gif" width="16" height="16" border="0" />'
,p_column_link_attr=>'  onclick="return confirm(''Would you like to delete the xml file?'')"'
,p_hidden_column=>'Y'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(83759927862381810)
,p_query_column_id=>8
,p_column_alias=>'LINK$02'
,p_column_display_sequence=>6
,p_column_heading=>'Log'
,p_use_as_row_header=>'N'
,p_column_link=>'f?p=&APP_ID.:1007:&SESSION.::&DEBUG.:1007:P1007_LOG_ID:#COLLECTION_ID#'
,p_column_linktext=>'Log'
,p_hidden_column=>'Y'
,p_lov_show_nulls=>'NO'
,p_derived_column=>'Y'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(83761923734381814)
,p_plug_name=>'Add Attachment'
,p_region_name=>'add_file_modal'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(2674547298698564458)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_new_grid_row=>false
,p_plug_new_grid_column=>false
,p_plug_display_point=>'AFTER_HEADER'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(83775710742566468)
,p_name=>'Export Generated XML &nbsp&nbsp&nbsp&nbsp&nbsp'
,p_template=>wwv_flow_api.id(6040713810066910732)
,p_display_sequence=>11
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_new_grid_row=>false
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'SELECT',
'  /*+ FIRST_ROWS */',
'  apex_item.checkbox(1,a.doc_id) sel,',
'  apex_custom_auth.get_security_group_id secGroupId,',
'  a.uploaded_on,',
'  a.uploaded_by,',
'a.filename fn,',
'  ''<a class="dlImg" href="f?p=&APP_ID.:1040:&APP_SESSION.:APPLICATION_PROCESS=GET_FILE:::FILE_ID:''',
'  ||a.DOC_ID',
'  ||''">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>''',
'  ||''&nbsp;&nbsp;''',
'  || ''<a "f?p=&APP_ID.:1040:&APP_SESSION.:::1040:P1040_DOC_ID:''',
'  ||a.DOC_ID',
'  ||''">''',
'  ||a.filename',
'  ||''</a>'' FileName',
'FROM rca13_docs a',
'WHERE --a.attr1=''MAP_FILE'' and ',
'a.filename LIKE ''mapping.xml''',
'ORDER BY uploaded_on DESC;',
'  '))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>15
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'0'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(31795319389788480)
,p_query_column_id=>1
,p_column_alias=>'SEL'
,p_column_display_sequence=>3
,p_column_heading=>'Sel'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(31795423209788480)
,p_query_column_id=>2
,p_column_alias=>'SECGROUPID'
,p_column_display_sequence=>4
,p_column_heading=>'Secgroupid'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(31795511077788481)
,p_query_column_id=>3
,p_column_alias=>'UPLOADED_ON'
,p_column_display_sequence=>5
,p_column_heading=>'<b>Generated On</b>'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(83776316424566471)
,p_query_column_id=>4
,p_column_alias=>'UPLOADED_BY'
,p_column_display_sequence=>2
,p_column_heading=>'<b>Generated By</b>'
,p_column_alignment=>'CENTER'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(31795630928788481)
,p_query_column_id=>5
,p_column_alias=>'FN'
,p_column_display_sequence=>6
,p_column_heading=>'Fn'
,p_hidden_column=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(83776128463566471)
,p_query_column_id=>6
,p_column_alias=>'FILENAME'
,p_column_display_sequence=>1
,p_column_heading=>'<b>FileName</b>'
,p_use_as_row_header=>'N'
,p_column_alignment=>'CENTER'
,p_display_as=>'WITHOUT_MODIFICATION'
,p_lov_show_nulls=>'NO'
,p_lov_display_extra=>'YES'
,p_include_in_export=>'Y'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(83762111135381814)
,p_button_sequence=>15
,p_button_plug_id=>wwv_flow_api.id(83761923734381814)
,p_button_name=>'CANCEL'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_image_alt=>'Cancel'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_button_redirect_url=>'javascript:closeModal();'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(83762311401381814)
,p_button_sequence=>20
,p_button_plug_id=>wwv_flow_api.id(83761923734381814)
,p_button_name=>'ADD'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717906070910745)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Add Attachment'
,p_button_position=>'REGION_TEMPLATE_CLOSE'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(83760127100381810)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(83758718562381808)
,p_button_name=>'ADD_ATTACHMENT'
,p_button_action=>'REDIRECT_URL'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'&nbsp;&nbsp;Upload Mapping (XML File)'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_redirect_url=>'javascript:openModal(''add_file_modal'');'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(83774720627332809)
,p_button_sequence=>30
,p_button_plug_id=>wwv_flow_api.id(83775710742566468)
,p_button_name=>'GENERATE_XML_FILE_(CURRENT_MAPPING)'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(6040717727700910742)
,p_button_is_hot=>'Y'
,p_button_image_alt=>'Generate XML File (Current Mapping)'
,p_button_position=>'RIGHT_OF_TITLE'
,p_button_alignment=>'LEFT'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(83760723763381811)
,p_name=>'P1040_DOCID2DEL'
,p_item_sequence=>50
,p_item_plug_id=>wwv_flow_api.id(83758718562381808)
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(83760909725381812)
,p_name=>'P1040_FILE_UP_STATUS'
,p_item_sequence=>70
,p_item_plug_id=>wwv_flow_api.id(83758718562381808)
,p_use_cache_before_default=>'NO'
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(83762509464381814)
,p_name=>'P1040_FILE_COMMENTS'
,p_item_sequence=>30
,p_item_plug_id=>wwv_flow_api.id(83761923734381814)
,p_prompt=>'File Comments'
,p_display_as=>'NATIVE_TEXTAREA'
,p_cSize=>70
,p_cMaxlength=>4000
,p_cHeight=>7
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(305651062455015946)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
,p_attribute_02=>'N'
,p_attribute_03=>'N'
,p_attribute_04=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(83762728009381815)
,p_name=>'P1040_FILE_TAGS'
,p_item_sequence=>20
,p_item_plug_id=>wwv_flow_api.id(83761923734381814)
,p_prompt=>'File Tags'
,p_display_as=>'NATIVE_TEXT_FIELD'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(305651062455015946)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'N'
,p_attribute_02=>'N'
,p_attribute_04=>'TEXT'
,p_attribute_05=>'NONE'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(83762912592381815)
,p_name=>'P1040_FILE'
,p_item_sequence=>10
,p_item_plug_id=>wwv_flow_api.id(83761923734381814)
,p_prompt=>'File'
,p_display_as=>'NATIVE_FILE'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_field_template=>wwv_flow_api.id(305651358818015946)
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'WWV_FLOW_FILES'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(83763124291381815)
,p_name=>'P1040_LOG_ID'
,p_item_sequence=>60
,p_display_as=>'NATIVE_HIDDEN'
,p_cMaxlength=>4000
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_item_template_options=>'#DEFAULT#'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_item(
 p_id=>wwv_flow_api.id(93370926342119218)
,p_name=>'P1040_DELETE_FILE'
,p_item_sequence=>80
,p_item_plug_id=>wwv_flow_api.id(83758718562381808)
,p_use_cache_before_default=>'NO'
,p_display_as=>'NATIVE_HIDDEN'
,p_cSize=>30
,p_cMaxlength=>4000
,p_cHeight=>1
,p_label_alignment=>'RIGHT'
,p_field_alignment=>'LEFT-CENTER'
,p_display_when=>'P1040_DELETE_FILE'
,p_display_when_type=>'ITEM_IS_NOT_NULL'
,p_item_template_options=>'#DEFAULT#'
,p_lov_display_extra=>'YES'
,p_attribute_01=>'Y'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(83769827479729276)
,p_process_sequence=>10
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'addfile'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'  l_attachment    RCA13_DOCS.FILE_BLOB%type;',
'  l_filename      RCA13_DOCS.FILENAME%type;',
'  l_mimetype      RCA13_DOCS.FILE_MIMETYPE%type;',
'  l_charset       RCA13_DOCS.FILE_CHARSET%type;',
'  l_xmlfile       RCA13_DOCS.FILENAME%type;',
'  docId number;',
'begin',
'  -- Get the data we need to insert into RCA13_COLLECTIONS with',
'  begin',
'    select f.blob_content,',
'           f.filename,',
'           f.mime_type,',
'           nvl(f.file_charset, f.dad_charset)',
'      into l_attachment,',
'           l_filename,',
'           l_mimetype,',
'           l_charset',
'      from wwv_flow_files f',
'     where f.name = :P1040_FILE;    ',
'  exception',
'    when no_data_found then',
'      l_attachment := null;',
'  end;',
'  -- Add Some file name validations',
'  -- If file name is like raccheck_ldlmdb01_loaddb_082913_201923 (2).zip, remove (2) from name',
'  l_filename := replace(l_filename,'' '','''');',
'  l_filename := substr(l_filename,1,instr(l_filename,''('' ,1,1)-1)||substr(l_filename,instr(l_filename,'')'' ,-1,1)+1);',
'  if l_filename=''mapping.xml'' then',
'  l_filename := ''mapping''||parampathseq.nextval||''.xml'';',
'  end if;',
'  l_xmlfile := substr(lower(l_filename),-4,4);',
'',
' ',
'  if l_attachment is not null and l_xmlfile = ''.xml'' then',
' ',
'    --docId := rca13_file_seq.nextval;',
'    begin',
'     insert into RCA13_DOCS(FILENAME, FILE_BLOB,FILE_MIMETYPE,FILE_CHARSET,FILE_COMMENTS,TAGS,attr1,uploaded_on,uploaded_by)',
'     values(l_filename,l_attachment,l_mimetype,l_charset,:P1040_FILE_COMMENTS,:P1040_FILE_TAGS,''MAP_FILE'',sysdate,:APP_USER) return doc_id into docId;',
'     :P1040_FILE_UP_STATUS := ''File attached'';',
'     exception when dup_val_on_index then ',
'     :P1040_FILE_UP_STATUS := ''Failed: Could not upload file as it is already uploaded'';',
'      WHEN OTHERS THEN  ',
'     :P1040_FILE_UP_STATUS := ''Failed: could not process file'';',
'     end;  ',
'     else',
'      :P1040_FILE_UP_STATUS := ''Failed: Please upload XML File'';',
'     delete from wwv_flow_files where name = :P1040_FILE;    ',
'    :P1040_FILE_TAGS := null;',
'    :P1040_FILE  := null;',
'    :P1040_FILE_COMMENTS := null;',
'     end if;',
'  ',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(83762311401381814)
,p_process_success_message=>'&P1040_FILE_UP_STATUS.'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(83770820786869254)
,p_process_sequence=>20
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Map_BU-Systems'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'BEGIN',
'BULKUPLOAD;',
'  :P1040_FILE_UP_STATUS := ''Mapping Done'';',
' exception when dup_val_on_index then ',
'     :P1040_FILE_UP_STATUS := ''Failed: Could not process the xml,systems not exist'';',
'      WHEN OTHERS THEN  ',
'        :P1040_FILE_UP_STATUS := ''Failed'';',
'END;'))
,p_process_error_message=>'Check your xml formatting. '
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(83762311401381814)
,p_process_success_message=>'Mapping Done'
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(83775203966375292)
,p_process_sequence=>30
,p_process_point=>'AFTER_SUBMIT'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'Generate XML Current Mapping'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'DELETE FROM rca13_docs WHERE filename=''mapping.xml'';',
'COMMIT;',
'generate_currentmapping_xml(:APP_USER);',
'end;'))
,p_error_display_location=>'INLINE_IN_NOTIFICATION'
,p_process_when_button_id=>wwv_flow_api.id(83774720627332809)
,p_process_success_message=>'XML File Generated. '
);
wwv_flow_api.create_page_process(
 p_id=>wwv_flow_api.id(93371311796142973)
,p_process_sequence=>40
,p_process_point=>'BEFORE_HEADER'
,p_process_type=>'NATIVE_PLSQL'
,p_process_name=>'DELETE FILE'
,p_process_sql_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'delete from RCA13_DOCS where filename= :P1040_DELETE_FILE;',
'end;'))
,p_process_error_message=>'Error Occurred. Please contact Admin'
,p_process_when=>'P1040_DELETE_FILE'
,p_process_when_type=>'ITEM_IS_NOT_NULL'
);
end;
/
prompt --application/pages/page_02000
begin
wwv_flow_api.create_page(
 p_id=>2000
,p_user_interface_id=>wwv_flow_api.id(321025881438865076)
,p_name=>'Page for testing'
,p_alias=>'PAGEFORTESTING'
,p_page_mode=>'NORMAL'
,p_step_title=>'Page for testing'
,p_reload_on_submit=>'A'
,p_warn_on_unsaved_changes=>'N'
,p_step_sub_title_type=>'TEXT_WITH_SUBSTITUTIONS'
,p_first_item=>'NO_FIRST_ITEM'
,p_autocomplete_on_off=>'ON'
,p_javascript_file_urls=>wwv_flow_string.join(wwv_flow_t_varchar2(
'/i/libraries/apex/minified/widget.report.min.js?v=4.2.5.00.08',
'/i/libraries/apex/minified/widget.selectList.min.js?v=4.2.5.00.08',
'/i/libraries/apex/minified/widget.chart.min.js?v=4.2.5.00.08',
'/i/flashchart/anychart_6/js/AnyChart.js',
'/i/flashchart/anychart_6/js/AnyChartHTML5.js'))
,p_step_template=>wwv_flow_api.id(6040711119477910725)
,p_page_template_options=>'#DEFAULT#'
,p_dialog_chained=>'Y'
,p_overwrite_navigation_list=>'N'
,p_nav_list_template_options=>'#DEFAULT#'
,p_page_is_public_y_n=>'N'
,p_cache_mode=>'NOCACHE'
,p_cache_timeout_seconds=>21600
,p_help_text=>'No help is available for this page.'
,p_last_updated_by=>'LEELA.KUMARASWAMY.LAKKANA'
,p_last_upd_yyyymmddhh24miss=>'20140806110755'
);
wwv_flow_api.create_page_plug(
 p_id=>wwv_flow_api.id(312038837396965972)
,p_plug_name=>'test'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_plug_template=>wwv_flow_api.id(6040713703191910732)
,p_plug_display_sequence=>20
,p_include_in_reg_disp_sel_yn=>'N'
,p_plug_display_point=>'BODY_3'
,p_plug_source=>'<div id="chartDiv"></div>'
,p_plug_query_row_template=>1
,p_plug_query_headings_type=>'QUERY_COLUMNS'
,p_plug_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_plug_query_show_nulls_as=>' - '
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_attribute_01=>'N'
,p_attribute_02=>'HTML'
,p_attribute_03=>'N'
);
wwv_flow_api.create_report_region(
 p_id=>wwv_flow_api.id(312467762683324637)
,p_name=>'temp regions'
,p_template=>wwv_flow_api.id(6040713703191910732)
,p_display_sequence=>10
,p_include_in_reg_disp_sel_yn=>'N'
,p_region_template_options=>'#DEFAULT#'
,p_component_template_options=>'#DEFAULT#'
,p_display_point=>'BODY_3'
,p_source=>wwv_flow_string.join(wwv_flow_t_varchar2(
'select d.system_id link,d.system_name name,count(b.status) Passes ',
'from ( select * from rca13_col2sys_mapping  ) a,',
'auditcheck_result b,',
'rca13_lob2sys_mapping c',
'/*',
'( select * from rca13_lob2sys_mapping where ',
'exists ( select 1 from rca13_user_roles where user_id =  306411746708624534593272094378177521130  ',
'   and  ( role_id = 1  OR  ( role_id = 2 and lob_id = rca13_lob2sys_mapping.lob_id  ) ',
'   OR ( lob_id = rca13_lob2sys_mapping.lob_id and system_id = rca13_lob2sys_mapping.system_id ) ) ) ) c',
'*/   ',
',rca13_systems d',
'where a.collection_date = b.collection_date',
'and a.system_id = c.system_id ',
'and c.system_id = d.system_id',
'and b.status = ''PASS''',
'group by d.system_name,d.system_id',
'order by d.system_name'))
,p_source_type=>'NATIVE_SQL_REPORT'
,p_display_condition_type=>'NEVER'
,p_ajax_enabled=>'Y'
,p_fixed_header=>'NONE'
,p_query_row_template=>wwv_flow_api.id(6040715120978910736)
,p_query_num_rows=>100
,p_query_options=>'DERIVED_REPORT_COLUMNS'
,p_query_show_nulls_as=>' - '
,p_query_break_cols=>'0'
,p_query_no_data_found=>'no data found'
,p_query_num_rows_type=>'NEXT_PREVIOUS_LINKS'
,p_query_row_count_max=>500
,p_pagination_display_position=>'BOTTOM_RIGHT'
,p_break_type_flag=>'DEFAULT_BREAK_FORMATTING'
,p_csv_output=>'N'
,p_query_asc_image=>'apex/builder/dup.gif'
,p_query_asc_image_attr=>'width="16" height="16" alt="" '
,p_query_desc_image=>'apex/builder/ddown.gif'
,p_query_desc_image_attr=>'width="16" height="16" alt="" '
,p_plug_query_strip_html=>'Y'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308510237357359621)
,p_query_column_id=>1
,p_column_alias=>'LINK'
,p_column_display_sequence=>1
,p_column_heading=>'Link'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308510345342359622)
,p_query_column_id=>2
,p_column_alias=>'NAME'
,p_column_display_sequence=>2
,p_column_heading=>'Name'
);
wwv_flow_api.create_report_columns(
 p_id=>wwv_flow_api.id(308510461126359622)
,p_query_column_id=>3
,p_column_alias=>'PASSES'
,p_column_display_sequence=>3
,p_column_heading=>'Passes'
);
wwv_flow_api.create_page_button(
 p_id=>wwv_flow_api.id(312531854343373320)
,p_button_sequence=>10
,p_button_plug_id=>wwv_flow_api.id(312467762683324637)
,p_button_name=>'TEAT'
,p_button_action=>'SUBMIT'
,p_button_template_options=>'#DEFAULT#'
,p_button_template_id=>wwv_flow_api.id(75057493070768462)
,p_button_image_alt=>'Teat'
,p_button_position=>'TOP'
,p_grid_new_grid=>false
);
wwv_flow_api.create_page_da_event(
 p_id=>wwv_flow_api.id(312039044500005805)
,p_name=>'Test'
,p_event_sequence=>10
,p_bind_type=>'bind'
,p_bind_event_type=>'ready'
);
wwv_flow_api.create_page_da_action(
 p_id=>wwv_flow_api.id(312039335878005833)
,p_event_id=>wwv_flow_api.id(312039044500005805)
,p_event_result=>'TRUE'
,p_action_sequence=>10
,p_execute_on_page_init=>'N'
,p_action=>'NATIVE_JAVASCRIPT_CODE'
,p_attribute_01=>wwv_flow_string.join(wwv_flow_t_varchar2(
'chart = new AnyChart(''#IMAGE_PREFIX#flashchart/anychart_6/swf/OracleAnyChart.swf'',''#IMAGE_PREFIX#flashchart/anychart_6/swf/Preloader.swf'');',
'     chart.width = 800;',
'     chart.height = 500;',
'     var ajaxRequest = new  htmldb_Get(null,$v(''pFlowId''),''APPLICATION_PROCESS=getxml'',$v(''pFlowStepId''));',
'    //ajaxRequest.addParam(''x01'', ''test'');',
'    ajaxResult = ajaxRequest.get(''HTML'');',
'    ajaxRequest = null;',
'    chart.setData(ajaxResult);',
'    chart.write(''chartDiv'');'))
,p_stop_execution_on_error=>'Y'
);
end;
/
prompt --application/deployment/definition
begin
wwv_flow_api.create_install(
 p_id=>wwv_flow_api.id(312076050320014004)
,p_welcome_message=>'This application installer will guide you through the process of creating your database objects and seed data.'
,p_configuration_message=>'You can configure the following attributes of your application.'
,p_build_options_message=>'You can choose to include the following build options.'
,p_validation_message=>'The following validations will be performed to ensure your system is compatible with this application.'
,p_install_message=>'Please confirm that you would like to install this application''s supporting objects.'
,p_install_success_message=>'Your application''s supporting objects have been installed.'
,p_install_failure_message=>'Installation of database objects and seed data has failed.'
,p_upgrade_message=>'The application installer has detected that this application''s supporting objects were previously installed.  This wizard will guide you through the process of upgrading these supporting objects.'
,p_upgrade_confirm_message=>'Please confirm that you would like to install this application''s supporting objects.'
,p_upgrade_success_message=>'Your application''s supporting objects have been installed.'
,p_upgrade_failure_message=>'Installation of database objects and seed data has failed.'
,p_get_version_sql_query=>'SELECT OBJECT_NAME FROM USER_OBJECTS WHERE OBJECT_NAME = ''RCA13_RELEASE_INFO'' '
,p_deinstall_success_message=>'Deinstallation complete.'
,p_deinstall_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'--First we need to drop policy ( it is using table )and drop job',
'declare',
'    uName varchar2(500);',
'begin',
'    select username into uName from user_users;',
'    --Drop VPD Policy',
'    DBMS_RLS.DROP_POLICY(uName,''rca13_lob2sys_mapping'',''RCA13_SYSTEMS_VPD_POLICY'');',
'    --Drop Scheduled Job',
'    DBMS_SCHEDULER.DROP_JOB(''RCA13_PROCESS_DATA'',force=>true);',
'    DBMS_SCHEDULER.DROP_JOB(''RCA13_NOTIFICATIONS_JOB'',force=>true);',
'    DBMS_SCHEDULER.DROP_JOB(''RCA13_PURGE_JOB'',force=>true);',
'end;',
'/',
'--Define a script to drop database objects and static files that are created by the installation scripts.',
'',
'drop sequence rca13_intrack_seq;',
'drop table rca13_intrack_assignees        cascade constraints;',
'drop table rca13_intrack_error_lookup     cascade constraints;',
'drop table rca13_intrack_tz_pref          cascade constraints;',
'drop table rca13_intrack_access_levels    cascade constraints;',
'drop table rca13_intrack_users            cascade constraints;',
'drop table rca13_intrack_preferences      cascade constraints;',
'drop table rca13_intrack_notifications    cascade constraints;',
'drop table rca13_intrack_tags             cascade constraints;',
'drop table rca13_intrack_tags_type_sum    cascade constraints;',
'drop table rca13_intrack_tags_sum         cascade constraints;',
'drop table rca13_intrack_group            cascade constraints;',
'drop table rca13_intrack_user_group       cascade constraints;',
'drop table rca13_intrack_urgency          cascade constraints;',
'drop table rca13_intrack_SEVERITY         cascade constraints;',
'drop table rca13_intrack_status           cascade constraints;',
'drop table rca13_intrack_category         cascade constraints;',
'drop table rca13_intrack_product          cascade constraints;',
'drop table rca13_intrack_version          cascade constraints;',
'drop table rca13_intrack_incidents        cascade constraints;',
'drop table rca13_intrack_customers        cascade constraints;',
'drop table rca13_intrack_customer_contact cascade constraints;',
'drop table rca13_intrack_inc_followup     cascade constraints;',
'drop table rca13_intrack_files            cascade constraints;',
'drop table rca13_intrack_countries        cascade constraints;',
'drop table rca13_INTRACK_LINKS            cascade constraints;',
'drop table rca13_INTRACK_NOTES            cascade constraints;',
'drop table rca13_intrack_help_page        cascade constraints;',
'drop table rca13_intrack_errors           cascade constraints;',
'',
'drop view  rca13_intrack_incidents_view ;  ',
'',
'drop function  rca13_INTRACK_GET_VERSIONS;',
'drop package   rca13_intrack_incident;',
'drop package   rca13_intrack;',
'drop package   rca13_intrack_fw;',
'',
'',
'drop function  rca13_intrack_val_email_fmt;',
'drop procedure rca13_intrack_load_sample;',
'',
'-- RAC App objects',
'',
'drop sequence RCA13_FILE_SEQ;',
'drop sequence RCA13_JOB_SEQ;',
'',
'',
'drop index RCA13_LOBS_UK1;',
'drop index RCA13_ACCESS_ROLES_UK1;',
'drop index RCA13_USER_ROLES_UK1;',
'drop index RCA13_SYSTEM_HOSTS_UK1;',
'',
'drop table RCA13_DIFF_INFO cascade constraints;',
'drop table RCA13_AC_TICKETS cascade constraints;',
'drop table RCA13_CHECKS_INFO cascade constraints;',
'drop table RCA13_IGNORED_CHECKS cascade constraints;',
'drop table RCA13_DATABASES cascade constraints;',
'drop table RCA13_IBS_SS cascade constraints;',
'drop table RCA13_HOMES cascade constraints;',
'drop table RCA13_DB_INSTANCES cascade constraints;',
'drop table RCA13_ASM_INSTANCES cascade constraints;',
'drop table RCA13_FILES cascade constraints;',
'drop table RCA13_HOSTS cascade constraints;',
'drop table RCA13_LOG cascade constraints;',
'--We are not allowing to delete following table from app deinstall',
'--drop table RCA13_DOCS cascade constraints;',
'drop table RCA13_COLLECTIONS cascade constraints;',
'drop table RCA13_COLLECTION_FILE_DATA cascade constraints;',
'drop table RCA13_COLLECTION_FILES cascade constraints;',
'drop table RCA13_TRACK_ACTIONS cascade constraints;',
'drop table RCA13_COLLECTIONS_MD cascade constraints;',
'drop table RCA13_ACCESS_ROLES cascade constraints;',
'drop table RCA13_USER_ROLES cascade constraints;',
'drop table RCA13_SYSTEMS cascade constraints;',
'drop table RCA13_SYSTEM_HOSTS cascade constraints;',
'drop table RCA13_LOB2SYS_MAPPING cascade constraints;',
'drop table RCA13_COL2SYS_MAPPING cascade constraints;',
'drop table RCA13_COLLECTION_VALUES cascade constraints;',
'drop table RCA13_LOBS cascade constraints;',
'drop table RCA13_RELEASE_INFO cascade constraints;',
'',
'drop table RCA13_MAIL_SERVER cascade constraints;',
'drop table RCA13_EMAIL_SENT cascade constraints;',
'drop table RCA13_EMAIL_FAILURE cascade constraints;',
'drop table RCA13_USER_DETAILS cascade constraints;',
'drop table RCA13_COLLECTIONS_DIFF cascade constraints;',
'drop table RCA13_NOTIFICATION_JOBS cascade constraints;',
'drop table RCA13_NOTIFICATION_JOB_DETAILS cascade constraints;',
'drop table RCA13_APEX_DETAILS cascade constraints;',
'drop table RCA13_PARAMETERS cascade constraints;',
'',
'--Drop Procedure',
'drop procedure RCA13_GET_DOC;   ',
'',
'--Drop Functions',
'drop function RCA13_SYSTEMS_VPD;',
'',
'--Drop packages',
'drop package RCA13_MANAGE_ZIPS;',
'drop package RCA13_MANAGE_COLLECTIONS;',
'drop package RCA13_INCIDENT_INTEGRATION;',
'drop package RCA13_GET_DATA4COLUMNS;',
'drop package RCA13_MANAGE_ACL;',
'drop package RCA13_MANAGE_PARAMS;',
'',
'drop package RCA13_EMAIL;',
'drop package RCA13_MANAGE_NOTIFICATIONS;',
'',
'',
'--Finally update collection_id column to null in left tables',
'update rca13_docs set collection_id = null;',
'update auditcheck_result set collection_id = null;',
'commit;',
'',
'--Delete sample data from auditcheck result table',
'delete from auditcheck_result where  upload_collection_name in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');',
'commit;',
'/',
'-- Delete User Defined Checks Related objects',
'    ',
'     DROP TABLE RCA13_ORACHK_CHECKS_DB_TYPES cascade constraints; ',
'    DROP TABLE RCA13_ORACHK_CHECKS_DB_ROLES cascade constraints;',
'    DROP TABLE RCA13_ORACHK_CHECKS_DB_MODES cascade constraints;',
'    DROP TABLE RCA13_ORACHK_CHECKS_LINK cascade constraints;',
'    DROP TABLE RCA13_ORACHK_CHECKS_PLATFORM cascade constraints; ',
'    DROP TABLE RCA13_ORACHK_CHECKS_CAND_SYS cascade constraints; ',
'    DROP TABLE RCA13_ORACHK_CHECKS_VERSION cascade constraints; ',
'    DROP SEQUENCE PARAMPATHSEQ; ',
'    DROP PACKAGE RCA13_DOCLIB; ',
'    DROP PACKAGE  RCA13_UTILITY; ',
'    DROP PACKAGE RCA13_MANAGE_AUDIT_CHECKS;',
'    DROP PROCEDURE UserDefPluginXml; ',
'    DROP FUNCTION rca13_getplatformlist; ',
'    DROP FUNCTION rca13_getversionlist; ',
'    DROP FUNCTION rca13_getcandsyslist; ',
'    DROP FUNCTION rca13_getdbtypelist; ',
'    DROP FUNCTION rca13_getdbrolelist;',
'    DROP FUNCTION rca13_getdbmodelist; ',
'    DROP TABLE RCA13_ORACHK_CHK_TYPE cascade constraints; ',
'    DROP TABLE RCA13_ORACHK_DB_TYPES_MASTER cascade constraints; ',
'    DROP TABLE RCA13_ORACHK_DB_ROLES_MASTER cascade constraints; ',
'    DROP TABLE RCA13_ORACHK_DB_MODES_MASTER cascade constraints;  ',
'    DROP TABLE RCA13_ORACHK_COMP_DEP cascade constraints; ',
'    DROP TABLE RCA13_ORACHK_ORACLE_HOME_TYPE cascade constraints; ',
'    DROP TABLE RCA13_ORACHK_CAND_SYS cascade constraints; ',
'    DROP TABLE RCA13_ORACHK_OP_STRING cascade constraints; ',
'    DROP TABLE RCA13_ORACHK_ALERT_LEVEL cascade constraints; ',
'    DROP TABLE RCA13_VERSION cascade constraints; ',
'    DROP TABLE RCA13_DISTRIBUTION cascade constraints; ',
'    DROP TABLE RCA13_PLATFORM cascade constraints; ',
'    DROP TABLE RCA13_ORACHK_LINK cascade constraints; ',
'    DROP TABLE RCA13_ORACHK_AUDIT_CHECKS cascade constraints; ',
'/',
'--Delete user_defined_checks',
'delete from rca13_docs where filename like ''%user_defined_checks%'';',
'commit;',
'/',
'--Drop table trace log which is for Mail Notifications',
'DROP TABLE RCA13_EXCEPTION_LOG cascade constraints;',
'commit;',
'/',
'    ',
'--Drop procedure/function used for configuration of bulk upload mapping',
'DROP PROCEDURE bulkupload;',
'DROP PROCEDURE generate_currentmapping_xml;',
'DROP FUNCTION blob_to_xmltype;',
'delete from rca13_docs where attr1=''MAP_FILE'';',
'DELETE FROM rca13_docs WHERE FILENAME LIKE ''mapping%'';',
'commit;',
'/',
'',
'begin',
'    wwv_flow_api.create_or_remove_file( ',
'        p_location => ''WORKSPACE'',',
'        p_name     => ''rca13_cm_ui.css'',',
'        p_mode     => ''REMOVE'',',
'        p_type     => ''CSS'');',
'end;',
'/',
'',
'',
'begin',
'    wwv_flow_api.create_or_remove_file( ',
'        p_location => ''WORKSPACE'',',
'        p_name     => ''rca13_cm_ui.css'',',
'        p_mode     => ''REMOVE'',',
'        p_type     => ''CSS'');',
'end;',
'/',
'',
''))
,p_required_free_kb=>10240
,p_required_sys_privs=>'CREATE PROCEDURE:CREATE SEQUENCE:CREATE TABLE:CREATE TRIGGER:CREATE VIEW'
);
end;
/
prompt --application/deployment/install
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312100137145696308)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Set plscope_settings'
,p_sequence=>1
,p_script_type=>'INSTALL'
,p_script_clob=>'ALTER SESSION SET PLSCOPE_SETTINGS = ''IDENTIFIERS:NONE'';'
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(308695354134114008)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Release Info'
,p_sequence=>2
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE TABLE "RCA13_RELEASE_INFO" (',
'    "ID" VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE, ',
'    "BUILD_ID" NUMBER, ',
'    "APP_VERSION" VARCHAR2(40 BYTE), ',
'    CONSTRAINT "RCA13_RELEASE_INFO_PK" PRIMARY KEY ("ID"),',
'    CONSTRAINT "RCA13_RELEASE_INFO_UK1" UNIQUE ("BUILD_ID", "APP_VERSION")',
');  ',
'/',
'',
'-- Entries in this table are app release info. ',
'',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(20131217000000,''2.2.3'');',
'commit;',
'/',
'',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(20140530000000,''2.2.5'');',
'commit;',
'/',
'    ',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(20140930000000,''12.1.0.2.1'');',
'commit;',
'/ ',
'',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(20141114000000,''12.1.0.2.2'');',
'commit;',
'/ ',
'    ',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20150703000000''),''12.1.0.2.4'');',
'commit;',
'/ ',
'    ',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20151014000000''),''12.1.0.2.5'');',
'commit;',
'/    ',
'    ',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20160115000000''),''12.1.0.2.6'');',
'commit;',
'/   ',
'    ',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20160516000000''),''12.1.0.2.7'');',
'commit;',
'/   ',
'',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20160831000000''),''12.2.0.1.1(BETA)'');',
'commit;',
'/',
'    ',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20160916000000''),''12.2.0.1.1(BETA)'');',
'commit;',
'/',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312100356192701809)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'rca13_intrack spec'
,p_sequence=>3
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace',
'package rca13_intrack is ',
'    -------------------------------------------------------------------------',
'    -- Generates a unique Identifier',
'    -------------------------------------------------------------------------',
'    function gen_id return number;',
'    -------------------------------------------------------------------------',
'    -- Gets the current user''s authorization level. Can depend on the following:',
'    --  * If access control is currently disabled, returns highest level of 3.',
'    --  * If access control is enabled, but user is not in list, returns 0',
'    --  * If access control is enabled and user is in list, returns their',
'    --    access level.',
'    -------------------------------------------------------------------------',
'    function get_authorization_level (',
'        p_username             varchar2)',
'        return number;',
'    -------------------------------------------------------------------------',
'    -- Gets the set of links displayed on the mobile details summary page (301)',
'    -- for the passed-in type',
'    -------------------------------------------------------------------------',
'    function get_mobile_incident_details',
'    (',
'      p_type    in     varchar2,',
'      p_session in     number,',
'      p_app_id  in     varchar2  default ''7140'',',
'      p_page_id in     varchar2  default ''305''',
'    ) return varchar2;',
'end rca13_intrack ;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312100567966705253)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'error log'
,p_sequence=>4
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table rca13_intrack_errors (',
'    id                 number not null',
'                       constraint rca13_intrack_errors_pk',
'                       primary key,',
'    err_time           timestamp with local time zone',
'                       default localtimestamp',
'                       not null,',
'    app_id             number,',
'    app_page_id        number,',
'    app_user           varchar2(512),',
'    user_agent         varchar2(4000),',
'    ip_address         varchar2(512), -- As reported by owa_util.get_cgi_env',
'    ip_address2       varchar2(512), -- As reported by sys_context',
'    -- From APEX_ERROR.T_ERROR:',
'    message           varchar2(4000), /* Displayed error message */',
'    page_item_name    varchar2(255),  /* Associated page item name */',
'    region_id         number,         /* Associated tabular form region id of the primary application */',
'    column_alias      varchar2(255),  /* Associated tabular form column alias */',
'    row_num           number,         /* Associated tabular form row */',
'    apex_error_code   varchar2(255),  /* Contains the system message code if it''''s an error raised by APEX */',
'    ora_sqlcode       number,         /* SQLCODE on exception stack which triggered the error, NULL if the error was not raised by an ORA error */',
'    ora_sqlerrm       varchar2(4000), /* SQLERRM which triggered the error, NULL if the error was not raised by an ORA error */',
'    error_backtrace   varchar2(4000)  /* Output of dbms_utility.format_error_backtrace or dbms_utility.format_call_stack */',
'    -- END APEX_ERROR.T_ERROR',
');',
'',
'create index rca13_intrack_errors_indx1 on rca13_intrack_errors( err_time );',
'',
'create or replace trigger rca13_intrack_errors_bi_trg',
'    before insert or update on rca13_intrack_errors',
'    for each row',
'begin',
'    if :new.id is null then',
'        select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'') into :new.id from dual;',
'    end if;',
'end;',
'/',
'show errors'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312100746626708476)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Framework Spec'
,p_sequence=>5
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace',
'package rca13_intrack_fw as',
'',
'    function conv_txt_html (',
'        p_txt_message in varchar2 )',
'        return varchar2;',
'',
'    function conv_urls_links (',
'        p_string in varchar2 )',
'        return varchar2;',
'',
'    function tags_cleaner (',
'        p_tags  in varchar2,',
'        p_case  in varchar2 default ''U'' )',
'        return varchar2;',
'',
'    procedure tag_sync (',
'        p_new_tags          in varchar2,',
'        p_old_tags          in varchar2,',
'        p_content_type      in varchar2,',
'        p_content_id        in number );',
'',
'    function selective_escape (',
'        p_text  in varchar2,',
'        p_tags  in varchar2 default ''<h2>,</h2>,<p>,</p>,<b>,</b>,<li>,</li>,<ul>,</ul>,<br />,<i>,</i>,<h3>,</h3>'' )',
'        return varchar2;',
'',
'    function get_preference_value (',
'        p_preference_name in varchar2 )',
'        return varchar2;',
'',
'    procedure set_preference_value (',
'        p_preference_name  in varchar2,',
'        p_preference_value in varchar2 );',
'',
'    function compress_int (',
'        n in integer )',
'        return varchar2;',
'',
'    function apex_error_handling (',
'        p_error in apex_error.t_error )',
'        return apex_error.t_error_result;',
'',
'    procedure show_help_main;',
'',
'    procedure show_help_sidebar;',
'',
'end rca13_intrack_fw;',
'/',
'show errors'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312197541072635907)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'parameters table'
,p_sequence=>6
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE TABLE RCA13_PARAMETERS',
'   (    ',
'    COLLECTION_ID VARCHAR2(40 BYTE), ',
'    DB_NAME VARCHAR2(128 BYTE), ',
'    INSTANCE_NAME VARCHAR2(128 BYTE), ',
'    PARAM_NAME VARCHAR2(256 BYTE), ',
'    VALUE VARCHAR2(512 BYTE)',
'   ) ',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(6816918603491448)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'CM_Upgrade_Mode_On'
,p_sequence=>9
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'DECLARE',
'l_id NUMBER := 999;',
'isUpgradeExists number;',
'BEGIN',
'  select count(1) into isUpgradeExists from rca13_intrack_preferences where PREFERENCE_NAME=''CM_UPGRADE_MODE'';',
'   if isUpgradeExists = 0 then',
'  INSERT INTO RCA13_INTRACK_PREFERENCES ( id,preference_name, preference_value,',
'      preference_description',
'    )',
'    VALUES',
'    ( l_id,',
'      ''CM_UPGRADE_MODE'',',
'      ''Y'',',
'      ''CM upgrading to recent version''',
'    );',
'    else ',
'    UPDATE RCA13_INTRACK_PREFERENCES SET PREFERENCE_VALUE=''Y'' where PREFERENCE_NAME=''CM_UPGRADE_MODE'';',
'    end if;  ',
'  COMMIT;',
'EXCEPTION',
'WHEN dup_val_on_index THEN',
'  NULL;',
'END;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(308695965674325516)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Release Specific Details'
,p_sequence=>10
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'  rBuildId number; --Latest build Id',
'  isColExists number;',
'begin',
' for rec in ( select build_id from rca13_release_info order by build_id desc ) loop',
'   rBuildId := rec.build_id;',
'   exit;',
' end loop;',
'',
' if rBuildId = 20171030000000 then --Always put the latest number here manually      ',
'  -- You are using latest version.',
'  RETURN;',
' end if;',
'',
' begin',
'  insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20140530000000''),''2.2.5'');',
'  commit;',
'  exception when dup_val_on_index then null;',
' end;',
'',
' begin',
'  insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20140930000000''),''12.1.0.2.1'');',
'  commit;',
'  exception when dup_val_on_index then null;',
' end;',
'',
' begin',
'  insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20141114000000''),''12.1.0.2.2'');',
'  commit;',
'  exception when dup_val_on_index then null;',
' end;',
'--No CM changes for the release 12.1.0.2.3',
' begin',
'  insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20150703000000''),''12.1.0.2.4'');',
'  commit;',
'  exception when dup_val_on_index then null;',
' end;',
'',
'begin',
'  insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20151014000000''),''12.1.0.2.5'');',
'  commit;',
'  exception when dup_val_on_index then null;',
' end;',
' ',
' begin',
'  insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20160115000000''),''12.1.0.2.6'');',
'  commit;',
'  exception when dup_val_on_index then null;',
' end;',
'',
' begin',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20160516000000''),''12.1.0.2.7'');',
'commit;',
'exception when dup_val_on_index then null;',
' end;',
'',
'begin',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20160825000000''),''12.2.0.1.1(BETA)'');',
'commit;',
'exception when dup_val_on_index then null;',
' end;',
'',
'begin',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20160916000000''),''12.2.0.1.1'');',
'commit;',
'exception when dup_val_on_index then null;',
' end;',
' ',
'begin',
'insert into RCA13_RELEASE_INFO(BUILD_ID,APP_VERSION) values(to_number(''20171030000000''),''12.2.0.1.4'');',
'commit;',
'exception when dup_val_on_index then null;',
'end;',
' ',
' --Before upgrade stop all jobs',
'begin',
'    dbms_scheduler.stop_job(''RCA13_PROCESS_DATA'', force=>true);',
'    exception when others then null;',
'end;',
'',
'begin',
'    dbms_scheduler.stop_job(''RCA13_NOTIFICATIONS_JOB'', force=>true);',
'    exception when others then null;',
'end;',
' ',
' for rec in ( select build_id bid from rca13_release_info where build_id > rBuildId order by build_id asc ) loop',
'  -- Upgrade app version by version',
'  if rec.bid = 20140530000000  then',
'   EXECUTE IMMEDIATE ''alter table rca13_collections',
'   add (',
'   FAIL_COMMENT VARCHAR2(1000 BYTE),  ',
'   TOOL_VERSION VARCHAR2(100 BYTE),',
'   CURRENT_USER VARCHAR2(100 BYTE),',
'   SKIPPED_CHECKS NUMBER DEFAULT 0,',
'   IS_EXALOGIC NUMBER DEFAULT 0',
'   )'';',
'',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_MAIL_SERVER',
'   (    ',
'    ID VARCHAR2(40 BYTE),',
'    SERVER_NAME VARCHAR2(200 BYTE),',
'    PORT NUMBER(*,0) DEFAULT 25',
'   )'';',
'   ',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_EMAIL_FAILURE',
'   (',
'    EMAIL_FAILURE_ID VARCHAR2(40 BYTE),',
'    DATE_ADDED DATE,',
'    EMAIL_ADDRESS VARCHAR2(1000 BYTE),',
'    SUBJECT VARCHAR2(1000 BYTE),',
'    MESSAGE_TEXT VARCHAR2(4000 BYTE),',
'    MESSAGE_LENGTH NUMBER,',
'    ERROR_TEXT CLOB',
'   )'';',
'',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_EMAIL_SENT',
'   (    ',
'    EMAIL_SENT_ID VARCHAR2(40 BYTE),',
'    USER_ID VARCHAR2(40 BYTE),',
'    EMAIL_ADDRESS VARCHAR2(4000 BYTE),',
'    SENT_DATE DATE,',
'    MESSAGE_TEXT CLOB',
'   )'';',
'',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_USER_DETAILS',
'   (    ',
'    EMAIL_ADDRESS VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    USER_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    IS_NOTIFIED NUMBER DEFAULT 0,',
'    CONSTRAINT RCA13_USER_DETAILS_PK PRIMARY KEY (USER_ID)',
'   )'';',
'',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_COLLECTIONS_DIFF',
'   (    ',
'    JOB_ID VARCHAR2(40 BYTE),',
'    LOB_ID VARCHAR2(40 BYTE),',
'    SYSTEM_ID VARCHAR2(40 BYTE),',
'    DIFF CLOB,',
'    LOB_NAME VARCHAR2(256 BYTE),',
'    SYSTEM_NAME VARCHAR2(256 BYTE)',
'   )'';',
'',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_NOTIFICATION_JOBS',
'   (    ',
'    JOB_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    START_TIME DATE,',
'    END_TIME DATE,',
'    CONSTRAINT RCA13_NOTIFICATION_JOBS_PK PRIMARY KEY (JOB_ID)',
'   )'';',
'',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_NOTIFICATION_JOB_DETAILS',
'   (',
'    JOB_ID VARCHAR2(40 BYTE),',
'    SYSTEM_ID VARCHAR2(40 BYTE),',
'    START_CDATE TIMESTAMP (6),',
'    END_CDATE TIMESTAMP (6)',
'   )'';',
' ',
'   EXECUTE IMMEDIATE ''CREATE INDEX RCA13_NOTIF_JOB_DTLS_IND1 ON RCA13_NOTIFICATION_JOB_DETAILS (JOB_ID)'';',
'   ',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_APEX_DETAILS',
'   (    ',
'    URL VARCHAR2(1000 BYTE),',
'    APP_ID NUMBER',
'   )'';',
' elsif rec.bid = 20140930000000 then',
'   --DDL changes done for 12.1.0.2.1',
'   select count(1) into isColExists from user_tab_columns where table_name = ''AUDITCHECK_RESULT'' and column_name in (''TARGET_TYPE'',''TARGET_VALUE'');',
'   if isColExists = 0 then',
'     EXECUTE IMMEDIATE ''ALTER TABLE AUDITCHECK_RESULT add("TARGET_TYPE" VARCHAR2(128 BYTE),"TARGET_VALUE" VARCHAR2(256 BYTE))'';',
'   end if;  ',
'   ',
'   select count(1) into isColExists from user_tab_columns where table_name = ''AUDITCHECK_PATCH_RESULT'' and column_name =''UPLOAD_COLLECTION_NAME'';',
'   if isColExists = 0 then',
'     EXECUTE IMMEDIATE ''alter table auditcheck_patch_result add (UPLOAD_COLLECTION_NAME VARCHAR2(256))'';',
'   end if;',
'',
'   EXECUTE IMMEDIATE ''alter table rca13_collections add (PROFILES VARCHAR2(2000))'';',
'',
'   EXECUTE IMMEDIATE ''alter table rca13_ignored_checks add (COLLECTION_NAME VARCHAR2(256))'';   ',
'',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_PARAMETERS',
'   (    ',
'    COLLECTION_ID VARCHAR2(40 BYTE),',
'    DB_NAME VARCHAR2(128 BYTE),',
'    INSTANCE_NAME VARCHAR2(128 BYTE),',
'    PARAM_NAME VARCHAR2(256 BYTE),',
'    VALUE VARCHAR2(512 BYTE)',
'   )'';        ',
'',
'  EXECUTE IMMEDIATE ''DROP SEQUENCE RCA13_JOB_SEQ'';',
'',
'  EXECUTE IMMEDIATE ''CREATE SEQUENCE RCA13_JOB_SEQ  MINVALUE 1 MAXVALUE 9999999999999999999 INCREMENT BY 1 CACHE 20 CYCLE'';',
' elsif rec.bid = 20141114000000 then',
'   --DDL changes done for 12.1.0.2.2',
'   EXECUTE IMMEDIATE ''alter table rca13_docs add (SR_BUG_NUM VARCHAR2(2000))'';',
'   EXECUTE IMMEDIATE ''alter table rca13_collections add (SR_BUG_NUM VARCHAR2(2000))'';',
'   begin',
'    insert into RCA13_INTRACK_PREFERENCES (id,preference_name,preference_value,preference_description) values (12,''SHOW_SR_BUG_INFO'',''N'',''It is Y for internal usage and always N for customers'');',
'    commit;',
'   exception when dup_val_on_index then null;',
'   end;',
' elsif rec.bid = 20150703000000 then',
'   --DDL changes done for 12.1.0.2.4  ',
'   EXECUTE IMMEDIATE ''alter table rca13_homes modify (USER_NAME varchar2(128))'';',
'',
' elsif rec.bid=20151014000000 then',
'    -- DDL changes done for 12.1.0.2.5',
'     EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_AUDIT_CHECKS',
' (CHECK_ID VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,',
'    AUDIT_CHECK_NAME VARCHAR2(100 BYTE),  ',
'    ACTION_TYPE VARCHAR2(20),',
'    ON_HOLD NUMBER,',
' PARAM_PATH VARCHAR2(4000 BYTE), -- parampath<seq> (add change the seq, else hold the same number)',
'  COMMAND VARCHAR2(4000 BYTE),',
'  COMMAND_REPORT VARCHAR2(4000 BYTE),',
'  OPERATOR_STRING VARCHAR2(10 BYTE),',
'  COMPARE_VALUE VARCHAR2(4000 BYTE),    ',
'  COMPONENT_DEPENDENCY VARCHAR2(4000 BYTE),',
'  ORACLE_HOME_TYPE VARCHAR2(20 BYTE),',
'  ALERT_LEVEL VARCHAR2(20 BYTE),',
'  PASS_MSG VARCHAR2(4000 BYTE),',
'  FAIL_MSG VARCHAR2(4000 BYTE),',
'  BENEFIT_IMPACT VARCHAR2(4000 BYTE),',
'  RISK VARCHAR2(4000 BYTE),',
'  ACTION_REPAIR VARCHAR2(4000 BYTE),',
'  CREATE_USER VARCHAR2(40 BYTE),',
'  CREATE_DATE DATE DEFAULT SYSDATE,',
'  MODIFY_USER VARCHAR2(40 BYTE),',
'  MODIFY_DATE DATE DEFAULT SYSDATE,',
' CONSTRAINT AUDITCHECK_UNQ1 UNIQUE (CHECK_ID),',
' CONSTRAINT AUDITCHECKNAME_UNQ1 UNIQUE (AUDIT_CHECK_NAME))'';',
'',
'   EXECUTE IMMEDIATE ''COMMENT ON COLUMN RCA13_ORACHK_AUDIT_CHECKS.ACTION_TYPE IS ''''SQL,OS'''''';',
'   EXECUTE IMMEDIATE ''COMMENT ON COLUMN RCA13_ORACHK_AUDIT_CHECKS.PARAM_PATH IS ''''PARAM_PATH is not required for OS AUDIT CHECKS'''''';',
'   EXECUTE IMMEDIATE ''COMMENT ON COLUMN RCA13_ORACHK_AUDIT_CHECKS.OPERATOR_STRING IS ''''-eg,-ne,-gt,-lt,-ge,-le,=,!=,-n,-z'''''';',
'   EXECUTE IMMEDIATE ''COMMENT ON COLUMN RCA13_ORACHK_AUDIT_CHECKS.COMPARE_VALUE IS ''''WHATEVER SINGLE RETURN NUMERIC OR STRING VALUE'''''';',
'   EXECUTE IMMEDIATE ''COMMENT ON COLUMN RCA13_ORACHK_AUDIT_CHECKS.COMPONENT_DEPENDENCY IS ''''Valid entries are ASM, CRS, RDBMS'''''';',
'   EXECUTE IMMEDIATE ''COMMENT ON COLUMN RCA13_ORACHK_AUDIT_CHECKS.ORACLE_HOME_TYPE IS ''''Valid entries are ASM, CRS, RDBMS'''''';',
'   EXECUTE IMMEDIATE ''COMMENT ON COLUMN RCA13_ORACHK_AUDIT_CHECKS.ALERT_LEVEL IS ''''WARN,FAIL,INFO'''''';',
'   ',
'   ',
'    EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_CHK_TYPE',
'   (NAME VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    VALUE VARCHAR2(40 BYTE)',
'   )'';',
'   ',
'   ',
'    EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_DB_TYPES_MASTER',
'   (DATABASE_TYPE_ID VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,  ',
'    DATABASE_TYPE VARCHAR2(40 BYTE),',
'   CONSTRAINT DB_TYPE_PK PRIMARY KEY (DATABASE_TYPE_ID))'';',
'   EXECUTE IMMEDIATE ''COMMENT ON COLUMN RCA13_ORACHK_DB_TYPES_MASTER.DATABASE_TYPE IS ''''Valid entries are CDB,PDB,NORMAL'''''';',
'   ',
'   ',
'    EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_DB_ROLES_MASTER',
'   (    DATABASE_ROLE_ID VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,  ',
'    DATABASE_ROLE VARCHAR2(40 BYTE),',
'    CONSTRAINT DB_ROLE_PK PRIMARY KEY (DATABASE_ROLE_ID))'';',
'    EXECUTE IMMEDIATE ''COMMENT ON COLUMN RCA13_ORACHK_DB_ROLES_MASTER.DATABASE_ROLE IS ''''Valid entries are PRIMARY,PHYSICAL_STANDBY,LOGICAL_STANDBY'''''';',
'    ',
'    EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_DB_MODES_MASTER',
'   (    DATABASE_MODE_ID VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,  ',
'    DATABASE_MODE VARCHAR2(40 BYTE),',
'    CONSTRAINT DATABASE_MODE_PK PRIMARY KEY (DATABASE_MODE_ID))'';',
'    EXECUTE IMMEDIATE ''COMMENT ON COLUMN RCA13_ORACHK_DB_MODES_MASTER.DATABASE_MODE IS ''''1 = NOMOUNT, 2 = MOUNT, 3 = OPEN'''''';',
'    ',
'    EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_COMP_DEP',
'   (COMP_DEP_ID VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,  ',
'    COMP_DEP_NAME VARCHAR2(40 BYTE)',
'   )'';',
'   EXECUTE IMMEDIATE ''COMMENT ON COLUMN RCA13_ORACHK_COMP_DEP.COMP_DEP_NAME IS ''''Valid entries are  ASM, CRS, RDBMS'''''';',
'   ',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_ORACLE_HOME_TYPE',
'   (ORA_HOME_ID VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,  ',
'    ORA_HOME_NAME VARCHAR2(40 BYTE)',
'   )'';',
'   EXECUTE IMMEDIATE ''COMMENT ON COLUMN RCA13_ORACHK_ORACLE_HOME_TYPE.ORA_HOME_NAME IS ''''Valid entries are ASM, CRS, RDBMS'''''';',
'   ',
'   ',
'    EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_CAND_SYS',
'     (CAND_SYS_ID VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,  ',
'    CAND_SYS_NAME VARCHAR2(40 BYTE),',
'  CONSTRAINT SF_CANDSYS_PK PRIMARY KEY (CAND_SYS_ID))'';  ',
'  EXECUTE IMMEDIATE ''COMMENT ON COLUMN RCA13_ORACHK_CAND_SYS.CAND_SYS_NAME IS ''''Valid entries are RACCHECK, SIDB'''''';',
'   ',
'    EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_OP_STRING',
'   (NAME VARCHAR2(150 BYTE) NOT NULL ENABLE,',
'    VALUE VARCHAR2(40 BYTE)',
'   )'';',
'   ',
'    EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_ALERT_LEVEL',
'   (ALERT_LEVEL VARCHAR2(150 BYTE),',
'    ALERT_TYPE VARCHAR2(150 BYTE)',
'   )'';',
'   ',
'    EXECUTE IMMEDIATE ''CREATE TABLE RCA13_VERSION',
'   (VERSION_ID VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,',
'    VERSION_NAME VARCHAR2(30 BYTE) NOT NULL ENABLE,',
'    IS_PREFERRED NUMBER(1,0) DEFAULT 0,',
'    DATE_ADDED DATE DEFAULT sysdate NOT NULL ENABLE,',
'   CONSTRAINT VERSION_PK PRIMARY KEY (VERSION_ID))'';',
'   ',
'    EXECUTE IMMEDIATE ''CREATE TABLE RCA13_DISTRIBUTION',
'   (DISTRIBUTION_OS_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    PLATFORM_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    OSDIST VARCHAR2(40 BYTE),',
'    OSVERSION VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    OSKERNEL VARCHAR2(40 BYTE),',
'    OSDIST_REP_KERNEL NUMBER,',
'     CONSTRAINT DISTRIBUTION_OS_UK UNIQUE (PLATFORM_ID, OSDIST, OSVERSION, OSKERNEL),',
'     CONSTRAINT DISTRIBUTION_OS_PK PRIMARY KEY (DISTRIBUTION_OS_ID))'';',
'     ',
'      EXECUTE IMMEDIATE ''CREATE TABLE RCA13_PLATFORM',
'  (PLATFORM_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    NAME VARCHAR2(100 BYTE) NOT NULL ENABLE,',
'    PRODUCT_LINE_ID          NUMBER,',
'    IS_PREFERRED NUMBER(1,0) DEFAULT 0,',
'    CONSTRAINT PLATFORM_REF_UNQ_NAME UNIQUE (NAME),',
'    CONSTRAINT PLATFORM_REF_PK PRIMARY KEY (PLATFORM_ID))'';',
'    ',
'    EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_LINK',
'   (SF_LINK_ID VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,',
'    NAME VARCHAR2(200 BYTE) NOT NULL ENABLE,',
'    LINK VARCHAR2(1000 BYTE),',
'    TYPE  NUMBER,',
'   CONSTRAINT SF_LINK_PK PRIMARY KEY (SF_LINK_ID))'';',
'   ',
'      -- For detail based on check_id',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_CHECKS_DB_TYPES',
'   (CHECK_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    DATABASE_TYPE_ID VARCHAR2(40 BYTE),   ',
'   CONSTRAINT dbtype_fk FOREIGN KEY (DATABASE_TYPE_ID) REFERENCES RCA13_ORACHK_DB_TYPES_MASTER(DATABASE_TYPE_ID))'';',
'   ',
' ',
' ',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_CHECKS_DB_ROLES',
'   (CHECK_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    DATABASE_ROLE_ID VARCHAR2(40 BYTE),  ',
'    CONSTRAINT dbrole_fk FOREIGN KEY (DATABASE_ROLE_ID) REFERENCES RCA13_ORACHK_DB_ROLES_MASTER(DATABASE_ROLE_ID))'';',
'   ',
'   ',
' ',
'  EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_CHECKS_DB_MODES',
'   (CHECK_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    DATABASE_MODE_ID VARCHAR2(40 BYTE),',
'    CONSTRAINT dbmode_fk FOREIGN KEY (DATABASE_MODE_ID) REFERENCES RCA13_ORACHK_DB_MODES_MASTER(DATABASE_MODE_ID)    ',
'   )'';',
'   ',
' ',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_CHECKS_LINK',
'   (CHECK_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    SF_LINK_ID VARCHAR2(40 BYTE),',
'    CONSTRAINT sflink_fk FOREIGN KEY (SF_LINK_ID) REFERENCES RCA13_ORACHK_LINK(SF_LINK_ID)',
'   )'';',
'   ',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_CHECKS_PLATFORM',
'   (CHECK_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    PLATFORM_ID VARCHAR2(40 BYTE),',
'    DISTRIBUTION_OS_ID VARCHAR2(40 BYTE),',
'    CONSTRAINT platform_fk FOREIGN KEY (PLATFORM_ID) REFERENCES RCA13_PLATFORM(PLATFORM_ID),',
'    CONSTRAINT distribution_fk FOREIGN KEY (DISTRIBUTION_OS_ID) REFERENCES RCA13_DISTRIBUTION(DISTRIBUTION_OS_ID)',
'   )'';',
'   ',
'      EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_CHECKS_VERSION',
'   (CHECK_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    VERSION_ID VARCHAR2(40 BYTE),',
'    CONSTRAINT version_fk FOREIGN KEY (VERSION_ID) REFERENCES RCA13_VERSION(VERSION_ID)',
'   )'';',
'',
'     EXECUTE IMMEDIATE ''CREATE TABLE RCA13_ORACHK_CHECKS_CAND_SYS',
'(CHECK_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'CAND_SYS_ID VARCHAR2(40 BYTE),',
'CONSTRAINT candsys_fk FOREIGN KEY (CAND_SYS_ID) REFERENCES RCA13_ORACHK_CAND_SYS(CAND_SYS_ID)',
')'';     ',
'   ',
'   EXECUTE IMMEDIATE ''CREATE SEQUENCE PARAMPATHSEQ',
'      INCREMENT BY 1',
'      START WITH 1',
'      MAXVALUE   999999999999999999',
'      NOCACHE',
'      NOCYCLE'';',
'      ',
'elsif rec.bid=20160115000000 then',
'    -- DDL changes done for 12.1.0.2.6',
'   EXECUTE IMMEDIATE ''alter table rca13_orachk_audit_Checks add USER_COMMENTS VARCHAR2(4000)'';    ',
'   EXECUTE IMMEDIATE ''alter table rca13_user_details add emailalert varchar2(50)'';    ',
'   EXECUTE IMMEDIATE ''alter table rca13_user_details add tablespacealert varchar2(50)'';  ',
'   EXECUTE IMMEDIATE ''ALTER TABLE RCA13_COLLECTIONS_DIFF ADD DIFF_TYPE VARCHAR2(50)'';',
'   EXECUTE IMMEDIATE ''CREATE TABLE RCA13_EXCEPTION_LOG(TEXT VARCHAR2(4000),LOG_DATE TIMESTAMP DEFAULT SYSTIMESTAMP)'';',
'',
'elsif rec.bid=20160516000000 then',
'    -- Introduced purging job in 12.1.0.2.7',
'   begin',
'   insert into rca13_intrack_preferences(id,preference_name,preference_value,preference_description) values(14,''PURGE_JOB_INTERVAL'',3,''MONTHLY'');',
'   insert into rca13_intrack_preferences(id,preference_name,preference_value,preference_description) values(15,''CAPTURE_USER_DETAIL'',''Y'',''Capture user detail when they login,if yes(Y)'');',
'   commit;',
'   exception when dup_val_on_index then null;',
'   end;',
'elsif rec.bid = 20160831000000 then',
'    null;',
'elsif rec.bid = 20160916000000 then',
'    null;',
'elsif rec.bid = 20171030000000 then',
'    null;',
' end if;    ',
'end loop;',
'end;',
'/',
'',
'--- checking COLLECTION_DATE column datatype in AUDITCHECK_PATCH_RESULT table--------   ',
'declare',
'isDataType number;',
'begin',
'select count(1) into isDataType from user_tab_columns where table_name = ''AUDITCHECK_PATCH_RESULT''',
'and column_name =''COLLECTION_DATE'' and data_type=''TIMESTAMP(9) WITH LOCAL TIME ZONE'';',
'if isDataType = 1 then',
'     EXECUTE IMMEDIATE ''alter table auditcheck_patch_result rename column COLLECTION_DATE to COLLECTION_DATE_TEMP'';',
'     EXECUTE IMMEDIATE ''alter table auditcheck_patch_result add (COLLECTION_DATE TIMESTAMP(6))'';',
'     end if;',
'end;',
'/',
'declare',
'isColExists number;',
'begin',
'select count(1) into isColExists from user_tab_columns where table_name = ''AUDITCHECK_PATCH_RESULT''',
'and column_name =''COLLECTION_DATE_TEMP'';',
'if isColExists = 1 then',
'     EXECUTE IMMEDIATE ''update auditcheck_patch_result set COLLECTION_DATE = COLLECTION_DATE_TEMP'';                                    ',
'     commit;                                                                                                       ',
'     EXECUTE IMMEDIATE ''alter table auditcheck_patch_result modify COLLECTION_DATE NOT NULL'';                      ',
'     EXECUTE IMMEDIATE ''alter table auditcheck_patch_result drop column COLLECTION_DATE_TEMP'';',
' end if;',
'end;',
'/',
'DECLARE',
'  A NUMBER(1) := 0;    ',
'begin',
'  SELECT CASE WHEN EXISTS(SELECT * FROM USER_INDEXES WHERE INDEX_NAME = ''AUDITCHECK_PATCH_RESULT_CD'')',
'         THEN 1',
'         ELSE 0',
'         END CASE INTO A',
'    FROM DUAL;',
'  ',
'  IF A = 0 THEN',
'    execute immediate '' CREATE INDEX AUDITCHECK_PATCH_RESULT_CD ON AUDITCHECK_PATCH_RESULT  ("COLLECTION_DATE") '';',
'  END IF;  ',
'end;',
'/    ',
'---------------------------   ----------------------------------------------------------     '))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312100937407715292)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'seqence'
,p_sequence=>10
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create sequence   rca13_intrack_seq  minvalue 1000 maxvalue 999999999999999999999999999 increment by 1 start with 1000 cache 20 noorder  nocycle',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312203454031318011)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'manage parameters '
,p_sequence=>20
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE RCA13_MANAGE_PARAMS AS ',
' procedure processParamFiles(collectionId varchar2);',
'END RCA13_MANAGE_PARAMS;',
'/',
'',
'create or replace PACKAGE BODY RCA13_MANAGE_PARAMS AS',
'',
'--------------------------------------------------------------------------------',
'procedure processParamFiles(collectionId varchar2) is ',
'  CURSOR cur IS SELECT COLLECTION_FILE_ID cfid,short_file_name sfn FROM rca13_COLLECTION_FILES',
'  WHERE COLLECTION_ID = collectionId and short_file_name like ''d_v_parameter_%.out'' ',
'  and short_file_name not like ''d_v_parameter_u_%.out''',
'  ORDER BY short_file_name;',
'  dbName varchar2(128);',
'  instName varchar2(128);',
'  nameF varchar2(256);',
'  valueF varchar2(512);',
'BEGIN',
'  for rec1 in cur loop',
'    --Get db name',
'    dbName := substr(rec1.sfn,15,length(rec1.sfn)-18);',
'    for line in ( select line_text lt from rca13_collection_file_data where collection_file_id = rec1.cfid order by line_number ) loop ',
'      nameF  := trim(substr(line.lt,1,(instr(line.lt ,''='',1,1)-1)));',
'      valueF := trim(substr(line.lt,(instr(line.lt , ''='' ,1,1)+1)));       ',
'      -- Get db instName from name      ',
'      instName :=  substr(nameF,1,instr(nameF,''.'',1,1)-1);',
'      nameF := substr(nameF,(instr(nameF,''.'',1,1)+1));',
'      continue when nameF is null OR instName is null;',
'      insert into rca13_parameters(collection_id,DB_NAME,INSTANCE_NAME,PARAM_NAME,VALUE)',
'      values (collectionId,dbName,instName,nameF,valueF);',
'    end loop;',
'    commit;',
'  end loop;',
'END;',
'--------------------------------------------------------------------------------',
'END RCA13_MANAGE_PARAMS;',
'/',
'    ',
'    '))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312101150566719139)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'time zone'
,p_sequence=>25
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table rca13_intrack_tz_pref (',
'  id                        number not null',
'                            constraint rca13_intrack_tz_pref_pk',
'                            primary key,',
'  row_version_number        integer,',
'  userid                    varchar2(255) not null,',
'  TIMEZONE_PREFERENCE       varchar2(255) not null,',
'  created                   timestamp with local time zone,',
'  created_by                varchar2(255),',
'  updated                   timestamp with local time zone,',
'  updated_by                varchar2(255)',
'  );',
'  ',
'create or replace trigger rca13_intrack_tz_pref_trg',
'   before insert or update on rca13_intrack_tz_pref',
'   for each row',
'begin',
'   if :new."ID" is null then',
'     select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'') into :new.id from dual;',
'   end if;',
'   if inserting then',
'       :new.created := localtimestamp;',
'       :new.created_by := nvl(wwv_flow.g_user,user);',
'       :new.updated := localtimestamp;',
'       :new.updated_by := nvl(wwv_flow.g_user,user);',
'       :new.row_version_number := 1;',
'   elsif updating then',
'       :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'   end if;',
'   if inserting or updating then',
'       :new.updated := localtimestamp;',
'       :new.updated_by := nvl(wwv_flow.g_user,user);',
'   end if;',
'   if :new.TIMEZONE_PREFERENCE is null then',
'       :new.timezone_preference := ''UTC'';',
'   end if;',
'end;',
'/',
'alter trigger rca13_intrack_tz_pref_trg enable;'))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312101364419723160)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Access Control Tables'
,p_sequence=>30
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table rca13_intrack_access_levels (',
'    id                      number              not null',
'                                                constraint RCA13_INTRACK_ACCESS_LEVE_PK',
'                                                primary key,',
'    access_level            varchar2(30)        not null',
'                                                constraint RCA13_INTRACK_ACCESS_LEV_CHK1',
'                                                check (access_level in (',
'                                                    ''Administrator'',',
'                                                    ''Contributor'',',
'                                                    ''Reader'' )),',
'    row_version             number )',
'/',
'create unique index RCA13_INTRACK_ACCESS_LEVE_UK1 on rca13_intrack_access_levels(access_level);',
'',
'create table rca13_intrack_users (',
'    id                      number              not null',
'                                                constraint RCA13_INTRACK_USERS_PK',
'                                                primary key,',
'    username                varchar2(255)       not null',
'                                                constraint RCA13_INTRACK_USERS_CHK1',
'                                                check (upper(username)=username),',
'    access_level_id         number              not null',
'                                                constraint RCA13_INTRACK_USERS_RCA13_FK1',
'                                                references rca13_intrack_access_levels,',
'    account_locked          varchar2(1)         not null',
'                                                constraint RCA13_INTRACK_USERS_CHK2',
'                                                check (account_locked in (''Y'',''N'')),',
'    first_name              varchar2(255),',
'    last_name               varchar2(255),',
'    country_id              varchar2(255),',
'    email                   varchar2(255),',
'    additional_info         varchar2(4000),',
'    flex_01                 varchar2(4000),',
'    flex_02                 varchar2(4000),',
'    flex_03                 varchar2(4000),',
'    flex_04                 varchar2(4000),',
'    --',
'    row_version             number,',
'    created_by              varchar2(255)       not null,',
'    created                 timestamp with local time zone,',
'    updated_by              varchar2(255),',
'    updated                 timestamp with local time zone )',
'/',
'',
'create unique index RCA13_INTRACK_USERS_UK1 on rca13_intrack_users (username);',
'',
'create index RCA13_INTRACK_USERS_INDX1 on rca13_intrack_users (access_level_id);',
'',
'create or replace trigger RCA13_INTRACK_USERS_TRG',
'    before insert or update on RCA13_INTRACK_USERS',
'    for each row',
'begin',
'    if inserting then',
'        if :new.id is null then',
'            :new.id := rca13_intrack.gen_id();',
'        end if;',
'        :new.created_by         := nvl(v(''APP_USER''), USER);',
'        :new.created            := localtimestamp;',
'        :new.row_version        := 1;',
'        if :new.account_locked is null then',
'            :new.account_locked := ''N'';    ',
'        end if;',
'    end if;',
'    if updating then',
'            :new.updated_by         := nvl(v(''APP_USER''), USER);',
'            :new.updated            := localtimestamp;',
'            :new.row_version        := nvl(:old.row_version,1) + 1;                                   ',
'    end if;',
'    -- Always store username as upper case',
'    :new.username := upper(:new.username);',
'end;',
'/',
'',
'alter trigger RCA13_INTRACK_USERS_TRG enable;',
'',
'create or replace trigger RCA13_INTRACK_USERS_BD_TRG',
'    before delete on rca13_intrack_users',
'    for each row',
'declare',
'    pragma autonomous_transaction;',
'begin',
'    -- Disallow deletes to a user''s own record unless last one.',
'    if v(''APP_USER'') = upper(:old.username) then',
'       for c1 in (',
'          select count(*) cnt',
'            from rca13_intrack_users',
'           where id != :old.id )',
'       loop',
'          if c1.cnt > 0 then',
'             raise_application_error(-20002, ''Delete disallowed, you cannot delete your own access control details.'');',
'          end if;',
'       end loop;',
'    end if;    ',
'end;',
'/',
'',
'alter trigger RCA13_INTRACK_USERS_BD_TRG enable;',
'',
'create table rca13_intrack_error_lookup (',
'    constraint_name         varchar2(30)        not null',
'                                                constraint RCA13_INTRACK_ERROR_LOOKU_PK',
'                                                primary key,',
'    message                 varchar2(4000)      not null,',
'    language_code           varchar2(30)        not null',
')',
'/',
'    ',
'create unique index RCA13_INTRACK_ERROR_LOOKU_UK1 on rca13_intrack_error_lookup (constraint_name,language_code);',
'/',
'insert into rca13_intrack_access_levels (id, access_level) values (1,''Reader'');',
'insert into rca13_intrack_access_levels (id, access_level) values (2,''Contributor'');',
'insert into rca13_intrack_access_levels (id, access_level) values (3,''Administrator'');',
'',
'',
'insert into rca13_intrack_error_lookup (constraint_name, message, language_code) values (''RCA13_INTRACK_USERS_UK1'', ''Username must be unique.'', ''en'');',
'',
'commit;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312101544810726934)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'countries'
,p_sequence=>35
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table rca13_intrack_countries (',
'    id                         number primary key,',
'    row_version_number         number,',
'    row_key                    varchar2(255),',
'    --',
'    country_code               varchar2(30),',
'    country_name               varchar2(255),',
'    --',
'    flex_01                    varchar2(4000),',
'    flex_02                    varchar2(4000),',
'    flex_03                    varchar2(4000),',
'    flex_04                    varchar2(4000),',
'    --',
'    created_by                 varchar2(255),',
'    created                    timestamp with local time zone,',
'    updated_by                 varchar2(255),',
'    updated                    timestamp with local time zone',
');',
'',
'',
'create or replace trigger rca13_intrack_countries_trg',
'before insert or update on rca13_intrack_countries',
'    for each row',
'begin',
'    if inserting and :new.id is null then',
'        select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'') into :new.id from dual;',
'    end if;',
'    if inserting then',
'        :new.row_version_number := 1;',
'        :NEW.CREATED := systimestamp;',
'        :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'    end if;',
'    if updating then',
'        :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'        :NEW.UPDATED := systimestamp;',
'        :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'    end if;',
'end;',
'/',
'show errors'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312101758663730918)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Notifications'
,p_sequence=>37
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table rca13_intrack_notifications (',
'    id                        number            not null',
'                                                constraint RCA13_INTRACK_NOTIFICATIO_PK',
'                                                primary key,',
'    row_version_number        number,',
'    notification_name         varchar2(255)     not null,',
'    notification_description  varchar2(4000)    null,',
'    --',
'    notification_type         varchar2(30)      not null',
'                                                constraint RCA13_INTRACK_NOTIFICATI_CHK1',
'                                                check (notification_type in (''RED'',''YELLOW'')),',
'    --',
'    display_sequence          number,',
'    display_from              timestamp with local time zone,',
'    display_until             timestamp with local time zone,',
'    --',
'    created_by                varchar2(255)       not null,',
'    created                   timestamp with local time zone,',
'    updated_by                varchar2(255)       not null,',
'    updated                   timestamp with local time zone )',
'/',
'create unique index RCA13_INTRACK_NOTIFICATIO_UK on rca13_intrack_notifications (notification_name);',
'/',
'',
'create or replace trigger RCA13_INTRACK_NOTIFIC_TRG',
'before insert or update on rca13_intrack_notifications',
'    for each row',
'begin',
'    if inserting and :new.id is null then',
'        select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'        into :new.id',
'        from dual;',
'    end if;',
'    if inserting then',
'        :new.created_by := nvl(v(''APP_USER''),USER);',
'        :new.created := localtimestamp;',
'        :new.updated_by := nvl(v(''APP_USER''),USER);',
'        :new.updated := localtimestamp;',
'        :new.row_version_number := 1;',
'    end if;',
'    if updating then',
'        :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'        :new.updated_by := nvl(v(''APP_USER''),USER);',
'        :new.updated    := localtimestamp;',
'    end if;',
'    if :new.notification_type is null then',
'       :new.notification_type := ''MANUAL'';',
'    end if;',
'end;',
'/',
'show errors',
'',
'alter trigger RCA13_INTRACK_NOTIFIC_TRG enable;',
'/',
'  ',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312101937669734284)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Preferences tables'
,p_sequence=>40
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table RCA13_INTRACK_PREFERENCES (',
'    id                      number              not null',
'                                                constraint RCA13_INTRACK_PREFERENCES_PK',
'                                                primary key,',
'    preference_name         varchar2(255)       not null',
'                                                constraint RCA13_INTRACK_PREFERENCE_CHK1',
'                                                check (upper(preference_name)=preference_name),',
'    preference_value        varchar2(255)       not null,',
'    preference_description  varchar2(4000)      null,',
'    created_by              varchar2(255)       not null,',
'    created                 timestamp with local time zone,',
'    updated_by              varchar2(255),',
'    updated                 timestamp with local time zone )',
'/',
'create unique index RCA13_INTRACK_PREFERENCES_UK1 on RCA13_INTRACK_PREFERENCES (preference_name);',
'/',
'',
'create or replace trigger RCA13_INTRACK_PREFERENCES_TRG',
'before insert or update on RCA13_INTRACK_PREFERENCES',
'    for each row',
'begin',
'    if inserting and :new.id is null then',
'        select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'        into :new.id',
'        from dual;',
'    end if;',
'    if inserting then',
'        :new.created_by := nvl(v(''APP_USER''),USER);',
'        :new.created    := localtimestamp;',
'    end if;',
'    if updating then',
'        :new.updated_by := nvl(v(''APP_USER''),USER);',
'        :new.updated    := localtimestamp;',
'    end if;',
'    :new.preference_name := upper(:new.preference_name);',
'end;',
'/',
'alter trigger RCA13_INTRACK_PREFERENCES_TRG enable;',
'/',
'insert into RCA13_INTRACK_PREFERENCES (id, preference_name, preference_value) values (1, ''ACCESS_CONTROL_ENABLED'', ''N'');',
'insert into RCA13_INTRACK_PREFERENCES (id, preference_name, preference_value) values (2, ''ACCESS_CONTROL_SCOPE'', ''ACL_ONLY'');    ',
'insert into RCA13_INTRACK_PREFERENCES (id,preference_name,preference_value,preference_description) values (3,''DEFAULT_STATUS'',''1'',''ID column value from status table'');',
'insert into RCA13_INTRACK_PREFERENCES (id,preference_name,preference_value,preference_description) values (4,''DEFAULT_CATEGORY'',''1'',''ID column value from category table'');',
'insert into RCA13_INTRACK_PREFERENCES (id,preference_name,preference_value,preference_description) values (5,''DEFAULT_URGENCY'',''3'',''ID column value from urgency table'');',
'insert into RCA13_INTRACK_PREFERENCES (id,preference_name,preference_value,preference_description) values (6,''DEFAULT_SEVERITY'',''3'',''ID column value from severity table'' );',
'insert into RCA13_INTRACK_PREFERENCES (id,preference_name,preference_value,preference_description) values (7,''SYSTEM_NAME'',''Collection Manager'',''Any name you like'');',
'insert into RCA13_INTRACK_PREFERENCES (id,preference_name,preference_value,preference_description) values (8,''AUTO_ASSIGN'',''Y'',''valid values are Y and N, if Y new tickets will be auto assigned'');',
'insert into RCA13_INTRACK_PREFERENCES (id,preference_name,preference_value,preference_description) values (9,''ALLOW_ATTACHMENTS'',''Y'',''valid values are Y and N, if Y attachements will be exposed in the UI'');',
'insert into RCA13_INTRACK_PREFERENCES (id,preference_name,preference_value,preference_description) values (10,''DEFAULT_BU_NAME'',''Business Unit'',''Customers can give name what ever they want'');',
'insert into RCA13_INTRACK_PREFERENCES (id,preference_name,preference_value,preference_description) values (11,''DEFAULT_SYS_NAME'',''System'',''Customers can give name what ever they want'');',
'insert into RCA13_INTRACK_PREFERENCES (id,preference_name,preference_value,preference_description) values (12,''SHOW_SR_BUG_INFO'',''N'',''It is Y for internal usage and always N for customers'');',
'insert into RCA13_INTRACK_PREFERENCES (id,preference_name,preference_value,preference_description) values (13,''SHOW_CUSTOMER_COLLECTIONS'',''N'',''It is Y for internal usage and always N for customers'');',
'insert into rca13_intrack_preferences(id,preference_name,preference_value,preference_description) values(14,''PURGE_JOB_INTERVAL'',3,''MONTHLY'');',
'insert into rca13_intrack_preferences(id,preference_name,preference_value,preference_description) values(15,''CAPTURE_USER_DETAIL'',''Y'',''Capture user detail when they login,if yes(Y)'');',
'commit;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312102147019737036)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'tags table'
,p_sequence=>50
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE TABLE RCA13_INTRACK_TAGS (',
'    id                      number primary key,',
'    tag                     varchar2(255) not null,',
'    content_id              number,',
'    content_type            varchar2(30)',
'                            constraint RCA13_INTRACK_TAGS_CHK1 check',
'                            (content_type in (''INCIDENT'',''CUSTOMER'',''FILE'')),',
'    --',
'    created                 timestamp with local time zone,',
'    created_by              varchar2(255),',
'    updated                 timestamp with local time zone,',
'    updated_by              varchar2(255)',
'    )',
'/',
'',
'create or replace trigger RCA13_INTRACK_TAGS_TRG',
'   before insert or update on RCA13_INTRACK_TAGS',
'   for each row',
'   begin',
'      if inserting then',
'         if :NEW.ID is null then',
'           select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :new.id',
'           from dual;',
'         end if;',
'         :NEW.CREATED := LOCALTIMESTAMP;',
'         :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'      end if;',
'',
'      if updating then',
'         :NEW.UPDATED := LOCALTIMESTAMP;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'      end if;',
'end;',
'/',
'show errors',
'    ',
'ALTER TRIGGER RCA13_INTRACK_TAGS_TRG ENABLE;',
'',
'create table RCA13_INTRACK_TAGS_TYPE_SUM (',
'    tag                             varchar2(255),',
'    content_type                    varchar2(30),',
'    tag_count                       number,',
'    constraint RCA13_INTRACK_TAGS_TYPE_S_PK primary key (tag,content_type)',
'    )',
'/',
'',
'create table RCA13_INTRACK_TAGS_SUM (',
'    tag                             varchar2(255),',
'    tag_count                       number,',
'    constraint RCA13_INTRACK_TAGS_SUM_PK primary key (tag)',
'    )',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312102356716739838)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'group tables'
,p_sequence=>60
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table  rca13_intrack_group',
'   (   id number,',
'           row_version_number      number,',
'   group_name varchar2(50) not null enable,',
'   description varchar2(255),',
'   is_active varchar2(1) default ''Y'',',
'   --',
'   created     timestamp with local time zone not null,',
'   created_by  varchar2(255) not null,',
'   updated     timestamp with local time zone,',
'   updated_by  varchar2(255)',
'   )',
'/',
'',
'',
'alter table rca13_intrack_group',
'   add constraint RCA13_INTRACK_GROUP_PK',
'     primary key (id)',
'/',
'alter table rca13_intrack_group',
'  add constraint RCA13_INTRACK_GROUP_UK1',
'  unique( group_name )',
'/',
'',
'alter table rca13_intrack_group',
'   add constraint RCA13_INTRACK_GROUP_CHK1',
'       check (is_active in (''y'',''n'',''Y'',''N''))',
'/',
'',
'',
'create or replace trigger RCA13_INTRACK_GROUP_TRG',
'   before insert or update on rca13_intrack_group',
'   for each row',
'   begin',
'      if inserting then',
'         if :NEW.ID is null then',
'           select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :new.id',
'           from dual;',
'         end if;',
'         :NEW.CREATED := LOCALTIMESTAMP;',
'         :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := 1;',
'      end if;',
'',
'      if updating then',
'         :NEW.UPDATED    := LOCALTIMESTAMP;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'      end if;',
'   end;',
'/',
'',
'',
'create table  rca13_intrack_user_group (',
'   id                          number,',
'   row_version_number          number,',
'   user_id                     number not null enable,',
'   group_id                    number not null enable,',
'   --',
'   created                     timestamp with local time zone not null,',
'   created_by                  varchar2(255) not null,',
'   updated                     timestamp with local time zone,',
'   updated_by                  varchar2(255),',
'    constraint RCA13_INTRACK_USER_GROUP_PK primary key(id ),',
'    constraint RCA13_INTRACK_USER_GROUP_FK1 foreign key (user_id)',
'     references  rca13_intrack_users (id) on delete cascade enable,',
'    constraint RCA13_INTRACK_USER_GROUP_FK2 foreign key (group_id)',
'     references  rca13_intrack_group (id) on delete cascade enable',
'   )',
'/',
'',
'create index RCA13_INTRACK_USER_GROUP_INDX1 on RCA13_INTRACK_USER_GROUP(user_id);',
'create index RCA13_INTRACK_USER_GROUP_INDX2 on RCA13_INTRACK_USER_GROUP(group_id);',
'',
'create or replace trigger RCA13_INTRACK_USER_GROUP_TRG',
'   before insert or update on rca13_intrack_user_group',
'   for each row',
'   begin',
'      if inserting then',
'         if :NEW.ID is null then',
'           select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :new.id',
'           from dual;',
'         end if;',
'         :NEW.CREATED    := LOCALTIMESTAMP;',
'         :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := 1;',
'      end if;',
'',
'      if updating then',
'         :NEW.UPDATED    := LOCALTIMESTAMP;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'      end if;',
'   end;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312102562423743983)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'urgency table'
,p_sequence=>70
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table  rca13_intrack_urgency',
'   (',
'   id                      number,',
'   row_version_number      number,',
'   display_sequence        number not null,',
'   urgency_name            varchar2(50) not null enable,',
'   description             varchar2(4000),',
'   is_active               varchar2(1) default ''Y'',',
'   --',
'   created     timestamp with local time zone          not null,',
'   created_by  varchar2(255) not null,',
'   updated     timestamp with local time zone,',
'   updated_by  varchar2(255),',
'    constraint RCA13_INTRACK_URGENCY_PK primary key(id)',
'   )',
'/',
'',
'alter table rca13_intrack_urgency',
'   add constraint RCA13_INTRACK_URGENCY_CHK1',
'       check (is_active in (''Y'',''N''))',
'/',
'',
'create or replace trigger RCA13_INTRACK_URGENCY_TRG',
'   before insert or update on rca13_intrack_urgency',
'   for each row',
'   begin',
'      if inserting then',
'         if :NEW.ID is null then',
'           select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :new.id',
'           from dual;',
'         end if;',
'         :NEW.CREATED    := localtimestamp;',
'         :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := 1;',
'      end if;',
'',
'      if inserting or updating then',
'         :NEW.UPDATED    := localtimestamp;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'      end if;',
'      if updating then',
'         :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'      end if;',
'      if :new.is_active is null then',
'         :new.is_active := ''Y'';',
'      end if;',
'   end;',
'/',
'    ',
'insert into rca13_intrack_urgency (id,display_sequence, urgency_name) values (1,1,''High'');',
'insert into rca13_intrack_urgency (id,display_sequence, urgency_name) values (2,2,''Medium'');',
'insert into rca13_intrack_urgency (id,display_sequence, urgency_name) values (3,3,''Low'');'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312102737620746323)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'severity table'
,p_sequence=>80
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table  RCA13_INTRACK_SEVERITY',
'   (',
'   id                      number,',
'   row_version_number      number,',
'   sequence_number         number not null,',
'   severity_code           varchar2(30) not null enable,',
'   SEVERITY_name           varchar2(50) not null enable,',
'   description             varchar2(255),',
'   is_active               varchar2(1) default ''Y'',',
'   --',
'   created     timestamp with local time zone          not null,',
'   created_by  varchar2(255) not null,',
'   updated     timestamp with local time zone,',
'   updated_by  varchar2(255),',
'    constraint RCA13_INTRACK_SEVERITY_PK primary key(id),',
'    CONSTRAINT "RCA13_INTRACK_SEVERITY_UK1" UNIQUE ("SEQUENCE_NUMBER"),',
'    CONSTRAINT "RCA13_INTRACK_SEVERITY_UK2" UNIQUE ("SEVERITY_CODE"),',
'    CONSTRAINT "RCA13_INTRACK_SEVERITY_UK3" UNIQUE ("SEVERITY_NAME")   ',
'   )',
'/',
'',
'alter table RCA13_INTRACK_SEVERITY',
'   add constraint RCA13_INTRACK_SEVERITY_CHK1',
'       check (is_active in (''Y'',''N''))',
'/',
'',
'create or replace trigger RCA13_INTRACK_SEVERITY_TRG',
'   before insert or update on RCA13_INTRACK_SEVERITY',
'   for each row',
'   begin',
'      if inserting then',
'         if :NEW.ID is null then',
'           select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :new.id',
'           from dual;',
'         end if;',
'         :NEW.CREATED    := localtimestamp;',
'         :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := 1;',
'      end if;',
'',
'      if inserting or updating then',
'         :NEW.UPDATED    := localtimestamp;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'      end if;',
'      if updating then',
'         :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'      end if;',
'      if :new.is_active is null then',
'         :new.is_active := ''Y'';',
'      end if;',
'      if :new.sequence_number is null then',
'          select nvl(max(sequence_number),0) + 1 into :new.sequence_number from RCA13_INTRACK_SEVERITY;',
'      end if;',
'   end;',
'/',
'show errors',
'    ',
'insert into RCA13_INTRACK_SEVERITY (id,sequence_number,severity_code,SEVERITY_name) values (1,1,''1'',''Critical Impact'');',
'insert into RCA13_INTRACK_SEVERITY (id,sequence_number,severity_code,SEVERITY_name) values (2,2,''2'',''Severe Impact'');',
'insert into RCA13_INTRACK_SEVERITY (id,sequence_number,severity_code,SEVERITY_name) values (3,3,''3'',''Moderate Impact'');',
'insert into RCA13_INTRACK_SEVERITY (id,sequence_number,severity_code,SEVERITY_name) values (4,4,''4'',''Low Impact'');',
'commit;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312102948702749469)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'status table'
,p_sequence=>90
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table  rca13_intrack_status',
'   (',
'   id                 number not null,',
'   row_version_number number not null,',
'   display_sequence   number not null,',
'   status_name        varchar2(255) not null enable,',
'   status_code        varchar2(50),',
'   description        varchar2(4000),',
'   is_active          varchar2(1) default ''Y'',',
'   status_type        varchar2(30) constraint RCA13_INTRACK_STATUS_CHK1 check (status_type in (''OPEN'',''CLOSED'')),',
'   --',
'   created            timestamp with local time zone not null,',
'   created_by         varchar2(255) not null,',
'   updated            timestamp with local time zone,',
'   updated_by         varchar2(255),',
'    constraint RCA13_INTRACK_STATUS_PK primary key(id )',
'   )',
'/',
'',
'alter table rca13_intrack_status',
'   add constraint RCA13_INTRACK_STATUS_CHK2',
'       check (is_active in (''Y'',''N''))',
'/',
'',
'create or replace trigger RCA13_INTRACK_STATUS_TRG',
'   before insert or update on rca13_intrack_status',
'   for each row',
'   begin',
'      if inserting then',
'         if :NEW.ID is null then',
'           select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :new.id',
'           from dual;',
'         end if;',
'         :NEW.CREATED    := localtimestamp;',
'         :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := 1;',
'      end if;',
'',
'      if inserting or updating then',
'         :NEW.UPDATED    := localtimestamp;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'      end if;',
'      if updating then',
'         :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'      end if;',
'      if :new.is_active is null then',
'         :new.is_active := ''Y'';',
'      end if;',
'      if :new.status_code is null then',
'          :new.status_code := upper(:new.status_name);',
'      end if;',
'   end;',
'/',
'show errors',
'',
'insert into rca13_intrack_status (display_sequence,id,status_name, status_code, status_type) values (10,1,''Open'',''10'',''OPEN'');',
'insert into rca13_intrack_status (display_sequence,id,status_name, status_code, status_type) values (20,2,''Work In Progress'',''50'',''OPEN'');',
'insert into rca13_intrack_status (display_sequence,id,status_name, status_code, status_type) values (30,3,''Pending Additional Information'',''20'',''OPEN'');',
'insert into rca13_intrack_status (display_sequence,id,status_name, status_code, status_type) values (40,4,''Researching'',''30'',''OPEN'');',
'insert into rca13_intrack_status (display_sequence,id,status_name, status_code, status_type) values (50,5,''Resolution Commmunicated to Customer'',''40'',''OPEN'');',
'insert into rca13_intrack_status (display_sequence,id,status_name, status_code, status_type) values (80,6,''Closed and Resolved'',''80'',''CLOSED'');',
'insert into rca13_intrack_status (display_sequence,id,status_name, status_code, status_type) values (82,7,''Closed with Bug Filed'',''81'',''CLOSED'');',
'insert into rca13_intrack_status (display_sequence,id,status_name, status_code, status_type) values (82,8,''Closed with Enhancement Request Filed'',''82'',''CLOSED'');',
'insert into rca13_intrack_status (display_sequence,id,status_name, status_code, status_type) values (83,9,''Closed Without Resolution'',''83'',''CLOSED'');',
'insert into rca13_intrack_status (display_sequence,id,status_name, status_code, status_type) values (84,10,''Closed Other Reason'',''84'',''CLOSED'');',
'commit;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(310977742098594202)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Manage Zips'
,p_sequence=>100
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE RCA13_MANAGE_ZIPS AS ',
'  type file_list is table of clob;',
'  function file2blob    ( p_dir varchar2    , p_file_name varchar2    )  return blob;',
'  function get_file_list    ( p_dir varchar2    , p_zip_file varchar2    , p_encoding varchar2 := null    )  return file_list;',
'  function get_file_list    ( p_zipped_blob blob    , p_encoding varchar2 := null    )  return file_list;',
'  function get_file    ( p_dir varchar2    , p_zip_file varchar2    , p_file_name varchar2    , p_encoding varchar2 := null    )  return blob;',
'  function get_file    ( p_zipped_blob blob    , p_file_name varchar2    , p_encoding varchar2 := null    )  return blob;',
'  procedure add1file    ( p_zipped_blob in out blob    , p_name varchar2    , p_content blob    );',
'  procedure finish_zip( p_zipped_blob in out blob );',
' ',
'  function blob2num( p_blob blob, p_len integer, p_pos integer )  return number;',
'  ',
'  function raw2varchar2( p_raw raw, p_encoding varchar2 )  return varchar2;',
'  ',
'  function little_endian( p_big number, p_bytes pls_integer := 4 ) return raw;',
'END RCA13_MANAGE_ZIPS;',
'',
'/',
'',
'create or replace ',
'PACKAGE BODY RCA13_MANAGE_ZIPS AS',
' --',
'  c_LOCAL_FILE_HEADER        constant raw(4) := hextoraw( ''504B0304'' ); -- Local file header signature',
'  c_END_OF_CENTRAL_DIRECTORY constant raw(4) := hextoraw( ''504B0506'' ); -- End of central directory signature',
'--',
'  function blob2num( p_blob blob, p_len integer, p_pos integer )',
'  return number',
'  is',
'  begin',
'    return utl_raw.cast_to_binary_integer( dbms_lob.substr( p_blob, p_len, p_pos ), utl_raw.little_endian );',
'  end;',
'--',
'  function raw2varchar2( p_raw raw, p_encoding varchar2 )',
'  return varchar2',
'  is',
'  begin',
'    return coalesce( utl_i18n.raw_to_char( p_raw, p_encoding )',
'                   , utl_i18n.raw_to_char( p_raw, utl_i18n.map_charset( p_encoding, utl_i18n.GENERIC_CONTEXT, utl_i18n.IANA_TO_ORACLE ) )',
'                   );',
'  end;',
'--',
'  function little_endian( p_big number, p_bytes pls_integer := 4 )',
'  return raw',
'  is',
'  begin',
'    return utl_raw.substr( utl_raw.cast_from_binary_integer( p_big, utl_raw.little_endian ), 1, p_bytes );',
'  end;',
'--',
'  function file2blob    ( p_dir varchar2    , p_file_name varchar2    )',
'  return blob',
'  is',
'    file_lob bfile;',
'    file_blob blob;',
'  begin',
'    file_lob := bfilename( p_dir, p_file_name );',
'    dbms_lob.open( file_lob, dbms_lob.file_readonly );',
'    dbms_lob.createtemporary( file_blob, true );',
'    dbms_lob.loadfromfile( file_blob, file_lob, dbms_lob.lobmaxsize );',
'    dbms_lob.close( file_lob );',
'    return file_blob;',
'  exception',
'    when others then',
'      if dbms_lob.isopen( file_lob ) = 1',
'      then',
'        dbms_lob.close( file_lob );',
'      end if;',
'      if dbms_lob.istemporary( file_blob ) = 1',
'      then',
'        dbms_lob.freetemporary( file_blob );',
'      end if;',
'      raise;',
'  end;',
'--',
'  function get_file_list     ( p_zipped_blob blob , p_encoding varchar2 := null    )',
'  return file_list',
'  is',
'    t_ind integer;',
'    t_hd_ind integer;',
'    t_rv file_list;',
'    t_encoding varchar2(32767);',
'  begin',
'    t_ind := dbms_lob.getlength( p_zipped_blob ) - 21;',
'    loop',
'      exit when t_ind < 1 or dbms_lob.substr( p_zipped_blob, 4, t_ind ) = c_END_OF_CENTRAL_DIRECTORY;',
'      t_ind := t_ind - 1;',
'    end loop;',
'--',
'    if t_ind <= 0',
'    then',
'      return null;',
'    end if;',
'--',
'    t_hd_ind := blob2num( p_zipped_blob, 4, t_ind + 16 ) + 1;',
'    t_rv := file_list();',
'    t_rv.extend( blob2num( p_zipped_blob, 2, t_ind + 10 ) );',
'    for i in 1 .. blob2num( p_zipped_blob, 2, t_ind + 8 )',
'    loop',
'      if p_encoding is null',
'      then',
'        if utl_raw.bit_and( dbms_lob.substr( p_zipped_blob, 1, t_hd_ind + 9 ), hextoraw( ''08'' ) ) = hextoraw( ''08'' )',
'        then  ',
'          t_encoding := ''AL32UTF8''; -- utf8',
'        else',
'          t_encoding := ''US8PC437''; -- IBM codepage 437',
'        end if;',
'      else',
'        t_encoding := p_encoding;',
'      end if;',
'      t_rv( i ) := raw2varchar2',
'                     ( dbms_lob.substr( p_zipped_blob',
'                                      , blob2num( p_zipped_blob, 2, t_hd_ind + 28 )',
'                                      , t_hd_ind + 46',
'                                      )',
'                     , t_encoding',
'                     );',
'      t_hd_ind := t_hd_ind + 46',
'                + blob2num( p_zipped_blob, 2, t_hd_ind + 28 )  -- File name length',
'                + blob2num( p_zipped_blob, 2, t_hd_ind + 30 )  -- Extra field length',
'                + blob2num( p_zipped_blob, 2, t_hd_ind + 32 ); -- File comment length',
'    end loop;',
'--',
'    return t_rv;',
'  end;',
'--',
'  function get_file_list     ( p_dir varchar2    , p_zip_file varchar2    , p_encoding varchar2 := null    )',
'  return file_list',
'  is',
'  begin',
'    return get_file_list( file2blob( p_dir, p_zip_file ), p_encoding );',
'  end;',
'--',
'  function get_file',
'    ( p_zipped_blob blob',
'    , p_file_name varchar2',
'    , p_encoding varchar2 := null',
'    )',
'  return blob',
'  is',
'    t_tmp blob;',
'    t_ind integer;',
'    t_hd_ind integer;',
'    t_fl_ind integer;',
'    t_encoding varchar2(32767);',
'    t_len integer;',
'  begin',
'    t_ind := dbms_lob.getlength( p_zipped_blob ) - 21;',
'    loop',
'      exit when t_ind < 1 or dbms_lob.substr( p_zipped_blob, 4, t_ind ) = c_END_OF_CENTRAL_DIRECTORY;',
'      t_ind := t_ind - 1;',
'    end loop;',
'--',
'    if t_ind <= 0',
'    then',
'      return null;',
'    end if;',
'--',
'    t_hd_ind := blob2num( p_zipped_blob, 4, t_ind + 16 ) + 1;',
'    for i in 1 .. blob2num( p_zipped_blob, 2, t_ind + 8 )',
'    loop',
'      if p_encoding is null',
'      then',
'        if utl_raw.bit_and( dbms_lob.substr( p_zipped_blob, 1, t_hd_ind + 9 ), hextoraw( ''08'' ) ) = hextoraw( ''08'' )',
'        then  ',
'          t_encoding := ''AL32UTF8''; -- utf8',
'        else',
'          t_encoding := ''US8PC437''; -- IBM codepage 437',
'        end if;',
'      else',
'        t_encoding := p_encoding;',
'      end if;',
'      if p_file_name = raw2varchar2',
'                         ( dbms_lob.substr( p_zipped_blob',
'                                          , blob2num( p_zipped_blob, 2, t_hd_ind + 28 )',
'                                          , t_hd_ind + 46',
'                                          )',
'                         , t_encoding',
'                         )',
'      then',
'        t_len := blob2num( p_zipped_blob, 4, t_hd_ind + 24 ); -- uncompressed length ',
'        if t_len = 0',
'        then',
'          if substr( p_file_name, -1 ) in ( ''/'', ''\'' )',
'          then  -- directory/folder',
'            return null;',
'          else -- empty file',
'            return empty_blob();',
'          end if;',
'        end if;',
'--',
'        if dbms_lob.substr( p_zipped_blob, 2, t_hd_ind + 10 ) = hextoraw( ''0800'' ) -- deflate',
'        then',
'          t_fl_ind := blob2num( p_zipped_blob, 4, t_hd_ind + 42 );',
'          t_tmp := hextoraw( ''1F8B0800000000000003'' ); -- gzip header',
'          dbms_lob.copy( t_tmp',
'                       , p_zipped_blob',
'                       ,  blob2num( p_zipped_blob, 4, t_hd_ind + 20 )',
'                       , 11',
'                       , t_fl_ind + 31',
'                       + blob2num( p_zipped_blob, 2, t_fl_ind + 27 ) -- File name length',
'                       + blob2num( p_zipped_blob, 2, t_fl_ind + 29 ) -- Extra field length',
'                       );',
'          dbms_lob.append( t_tmp, utl_raw.concat( dbms_lob.substr( p_zipped_blob, 4, t_hd_ind + 16 ) -- CRC32',
'                                                , little_endian( t_len ) -- uncompressed length',
'                                                )',
'                         );',
'          return utl_compress.lz_uncompress( t_tmp );',
'        end if;',
'--',
'        if dbms_lob.substr( p_zipped_blob, 2, t_hd_ind + 10 ) = hextoraw( ''0000'' ) -- The file is stored (no compression)',
'        then',
'          t_fl_ind := blob2num( p_zipped_blob, 4, t_hd_ind + 42 );',
'          dbms_lob.createtemporary( t_tmp, true );',
'          dbms_lob.copy( t_tmp',
'                       , p_zipped_blob',
'                       , t_len',
'                       , 1',
'                       , t_fl_ind + 31',
'                       + blob2num( p_zipped_blob, 2, t_fl_ind + 27 ) -- File name length',
'                       + blob2num( p_zipped_blob, 2, t_fl_ind + 29 ) -- Extra field length',
'                       );',
'          return t_tmp;',
'        end if;',
'      end if;',
'      t_hd_ind := t_hd_ind + 46',
'                + blob2num( p_zipped_blob, 2, t_hd_ind + 28 )  -- File name length',
'                + blob2num( p_zipped_blob, 2, t_hd_ind + 30 )  -- Extra field length',
'                + blob2num( p_zipped_blob, 2, t_hd_ind + 32 ); -- File comment length',
'    end loop;',
'--',
'    return null;',
'  end;',
'--',
'  function get_file',
'    ( p_dir varchar2',
'    , p_zip_file varchar2',
'    , p_file_name varchar2',
'    , p_encoding varchar2 := null',
'    )',
'  return blob',
'  is',
'  begin',
'    return get_file( file2blob( p_dir, p_zip_file ), p_file_name, p_encoding );',
'  end;',
'--',
'  procedure add1file     ( p_zipped_blob in out blob    , p_name varchar2    , p_content blob    )  is',
'    t_now date;',
'    t_blob blob;',
'    t_len integer;',
'    t_clen integer;',
'    t_crc32 raw(4) := hextoraw( ''00000000'' );',
'    t_compressed boolean := false;',
'    t_name raw(32767);',
'  begin',
'    t_now := sysdate;',
'    t_len := nvl( dbms_lob.getlength( p_content ), 0 );',
'    if t_len > 0',
'    then ',
'      t_blob := utl_compress.lz_compress( p_content );',
'      t_clen := dbms_lob.getlength( t_blob ) - 18;',
'      t_compressed := t_clen < t_len;',
'      t_crc32 := dbms_lob.substr( t_blob, 4, t_clen + 11 );       ',
'    end if;',
'    if not t_compressed',
'    then ',
'      t_clen := t_len;',
'      t_blob := p_content;',
'    end if;',
'    if p_zipped_blob is null',
'    then',
'      dbms_lob.createtemporary( p_zipped_blob, true );',
'    end if;',
'    t_name := utl_i18n.string_to_raw( p_name, ''AL32UTF8'' );',
'    dbms_lob.append( p_zipped_blob',
'                   , utl_raw.concat( c_LOCAL_FILE_HEADER -- Local file header signature',
'                                   , hextoraw( ''1400'' )  -- version 2.0',
'                                   , case when t_name = utl_i18n.string_to_raw( p_name, ''US8PC437'' )',
'                                       then hextoraw( ''0000'' ) -- no General purpose bits',
'                                       else hextoraw( ''0008'' ) -- set Language encoding flag (EFS)',
'                                     end ',
'                                   , case when t_compressed',
'                                        then hextoraw( ''0800'' ) -- deflate',
'                                        else hextoraw( ''0000'' ) -- stored',
'                                     end',
'                                   , little_endian( to_number( to_char( t_now, ''ss'' ) ) / 2',
'                                                  + to_number( to_char( t_now, ''mi'' ) ) * 32',
'                                                  + to_number( to_char( t_now, ''hh24'' ) ) * 2048',
'                                                  , 2',
'                                                  ) -- File last modification time',
'                                   , little_endian( to_number( to_char( t_now, ''dd'' ) )',
'                                                  + to_number( to_char( t_now, ''mm'' ) ) * 32',
'                                                  + ( to_number( to_char( t_now, ''yyyy'' ) ) - 1980 ) * 512',
'                                                  , 2',
'                                                  ) -- File last modification date',
'                                   , t_crc32 -- CRC-32',
'                                   , little_endian( t_clen )                      -- compressed size',
'                                   , little_endian( t_len )                       -- uncompressed size',
'                                   , little_endian( utl_raw.length( t_name ), 2 ) -- File name length',
'                                   , hextoraw( ''0000'' )                           -- Extra field length',
'                                   , t_name                                       -- File name',
'                                   )',
'                   );',
'    if t_compressed',
'    then                   ',
'      dbms_lob.copy( p_zipped_blob, t_blob, t_clen, dbms_lob.getlength( p_zipped_blob ) + 1, 11 ); -- compressed content',
'    elsif t_clen > 0',
'    then                   ',
'      dbms_lob.copy( p_zipped_blob, t_blob, t_clen, dbms_lob.getlength( p_zipped_blob ) + 1, 1 ); --  content',
'    end if;',
'    if dbms_lob.istemporary( t_blob ) = 1',
'    then      ',
'      dbms_lob.freetemporary( t_blob );',
'    end if;',
'  end;',
'--',
'  procedure finish_zip( p_zipped_blob in out blob )',
'  is',
'    t_cnt pls_integer := 0;',
'    t_offs integer;',
'    t_offs_dir_header integer;',
'    t_offs_end_header integer;',
'    t_comment raw(32767) := utl_raw.cast_to_raw( ''Implementation by Anton Scheffer'' );',
'  begin',
'    t_offs_dir_header := dbms_lob.getlength( p_zipped_blob );',
'    t_offs := 1;',
'    while dbms_lob.substr( p_zipped_blob, utl_raw.length( c_LOCAL_FILE_HEADER ), t_offs ) = c_LOCAL_FILE_HEADER',
'    loop',
'      t_cnt := t_cnt + 1;',
'      dbms_lob.append( p_zipped_blob',
'                     , utl_raw.concat( hextoraw( ''504B0102'' )      -- Central directory file header signature',
'                                     , hextoraw( ''1400'' )          -- version 2.0',
'                                     , dbms_lob.substr( p_zipped_blob, 26, t_offs + 4 )',
'                                     , hextoraw( ''0000'' )          -- File comment length',
'                                     , hextoraw( ''0000'' )          -- Disk number where file starts',
'                                     , hextoraw( ''0000'' )          -- Internal file attributes => ',
'                                                                   --     0000 binary file',
'                                                                   --     0100 (ascii)text file',
'                                     , case',
'                                         when dbms_lob.substr( p_zipped_blob',
'                                                             , 1',
'                                                             , t_offs + 30 + blob2num( p_zipped_blob, 2, t_offs + 26 ) - 1',
'                                                             ) in ( hextoraw( ''2F'' ) -- /',
'                                                                  , hextoraw( ''5C'' ) -- \',
'                                                                  )',
'                                         then hextoraw( ''10000000'' ) -- a directory/folder',
'                                         else hextoraw( ''2000B681'' ) -- a file',
'                                       end                         -- External file attributes',
'                                     , little_endian( t_offs - 1 ) -- Relative offset of local file header',
'                                     , dbms_lob.substr( p_zipped_blob',
'                                                      , blob2num( p_zipped_blob, 2, t_offs + 26 )',
'                                                      , t_offs + 30',
'                                                      )            -- File name',
'                                     )',
'                     );',
'      t_offs := t_offs + 30 + blob2num( p_zipped_blob, 4, t_offs + 18 )  -- compressed size',
'                            + blob2num( p_zipped_blob, 2, t_offs + 26 )  -- File name length ',
'                            + blob2num( p_zipped_blob, 2, t_offs + 28 ); -- Extra field length',
'    end loop;',
'    t_offs_end_header := dbms_lob.getlength( p_zipped_blob );',
'    dbms_lob.append( p_zipped_blob',
'                   , utl_raw.concat( c_END_OF_CENTRAL_DIRECTORY                                -- End of central directory signature',
'                                   , hextoraw( ''0000'' )                                        -- Number of this disk',
'                                   , hextoraw( ''0000'' )                                        -- Disk where central directory starts',
'                                   , little_endian( t_cnt, 2 )                                 -- Number of central directory records on this disk',
'                                   , little_endian( t_cnt, 2 )                                 -- Total number of central directory records',
'                                   , little_endian( t_offs_end_header - t_offs_dir_header )    -- Size of central directory',
'                                   , little_endian( t_offs_dir_header )                        -- Offset of start of central directory, relative to start of archive',
'                                   , little_endian( nvl( utl_raw.length( t_comment ), 0 ), 2 ) -- ZIP file comment length',
'                                   , t_comment',
'                                   )',
'                   );',
'  end;',
'END RCA13_MANAGE_ZIPS;',
'',
'/    ',
'    ',
''))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312103158399752280)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'category table'
,p_sequence=>100
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table  rca13_intrack_category',
'   (',
'   id                      number,',
'   row_version_number      number,',
'   display_sequence        number not null,',
'   category_name           varchar2(50) not null enable,',
'   parent_id               number,',
'   description             varchar2(4000),',
'   is_active               varchar2(1) default ''Y'',',
'   --',
'   created           timestamp with local time zone not null,',
'   created_by        varchar2(255) not null,',
'   updated           timestamp with local time zone,',
'   updated_by        varchar2(255),',
'   constraint rca13_intrack_category_pk primary key(id)',
'   )',
'/',
'',
'alter table rca13_intrack_category',
'   add constraint RCA13_INTRACK_CATEGORY_CHK1',
'       check (is_active in (''Y'',''N''))',
'/',
'',
'create or replace trigger RCA13_INTRACK_CATEGORY_TRG',
'   before insert or update on rca13_intrack_category',
'   for each row',
'   begin',
'      if inserting then',
'         if :NEW.ID is null then',
'           select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :new.id',
'           from dual;',
'         end if;',
'         :NEW.CREATED    := localtimestamp;',
'         :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := 1;',
'      end if;',
'',
'      if inserting or updating then',
'         :NEW.UPDATED    := localtimestamp;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'      end if;',
'      if updating then',
'         :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'      end if;',
'      if :new.is_active is null then',
'         :new.is_active := ''Y'';',
'      end if;',
'   end;',
'/',
'    ',
' ',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (1,10,''Operating System'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (2,20,''Hardware'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (3,30,''Grid Infrastructure'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (4,40,''Database'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (5,50,''Storage Server'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (6,60,''IB Switch'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (7,70,''Network'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (8,80,''Storage'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (9,90,''Configuration'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (10,100,''Pre-Upgrade'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (11,110,''Post-Upgrade'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (12,120,''Oracle Goldengate'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (13,130,''Oracle EBS'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (14,140,''MAA'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (15,150,''Patching'');',
'insert into rca13_intrack_category (id,display_sequence,category_name) values (16,160,''Other'');',
'commit;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(310977542313584806)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Manage Collections'
,p_sequence=>110
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'-- No harm in running packages in upgrade scripts ',
'',
'create or replace PACKAGE RCA13_MANAGE_COLLECTIONS AS ',
'procedure process_collection(docId number);',
'function blob2clob( blobData BLOB ) return clob;',
'function blob_to_clob( blob_in BLOB ) return clob;',
'procedure parseRCFiles(collectionId varchar2,docId number);',
'procedure deleteCollection ( docId number,keep_zip number default 0);',
'function hasDiffWithPrevRun(cName varchar2,cDate timestamp) return varchar2;',
'function hasDiff (pcName varchar2,pcDate timestamp,cName varchar2,cDate timestamp) return number;',
'procedure submitJob(docId in number,user varchar2 default ''ORACHK.USER'');',
'procedure submitJob4All;',
'procedure getChecksInfo ( fileId varchar2,source varchar2 );',
'procedure insertAuditChecks ( fileId varchar2,collectId varchar2,docId number );',
'procedure classifyCollections;',
'procedure classifyCollection(cDate timestamp,cName varchar2 );',
'procedure updateMDtable;',
'procedure afterColInUpActs( collectionDate timestamp,collectionName varchar2,flag number default 1 );',
'procedure purgeData(dat timestamp);',
'procedure submitDataPurgeJob(dat timestamp);',
'procedure processAuditData;',
'procedure monitorDiffType;',
'procedure ignoreReCalValues_AIAD(sysId varchar2,collectionDate timestamp,colName varchar2);',
'END RCA13_MANAGE_COLLECTIONS;',
'/',
'    ',
'create or replace PACKAGE BODY rca13_MANAGE_COLLECTIONS AS',
'LOCAL_NODE varchar2(40);',
'RACCHECK_ENV_FILE_ID varchar2(40);',
'ISCRSINSTALLED number;',
'ISASMINSTALLED number;',
'ASMHOME varchar2(128);',
'APP_USER varchar2(64);',
'COLLECTION_NAME varchar2(256);',
'IS_UPGRADE_MODE number := 0;',
'TARGET_VERSION varchar2(40);',
'isExadata number;',
'kitId varchar2(40);',
'--------------------------------------------------------------------------------',
'PROCEDURE log_text(',
'    text         VARCHAR2,',
'    collectionId VARCHAR2,docId number default null)',
'IS',
'BEGIN',
'  INSERT INTO rca13_LOG (COLLECTION_ID,TEXT,INS_DATE,DOC_ID)',
'  VALUES (collectionId,text,LOCALTIMESTAMP,docId);',
'  COMMIT;',
'END;',
'--------------------------------------------------------------------------------',
'procedure update_collection_status ( collectionId varchar2,statusMsg varchar2,failComment varchar2 default null ) is',
'begin',
' update rca13_collections set status = statusMsg,fail_comment = failComment where collection_id = collectionId;',
' commit;',
'end;',
'--------------------------------------------------------------------------------',
'procedure getChecksInfo ( fileId varchar2, source varchar2 ) is',
' cursor cur is select line_text lt,line_number ln from rca13_COLLECTION_FILE_DATA  ',
' where COLLECTION_FILE_ID = fileId order by line_number;',
' readingOn number := 0;',
' checkId varchar2(40);',
' text clob;',
' line varchar2(4000);',
' cnt number;',
' pLength number;',
'begin',
'  -- start line for each check <div id="E3508B6664085B53E04313C0E50AC2CA_contents">',
'  -- Get check id from above line',
'  -- Start of recommendation: after <td>Recommendation</td>, take <td> to </td>',
'  --dbms_output.put_line(''fileId=''||fileId);',
' if source = ''HTML'' then',
'  for rec in cur loop',
'    line := rec.lt;',
'    if line like ''%<div id="%_contents">%'' then',
'      SELECT regexp_substr(line,''"[^"]+_'') into checkId FROM dual;',
'      --OP:"E3508B6664085B53E04313C0E50AC2CA_',
'      checkId := substr(checkId,2,length(checkId)-2);      ',
'      --dbms_output.put_line(''checkId=''||checkId);',
'    end if;',
'    if line like ''%<tr><td>Recommendation</td><td><pre>%'' OR line like ''%<tr><td scope="row">Recommendation</td><td scope="row"><pre>%'' then',
'      text := replace(line,''<tr><td>Recommendation</td><td><pre>'');',
'      text := replace(line,''<tr><td scope="row">Recommendation</td><td scope="row"><pre>'');',
'      readingOn := 1;',
'      continue;',
'    end if;',
'    --Start getting the recommendation',
'    if readingOn = 1 then      ',
'      if nvl(line,''z'') like ''%</pre>%'' then',
'        readingOn := 0;',
'        --Inesrt data into table if not exists',
'        select count(1) into cnt from rca13_checks_info where check_id = checkId;        ',
'        if cnt = 0 and checkId is not null then',
'          begin',
'           insert into rca13_checks_info ( check_id,recommendation) values(checkId,text);',
'           exception when dup_val_on_index then null;',
'          end;',
'        elsif cnt > 0 and checkId is not null then',
'          select dbms_lob.getlength(recommendation) into pLength from rca13_checks_info where check_id = checkId and rownum = 1;',
'          if dbms_lob.getlength(text) > pLength  then',
'            update rca13_checks_info set recommendation = text where check_id = checkId;',
'          end if;  ',
'        end if;',
'        commit;',
'        --Reset all things',
'        text := NULL;',
'        checkId := NULL;',
'      else',
'        text := text||chr(10)||line;',
'      end if;',
'    end if;',
'  end loop;',
' elsif source = ''XML'' then',
'  for rec in cur loop',
'    line := rec.lt;',
'    if line like ''%<Check id="%">%'' then',
'      SELECT regexp_substr(line,''"[^"]+"'') into checkId FROM dual;',
'      --OP:"E3508B6664085B53E04313C0E50AC2CA_',
'      checkId := substr(checkId,2,length(checkId)-2);      ',
'      --dbms_output.put_line(''checkId=''||checkId);',
'      readingOn := 1;',
'      continue;',
'    end if;    ',
'    --Start getting the recommendation',
'    if readingOn = 1 then      ',
'      if nvl(line,''z'') like ''%</Check>%'' then',
'        readingOn := 0;',
'        --Insert data into table if not exists',
'        select count(1) into cnt from rca13_checks_info where check_id = checkId;        ',
'        if cnt = 0 and checkId is not null then',
'          begin',
'           insert into rca13_checks_info ( check_id,recommendation) values(checkId,text);',
'           exception when dup_val_on_index then null;',
'          end;',
'        elsif cnt > 0 and checkId is not null then',
'          select dbms_lob.getlength(recommendation) into pLength from rca13_checks_info where check_id = checkId and rownum = 1;',
'          if dbms_lob.getlength(text) > pLength  then',
'            update rca13_checks_info set recommendation = text where check_id = checkId;',
'          end if;  ',
'        end if;',
'        commit;',
'        --Reset all things',
'        text := NULL;',
'        checkId := NULL;',
'      else',
'        if line like ''%<Recommendation>%'' then',
'          line := replace(line,''<Recommendation>'');',
'        elsif line like ''%</Recommendation>%'' then   ',
'          line := replace(line,''</Recommendation>'');',
'        elsif line like ''%<Links>%'' then',
'          line := replace(line,''<Links>'',''<br>Links:<br>'');',
'        elsif line like ''%</Links>%'' then',
'          line := replace(line,''</Links>'');',
'        end if;',
'        --line := replace(line,''<![CDATA['');',
'        line := replace(line,'']]>'');',
'        text := text||chr(10)||line;',
'      end if;',
'    end if;',
'  end loop;',
' end if;',
'end;',
'--------------------------------------------------------------------------------',
'procedure insertAuditChecks ( fileId varchar2,collectId varchar2,docId number ) is',
' fileId_local varchar2(40) := TRIM(BOTH '''''''' FROM DBMS_ASSERT.ENQUOTE_LITERAL(fileId));',
' collectionId varchar2(40) := TRIM(BOTH '''''''' FROM DBMS_ASSERT.ENQUOTE_LITERAL(collectId));',
' docId_local number := docId;',
' cursor cur is select line_text from rca13_collection_file_data where collection_file_id = fileId_local;',
' statement varchar2(4000);',
' cDate timestamp(6);',
' cName varchar2(1000);',
' cnt number;',
' newScore number;',
'begin',
' log_text(''START: Started inserting AuditChecks into auditcheck_result table'',collectionId,docId_local);',
'  if fileId is null or collectionId is null then',
'   return;',
' end if;  ',
' --If checks inserted already then update collection_id column value',
' select collection_date,collection_name into cDate,cName from rca13_collections where collection_id = collectionId;',
'  if cDate is not null and cName is not null then',
'   select count(1) into cnt from auditcheck_result where collection_date = cDate and upload_collection_name = cName;',
' else',
'   --Depend on collection_date',
'   --select count(1) into cnt from auditcheck_result where upload_collection_name = cName;',
'   return;',
' end if;',
' ',
' if cnt > 0 then',
'  log_text(''DUPLICATE: Audit checks are already inserted in auditcheck_result table, Just update collection_id and exit'',collectionId,docId_local);',
'  --Just update the collection_id in rca13_collections and rca13_collections_md',
'  update auditcheck_result set collection_id = collectionId where collection_date = cDate and upload_collection_name = cName;  ',
'  commit;',
'  update rca13_collections_md set collection_id = collectionId where collection_date = cDate and collection_name = cName;  ',
'  commit;',
'  -- Since we are using skipped checks also to calculate score. recalculate the score value.',
'  newScore := RCA13_GET_DATA4COLUMNS.getCollectionScore(collectionId,cName,cDate);',
'  update rca13_collection_values set score = newScore where collection_date  = cDate and collection_name = cName;',
'  commit;',
'  return;',
' end if;',
'  for rec in cur loop',
'   begin',
'     statement := rec.line_text;',
'     statement := trim(statement);',
'     -- Need to remove ; at the end of line   ',
'     statement := rtrim(statement,'';'');',
'     -- To Avoid java script injections replace < and >',
'     if instr(statement,''<'') > 0 or instr(statement,''>'') > 0 then',
'       statement := replace(replace(statement,''<'',chr(38)||''lt;''),''>'',chr(38)||''gt;'');',
'     end if;',
'     --Also, we need to change/add the table name.',
'     if instr(lower(statement),''auditcheck_result('') = 0 then',
'       statement := ''insert into auditcheck_result ''||substr(statement,instr(statement,''('',1,1));',
'     end if;',
'     --To avoid sql injections check whether statement is started with insert into auditcheck_result or not',
'     continue when ( instr(lower(statement),''insert into auditcheck_result'') != 1 );',
'     -- Add collection_id column value',
'     statement := regexp_replace(statement,''\)'','',collection_id)'',1,1);',
'     statement := regexp_replace(statement,''\)'','',''''''||collectionId||'''''')'',instr(statement,'')'',-1,1),1);',
'     execute immediate statement;',
'     exception when others then',
'       log_text(''FAIL: Failed to execute: ''||statement,collectionId,docId_local);  ',
'   end;',
' end loop;',
' commit;',
' log_text(''INSERT: Finished inserting checks into auditcheck_result table'',collectionId,docId_local);',
' --Now insert into Metadata table -- Don''t do it here .. do it from job',
' --begin',
' --  insert into RCA13_COLLECTIONS_MD(collection_date,collection_name,collection_id)',
' --  values(cDate,cName,collectionId);',
' --  commit;',
' --  exception when dup_val_on_index then null;',
' -- end;',
' exception when others then',
'  log_text(''FAIL: Audit checks insertion failed'',collectionId,docId_local);',
'end;',
'--------------------------------------------------------------------------------',
'procedure insertAuditPatchChecks ( fileId varchar2,collectId varchar2,docId number ) is',
' collectionId varchar2(40) := TRIM(BOTH '''''''' FROM DBMS_ASSERT.ENQUOTE_LITERAL(collectId));',
' fileId_local varchar2(40) := TRIM(BOTH '''''''' FROM DBMS_ASSERT.ENQUOTE_LITERAL(fileId));',
' cursor cur is select line_text from rca13_collection_file_data where collection_file_id = fileId_local;',
' statement varchar2(4000);',
' cDate timestamp(6);',
' cName varchar2(1000);',
' cnt number;',
'begin',
' log_text(''START: Started inserting AuditPatchChecks into auditcheck_patch_result table'',collectionId,docId);',
' if fileId_local is null or collectionId is null then',
'   return;',
' end if;  ',
' --If checks inserted already then update collection_id column value',
' select collection_date,collection_name into cDate,cName from rca13_collections where collection_id = collectionId;',
'  if cDate is not null then',
'   select count(1) into cnt from auditcheck_patch_result where collection_date = cDate;',
' else',
' return;',
' end if;',
' if cnt > 0 then',
'  --Just update the collection_id column',
'  --if cDate is not null then',
'  -- update auditcheck_patch_result set collection_id = collectionId where collection_date = cDate and upload_collection_name = cName;',
'  --else',
'   --update auditcheck_result set collection_id = collectionId where upload_collection_name = cName;',
'  --end if;',
'  --commit;',
'  log_text(''DUPLICATE: Auditcheck patch results are already inserted into auditcheck_patch_result table, so exit'',collectionId,docId);',
'  return;',
' end if;',
'  for rec in cur loop',
'  begin',
'   statement := rec.line_text;',
'   statement := trim(statement);',
'   -- Need to remove ; at the end of line',
'   statement := rtrim(statement,'';'');',
'   -- To Avoid java script injections replace < and >',
'   if instr(statement,''<'') > 0 or instr(statement,''>'') > 0 then',
'     statement := replace(replace(statement,''<'',chr(38)||''lt;''),''>'',chr(38)||''gt;'');',
'   end if;',
'   --Also, we need to change/add the table name.',
'   if instr(lower(statement),''auditcheck_patch_result('') = 0 then',
'     statement := ''insert into auditcheck_patch_result ''||substr(statement,instr(statement,''('',1,1));',
'   end if;',
'   --To avoid sql injections check whether statement is started with insert into auditcheck_result or not',
'   continue when ( instr(lower(statement),''insert into auditcheck_patch_result'') != 1 );    ',
'   execute immediate statement;   ',
'  exception when others then null;',
'  end;',
' end loop;',
' commit;',
' log_text(''FINISH: Finished inserting patch result checks into auditcheck_patch_result table'',collectionId,docId);',
' exception when others then',
'  log_text(''FAIL: Audit Patch checks insertion failed'',collectionId,docId);',
'end;',
'------------------------------------------------------------------------------------------',
'PROCEDURE process_collection  (  docId IN number  ) IS',
'  collectionId varchar2(40);  ',
'  files rca13_manage_zips.file_list;',
'  colBlob BLOB;',
'  fileBlob BLOB;',
'  cFileId  VARCHAR2(40);',
'  fnShort  VARCHAR2(500);',
'  fSize    NUMBER;',
'  lCounter NUMBER := 0;',
'  fContent CLOB;',
'  lText      VARCHAR2(4000);',
'    lTextlong      VARCHAR2(4000);',
'  colName    VARCHAR2(2000);',
'  collectionName VARCHAR2(2000);',
'  cCount number;',
'  htmlRep    VARCHAR2(1000);',
'  xmlRecFileId varchar2(200) := NULL;',
'  browserRep VARCHAR2(1000);',
'  isHTMLLoaded number := 0;',
'  htmlFileId varchar2(40);',
'  checksSqlFileId varchar2(40);',
'  patchchecksSqlFileId varchar2(40);',
'  temp varchar2(1000);',
'  temp1 number;',
'  docName rca13_DOCS.FILENAME%TYPE;',
'  colStatus varchar2(100) := NULL;',
'  failComment varchar2(1000);',
'  tsName varchar2(256);',
'  freeSpace number := 999;',
'  minRequiredFreeSpace number := 100; -- Size in MB',
'  filesCnt number :=0;',
'  collectionType varchar2(40);',
'  srBugNum varchar2(20);',
'   v_start PLS_INTEGER  := 1;',
'    v_buffer PLS_INTEGER := 32760;',
'     text VARCHAR2(32767);',
'     textLeft varchar2(4000);',
'BEGIN',
'  commit; -- This commit is for seeing just inserted zip file',
'  begin',
'    select filename,collection_id,sr_bug_num into docName,collectionId,srBugNum from rca13_docs where doc_id = docId;',
'    colName := substr(docName,instr(docName,''/'',-1,1)+1);    ',
'    colName := REGEXP_REPLACE(colName,''\.zip'','''',1,1,''i'');    ',
'    --dbms_output.put_line(''cid=''||collectionId);',
'    If collectionId is not null then',
'      --Now check whether collection is processes successfully or not. Proceed next if status is failed      ',
'       select status,fail_comment into colStatus,failComment from rca13_collections where collection_id = collectionId;',
'       --dbms_output.put_line(''stats=''||colStatus);',
'       if nvl(colStatus,''z'') != ''Failed'' then',
'        return;',
'       end if;       ',
'       --dbms_output.put_line(''call delete fun'');',
'       if colStatus = ''Failed'' and failComment != ''NO_ENOUGH_SPACE'' then',
'         return;',
'       end if;',
'       --If collection is failed bcz of space issue try to reprocess it.',
'       deleteCollection(docId,1); -- 1 ==> Delete every thing except collection zip',
'       log_text(''REATTEMPT: Re-Attempting to process the collection'',collectionId,docId);',
'    end if;',
'    --dbms_output.put_line(''delete done'');',
'    insert into rca13_collections(collection_id,status,collection_name,doc_id,sr_bug_num) values(sys_guid(),''Processing'',colName,docId,srBugNum)',
'    return collection_id into collectionId;',
'    --dbms_output.put_line(''cid=''||collectionId);',
'    update rca13_docs set collection_id = collectionId where doc_id = docId;    ',
'    commit;',
'    exception when no_data_found then',
'    log_text(''NODATA: No collection found with docId=''||docId||''...exiting'',''NO COLLECTION ID'',docId);',
'    return;',
'  end;  ',
'  --Expected file names:',
'  -- orachk_cetrain19_sid11203_052214_165708.zip ==> Full Run',
'  -- orachk_033015_151240.zip ==> Patch results',
'  --Add some validations on fileName to check whther it is valid collection or not',
'  if ( upper(docName) not like ''EXACHK_%.ZIP'' and upper(docName) not like ''RACCHECK_%.ZIP'' and upper(docName) not like ''ORACHK_%.ZIP'' ) then',
'    log_text(''INVALIDNAME: Collection name is not valid. It should start with orachk/exachk/raccheck...exiting'',collectionId,docId);',
'    update_collection_status(collectionId,''Failed'');',
'    return;',
'  end if;  ',
'  ',
'  --We are processing patch results now',
'  /*if ( instr(docName,''_'',1,3) <= 0 ) then',
'    -- For now we are not processing files of type orachk_052014_064245.zip as it is patch related run and we don''t know from which home it came from.',
'    log_text(''We are not processing collections if it is like orachk_052014_064245.zip. It is patch related run and we do not know from which host it is.'',collectionId,docId);',
'    update_collection_status(collectionId,''Failed'');',
'    return;',
'  end if;  ',
'  */',
'  ',
'  -- Get collection type',
'    if upper(docName) like ''EXACHK_%.ZIP'' then',
'      collectionType := ''exachk'';',
'    elsif upper(docName) like ''ORACHK_%.ZIP'' then',
'      collectionType := ''orachk'';',
'    elsif upper(docName) like ''RACCHECK_%.ZIP'' then',
'      collectionType := ''raccheck'';',
'    else',
'      log_text(''INVALIDNAME: Collection name is not valid. It should start with orachk/exachk/raccheck...exiting'',collectionId,docId);',
'      update_collection_status(collectionId,''Failed'');',
'      return;',
'    end if;',
'  ',
'  -- Check whether there is enough space to process collection or not  ',
'  begin',
'   select tablespace_name into tsName from user_tables where table_name = ''RCA13_DOCS'';',
'   SELECT sum(bytes)/1048576 into freeSpace FROM user_free_space  where tablespace_name = tsName;',
'   exception when others then null;',
'  end;',
'  if freeSpace < minRequiredFreeSpace then     ',
'    log_text(''MEMORYCRUNCH: Does not have enough space in data base to process collection...exiting.'',collectionId,docId);',
'    update_collection_status(collectionId,''Failed'',''NO_ENOUGH_SPACE'');',
'    return;    ',
'  end if;',
'  ',
'  log_text(''START: Started processing collection'',collectionId,docId);',
'  SELECT filename,  file_blob  INTO colName, colBlob  FROM rca13_docs WHERE doc_id = docId;',
'  collectionName := substr(colName,instr(colName,''/'',-1,1)+1);',
'  collectionName := REGEXP_REPLACE(collectionName,''\.zip'','''',1,1,''i'');',
'  colName := REGEXP_REPLACE(collectionName,''\_collect'','''',1,1,''i'');',
'  htmlRep            := colName||''.html'';',
'  browserRep         := regexp_replace(htmlRep,''_'',''_browse_'',1,1);',
'  ',
'  --log_text(''HTML file=''||htmlRep||'',b=''||browserRep,collectionId,docId);  ',
'  --UPDATE rca13_collections  SET status          = ''Processing''  WHERE collection_id = collectionId;',
'  files              := rca13_manage_zips.get_file_list(colBlob);',
'  log_text(''FINISH: Finished getting list of files from Zip archive'',collectionId,docId);',
'  ',
'  --In First round process non HTML files',
'  log_text(''START: Started parsing non HTML/XML files'',collectionId,docId);',
'  FOR i IN files.first() .. files.last   LOOP',
'   begin',
'    temp := files(i);',
'    -- files returns directories also. Don''t insert directories',
'    CONTINUE  WHEN SUBSTR(files(i),LENGTH(files(i))) = ''/'';',
'    --Now a days seeing some zip files inside zip .. ignore them for now',
'    continue when upper(files(i)) like ''%.ZIP'';',
'    fnShort := SUBSTR(files(i),instr(files(i),''/'',-1,1)+1);',
'    -- As part of minimal collection processing. Process only selective files of collection.',
'    if fnShort = ''upload_''||collectionType||''_result.sql'' OR fnShort = ''upload_''||collectionType||''_patch_result.sql''',
'       OR fnShort = ''check_env.out'' OR fnShort = ''o_host_list.out'' OR fnShort = ''o_ibswitches.out''',
'       OR fnShort = ''cells.out'' OR fnShort =  collectionType||''_skipped_checks.log''',
'         OR fnShort = ''total_checks_summary.out'' then',
'      -- Basic files  ',
'      null;',
'    elsif fnShort like ''d_v_parameter_%.out'' then',
'      --Name = value files -- not sure what to do with these files.',
'      null;',
'    else',
'      continue;',
'    end if;',
'    INSERT INTO RCA13_COLLECTION_FILES(COLLECTION_FILE_ID,COLLECTION_ID,FILE_NAME,SHORT_FILE_NAME)',
'    VALUES(sys_guid(),collectionId,files(i),fnShort) RETURN COLLECTION_FILE_ID    INTO cFileId;        ',
'   ',
'    fileBlob := rca13_manage_zips.get_file(colBlob,files(i));  ',
'    fContent                     := rca13_manage_collections.blob_to_clob(fileBlob);',
'    fContent                     := trim(both chr(10) FROM fContent);',
'    lCounter                     := 1;',
'   ',
'    if fnShort = ''upload_''||collectionType||''_result.sql'' then       ',
'        checksSqlFileId := cFileId;',
'    end if;',
'    if fnShort = ''upload_''||collectionType||''_patch_result.sql'' then       ',
'        patchchecksSqlFileId := cFileId;',
'    end if;',
'    ',
'    WHILE instr(fContent,chr(10)) > 0',
'    LOOP',
'      lText := SUBSTR(fContent,1,instr(fContent,chr(10)) - 1);',
'      INSERT INTO RCA13_COLLECTION_FILE_DATA(COLLECTION_FILE_DATA_ID,COLLECTION_FILE_ID,LINE_TEXT,LINE_NUMBER)',
'      VALUES(sys_guid(),cFileId,lText,lCounter);',
'      fContent := SUBSTR(fContent,instr(fContent,chr(10)) + 1);',
'      lCounter := lCounter                                +1;',
'    END LOOP;',
'    --Hanlde file with one line / insert last line of file',
'    IF instr(fContent,chr(10)) = 0 AND fContent IS NOT NULL THEN',
'      INSERT INTO RCA13_COLLECTION_FILE_DATA(COLLECTION_FILE_DATA_ID,COLLECTION_FILE_ID,LINE_TEXT,LINE_NUMBER)',
'      VALUES(sys_guid(),cFileId,fContent,lCounter);',
'    END IF;',
'    COMMIT;    ',
'   exception when others then    ',
'     log_text(''FAIL: Failed to process the file''||temp,collectionId,docId);',
'     if fnShort = ''upload_''||collectionType||''_result.sql'' then       ',
'        filesCnt := filesCnt + 1;',
'     end if;',
'     if fnShort = ''upload_''||collectionType||''_patch_result.sql'' then       ',
'        filesCnt := filesCnt + 1;',
'     end if;',
'   end;',
'  END LOOP;',
'  ',
'  -- There is no point of going a head if .sql files fails OR if no .sql files',
'  if filesCnt = 2 OR ( ( checksSqlFileId is null OR filesCnt = 1 ) and ( patchchecksSqlFileId is null OR filesCnt = 1 ) ) then  ',
'    log_text(''FAIL: *.sql files ( audit results ) not found or failed to process .. Exiting'',collectionId,docId);',
'    update_collection_status(collectionId,''Failed'');',
'    return;',
'  end if;',
'  ',
'  log_text(''FINISH: Finished parsing non HTML/XML files'',collectionId,docId);',
'  ',
'  -- Now Go through some of the files and popup tables',
'  rca13_manage_collections.parseRCFiles(collectionId,docId);',
'  commit;',
'  -- INsert auditchecks',
'  if checksSqlFileId is not null then',
'   insertAuditChecks(checksSqlFileId,collectionId,docId);',
'  end if;',
'  -- Insert patch results',
'  if patchchecksSqlFileId is not null then',
'   insertAuditPatchChecks(patchchecksSqlFileId,collectionId,docId);',
'  end if;',
'  --log_text(''Finished inserting data into Audit check result tables'',collectionId,docId);',
'  ',
'  -- Now process HTML/XML files',
'  log_text(''START: Started parsing HTML/XML files'',collectionId,docId);',
'  isHTMLLoaded := 0;',
'  FOR i IN files.first() .. files.last   LOOP',
'   begin',
'    temp := files(i);',
'    fnShort := SUBSTR(files(i),instr(files(i),''/'',-1,1)+1);',
'    continue when nvl(fnShort,''z'') != nvl(htmlRep,''zz'') and nvl(fnShort,''z'') != nvl(collectionType||''_recommendations.xml'',''zz'') ;',
'    continue when nvl(fnShort,''z'') = nvl(htmlRep,''zz'') and isHTMLLoaded = 1;',
'    --We are here only if file is HTML files',
'    INSERT INTO RCA13_COLLECTION_FILES(COLLECTION_FILE_ID,COLLECTION_ID,FILE_NAME,SHORT_FILE_NAME)',
'    VALUES(sys_guid(),collectionId,files(i),fnShort) RETURN COLLECTION_FILE_ID    INTO cFileId;        ',
'    ',
'    fileBlob := rca13_manage_zips.get_file(colBlob,files(i));  ',
'    IF ( files(i) LIKE ''%''||htmlRep and isHTMLLoaded = 0 ) THEN',
'      INSERT INTO RCA13_docs (doc_id,COLLECTION_ID,FILENAME, FILE_BLOB,attr1) VALUES',
'        ( rca13_file_seq.nextval,collectionId,htmlRep,fileBlob,''HTML_REP_FILE'');',
'      COMMIT;',
'      isHTMLLoaded := 1;',
'      htmlFileId := cFileId;',
'      log_text(''INSERT: Inserted HTML Report into rca13_docs'',collectionId,docId);',
'    END IF;',
'    if ( files(i) LIKE ''%''||collectionType||''_recommendations.xml'' ) then',
'      xmlRecFileId := cFileId;',
'    end if;',
'    fContent                     := rca13_manage_collections.blob_to_clob(fileBlob);',
'    fContent                     := trim(both chr(10) FROM fContent);',
'    lCounter                     := 1;',
'   --  fileBlob := null;    ',
'    log_text(''STARTPRO: Started Processing ''||files(i)||'' file'',collectionId,docId);',
'   /* WHILE instr(fContent,chr(10)) > 0',
'    LOOP',
'      lText := substr(SUBSTR(fContent,1,instr(fContent,chr(10)) - 1),1,4000);   ',
'      INSERT INTO RCA13_COLLECTION_FILE_DATA',
'      (COLLECTION_FILE_DATA_ID,COLLECTION_FILE_ID,LINE_TEXT,LINE_NUMBER)',
'      VALUES(sys_guid(),cFileId,lText,lCounter);',
'      fContent := SUBSTR(fContent,instr(fContent,chr(10)) + 1);',
'      lCounter := lCounter+1;         ',
'    END LOOP;',
'    --Handle file with one line / insert last line of file',
'    IF instr(fContent,chr(10)) = 0 AND fContent IS NOT NULL THEN',
'      INSERT INTO RCA13_COLLECTION_FILE_DATA',
'      (COLLECTION_FILE_DATA_ID,COLLECTION_FILE_ID,LINE_TEXT,LINE_NUMBER)',
'      VALUES(sys_guid(),cFileId,fContent,lCounter);',
'    END IF;',
'    COMMIT;  ',
'   log_text(''FINISHPRO: Finished processing ''||files(i)||'' file'',collectionId,docId);',
'   exception',
'   when no_data_found then',
'   log_text(''FAIL: Failed to process the file SQLCODE ''||SQLCODE||''lCounter''||lCounter,collectionId,docId);',
'   log_text(''FAIL: Failed to process the file SQLERRM ''||SUBSTR(SQLERRM,1,64),collectionId,docId);   ',
'   when others then',
'   log_text(''FAIL: Failed to process the file SQLCODE ''||SQLCODE||''lCounter''||lCounter,collectionId,docId);',
'   log_text(''FAIL: Failed to process the file SQLERRM ''||SUBSTR(SQLERRM,1,64),collectionId,docId);',
'   log_text(''FAIL: Failed to process the file ''||temp,collectionId,docId);',
'      end;',
'  END LOOP;*/',
'    v_start := 1;',
'for i in 1..ceil(DBMS_LOB.GETLENGTH(fContent)/v_buffer) loop',
'      text := null;',
'      dbms_lob.read(fContent,v_buffer,v_start,text);',
'      WHILE instr(text,chr(10)) > 0 LOOP',
'        lText := substr(SUBSTR(text,1,instr(text,chr(10)) - 1),1,4000);     ',
'        if textLeft is not null then',
'          lText := textLeft || lText;',
'          textLeft := null;',
'        end if;',
'        INSERT INTO RCA13_COLLECTION_FILE_DATA(COLLECTION_FILE_DATA_ID,COLLECTION_FILE_ID,LINE_TEXT,LINE_NUMBER)',
'        VALUES(sys_guid(),cFileId,lText,lCounter);',
'        text := SUBSTR(text,instr(text,chr(10)) + 1);',
'        lCounter := lCounter + 1;          ',
'      END LOOP;',
'      if text is not null then',
'        textLeft := text;',
'      end if;',
'      v_start := v_start + v_buffer;',
'    end loop;',
'      --Handle insert last line of file',
'    IF instr(fContent,chr(10)) = 0 AND fContent IS NOT NULL THEN',
'      INSERT INTO RCA13_COLLECTION_FILE_DATA',
'      (COLLECTION_FILE_DATA_ID,COLLECTION_FILE_ID,LINE_TEXT,LINE_NUMBER)',
'      VALUES(sys_guid(),cFileId,fContent,lCounter);',
'    END IF;',
'    COMMIT;  ',
'    log_text(''FINISHPRO: Finished processing ''||files(i)||'' file'',collectionId,docId);',
'   exception when others then',
'    log_text(''FAIL: Failed to process the file SQLCODE ''||SQLCODE||''lCounter''||lCounter,collectionId,docId);',
'   log_text(''FAIL: Failed to process the file SQLCODE ''||SQLCODE,collectionId,docId);',
'   log_text(''FAIL: Failed to process the file SQLERRM ''||SUBSTR(SQLERRM,1,64),collectionId,docId);',
'   log_text(''FAIL: Failed to process the file ''||temp,collectionId,docId);',
'end;',
'  END LOOP; ',
'       ',
'  -- Now go through HTML report file and get checks recommendation data',
'  if xmlRecFileId is not null OR htmlFileId is not null then',
'   log_text(''START: Started updating checks rationale Information'',collectionId,docId);',
'   if xmlRecFileId is not null then',
'    getChecksInfo(xmlRecFileId,''XML'');',
'   else',
'    getChecksInfo(htmlFileId,''HTML'');',
'   end if;',
'   log_text(''FINISH: Finished updating checks rationale Information'',collectionId,docId);',
'  end if;',
'  ',
'  --Process parameter files',
'  RCA13_MANAGE_PARAMS.processParamFiles(collectionId);',
'  commit;',
'  --Update the status to completed',
'  UPDATE rca13_collections  SET status = ''Processed''  WHERE collection_id = collectionId;',
'  commit;',
'  log_text(''FINISH: Finished processing collection'',collectionId,docId);    ',
'  exception when others then',
'  UPDATE rca13_collections  SET status = ''Failed''  WHERE collection_id = collectionId;',
'  log_text(''FAIL: Collection Failed to process with error ''||DBMS_UTILITY.FORMAT_ERROR_STACK,collectionId,docId);',
'  commit;',
'END;',
'--------------------------------------------------------------------------------',
'procedure parseHostSwitchSSFile(shortFileName varchar2 , cFileId varchar2) is',
'cursor cur is select line_text from RCA13_COLLECTION_FILE_DATA  where COLLECTION_FILE_ID = cFileId;',
'lineText varchar2(256);',
'collectionId varchar2(40);',
'sourceName varchar2(40);',
'cellName varchar2(128);',
'begin',
'select collection_id into collectionId from RCA13_COLLECTION_FILES where COLLECTION_FILE_ID = cFileId;',
'select system_name into sourceName from rca13_collections  where collection_id = collectionId;',
' ',
'insert into rca13_files(file_id,collection_id,source_name,source_type,COLLECTION_FILE_ID)',
'  values (sys_guid(),collectionId,sourceName,decode(shortFileName,''o_host_list.out'',''HOSTS'',''o_ibswitches.out'',''SWITCH'',''cells.out'',''CELL'',''DB''),cFileId);',
' ',
'if shortFileName like ''o_host_list.out'' then  ',
' for line in cur loop',
' insert into rca13_hosts(host_id,host_name,collection_id) values',
'        (sys_guid(),line.line_text,collectionId);',
' end loop;',
'elsif shortFileName like ''o_ibswitches.out'' then',
' for line in cur loop',
' insert into rca13_ibs_ss(ibs_ss_id,name,collection_id,type) values',
'        (sys_guid(),line.line_text,collectionId,''S'');',
' end loop;',
'elsif shortFileName like ''cells.out'' then',
' for line in cur loop',
'  continue when ( instr(line.line_text,''='',1,1) = 0 );',
'  cellName := trim(substr(line.line_text,instr(line.line_text,''='',1,1)+1));',
'  --if cell name is not available in DNS store IP address',
'  if cellName is null then',
'   cell'))
);
end;
/
begin
wwv_flow_api.append_to_install_script(
 p_id=>wwv_flow_api.id(310977542313584806)
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'Name := trim(substr(line.line_text,1,instr(line.line_text,''='',1,1)-1));    ',
'  end if;',
'   insert into rca13_ibs_ss(ibs_ss_id,name,collection_id,type) values (sys_guid(),cellName,collectionId,''C'');',
' end loop;',
'end if;',
'commit;',
'end;',
'--------------------------------------------------------------------------------',
'procedure parseOsFiles(shortFileName varchar2, cFileId varchar2) is',
'flag number := 0;',
'begin',
'  if (shortFileName like ''%inventory%'' or shortFileName like ''%comps%'')  then',
'    --pgFromDarwinInventoryOrComps (shortFileName,cFileId);',
'    null;',
'  elsif shortFileName like ''o_host_list.out'' or shortFileName like ''o_ibswitches.out'' or shortFileName like ''cells.out'' then',
'    parseHostSwitchSSFile(shortFileName,cFileId);',
'  elsif shortFileName like ''o_package%'' then  ',
'    --parseOsPackageFiles(shortFileName,cFileId);',
'    null;',
'  elsif shortFileName like ''o_actual_%'' or shortFileName like ''c_actual.out'' then',
'    --parseOsActualFiles(shortFileName,cFileId);',
'    null;',
'  else',
'   --parseOtherOsFiles(shortFileName,cFileId);',
'   null;',
'  end if;',
'end;',
'--------------------------------------------------------------------------------',
'function getVersionFromDbName(homePath varchar2,cFileId varchar2) return varchar2 is',
'cursor cur is select line_text from rca13_COLLECTION_FILE_DATA where COLLECTION_FILE_ID = cFileId and trim(line_text) like ''DB_NAME%'';',
'nameField varchar2(512);',
'valueField varchar2(256);',
'begin',
' -- this func return null if there is no DB_NAME entry in check_env.out file for the corresponding home.',
' -- If user selects no databases then we will not see any DB_NAME entry in check_env.out file.',
' for line in cur loop  ',
'   nameField  := upper(trim(substr(line.line_text,1,(instr(line.line_text , ''='' ,1,1)-1))));',
'   valueField := trim(substr(line.line_text,(instr(line.line_text , ''='' ,1,1)+1)));',
'   continue when ( instr(line.line_text,''='',1,1) = 0 or nameField not like ''DB_NAME'');',
'   if substr(valueField,instr(valueField,''|'',-1,1)+1) = homePath then',
'    return substr(valueField,instr(valueField,''|'',1,1)+1,instr(valueField,''|'',1,2)-instr(valueField,''|'',1,1)-1);',
'  end if;',
' end loop;',
' return null;',
'end;',
'--------------------------------------------------------------------------------',
'procedure combineHomes(collectionId varchar2) is',
'cursor cur is select * from rca13_homes where collection_id=collectionId and type not like ''ASM'';',
'asmVersion varchar2(40) := NULL;',
'asmHomePath varchar2(128) := NULL;',
'asmHomeId varchar2(40):= NULL;',
'begin',
'-- crs version >= asm version >= rdbms version',
'-- for GI asm and crs share the same home',
'if ISASMINSTALLED = 1 then',
' begin',
'    select home_id,home_path,version into asmHomeId,asmHomePath,asmVersion from rca13_homes',
'    where collection_id=collectionId and type like ''ASM'';',
' ',
'    for rec in cur loop',
'      if rec.type like ''CRS'' and ( asmVersion >= ''11.2'' or rec.version >= ''11.2'' or asmHomePath like rec.home_path ) then',
'        update rca13_homes set version=decode(rec.version,null,asmVersion,rec.version),type=''GI'',',
'       home_path=decode(rec.home_path,null,asmHomePath,rec.home_path) where home_id=rec.home_id;',
'        delete from rca13_homes where home_id=asmHomeId;',
'      end if;',
'      if rec.type like ''RDBMS'' and asmHomePath like rec.home_path then',
'        update rca13_homes set version=decode(rec.version,null,asmVersion,rec.version),type=''ASM & RDBMS'' where home_id=rec.home_id;',
'        delete from rca13_homes where home_id=asmHomeId;',
'      end if;',
'    end loop;',
'    commit;',
'  exception when no_data_found then',
'   --Don''t worry about it, there must not have been a separate ASM home, and nothing to combine',
'   --and nothing to update and nothing to delete',
'    null;',
'  end;',
'end if;',
'end;',
'--------------------------------------------------------------------------------',
'procedure parseEnvFile(shortFileName varchar2,cFileId varchar2) is',
'cursor cur is select line_text,line_number from rca13_COLLECTION_FILE_DATA  ',
' where COLLECTION_FILE_ID = cFileId order by line_number ASC;',
'nameField varchar2(512);',
'valueField varchar2(256);',
'collectionDate date;',
'dbName varchar2(40);',
'dbVersion varchar2(30);',
'rdbmsVersion varchar2(50);',
'rdbmsVersion1 varchar2(50);',
'asmVersion varchar2(50);',
'crsVersion varchar2(50);',
'osPlatform varchar2(50);',
'osDistribution varchar2(30);',
'osKernel rca13_collections.os_kernel%TYPE;',
'osVersion varchar2(30);',
'systemName varchar2(128);',
'collectionType varchar2(30);',
'collectionSource varchar2(30);',
'fileName varchar2(128);',
'fileType varchar2(100);',
'sourceName varchar2(40);',
'sourceType varchar2(40);',
'collectionId varchar2(40);',
'fileId varchar2(40);',
'instanceName varchar2(128);',
'instanceType varchar2(40);',
'counter number;',
'lineNumber number;',
'needsRunning varchar2(32);',
'collectionName varchar2(512);',
'oracleHomeid varchar2(40);',
'c1 number;',
'dbId varchar2(40);',
'version1 varchar2(48);',
'homeId1 varchar2(40);',
'dbId1 varchar2(40);',
'c2 number;',
'tempVar varchar2(40);',
'exadataVersion varchar2(40);',
'exadataRack varchar2(20);',
'count1 number;',
'c3 number;',
'hostId1 varchar2(40);',
'inFlag number;',
'hName varchar2(200);',
'grpStr varchar2(100);',
'customerId varchar2(200);',
'toolVersion varchar2(100);',
'curUser varchar2(100);',
'skippedChecksCnt number := 0;',
'isExalogic number := 0;',
'profs varchar2(2000);',
'begin',
'  select collection_id into collectionId from rca13_COLLECTION_FILES where collection_file_id=cFileId;',
'  if shortFileName not like ''check_env.out'' then',
'   return;',
'  end if;',
'    --Stage1: Get some Info and fill rca13_homes',
'    for line in cur loop',
'     continue when ( instr(line.line_text,''='',1,1) = 0 );',
'     nameField  := upper(trim(substr(line.line_text,1,(instr(line.line_text , ''='' ,1,1)-1))));',
'     valueField := trim(substr(line.line_text,(instr(line.line_text , ''='' ,1,1)+1)));',
'     if nameField like ''LOCALNODE'' then',
'      LOCAL_NODE := valueField;     ',
'     elsif nameField like ''SWITCH'' and valueField like ''-u'' then',
'      IS_UPGRADE_MODE := 1;',
'     elsif nameField like ''TARGET_VERSION'' and valueField is not null then',
'      TARGET_VERSION := substr(valueField,1,2)||''.'';',
'      for i in 3 .. length(valueField) loop',
'       TARGET_VERSION := TARGET_VERSION || substr(valueField,i,1)||''.'';',
'      end loop;',
'      TARGET_VERSION := rtrim(TARGET_VERSION,''.'');',
'     elsif nameField like ''RDBMS_ORACLE_HOME''  then',
'      if valueField is null or substr(valueField,1,instr(valueField,''|'',1,1)-1) is null then                 ',
'        continue;',
'      end if;',
'      rdbmsVersion := substr(valueField,instr(valueField,''|'',1,1)+1,instr(valueField,''|'',1,2)-1-instr(valueField,''|'',1,1));',
'      if rdbmsVersion is null then',
'       rdbmsVersion := getVersionFromDbName(rtrim(substr(valueField,1,instr(valueField,''|'',1,1)-1),''/''),cFileId);',
'       continue when (rdbmsVersion is null);',
'      end if;',
'      rdbmsVersion1 := substr(rdbmsVersion,1,2)||''.'';',
'      for i in 3 .. length(rdbmsVersion) loop',
'       rdbmsVersion1 := rdbmsVersion1 || substr(rdbmsVersion,i,1)||''.'';',
'      end loop;',
'      rdbmsVersion1 := rtrim(rdbmsVersion1,''.'');',
'      -- Remove duplicate home paths...',
'      select count(1) into count1 from rca13_homes where collection_id=collectionId and type like ''RDBMS'' and',
'       home_path = rtrim(substr(valueField,1,instr(valueField,''|'',1,1)-1),''/'');',
'      if count1 > 0 then',
'       continue;',
'      else',
'      insert into rca13_homes(home_id,collection_id,home_path,version,user_name,type)',
'       values(sys_guid(),collectionId,rtrim(substr(valueField,1,instr(valueField,''|'',1,1)-1),''/''),rdbmsVersion1,',
'       nvl(substr(valueField,instr(valueField,''|'',1,2)+1),''USER_NAME''),''RDBMS'');',
'      end if;',
'      commit;     ',
'     end if;',
'    end loop;',
'    ',
'    -- Stage2:     ',
'    for line in cur loop',
'     continue when ( instr(line.line_text,''='',1,1) = 0 );',
'     nameField  := trim(substr(line.line_text,1,(instr(line.line_text , ''='' ,1,1)-1)));',
'     valueField := trim(substr(line.line_text,(instr(line.line_text , ''='' ,1,1)+1)));',
'     -- Work around for entries like FILE_ID = A862D9F3403E44ECE040E50A1EC01F32 Ã·',
'     if nameField like ''FILE_ID'' and instr(valueField,'' '',1,1) != 0 then',
'      valueField := substr(valueField,1,instr(valueField,'' '',1,1)-1);',
'     end if;',
'     if nameField like ''DB_NAME'' and instr(line.line_text , ''|'' ,1,1) != 0 then',
'      begin',
'        select home_id into oracleHomeId from rca13_homes',
'         where collection_id = collectionId and home_path = rtrim(substr(valueField,instr(valueField,''|'',1,2)+1),''/'');',
'         exception when no_data_found then',
'         -- Continue when entries are like DB_NAME = VPT3DB15||',
'         continue;',
'      end;   ',
'      insert into rca13_databases(database_id,db_name,home_id,physical_standby,logical_standby,collection_id)',
'       values(sys_guid(),substr(valueField,1,instr(valueField,''|'',1,1)-1),oracleHomeId,NULL,NULL,collectionId);',
'     else',
'        case          ',
'         when nameField like ''FILE_ID'' then kitId := valueField;',
'         when nameField like ''FILE_SIG'' then customerId := valueField;',
'         when nameField like ''COLLECTION DATE'' then',
'              begin',
'              collectionDate := to_date(valueField,''DD-MM-YYYY HH24:MI:SS'');',
'              exception when others then collectionDate := null;',
'              end;',
'         when nameField like ''DB_NAME'' then dbName := valueField;',
'         when nameField like ''DB_VERSION'' then dbVersion := valueField;',
'         when nameField like ''ASM_VERSION'' then asmVersion := valueField;',
'         when nameField like ''ASM_HOME'' then ASMHOME := valueField;',
'         when nameField like ''CRS_VERSION'' then crsVersion := valueField;',
'         when nameField like ''DB_PLATFORM'' then osPlatform := valueField;',
'         when nameField like ''OS_DISTRO'' then osDistribution := valueField;',
'         when nameField like ''OS_VERSION'' then osVersion := valueField;',
'         when nameField like ''OS_KERNEL'' then osKernel := valueField;',
'         when nameField like ''CLUSTER_NAME'' then systemName := valueField;',
'         when upper(nameField) like upper(LOCAL_NODE)||''.CRS_ACTIVE_VERSION'' then crsVersion := valueField;',
'         when upper(nameField) like upper(LOCAL_NODE)||''.%ASM%.VERSION'' then asmVersion := valueField;',
'         when upper(nameField) like upper(LOCAL_NODE)||''.CRS_INSTALLED'' then ISCRSINSTALLED := valueField;',
'         when upper(nameField) like upper(LOCAL_NODE)||''.ASM_INSTALLED'' then ISASMINSTALLED := valueField;',
'         when upper(nameField) like ''.%ASM%.VERSION'' then asmVersion := nvl(valueField,asmVersion);',
'         when upper(nameField) = ''EXADATA_COMPUTE'' then isExadata := nvl(valueField,0);',
'         when upper(nameField) = ''EXADATA_VERSION'' then exadataVersion := valueField;',
'         when upper(nameField) = ''EXADATA_RACK''  then exadataRack := valueField;',
'         when upper(nameField) = ''GRP_STR''  then grpStr := valueField;',
'         when upper(nameField) = ''EXACHK_VERSION'' OR upper(nameField) = ''ORACHK_VERSION''  then toolVersion := valueField;',
'         when upper(nameField) = ''CURRENT_USER''  then curUser := valueField;',
'         when upper(nameField) = ''IS_EXALOGIC_MACHINE''  then isExalogic := valueField;',
'         when upper(nameField) = ''PROFILE_NAMES''  then profs := replace(valueField,'','','', '');',
'         else null;',
'         --dbms_output.put_line(''do nothing'');         ',
'        end case;        ',
'     end if;   ',
'    end loop;',
'    -- get db instances    ',
'    if osPlatform like ''AIX6 ( 64-BIT)'' then',
'     osPlatform := ''AIX6 (64-BIT)'';',
'    end if;',
'    if osPlatform like ''AIX5 ( 64-BIT)'' then',
'     osPlatform := ''AIX5 (64-BIT)'';',
'    end if;',
'    -- If platform name is ''SOLARIS  (SPARC 64-BIT)'', then Replace it with ''SOLARIS (SPARC 64-BIT)''',
'    if osPlatform like ''SOLARIS  (SPARC 64-BIT)'' or osPlatform like ''SOLARIS (SPARC64-BIT)'' then',
'      osPlatform := ''SOLARIS (SPARC 64-BIT)'';',
'    end if;',
'    if osPlatform = ''HPUX'' and grpStr like ''HPUXItanium%'' then',
'      osPlatform := ''HP-UX ITANIUM'';',
'    end if;',
'    ',
'    for line in cur loop    ',
'     continue when ( instr(line.line_text,''='',1,1) = 0 );',
'     nameField  := upper(trim(substr(line.line_text,1,(instr(line.line_text , ''='' ,1,1)-1))));',
'     valueField := trim(substr(line.line_text,(instr(line.line_text , ''='' ,1,1)+1)));     ',
'     -- Following works for both SDB and MDB, if we miss crs_home from SDB, we will add it later',
'     -- And we combine asm_home with other home( if applicable) later',
'     -- We are populating rca13_homes table in both the SDB and MDB cases',
'     if nameField like ''DB_NAME'' and instr(valueField,''|'',1,1) = 0 then',
'      insert into rca13_homes(home_id,collection_id,home_path,version,user_name,type,home_path_short)',
'       values(sys_guid(),collectionId,''RDBMS Home'',dbVersion,''SITE.USER'',''RDBMS'',''RDBMS Home'') return home_id into homeId1;',
'      insert into rca13_databases(database_id,db_name,home_id,physical_standby,logical_standby,collection_id)',
'       values(sys_guid(),valueField,homeId1,NULL,NULL,collectionId) return database_id into dbId1;',
'     elsif nameField like ''CRS_HOME'' and ISCRSINSTALLED = 1 then',
'      insert into rca13_homes(home_id,collection_id,home_path,version,type)',
'       values(sys_guid(),collectionId,valueField,crsVersion,''CRS'');',
'     elsif nameField like ''ASM_HOME'' and ISASMINSTALLED = 1 then',
'      insert into rca13_homes(home_id,collection_id,home_path,version,user_name,type,home_path_short)',
'       values(sys_guid(),collectionId,decode(valueField,NULL,''ASM Home'',valueField),asmVersion,''SITE.USER'',''ASM'',decode(valueField,NULL,''ASM Home'',NULL));',
'     end if;',
'    end loop;',
'-- get db instances and ASM instances     ',
'    for line in cur loop    ',
'     continue when ( instr(line.line_text,''='',1,1) = 0 );',
'     nameField  := upper(trim(substr(line.line_text,1,(instr(line.line_text , ''='' ,1,1)-1))));',
'     valueField := trim(substr(line.line_text,(instr(line.line_text , ''='' ,1,1)+1)));',
'     -- DB instances fetch',
'     if nameField like ''%.INSTANCE_NAME'' and valueField is not null then      ',
'      if instr(nameField,''.'',1,2 )!=0 then --works for MOH collections       ',
'       begin',
'       select distinct database_id into dbId from rca13_databases where collection_id = collectionId',
'        and upper(db_name) like substr(nameField,instr(nameField,''.'',1,1)+1,instr(nameField,''.'',1,2)-instr(nameField,''.'',1,1)-1);',
'       exception when NO_DATA_FOUND then continue; -- this exception is to handle if we don''t have',
'       end;',
'       insert into rca13_db_instances(db_instance_id,database_id,instance_name,node_name,collection_id)',
'        values(sys_guid(),dbId,valueField,substr(nameField,1,instr(nameField,''.'',1,1)-1),collectionId);                ',
'      elsif dbName is not null then --works for SOH collections',
'       insert into rca13_db_instances(db_instance_id,database_id,instance_name,node_name,collection_id)',
'        values(sys_guid(),dbId1,valueField,substr(nameField,1,instr(nameField,''.'',1,1)-1),collectionId);',
'      end if;',
'     end if;  ',
'     -- ASM instances fetch',
'     if nameField like ''%.ASM_INSTANCE'' and valueField is not null then      ',
'       insert into rca13_asm_instances(asm_instance_id,instance_name,node_name,collection_id)',
'        values(sys_guid(),valueField,substr(nameField,1,instr(nameField,''.'',1,1)-1),collectionId);                ',
'     end if;     ',
'    end loop;',
'    commit;            ',
'    --If collection date is null, get it from collection file name or initialize to sysdate',
'    if collectionDate is null then',
'     select filename into collectionName from rca13_collections where collection_id=collectionId;',
'     collectionName := substr(collectionName,instr(collectionName,''/'',-1,1)+1,',
'                       instr(collectionName,''.'',-1,1)-instr(collectionName,''/'',-1,1)-1);',
'     collectionName := substr(collectionName,instr(collectionName,''_'',1,2)+1);',
'     collectionName := substr(collectionName,1,2)||''-''||substr(collectionName,3,2)||''-''||substr(collectionName,5,2)||'' ''||',
'                       substr(collectionName,8,2)||'':''||substr(collectionName,10,2)||'':''||substr(collectionName,12,2);',
'     begin                       ',
'      collectionDate:= to_date(collectionName,''DD-MON-YYYY HH24:MI:SS'');',
'      exception when others then',
'      collectionDate := to_date(sysdate,''DD-MON-YYYY HH24:MI:SS'');   ',
'     end;',
'    end if;',
'        ',
'    -- if osPlatform is null or crsVersion is null then',
'    if crsVersion is null and ISCRSINSTALLED = 1 and asmVersion is not null and asmVersion >= ''11.2'' then',
'     crsVersion := asmVersion;',
'    end if;',
'    if osPlatform is null or (crsVersion is null and ISCRSINSTALLED = 1) then    ',
'      --raise_application_error(-20001,''Values of DB_PLATFORM(os platform) and CRS_VERSION should not be null'',true);',
'      null;',
'    end if;',
'    -- Get skipped checks count',
'    begin',
'     select count(1) into skippedChecksCnt from rca13_collection_file_data a,rca13_collection_files b',
'     where b.collection_id = collectionId and b.short_file_name like ''%_skipped_checks.log''',
'     and b.collection_file_id = a.collection_file_id;',
'     exception when others then null;',
'    end;',
'    update rca13_collections set collection_date = collectionDate,',
'     os_platform = osPlatform,os_dist = osDistribution,os_kernel = osKernel,',
'     os_version = osVersion,system_name = systemName,asm_version = asmVersion,crs_version = crsVersion,',
'     is_exadata = isExadata,exadata_version = exadataVersion,exadata_rack = exadataRack,kit_id = kitId,',
'     current_user = curUser,tool_version = toolVersion,skipped_checks = skippedChecksCnt,',
'     is_exalogic = isExalogic,profiles = profs where collection_id = collectionId;',
'    commit;',
'-- update rca13_homes table for type= crs,asm and rdbms',
'   update rca13_homes set version = asmVersion where collection_id = collectionId and type like ''ASM'';',
'   select count(*) into c2 from rca13_homes where collection_id= collectionId and type like ''CRS'';',
'   if c2 = 1 then',
'    update rca13_homes set version = crsVersion where collection_id = collectionId and type like ''CRS'';',
'   else',
'    insert into rca13_homes(home_id,collection_id,home_path,version,user_name,type,home_path_short)',
'       values(sys_guid(),collectionId,''CRS Home'',crsVersion,''SITE.USER'',''CRS'',''CRS Home'');',
'   end if;',
'   ',
'   combineHomes(collectionId);   ',
'   ',
'   select system_name into sourceName from rca13_collections where collection_id=collectionId;',
'  insert into rca13_files (file_id,collection_id,source_name,source_type,collection_file_id)',
'        values (sys_guid(),collectionId,sourceName,''DB'',cFileId);',
'-- this is to get standby',
'   for line in cur loop',
'    continue when ( instr(line.line_text,''='',1,1) = 0 );',
'    nameField  := trim(substr(line.line_text,1,(instr(line.line_text , ''='' ,1,1)-1)));',
'    valueField := trim(substr(line.line_text,(instr(line.line_text , ''='' ,1,1)+1)));',
'    case',
'     when nameField like ''%.PHYSICAL_STANDBY'' then',
'      update rca13_databases set physical_standby = valueField',
'       where collection_id = collectionId and upper(db_name) = upper(substr(nameField,1,instr(nameField,''.'',1,1)-1));',
'     when nameField like ''%.LOGICAL_STANDBY''  then',
'      update rca13_databases set logical_standby = valueField',
'       where collection_id = collectionId and upper(db_name) = upper(substr(nameField,1,instr(nameField,''.'',1,1)-1));',
'     when nameField like ''%.DATABASE_ROLE'' then',
'      update rca13_databases set DATABASE_ROLE = valueField',
'       where collection_id = collectionId and upper(db_name) = upper(substr(nameField,1,instr(nameField,''.'',1,1)-1));       ',
'     else null;',
'    end case;',
'   end loop;          ',
'  commit;',
'end;',
'--------------------------------------------------------------------------------',
'procedure parseFile(cFileId varchar2 ) is',
'shortFileName rca13_COLLECTION_FILES.short_file_name%TYPE;',
'collectionId varchar2(40);',
'begin',
' if cFileId is null then',
'  return;',
' end if;',
' select collection_id,short_file_name into collectionId,shortFileName from rca13_COLLECTION_FILES',
' where COLLECTION_FILE_ID = cFileId;',
'  if ( shortFileName like ''o_%.out'' or shortFileName like ''cells.out'' or shortFileName like ''c_actual.out'') and shortFileName not like ''%_result%''  ',
'       and shortFileName not like ''%patchlist%''then',
'     -- parsing o_host_list.out,o_ibswithces.out and cells.out files in praseOsFiles() function.',
'     parseOsFiles(shortFileName, cFileId);',
' elsif shortFileName like ''%check_env.out'' then',
'     parseEnvFile(shortFileName,cFileId);    ',
' elsif shortFileName like ''d_%.out'' or shortFileName like ''a_%.out'' then',
'     --parseDbAsmFiles(shortFileName,cFileId);',
'     null;',
' elsif shortFileName like ''s_%.out'' then      ',
'     --parseSwitchFiles(shortFileName,cFileId);     ',
'     null;',
' elsif shortFileName like ''%audit_result%'' then',
'     --parseResultFiles(shortFileName,cFileId,collectionId);',
'     null;',
' end if;',
'end;',
'--------------------------------------------------------------------------------',
'PROCEDURE parseRCFiles(collectionId VARCHAR2,docId number) IS',
'  CURSOR cur IS SELECT COLLECTION_FILE_ID, SHORT_FILE_NAME FROM rca13_COLLECTION_FILES',
'    WHERE COLLECTION_ID = collectionId and ( short_file_name like ''%_skipped_checks.log'' OR',
'    short_file_name in (''check_env.out'',''o_host_list.out'',''o_ibswitches.out'',''cells.out'') )',
'    ORDER BY short_file_name;',
'  shortFileName rca13_COLLECTION_FILES.short_file_name%TYPE;',
'  dCheckId       VARCHAR2(40);',
'  hostsFileId    VARCHAR2(40);',
'  noOfFiles      NUMBER := 0;',
'  currentFile    VARCHAR2(128);',
'  switchesFileId VARCHAR2(40);',
'  cellsFileId    VARCHAR2(40);',
'  c              NUMBER;',
'  cpFileId       VARCHAR2(40); --This is to store o_misc_clusterwide_checks.out file Id',
'  r              NUMBER;',
'  temp           VARCHAR2(40);',
'  colName        VARCHAR2(2000);',
'  INVALID_COLLECTION exception;',
'  emesg varchar2(2000);',
'BEGIN',
'  log_text(''START: Started Processing files other than HTML file'',collectionId,docId);',
'  SELECT COUNT(1)   INTO noOfFiles  FROM rca13_COLLECTION_FILES',
'  WHERE COLLECTION_ID = collectionId   AND ( short_file_name LIKE ''check_env.out''',
'  OR short_file_name LIKE ''o_host_list.out'');',
'  ',
'  IF noOfFiles = 0 OR noOfFiles = 1 THEN',
'    RAISE INVALID_COLLECTION;',
'  END IF;',
'  ',
'  SELECT filename  INTO colName  FROM rca13_docs  WHERE doc_id = docId;',
'  SELECT COUNT(1)   INTO noOfFiles',
'  FROM rca13_COLLECTION_FILES',
'  WHERE COLLECTION_ID = collectionId',
'  AND ( short_file_name LIKE ''a_%.out''',
'  OR short_file_name LIKE ''d_%.out''',
'  OR short_file_name LIKE ''o_%.out''',
'  OR short_file_name LIKE ''check_env.out''',
'  OR short_file_name LIKE ''c_actual.out'' );',
'  SELECT mod(noOfFiles,10) INTO r FROM dual;',
'  IF r = 0 THEN',
'    noOfFiles := noOfFiles + 1;',
'  END IF;',
'  c := 0;',
'  FOR rec IN cur LOOP',
'    --prevent processing duplicate file names and Get file Id''s that we need to run',
'    -- in first and second stages',
'    shortFileName := rec.short_file_name;',
'    IF shortFileName != NVL(currentFile,''NONE'') THEN',
'      currentFile    := shortFileName;',
'      IF shortFileName LIKE ''check_env.out'' THEN        ',
'        parseFile(rec.COLLECTION_FILE_ID);',
'        RACCHECK_ENV_FILE_ID := rec.COLLECTION_FILE_ID;',
'      elsif shortFileName LIKE ''o_host_list.out'' THEN',
'        hostsFileId := rec.COLLECTION_FILE_ID;',
'      elsif shortFileName LIKE ''o_ibswitches.out'' THEN',
'        switchesFileId := rec.COLLECTION_FILE_ID;',
'      elsif shortFileName LIKE ''cells.out'' THEN',
'        cellsFileId := rec.COLLECTION_FILE_ID;',
'      elsif shortFileName LIKE ''o_misc_clusterwide_checks.out'' THEN',
'        cpFileId := rec.COLLECTION_FILE_ID;',
'      END IF;',
'    END IF;',
'  END LOOP;  ',
'  parseFile(hostsFileId);',
'  IF NVL(switchesFileId,''z'') != ''z'' THEN',
'    parseFile(switchesFileId);',
'  END IF;',
'  IF NVL(cellsFileId,''z'') != ''z'' THEN',
'    parseFile(cellsFileId);',
'  END IF;',
'  currentFile := NULL;',
'  FOR rec IN cur  LOOP',
'    shortFileName := rec.short_file_name;',
'    IF shortFileName != NVL(currentFile,''NONE'') THEN',
'      currentFile    := shortFileName;',
'      IF rec.COLLECTION_FILE_ID != NVL(RACCHECK_ENV_FILE_ID,''z'') AND rec.collection_file_id != NVL(hostsFileId,''z'')',
'         AND rec.collection_file_id != NVL(cpFileId,''z'') AND rec.collection_file_id != NVL(switchesFileId,''z'')',
'         AND rec.collection_file_id != NVL(cellsFileId,''z'') THEN        ',
'             --parseFile(rec.COLLECTION_FILE_ID);',
'             NULL;',
'      END IF;',
'    END IF;',
'  END LOOP;',
'  COMMIT;',
'  log_text(''FINISH: Finished processing files other than HTML file'',collectionId,docId);',
'EXCEPTION',
' WHEN INVALID_COLLECTION THEN',
'   log_text(''NODATA: Collection does not have raccheck_env.out/check_env.out file ... exiting'',collectionId);',
' WHEN OTHERS THEN',
'   emesg := SQLERRM;',
'   log_text(''FAIL: Error Occured:''||emesg,collectionId);',
'END;',
'--------------------------------------------------------------------------------',
'FUNCTION blob_to_clob',
'  (',
'    blob_in IN BLOB',
'  )',
'  RETURN CLOB',
'AS',
'  v_clob CLOB;',
'  v_varchar VARCHAR2(32767);',
'  v_start PLS_INTEGER  := 1;',
'  v_buffer PLS_INTEGER := 32767;',
'BEGIN',
'  IF ( blob_in IS NULL ) THEN',
'    RETURN NULL;',
'  END IF;',
'  IF ( LENGTH(blob_in)=0 ) THEN',
'    RETURN empty_clob();',
'  END IF;',
'  DBMS_LOB.CREATETEMPORARY(v_clob, TRUE);',
'  FOR i IN 1..CEIL',
'  (',
'    DBMS_LOB.GETLENGTH(blob_in) / v_buffer)',
'  LOOP',
'    v_varchar := UTL_RAW.CAST_TO_VARCHAR2(DBMS_LOB.SUBSTR(blob_in, v_buffer, v_start));',
'    DBMS_LOB.WRITEAPPEND(v_clob, LENGTH(v_varchar), v_varchar);',
'    v_start := v_start + v_buffer;',
'  END LOOP;',
'  RETURN v_clob;',
'END;',
'--------------------------------------------------------------------------------',
'FUNCTION blob2clob',
'  (',
'    blobData BLOB',
'  )',
'  RETURN CLOB',
'IS',
'  clobData CLOB;',
'  temp CLOB;',
'  LEN NUMBER;',
'  n   NUMBER;',
'BEGIN',
'  IF ( blobData IS NULL ) THEN',
'    RETURN NULL;',
'  END IF;',
'  IF ( LENGTH(blobData)=0 ) THEN',
'    RETURN empty_clob();',
'  END IF;',
'  dbms_lob.createtemporary(clobData,true);',
'  n               :=1;',
'  WHILE ( n+32767 <= LENGTH(blobData) )',
'  LOOP',
'    temp := utl_raw.cast_to_varchar2(dbms_lob.substr(blobData,32767,n));',
'    LEN  := dbms_lob.GETLENGTH(temp);',
'    dbms_lob.writeappend(clobData,LEN,temp); -- some thing is wrong that is why usng len variable instead of 32767',
'    n:=n+32767;',
'  END LOOP;',
'  dbms_lob.writeappend(clobData,LENGTH(blobData)-n+1,utl_raw.cast_to_varchar2(dbms_lob.substr(blobData,LENGTH(blobData)-n+1,n)));',
'  RETURN clobData;',
'END;',
'--------------------------------------------------------------------------------',
'procedure deleteCollection ( docId number,keep_zip number default 0) is',
'collectionId varchar2(40);',
'colDate timestamp;',
'colName varchar2(256);',
'temp varchar2(40);',
'begin',
' --Delete based on collection zip doc id',
' --Get collectionId from rca13_docs table',
' select collection_id into collectionId from rca13_docs where doc_id = docId;',
' --dbms_output.put_line(''in delete fun:cid=''||collectionId);',
' if collectionId is null then',
'  --If process is failed before updating collection id in docs table get collectionId from collections table',
'  select collection_id into collectionId from rca13_collections where doc_id = docId and rownum = 1;',
' end if;',
' --dbms_output.put_line(''in delete fun:cid2=''||collectionId);',
' if collectionId is null then',
' --dbms_output.put_line(''in delete fun: in if'');',
'  --collection is not processed so just delete doc and we can''t do any thing about the data inserted in result tables',
'  delete from rca13_docs where doc_id = docId;',
'  return;',
' else --Delete whole data',
' --dbms_output.put_line(''in delete fun: in else'');',
'  --Get collection date and collection name',
'  select collection_date,collection_name into colDate,colName from rca13_COLLECTIONS',
'  where collection_id = collectionId;',
'  if keep_zip = 1 then',
'    delete from rca13_docs where collection_id =  collectionId and attr1 != ''ZIP_FILE'';',
'    update rca13_docs set collection_id = null where collection_id =  collectionId and doc_id = docId;',
'  else',
'    delete from rca13_docs where collection_id =  collectionId;',
'  end if;',
'  --update auditcheck_result set collection_id = null where collection_id =  collectionId;',
'  delete from rca13_collections_md where  collection_id =  collectionId;',
'  delete from auditcheck_result where  collection_id =  collectionId;  ',
'  -- Data based on collection date --',
'  delete from auditcheck_patch_result where  collection_date =  colDate;',
'  delete from rca13_col2sys_mapping where collection_date = colDate and collection_name = colName;',
'  delete from rca13_collection_values where collection_date = colDate and collection_name = colName;',
'  delete from rca13_diff_info where cur_col_date = colDate and cur_col_name = colName;',
'  -- Delete All parsed data --',
'  delete from rca13_COLLECTIONS where collection_id =  collectionId;',
'  delete from rca13_DB_INSTANCES where collection_id =  collectionId;',
'  delete from rca13_DATABASES where collection_id =  collectionId;',
'  delete from rca13_IBS_SS where collection_id =  collectionId;',
'  delete from rca13_ASM_INSTANCES where collection_id =  collectionId;',
'  delete from rca13_HOSTS where collection_id =  collectionId;',
'  delete from rca13_HOMES where collection_id =  collectionId;',
'  delete from rca13_FILES where collection_id =  collectionId;',
'  -- Need order for the following 2 deletes',
'  delete from rca13_COLLECTION_FILE_DATA where collection_file_id in',
'  (select collection_file_id from rca13_COLLECTION_FILES where collection_id =  collectionId );',
'  delete from rca13_parameters where collection_id = collectionId;',
'  delete from rca13_COLLECTION_FILES where collection_id =  collectionId;',
'  delete from rca13_LOG where collection_id =  collectionId;',
' end if;',
' commit;',
' -- Delete Ignored checks info',
' delete from rca13_ignored_checks where COLLECTION_DATE is not null and COLLECTION_DATE = colDate and collection_name = colName;',
' -- Delete Tickets info',
' for rec in ( select ticket_id ti from rca13_ac_tickets where collection_date = colDate and collection_name = colName ) loop',
'     delete from rca13_intrack_incidents where id = rec.ti;',
' end loop;              ',
' delete from  rca13_ac_tickets where collection_date = colDate and collection_name = colName;',
' -- Deelte HIstory',
' delete from rca13_track_actions where collection_date = colDate;',
' commit;',
' --Now do some thing about diff',
' delete from rca13_diff_info where CUR_COL_DATE = colDate and CUR_COL_NAME = colName;',
' commit;',
' for rec in ( select CUR_COL_NAME cn,cur_col_date cd from rca13_diff_info where prev_col_date = colDate ) loop',
'  temp := hasDiffWithPrevRun(rec.cn,rec.cd);',
' end loop;',
' end;',
'--------------------------------------------------------------------------------',
'procedure purgeDat'))
);
null;
end;
/
begin
wwv_flow_api.append_to_install_script(
 p_id=>wwv_flow_api.id(310977542313584806)
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'a(dat timestamp) is --delete data older than dat',
'begin',
' --First delete based on docId  ',
' --Get all collections which are older than dat',
' for rec in ( select doc_id did,collection_id cid from rca13_collections where collection_date <= dat ) loop',
'   deleteCollection(rec.did,0);',
' end  loop;',
' --Second delte based on date --THis data is not processed by zips',
' --Don''t delete sample data',
' delete from rca13_collections_md where  collection_date <= dat and collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');',
' delete from auditcheck_result where  collection_date <= dat and upload_collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');',
' delete from auditcheck_patch_result where  collection_date <= dat;',
' delete from rca13_col2sys_mapping where collection_date <= dat and collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');',
' delete from rca13_collection_values where collection_date <= dat and collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');',
' delete from rca13_diff_info where cur_col_date <= dat and collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');',
' commit;',
' -- Delete Ignored checks info',
' delete from rca13_ignored_checks where COLLECTION_DATE is not null and COLLECTION_DATE <= dat;',
' -- Delete Tickets info',
' for rec in ( select ticket_id ti from rca13_ac_tickets where collection_date <= dat',
'              and collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'') ) loop',
'     delete from rca13_intrack_incidents where id = rec.ti;',
' end loop;              ',
' delete from  rca13_ac_tickets where collection_date <= dat and collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');   ',
' -- Deelte HIstory',
' delete from rca13_track_actions where collection_date <= dat;',
' commit;',
' --Now Re-caliculate every thing',
' for rec in ( select collection_date cd,collection_name cn from rca13_collections_md ) loop',
'    rca13_manage_collections.afterColInUpActs(rec.cd,rec.cn,3);',
' end loop;',
'end;',
'--------------------------------------------------------------------------------',
'procedure submitDataPurgeJob ( dat timestamp ) is',
'--Changing Jobname from RCA13_PURGE_DATA to RCA13_PUR',
'jobName varchar2(100) := ''RCA13_PUR_''|| RCA13_JOB_SEQ.nextval;',
'begin',
'--insert into a_temp_k (col) values(''BEGIN rca13_manage_collections.purgeData(dat => to_timestamp(''''''||dat||'''''',''''DD-MON-RR HH.MI.SS.FF AM'''')); END;'');',
'commit;',
'  DBMS_SCHEDULER.create_job (',
'    job_name   => jobName,',
'    job_type   => ''PLSQL_BLOCK'',',
'    job_action => ''BEGIN rca13_manage_collections.purgeData(dat => to_timestamp(''''''||dat||'''''',''''DD-MON-RR HH.MI.SS.FF AM'''')); END;'',',
'    start_date     => SYSTIMESTAMP,',
'    enabled => TRUE,',
'    comments => ''Purge Data Older than ''||dat);',
'end;',
'--------------------------------------------------------------------------------',
'function hasDiff (pcName varchar2,pcDate timestamp,cName varchar2,cDate timestamp) return number is',
'rValue number;',
'cnt number := 0;',
'--Cursor for differed checks',
'cursor cur is select * from  (',
'select status1,hostname1,dbname1,instname1,c1,statusmsg1,',
'case when instr(StatusMsg1,''on infiniband switch'',1,1) > 0 then substr(StatusMsg1,instr(StatusMsg1,''on infiniband switch'',1,1)+21)',
'  else   null  end as switch1,',
'case when  regexp_count(StatusMsg1, ''/'' ) >4 or ct1=''ORACLE_PATCH'' then    substr(StatusMsg1,instr(StatusMsg1,'' '',-1,1)+1)',
'  else    null  end as home1,',
'''<a id="''||c1||''" class="recommendation" style="cursor:pointer;" title="Recommendation" onclick="open_dialog(''''''||c1||'''''');">',
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>''||''<div id="''||c1||''_rec" style="display:none"></div>&nbsp;&nbsp;''||check_name as check_name,',
'status2,hostname2,dbname2,instname2,c2,sOrder1,statusmsg2,  ',
'case   when instr(StatusMsg2,''on infiniband switch'',1,1) > 0 then    substr(StatusMsg2,instr(StatusMsg2,''on infiniband switch'',1,1)+21)',
'  else    null  end as switch2,',
'case   when  regexp_count(StatusMsg2, ''/'' ) >4 or ct2=''ORACLE_PATCH'' then    substr(StatusMsg2,instr(StatusMsg2,'' '',-1,1)+1)',
'  else    null  end as home2    ',
'from (',
'select  ',
'a.status Status1,',
'a.hostname HostName1,a.db_name DBName1,a.instance_name InstName1,a.check_id c1,a.status_message StatusMsg1,a.check_type ct1,',
'decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''PASS'',4,''INFO-PASS'',5,''FAIL-IGNORED'',6,7) sOrder1,',
'''<b>''||decode(a.check_type,''SQL_PARAM'',a.PARAM_NAME,''OS_PARAM'',a.PARAM_NAME,''OS_PACKAGE'',a.PARAM_NAME,nvl(a.CHECK_NAME,a.PARAM_NAME))||''</b>'' check_name,',
'b.status Status2,',
'b.hostname HostName2,b.db_name DBName2,b.instance_name InstName2,b.check_id c2,b.status_message StatusMsg2,b.check_type ct2',
'from  ( select * from auditcheck_result where collection_date = pcDate and upload_collection_name = pcName ) a,',
'      ( select * from auditcheck_result where collection_date = cDate and upload_collection_name = cName ) b',
'where',
'a.check_id = b.check_id',
'and nvl(a.hostname,''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name,''NA'')',
') )',
'where Status1 != Status2',
'and nvl(switch1,''NA'') = nvl(switch2,''NA'')',
'and nvl(home1,''NA'') = nvl(home2,''NA'');',
'--Cursor for Checks only in collection 2',
'cursor cur2 is select  status,hostname,db_name,instance_name,check_id,status_message,',
'''<a id="''||check_id||''" class="recommendation" style="cursor:pointer;" title="Recommendation" onclick="open_dialog(''''''||check_id||'''''');">',
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>''||''<div id="''||check_id||''_rec" style="display:none"></div>&nbsp;&nbsp;''||check_name as check_name',
'from (',
'select  a.status,a.hostname,a.db_name,a.instance_name,a.check_id,a.status_message,a.check_name',
'from  auditcheck_result a where collection_date = cDate and upload_collection_name = cName',
'MINUS',
'select status2 status ,hostname2 hostname,dbname2 db_name,instname2 instance_name,c2 check_id,statusmsg2 status_message,check_name from  (',
'select status2,hostname2,dbname2,instname2,c2,statusmsg2,check_name,',
'case when instr(StatusMsg1,''on infiniband switch'',1,1) > 0 then substr(StatusMsg1,instr(StatusMsg1,''on infiniband switch'',1,1)+21)',
'  else   null  end as switch1,',
'case when  regexp_count(StatusMsg1, ''/'' ) >4 or ct1=''ORACLE_PATCH'' then    substr(StatusMsg1,instr(StatusMsg1,'' '',-1,1)+1)',
'  else    null  end as home1,',
'case when instr(StatusMsg2,''on infiniband switch'',1,1) > 0 then substr(StatusMsg2,instr(StatusMsg2,''on infiniband switch'',1,1)+21)',
'  else   null  end as switch2,',
'case when  regexp_count(StatusMsg2, ''/'' ) >4 or ct2=''ORACLE_PATCH'' then    substr(StatusMsg2,instr(StatusMsg2,'' '',-1,1)+1)',
'  else    null  end as home2',
'from (',
'select  a.status Status1,a.hostname HostName1,a.db_name DBName1,a.instance_name InstName1,a.check_id c1,a.status_message StatusMsg1,a.check_name,a.check_type ct1,',
'        b.status Status2,b.hostname HostName2,b.db_name DBName2,b.instance_name InstName2,b.check_id c2,b.status_message StatusMsg2,b.check_type ct2',
'from  ( select * from auditcheck_result where collection_date = pcDate and upload_collection_name = pcName ) a,',
'      ( select * from auditcheck_result where collection_date = cDate and upload_collection_name = cName ) b',
'where',
'a.check_id = b.check_id',
'and nvl(a.hostname,''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name,''NA'')',
') )',
'where nvl(switch1,''NA'') = nvl(switch2,''NA'')',
'and nvl(home1,''NA'') = nvl(home2,''NA'')',
');',
'begin',
'  -- Now check whether it is good or bad diff ==> return 2 for good(green), 3 for bad(red), 4 for waring(orange)',
'  -- check for red',
'  rValue := 0;',
'  for rec in cur loop        ',
'    if rec.Status2 = ''FAIL'' then',
'       return 3; --Red --Return no need to go further',
'    elsif rec.Status2 = ''WARNING'' then   ',
'       rValue := 4; --Orange',
'    end if;',
'  end loop;  ',
'  ',
'  --dbms_output.put_line(''2.rvalue=''||rValue||'' and ''||cnt);',
'  if rValue != 4 then',
'    rValue := 2; --Diff not found, green',
'  end if;',
'   ',
'  --dbms_output.put_line(''2.rvalue=''||rValue);',
'  --Now check checks only in collection2',
'  for rec in cur2 loop',
'    if rec.status = ''FAIL'' then',
'      return 3; --Red',
'    elsif rec.status = ''WARNING'' then',
'      cnt := 4;',
'    end if;    ',
'  end loop;',
'  ',
'  if rValue = 4 OR cnt = 4 then',
'    return 4; --Orange',
'  end if;  ',
'  ',
'  return 2; --Good Greem',
'  ',
'end;',
'--------------------------------------------------------------------------------',
'function hasDiffWithPrevRun(cName varchar2,cDate timestamp) return varchar2 is',
'hName varchar2(100);',
'dPart varchar2(10);',
'tPart varchar2(10);',
'cTime date;',
'pcName varchar2(1000);',
'pcDate timestamp;',
'rVal varchar2(40);',
'attr1 varchar2(1000);',
'attr2 timestamp;',
'sysId varchar2(40);',
'PRAGMA AUTONOMOUS_TRANSACTION;',
'begin',
' --Get system id',
' begin',
'   select system_id into sysId from rca13_col2sys_mapping where collection_date = cDate and collection_name = cName;',
'   exception when others then null; --That is system not classified',
' end;',
' --Get previous collection name from the same system/hostname',
' hname := substr(cName,instr(cName,''_'',1,1)+1,instr(cName,''_'',1,2)-instr(cName,''_'',1,1)-1);',
' if hname is not null then',
'   for rec in ( select a.collection_date,a.collection_name from rca13_collections_md a',
'                where sysId is null and a.collection_date < cDate and a.collection_name like ''%\_''||hname||''\_%'' escape ''\''',
'                UNION',
'                select a.collection_date,a.collection_name from rca13_collections_md a,rca13_col2sys_mapping b',
'                where sysId is not null and a.collection_date < cDate and a.collection_name like ''%\_''||hname||''\_%'' escape ''\''',
'                and a.collection_date = b.collection_date and a.collection_name = b.collection_name and b.system_id = sysId',
'                order by collection_date desc             ',
'             ) loop',
'     pcName := rec.collection_name;',
'     pcDate := rec.collection_date;',
'     exit;',
'    end loop;',
' elsif sysId is not null then --Get recent collection from system',
'     for rec in ( select a.collection_date,a.collection_name from rca13_collections_md a,rca13_col2sys_mapping b',
'                where a.collection_date < cDate and a.collection_date = b.collection_date',
'                and a.collection_name = b.collection_name and b.system_id = sysId',
'                order by collection_date desc             ',
'             ) loop',
'      pcName := rec.collection_name;',
'      pcDate := rec.collection_date;',
'      exit;',
'     end loop;',
' else -- No previous collection found',
'    return 0;',
' end if;   ',
' ',
' -- check whether diff is already caliculate or not',
' begin',
'  select diff_id,prev_col_name,prev_col_date into rVal,attr1,attr2 from rca13_diff_info',
'  where cur_col_name = cName and cur_col_date = cDate;',
'  exception when no_data_found then null;   ',
' end;',
' --Return if the previous collection details are correct, else delete the entry and do fresh diff',
' if rVal is not null then',
'  if (attr1 is null and attr2 is null ) or (attr1 = pcName  and attr2 = pcDate ) then',
'   return rVal;',
'  else',
'   delete from rca13_diff_info where diff_id = rVal;',
'   commit;',
'  end if;  ',
' end if;',
' -- diff_types:',
' --0 = prev col not found for the selected collection,',
' --2 = diff found..but good( that is fail to pass, only region 1 ),Green,',
' --3 = diff found, but bad ( some thing from good to fail, only region 1 ),Red',
' --4 = diff found, Orange ( some thing from good to warning )',
' if pcName is null OR pcDate is null then --No previous collection found',
'   insert into rca13_diff_info values(sys_guid(),cName,cDate,pcName,pcDate,0) return diff_id into rVal;',
' else',
'   insert into rca13_diff_info values(sys_guid(),cName,cDate,pcName,pcDate,hasDiff(pcName,pcDate,cName,cDate)) return diff_id into rVal;',
' end if;',
' commit;    ',
' return rVal;',
'end;',
'--------------------------------------------------------------------------------',
'procedure submitJob(docId in number,user varchar2 default ''ORACHK.USER'') is',
'--jobName varchar2(100) := ''RCA13_COL_'' || docId || ''_'' || RCA13_JOB_SEQ.nextval;',
'--Remove docId from name as it is too big',
'jobName varchar2(100) := ''RCA13_COL_''|| RCA13_JOB_SEQ.nextval;',
'--PRAGMA AUTONOMOUS_TRANSACTION;',
'begin    ',
'  DBMS_SCHEDULER.create_job (',
'    job_name   => jobName,',
'    job_type   => ''PLSQL_BLOCK'',',
'    job_action => ''BEGIN rca13_manage_collections.process_collection(docId => ''''''||docId||''''''); END;'',',
'    start_date     => SYSTIMESTAMP,',
'    enabled => TRUE,',
'    comments => docId);',
'end;',
'--------------------------------------------------------------------------------',
'procedure submitJob4All is',
'jobName varchar2(100);',
'cnt number := 0;',
'begin    ',
' -- Limit Jobs population to 10. Otherwise there is a chance that it will fill job queue',
' for rec in ( select doc_id docId from rca13_docs a where collection_id is null and attr1 = ''ZIP_FILE'' and  ',
'              not exists ( select 1 from rca13_collections b where a.doc_id = b.doc_id )',
'              UNION',
'              select doc_id docId from rca13_collections  where status = ''Failed'' and fail_comment = ''NO_ENOUGH_SPACE''',
'              ) loop',
'   --Remove docId from name as it is too big           ',
'   cnt := cnt + 1;',
'   exit when cnt > 10; -- Remaining collections will process in the next round',
'   --Changing job name from RCA13_COLLECTION to RCA13_COL to avoid job name lenght limit error',
'   jobName:= ''RCA13_COL_'' ||RCA13_JOB_SEQ.nextval;',
'   DBMS_SCHEDULER.create_job(',
'    job_name   => jobName,',
'    job_type   => ''PLSQL_BLOCK'',',
'    job_action => ''BEGIN rca13_manage_collections.process_collection(docId => ''''''||rec.docId||''''''); END;'',',
'    start_date     => SYSTIMESTAMP,',
'    enabled => TRUE,',
'    comments => rec.docId);',
' end loop;   ',
'end;',
'--------------------------------------------------------------------------------',
'procedure classifyCollection ( cDate timestamp,cName varchar2 ) is',
'cursor cur is select distinct cluster_name,hostname from auditcheck_result where collection_date = cDate',
'and upload_collection_name = cName order by hostname;',
'clusterName varchar2(256) := NULL;',
'cnt1 number;',
'sysId varchar2(40) := NULL;',
'flag number := 0;',
'cType varchar2(40) := ''Cluster'';',
'defaultSid varchar2(40);',
'isNew number := 0;',
'begin',
'  --Get Cluster/system name',
'  for rec in cur loop',
'    if rec.cluster_name is not null then',
'      clusterName := rec.cluster_name;    ',
'      exit;',
'    end if;  ',
'  end loop;',
'  --If cluster name is null try to get host name from collection name',
'  if clusterName is null then',
'      clusterName := substr(cName,instr(cName,''_'',1,1)+1,instr(cName,''_'',1,2)-instr(cName,''_'',1,1)-1);',
'      cType := ''Single Node'';',
'  end if;',
'  --If cluster name is null, classify it as unknown',
'  if clusterName is null then',
'      clusterName := ''Unknown'';',
'  end if;  ',
'  --dbms_output.put_line(''clusterName=''||clusterName);',
'  select count(1) into cnt1 from rca13_systems where system_name = clusterName;',
'  --dbms_output.put_line(''Is system already exists ?, cnt = ''||cnt1);',
'  if cnt1 = 0 then --System not yet inserted',
'    insert into RCA13_SYSTEMS(system_id,system_name,system_type,created_by,created)',
'    values (sys_guid(),clusterName,''Cluster'',''USER'',systimestamp) return system_id into sysId;',
'    isNew := 1;',
'  elsif cnt1 >= 1 then -- Find out correct system for which the collection belong to',
'    for rec in ( select system_id from rca13_systems where system_name = clusterName ) loop',
'      --dbms_output.put_line(''sysId=''||rec.system_id);',
'      for rec1 in ( select host_name from rca13_system_hosts where system_id = rec.system_id order by host_name ) loop',
'        --dbms_output.put_line(''sysId and existing host name = ''||rec.system_id||'',''||rec1.host_name);',
'        for rec2 in cur loop',
'           --dbms_output.put_line(''new host name=''||rec2.hostname);',
'           if rec2.hostname = rec1.host_name then',
'             --dbms_output.put_line(''System found in table'');',
'             sysId := rec.system_id;',
'             flag := 1;',
'             exit;',
'           end if;',
'        end loop;',
'        exit when flag = 1;',
'      end loop;',
'      exit when flag = 1;',
'    end loop;',
'  end if;',
'  --dbms_output.put_line(''sysId=''||sysId);',
'  if sysId is null then -- That is this system is new from existing systems',
'    insert into RCA13_SYSTEMS(system_id,system_name,system_type,created_by,created)',
'    values (sys_guid(),clusterName,cType,''USER'',systimestamp) return system_id into sysId;',
'    isNew := 1;',
'    for rec in cur loop',
'      insert into rca13_system_hosts(SYS_HOST_ID,system_id,host_name) values(sys_guid(),sysId,rec.hostname);',
'    end loop;',
'  else',
'    -- Add new hosts to hosts table',
'    for rec in cur loop       ',
'      begin',
'       insert into rca13_system_hosts(SYS_HOST_ID,system_id,host_name) values(sys_guid(),sysId,rec.hostname);',
'       --dbms_output.put_line(''New hosts adding are:''||rec.hostname);',
'       exception when dup_val_on_index then null;',
'      end;',
'    end loop;',
'  end if;  ',
'  -- Add collection to classification list',
'  --insert into rca13_col2sys_mapping(map_id,collection_date,collection_name,system_id) values(sys_guid(),TO_TIMESTAMP(cDate,''DD-MON-RR HH:MI:SS.FF AM''),cName,sysId);',
'  begin    ',
'    insert into rca13_col2sys_mapping(map_id,collection_date,collection_name,system_id) values(sys_guid(),cDate,cName,sysId);',
'    exception when dup_val_on_index then null;',
'  end;  ',
'  commit;',
'  --isNew = 1 ==> since system is new, map it to DEFAULT business unit by defalut(otherwise these collections will be invisible )',
'  if sysId != ''SAMPLE_SYSTEM'' and isNew = 1 then',
'   insert into rca13_lob2sys_mapping(map_id,system_id,lob_id,created) values(sys_guid(),sysId,''DEFAULT'',''USER'');',
'   commit;',
'  end if;',
'  exception when others then null;',
'end;    ',
'--------------------------------------------------------------------------------',
'procedure classifyCollections is',
'cursor cur is select collection_date cd,collection_name ucn from rca13_collections_md a',
'  where not exists ( select 1 from rca13_col2sys_mapping b where a.collection_date  = b.collection_date and b.collection_name = a.collection_name );',
'begin',
'  for rec in cur loop',
'    --dbms_output.put_line(''cDate=''||rec.cd||'' and cName=''||rec.ucn);',
'    classifyCollection(rec.cd,rec.ucn);',
'  end loop;',
'end;',
'--------------------------------------------------------------------------------',
'procedure monitorDiffType is',
'temp varchar2(40);',
'begin',
' for rec in ( select collection_date cDate,collection_name cName from rca13_collections_md',
'              where collection_date > sysdate - 90',
'              ) loop',
'   temp := hasDiffWithPrevRun(rec.cName,rec.cDate);',
' end loop;',
'end;',
'--------------------------------------------------------------------------------',
'procedure updateMDtable is',
'cursor cur is select collection_date cd ,upload_collection_name ucn,collection_id ci from',
'   ( select distinct collection_date,upload_collection_name,collection_id from auditcheck_result ) a where',
'   a.collection_date is not null and upload_collection_name is not null and',
'   not exists ( select 1 from rca13_collections_md where collection_date = a.collection_date and collection_name = a.upload_collection_name );  ',
'begin',
' for rec in cur loop',
'   --Insert entry into rca13_collections_md table',
'   begin',
'    insert into rca13_collections_md(collection_date,collection_name,collection_id) values(rec.cd,rec.ucn,rec.ci);',
'    commit;    ',
'    exception when dup_val_on_index then null;',
'   end;  ',
'   --For each inserted row of rca13_collections_md, caliculate all stuff',
'   RCA13_MANAGE_COLLECTIONS.afterColInUpActs(rec.cd,rec.ucn);',
' end loop;',
' --There is a chance that collections can be added and removed in middle. So, make sure that diff_type is correct for each collection',
' rca13_manage_collections.monitorDiffType();',
' --Now, Process collections if any',
' rca13_manage_collections.submitJob4All();   ',
'end;',
'--------------------------------------------------------------------------------',
'procedure processAuditData is',
'jobName varchar2(100);',
'cnt number;',
'begin',
'   --If previous job is already running return',
'   begin',
'    select count(1) into cnt from user_scheduler_running_jobs where job_name like ''RCA13_PAD_%'';',
'    exception when others then null;',
'   end;  ',
'   if cnt > 0 then    return;   end if;',
'   --Changing job name from RCA13_PROCESS_DATA to RCA13_PAD to avoid jobname lenght limit error',
'   jobName  := ''RCA13_PAD_''|| RCA13_JOB_SEQ.nextval;',
'   DBMS_SCHEDULER.CREATE_JOB (',
'   job_name           =>  jobName,',
'   job_type           =>  ''PLSQL_BLOCK'',',
'   job_action         =>  ''BEGIN rca13_manage_collections.updateMDtable; END;'',',
'   start_date         =>   systimestamp,',
'   enabled            =>   TRUE,',
'   comments           =>  ''ORAchk App:Process Audit Data'');',
'end;',
'--------------------------------------------------------------------------------',
'--Trigger the following procedure if inserting on rca13_collection_md .. do the following',
'--1. Classify collection',
'--2. Caliculate score,fails count,pass count,warning count and diff info',
'procedure afterColInUpActs( collectionDate timestamp,collectionName varchar2,flag number default 1 ) is',
'score number;',
'fCount number;',
'wCount number;',
'pCount number;',
'iCount number; --Info',
'igCount number; --Ignored count',
'fixedCount number;',
'sysId varchar2(40);',
'diff number;',
'temp varchar2(40);',
'begin',
' --flag = 1 => Collection is just inserted',
' --flag = 2 => When check is ignored or ticket is closed on check/collection',
' --flag = 3 ==> when data purged',
' --Classify collection',
' if flag = 1 then --For other flags no need to call it',
'  --This is one time job',
'  classifyCollection(collectionDate,collectionName);',
' end if;',
' --get system id for which the collection belongs to',
' begin  ',
'  select system_id into sysId from rca13_col2sys_mapping where collection_date = collectionDate and collection_name = collectionName;',
'  exception when no_data_found then return;',
' end;  ',
' --caliculate collection Score',
' score := RCA13_GET_DATA4COLUMNS.getCollectionScore(null,collectionName,collectionDate);',
' --caliculate check counts',
' --While caliculating fails,warning & info if check is ignored don''t consider that check',
' select count(1) into fCount from auditcheck_result a',
' where a.collection_date = collectionDate and a.UPLOAD_COLLECTION_NAME = collectionName and a.status = ''FAIL''',
' AND NOT EXISTS ( SELECT 1 FROM rca13_ignored_checks t1 WHERE a.check_id = t1.check_id',
' AND t1.system_id =sysId AND ( t1.collection_date IS NULL OR ( t1.collection_date  = a.collection_date',
' and t1.collection_name = a.UPLOAD_COLLECTION_NAME and acr_id is null )',
' OR acr_id = a.auditcheck_result_id) );',
' ',
' select count(1) into wCount from auditcheck_result a',
' where a.collection_date = collectionDate and a.UPLOAD_COLLECTION_NAME = collectionName and a.status = ''WARNING''',
' AND NOT EXISTS ( SELECT 1 FROM rca13_ignored_checks t1 WHERE a.check_id = t1.check_id',
' AND t1.system_id =sysId AND ( t1.collection_date IS NULL OR ( t1.collection_date  = a.collection_date',
' and t1.collection_name = a.UPLOAD_COLLECTION_NAME and acr_id is null )',
' OR acr_id = a.auditcheck_result_id) );',
' ',
' select count(1) into iCount from auditcheck_result a',
' where a.collection_date = collectionDate and a.UPLOAD_COLLECTION_NAME = collectionName and a.status  = ''INFO''',
' AND NOT EXISTS ( SELECT 1 FROM rca13_ignored_checks t1 WHERE a.check_id = t1.check_id',
' AND t1.system_id =sysId AND ( t1.collection_date IS NULL OR ( t1.collection_date  = a.collection_date',
' and t1.collection_name = a.UPLOAD_COLLECTION_NAME and acr_id is null )',
' OR acr_id = a.auditcheck_result_id) );',
' ',
' select count(1) into pCount from auditcheck_result where collection_date = collectionDate',
' and UPLOAD_COLLECTION_NAME = collectionName and status in (''PASS'',''INFO-PASS'');',
' ',
' select count(1) into fixedCount from auditcheck_result a,rca13_col2sys_mapping b,rca13_ac_tickets c',
' where a.collection_date = collectionDate and a.UPLOAD_COLLECTION_NAME = collectionName',
' and a.collection_date = b.collection_date and a.UPLOAD_COLLECTION_NAME = b.collection_name and b.system_id = c.system_id',
' and ( ( c.collection_date  = collectionDate and c.collection_name = collectionName ) OR c.attr1 = a.auditcheck_result_id );',
' ',
' --TODO: If ticket is closed on collection all non passes should come under FIXED',
' select count(1) into igCount from auditcheck_result a where a.collection_date = collectionDate',
' and a.UPLOAD_COLLECTION_NAME = collectionName and a.status in (''FAIL'',''WARNING'',''INFO'')',
' AND EXISTS ( SELECT 1 FROM rca13_ignored_checks t1 WHERE a.check_id = t1.check_id',
' AND t1.system_id =sysId AND ( t1.collection_date IS NULL OR ( t1.collection_date  = a.collection_date',
' and t1.collection_name = a.UPLOAD_COLLECTION_NAME and acr_id is null )',
' OR acr_id = a.auditcheck_result_id) );',
' ',
' ',
' --Delete collection details from rca13_collection_values, if already exists',
' delete from rca13_collection_values where collection_date = collectionDate and collection_name = collectionName;',
' commit;',
' insert into rca13_collection_values(score,f_count,w_count,p_count,collection_date,collection_name,i_count,ig_count)',
' values(score,fCount,wCount,pCount,collectionDate,collectionName,iCount,igCount);',
' commit;',
' --Caliculate diff .. we call it for each insertion of row in rca13_collections_md',
' --TODO: Handle it while deletion on row',
' if flag = 1 OR flag = 3 then',
'  temp := hasDiffWithPrevRun(collectionName,collectionDate);',
' end if;',
' commit;',
' --exception when others then',
' --dbms_output.put_line(''cd=''||collectionDate||'' , and cn=''||collectionName);',
' --null;',
'end;',
'--------------------------------------------------------------------------------',
'--After insert and after delete triggers',
'procedure ignoreReCalValues_AIAD(sysId varchar2,collectionDate timestamp,colName varchar2) is',
'cnt number;',
'begin',
'  select count(*) into cnt from rca13_ignored_checks where system_id = sysId;',
'  if collectionDate is not null then',
'    --select collection_name into colName from rca13_collections_md where collection_date = collectionDate;',
'    --If collection date is not null, that is ignore happended at collection level',
'    afterColInUpActs(collectionDate,colName,2);',
'  else -- that is check is ignored at system level',
'    for rec in ( select collection_date cd,collection_name cn from rca13_col2sys_mapping where system_id = sysId ) loop',
'      afterColInUpActs(rec.cd,rec.cn,2);',
'    end loop;',
'  end if;',
'  exception when others then null;',
'end;',
'--------------------------------------------------------------------------------',
'END rca13_MANAGE_COLLECTIONS;',
'',
'',
'/',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312103368095755160)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'product table'
,p_sequence=>110
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table  rca13_intrack_product',
'   (',
'   id                      number,',
'   row_version_number      number,',
'   product_name            varchar2(255) not null enable,',
'   description             varchar2(4000),',
'   is_active               varchar2(1)   default ''Y'',',
'   --',
'   default_assignee_id     number,',
'   --',
'   created                 timestamp with local time zone not null,',
'   created_by              varchar2(255) not null,',
'   updated                 timestamp with local time zone,',
'   updated_by              varchar2(255),',
'    constraint RCA13_INTRACK_PRODUCT_PK primary key (id)',
'   )',
'/',
'',
'alter table rca13_intrack_product',
'   add constraint RCA13_INTRACK_PRODUCT_CHK1',
'       check (is_active in (''Y'',''N''))',
'/',
'    ',
'create index RCA13_INTRACK_PRODUCT_INDX1 on rca13_intrack_product(default_assignee_id);',
'',
'create or replace trigger RCA13_INTRACK_PRODUCT_TRG',
'   before insert or update on rca13_intrack_product',
'   for each row',
'   begin',
'      if inserting then',
'         if :NEW.ID is null then',
'           select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :new.id',
'           from dual;',
'         end if;',
'         :NEW.CREATED    := localtimestamp;',
'         :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := 1;',
'      end if;',
'',
'      if inserting or updating then',
'         :NEW.UPDATED    := localtimestamp;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'      end if;',
'      if updating then',
'         :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'      end if;',
'      if :new.is_active is null then',
'         :new.is_active := ''Y'';',
'      end if;',
'   end;',
'/',
'show errors',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(310977941536603426)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'get data4columns'
,p_sequence=>120
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE RCA13_GET_DATA4COLUMNS AS ',
'  function getIBSwitches(collectionId varchar2,cNo number) return varchar2;',
'  function getDatabases(collectionId varchar2,cNo number) return varchar2;',
'  function getStorageServers(collectionId varchar2,cNo number) return varchar2;',
'  function getCrsHome(collectionId varchar2) return varchar2;',
'  function getASMHome(collectionId varchar2) return varchar2;',
'  function getRdbmsHome(collectionId varchar2) return varchar2;',
'  function getDBServers(collectionId varchar2,cNo number) return varchar2;',
'  function getCollectionScore(collectionId varchar2,cName varchar2,cDate timestamp,flag number default 0 ) return number;',
'END RCA13_GET_DATA4COLUMNS;',
'/',
'',
'create or replace PACKAGE BODY RCA13_GET_DATA4COLUMNS AS',
'--------------------------------------------------------------------------------',
'function getCrsHome(collectionId varchar2) return varchar2 as',
'home varchar2(1000);',
'begin',
' select home_path||'' - ''||version into home from rca13_homes where collection_id = collectionId and type in (''CRS'',''GI'');',
' return home;',
' exception when others then return null;',
'end;',
'--------------------------------------------------------------------------------',
'function getASMHome(collectionId varchar2) return varchar2 as',
'home varchar2(1000);',
'begin',
' select home_path||'' - ''||version into home from rca13_homes where collection_id = collectionId and type in (''ASM'');',
' return home;',
' exception when others then return null;',
'end;',
'--------------------------------------------------------------------------------',
'function getRdbmsHome(collectionId varchar2) return varchar2 as',
'home varchar2(1000);',
'begin',
' for rec in ( select home_path||'' - ''||version h from rca13_homes where collection_id = collectionId and type in (''RDBMS'') ) loop',
'  home := home ||rec.h||''<br>'';',
' end loop;',
' return rtrim(home,''<br>'');',
' exception when others then return null;',
'end;',
'--------------------------------------------------------------------------------',
'function getDBServers(collectionId varchar2,cNo number) return varchar2 as',
'nodesList varchar2(4000);',
'begin',
' for rec in ( select host_name hn from rca13_hosts where collection_id = collectionId ) loop',
'  nodesList := nodesList || rec.hn||'', '';',
' end loop;',
'  nodesList := rtrim(nodesList,'', '');',
' if length(nodesList) > 100 then ',
'  nodesList := substr(nodesList,1,100)||''<div id="nodesList''||cNo||''" style="DISPLAY: none">''|| ',
'              substr(nodesList,101)||'' </div> <br> <a id="nodesList''||cNo||''_mh" href="javascript:;" onclick="javascript:ShowHide(''''nodesList''||cNo||'''''')">...More</a>'';',
' end if;',
'return nodesList;',
'end;',
'--------------------------------------------------------------------------------',
'function getStorageServers(collectionId varchar2,cNo number) return varchar2 as',
'nodesList varchar2(4000);',
'begin',
' for rec in ( select name hn from rca13_ibs_ss where collection_id = collectionId and type like ''C'') loop',
'  nodesList := nodesList || rec.hn||'', '';',
' end loop;',
' nodesList := rtrim(nodesList,'', '');',
' if length(nodesList) > 100 then ',
'  nodesList := substr(nodesList,1,100)||''<div id="cellsList''||cNo||''" style="DISPLAY: none">''|| ',
'              substr(nodesList,101)||'' </div> <br> <a id="cellsList''||cNo||''_mh" href="javascript:;" onclick="javascript:ShowHide(''''cellsList''||cNo||'''''')">...More</a>'';',
' end if;',
'return nodesList;',
'end;',
'--------------------------------------------------------------------------------',
'function getDatabases(collectionId varchar2,cNo number) return varchar2 as',
'nodesList varchar2(4000);',
'begin',
' for rec in ( select db_name hn,database_role dr from rca13_databases where collection_id = collectionId) loop',
'   if rec.dr is null then',
'     nodesList := nodesList || rec.hn||'', '';',
'   else',
'     nodesList := nodesList || rec.hn||''(''||rec.dr||'')''||'', '';',
'   end if;  ',
' end loop;',
' nodesList := rtrim(nodesList,'', '');',
' if length(nodesList) > 100 then ',
'  nodesList := substr(nodesList,1,100)||''<div id="databasesList''||cNo||''" style="DISPLAY: none">''|| ',
'              substr(nodesList,101)||'' </div> <br> <a id="databasesList''||cNo||''_mh" href="javascript:;" onclick="javascript:ShowHide(''''databasesList''||cNo||'''''')">...More</a>'';',
' end if;',
'return nodesList;',
'end;',
'--------------------------------------------------------------------------------',
'function getIBSwitches(collectionId varchar2,cNo number) return varchar2 as',
'nodesList varchar2(4000);',
'begin',
' for rec in ( select name hn from rca13_ibs_ss where collection_id = collectionId and type like ''S'') loop',
'  nodesList := nodesList || rec.hn||'', '';',
' end loop;',
' nodesList := rtrim(nodesList,'', '');',
' if length(nodesList) > 100 then ',
'  nodesList := substr(nodesList,1,100)||''<div id="switchesList''||cNo||''" style="DISPLAY: none">''|| ',
'              substr(nodesList,101)||'' </div> <br> <a id="switchesList''||cNo||''_mh" href="javascript:;" onclick="javascript:ShowHide(''''switchesList''||cNo||'''''')">...More</a>'';',
' end if;',
'return nodesList;',
'end;',
'--------------------------------------------------------------------------------',
'function getCollectionScore(collectionId varchar2,cName varchar2,cDate timestamp,flag number default 0) return number as',
'crh_total_points number;',
'crh_err_points number;',
'crh_less_points number;',
'crh_health number;',
'G_TOTAL_CHECKS number := 0;',
'G_FAIL_CHECKS number := 0;',
'G_WARN_CHECKS number := 0;',
'G_INFO_CHECKS number := 0;',
'sysId varchar2(40);',
'cnt number;',
'skippedChecksCnt number := 0;',
'isExalogic number := 0;',
'PRAGMA AUTONOMOUS_TRANSACTION;',
'begin',
'   -- Get system id of collection',
'   select system_id into sysId from rca13_col2sys_mapping where collection_date = cDate and collection_name = cName;',
'   --If ticket is closed on collection, return score as 100%',
'   if flag = 1 then ---call from trigger',
'     select count(1) into cnt from rca13_ac_tickets a,rca13_intrack_incidents b ',
'     where a.collection_date = cDate and a.collection_name = cName and a.ticket_id = b.id;',
'   else ',
'     select count(1) into cnt from rca13_ac_tickets a,rca13_intrack_incidents b ',
'     where a.collection_date = cDate and a.collection_name = cName and a.ticket_id = b.id and b.status_code >= 80;',
'   end if;',
'   ',
'   if cnt > 0 then ',
'     return 100;',
'   end if;   ',
'   -- Following statement fails when result is inserted before collection is processed',
'   -- But we should update after collection is processed',
'   if collectionid is not null then ',
'    begin',
'     select skipped_checks,is_exalogic into skippedChecksCnt,isExalogic from rca13_collections where collection_id = collectionid;',
'     exception when others then null; -- Score will not consider skipped checks',
'    end; ',
'   end if; ',
'   select count(*) into G_TOTAL_CHECKS from auditcheck_result a where collection_date = cDate and upload_collection_name = cName  ',
'   AND not exists ( SELECT 1 FROM rca13_ignored_checks t1 WHERE a.check_id = t1.check_id and a.status = ''FAIL''',
'   AND t1.system_id =sysId AND ( t1.collection_date IS NULL OR ( t1.collection_date  = a.collection_date ',
'   and t1.collection_name = a.UPLOAD_COLLECTION_NAME and acr_id is null ) ',
'   OR acr_id = a.auditcheck_result_id) ); ',
'   --If check is ignored, don''t use it for caliculating score',
'   for rec in ( select status,auditcheck_result_id ari from auditcheck_result a where a.collection_date = cDate and a.UPLOAD_COLLECTION_NAME = cName ',
'                and a.status in (''FAIL'',''WARNING'',''INFO'') and ',
'                not exists ( SELECT 1 FROM rca13_ignored_checks t1 WHERE a.check_id = t1.check_id and a.status = ''FAIL''',
'                AND t1.system_id =sysId AND ( t1.collection_date IS NULL OR ( t1.collection_date  = a.collection_date ',
'                and t1.collection_name = a.UPLOAD_COLLECTION_NAME and acr_id is null ) ',
'                OR acr_id = a.auditcheck_result_id ) ) ) loop ',
'     --If ticket is closed on check, use failed/warned check as pass and caliculate score',
'     cnt := 0;',
'     select count(1) into cnt from rca13_ac_tickets a,rca13_intrack_incidents b ',
'     where a.attr1 = rec.ari and a.ticket_id = b.id and b.status_code >= 80;',
'     continue when cnt > 0; ',
'     case ',
'        when rec.status = ''FAIL'' then',
'          G_FAIL_CHECKS := G_FAIL_CHECKS + 1;',
'        when rec.status = ''WARNING'' then',
'          G_WARN_CHECKS := G_WARN_CHECKS + 1; ',
'        when rec.status = ''INFO'' then ',
'          G_INFO_CHECKS := G_INFO_CHECKS + 1;',
'        else',
'          G_FAIL_CHECKS := G_FAIL_CHECKS + 1;',
'     end case;',
'   end loop;',
' crh_total_points := G_TOTAL_CHECKS*10;',
' --dbms_output.put_line(''total=''||crh_total_points);',
' if isExalogic = 1 then',
'   crh_err_points := G_FAIL_CHECKS*10+G_WARN_CHECKS*5+G_INFO_CHECKS*3+skippedChecksCnt*10;',
' else',
'   crh_err_points := G_FAIL_CHECKS*10+G_WARN_CHECKS*5+G_INFO_CHECKS*3+skippedChecksCnt*3;',
' end if;  ',
' --dbms_output.put_line(G_FAIL_CHECKS||''*10+''||G_WARN_CHECKS||''*5+''||G_INFO_CHECKS||''*3'');',
' crh_less_points := crh_total_points - crh_err_points;',
' crh_health := 0;',
'  if crh_total_points > 0 then ',
'    crh_health := crh_less_points*100 / crh_total_points;    ',
'  end if;',
'  return round(crh_health);',
'end;',
'--------------------------------------------------------------------------------',
'--Get check actual values',
'function getCheckDetails (cDate timestamp,checkId varchar2) return clob is',
'rValue clob;',
'collectionId varchar2(40);',
'cName varchar2(256);',
'htmlFileId varchar2(40) := NULL;',
'readingOn number := 0;',
'begin',
' begin',
'   --For now we are not calling this fun anyware .. don''t worry about collection_name column for now',
'   select collection_id,collection_name into collectionId,cName from rca13_collections where collection_date = cDate;',
'   exception when NO_DATA_FOUND then return null;  ',
' end;  ',
' -- Get file id of html file',
' for rec in ( select collection_file_id cfi from rca13_collection_files a where short_file_name = cName||''.html'' ',
'              and collection_id = collectionId ',
'              and (select count(1) from rca13_collection_file_data where collection_file_id = a.collection_file_id ) > 0 ) loop',
'   htmlFileId := rec.cfi;',
' end loop; ',
' if htmlFileId is null then ',
'   return null;',
' end if;',
' for rec in ( select line_text lt from rca13_collection_file_data where collection_file_id = htmlFileId order by line_number ) loop ',
'   if readingOn = 0 and instr(rec.lt,''id="''||checkId||''_contents"'') > 0 then',
'     readingOn := 1;',
'   end if;',
'   if readingOn = 1 and instr(rec.lt,''<div id="'') > 0 and  instr(rec.lt,''_contents">'') > 0 then',
'     exit;',
'   end if;   ',
'   if readingOn = 1 then ',
'     rValue := rValue || rec.lt;',
'   end if;',
' end loop;',
' return rValue;',
'end;',
'--------------------------------------------------------------------------------',
'END RCA13_GET_DATA4COLUMNS;',
'/'))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312103544331757758)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'product version table'
,p_sequence=>120
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table  rca13_intrack_version',
'   (',
'   id                      number,',
'   row_version_number      number,',
'   product_id              number not null,',
'   version_name            varchar2(100),',
'   description             varchar2(4000),',
'   release_date            timestamp with local time zone default localtimestamp,',
'   is_active               varchar2(1) default ''Y'',',
'   --',
'   created                timestamp with local time zone  not null,',
'   created_by             varchar2(255) not null,',
'   updated                timestamp with local time zone,',
'   updated_by             varchar2(255),',
'    constraint rca13_intrack_version_pk primary key(id),',
'    constraint RCA13_INTRACK_VERSION_RCA_FK1 foreign key (product_id)',
'     references  rca13_intrack_product (id) on delete cascade enable',
'   )',
'/',
'    ',
'create index RCA13_INTRACK_VERSION_INDX1 on rca13_intrack_version(product_id);',
'',
'alter table rca13_intrack_version',
'   add constraint RCA13_INTRACK_VERSION_CHK1',
'       check (is_active in (''Y'',''N''))',
'/',
'',
'create or replace trigger RCA13_INTRACK_VERSION_TRG',
'   before insert or update on rca13_intrack_version',
'   for each row',
'   begin',
'      if inserting then',
'         if :NEW.ID is null then',
'           select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :new.id',
'           from dual;',
'         end if;',
'         :NEW.CREATED    := localtimestamp;',
'         :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number :=  1;',
'      end if;',
'',
'      if inserting or updating then',
'         :NEW.UPDATED    := localtimestamp;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'      end if;',
'      if updating then',
'         :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'      end if;',
'      if :new.is_active is null then',
'         :new.is_active := ''Y'';',
'      end if;',
'   end;',
'/',
'show errors',
'insert into rca13_intrack_product (id, product_name,default_assignee_id) values (1,''RAC Systems'',null);',
'insert into rca13_intrack_version (id, product_id,version_name) values (1,1,''10.2'');',
'insert into rca13_intrack_version (id, product_id,version_name) values (2,1,''11.1'');',
'insert into rca13_intrack_version (id, product_id,version_name) values (3,1,''11.2'');',
'insert into rca13_intrack_version (id, product_id,version_name) values (4,1,''12.1'');',
'commit;',
'insert into rca13_intrack_product (id, product_name,default_assignee_id) values (2,''NON-RAC Systems'',null);',
'insert into rca13_intrack_version (id, product_id,version_name) values (5,2,''10.2'');',
'insert into rca13_intrack_version (id, product_id,version_name) values (6,2,''11.1'');',
'insert into rca13_intrack_version (id, product_id,version_name) values (7,2,''11.2'');',
'insert into rca13_intrack_version (id, product_id,version_name) values (8,2,''12.1'');',
'commit;',
'insert into rca13_intrack_product (id, product_name,default_assignee_id) values (3,''EXADATA Systems'',null);',
'insert into rca13_intrack_version (id, product_id,version_name) values (9,3,''X2-2'');',
'insert into rca13_intrack_version (id, product_id,version_name) values (10,3,''X2-8'');',
'insert into rca13_intrack_version (id, product_id,version_name) values (11,3,''X3-2'');',
'insert into rca13_intrack_version (id, product_id,version_name) values (12,3,''X3-8'');',
'insert into rca13_intrack_version (id, product_id,version_name) values (13,3,''X4-2'');',
'commit;',
'insert into rca13_intrack_product (id, product_name,default_assignee_id) values (4,''Others'',null);',
'insert into rca13_intrack_version (id, product_id,version_name) values (14,4,''0.0'');',
'',
'commit;',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(310978149286615155)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Email'
,p_sequence=>130
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE RCA13_EMAIL AS ',
'   this_package constant varchar2(33) := ''email.'';',
'   "collection is not one based"    constant varchar2(65) := this_package || ''collection_is_not_one_based'';',
'   "exception does not exist"       constant varchar2(65) := this_package || ''exception_does_not_exist'';',
'   "exception outside user range"   constant varchar2(65) := this_package || ''exception_outside_user_range'';',
'   "fatal html syntax error"        constant varchar2(65) := this_package || ''fatal_html_syntax_error'';',
'   "generic exception"              constant varchar2(65) := this_package || ''generic_exception'';',
'   "invalid user"                   constant varchar2(65) := this_package || ''invalid_user'';',
'   "lookup table is corrupt"        constant varchar2(65) := this_package || ''lookup_table_is_corrupt'';',
'   "mandatory decision tree failed" constant varchar2(65) := this_package || ''mandatory_decision_tree_failed'';',
'   "package state undefined"        constant varchar2(65) := this_package || ''package_state_undefined'';',
'   "parameter cannot be null"       constant varchar2(65) := this_package || ''parameter_cannot_be_null'';',
'   "parameter did not conform"      constant varchar2(65) := this_package || ''parameter_did_not_conform'';',
'   "security violation"             constant varchar2(65) := this_package || ''security_violation'';',
'   "sparse collection not allowed"  constant varchar2(65) := this_package || ''sparse_collection_not_allowed'';',
'   "string too large"               constant varchar2(65) := this_package || ''string_too_large'';',
'   collection_is_not_one_based exception;',
'   exception_outside_user_range exception;',
'   exception_does_not_exist exception;',
'   fatal_html_syntax_error exception;',
'   generic_exception exception;',
'   invalid_user exception;',
'   lookup_table_is_corrupt exception;',
'   mandatory_decision_tree_failed exception;',
'   package_state_undefined exception;',
'   parameter_cannot_be_null exception;',
'   parameter_did_not_conform exception;',
'   security_violation exception;',
'   sparse_collection_not_allowed exception;',
'   string_too_large exception;',
'   pragma exception_init(security_violation, -20013);',
'   pragma exception_init(exception_does_not_exist, -20012);',
'   pragma exception_init(mandatory_decision_tree_failed, -20011);',
'   pragma exception_init(exception_outside_user_range, -20010);',
'   pragma exception_init(invalid_user, -20009);',
'   pragma exception_init(package_state_undefined, -20008);',
'   pragma exception_init(fatal_html_syntax_error, -20007);',
'   pragma exception_init(parameter_did_not_conform, -20006);',
'   pragma exception_init(lookup_table_is_corrupt, -20005);',
'   pragma exception_init(collection_is_not_one_based, -20004);',
'   pragma exception_init(sparse_collection_not_allowed, -20003);',
'   pragma exception_init(parameter_cannot_be_null, -20002);',
'   pragma exception_init(string_too_large, -20001);',
'   pragma exception_init(generic_exception, -20000);',
'',
'TYPE CIO_PLSQL_STRING_ARRAY is table of varchar2(32767);',
'type error_stack_token_table_type is table of varchar2(4000) index by varchar2(256);',
'type attachment_rec_type is record( binary_file blob,file_name   varchar2(512));',
'type attachment_tbl_type is table of attachment_rec_type index by binary_integer;',
'',
'procedure send ( toEmail in varchar2, fromEmail in varchar2,fromName in varchar2, ',
'                 subject in varchar2,messageText in clob,bccList in varchar2 default null);',
'   ',
'END RCA13_EMAIL;',
'/',
'',
'    ',
'create or replace PACKAGE BODY RCA13_EMAIL AS',
'c_x_mailer constant varchar2(256) := ''CleverIdeasForOracle http://cleveridea.net'';',
'procedure logError (emailAddress varchar2, subject varchar2, messageText clob, errorText varchar2) is',
'errorClob CLOB := errorText;',
'foo number;',
'begin',
'foo := length(messageText);',
'insert into rca13_email_failure (email_address, subject, message_text, message_length, error_text)',
'values (substr(emailAddress,1,900),substr(logError.subject,1,900), dbms_lob.substr(messageText,1,3900) , length(messageText), errorClob);',
'commit;',
'end;',
'-----------------------------------------------------------',
'procedure smtp_write ( c in out utl_smtp.connection, data in varchar2 ) is',
'begin',
'   --We need to include a carriage return or line feed (CRLF) every 1000 characters when sending HTML based e-mails from Oracle',
'   utl_smtp.write_data(c, data||utl_tcp.crlf);',
'end smtp_write;',
'-----------------------------------------------------------',
'procedure add_attachment (v_connection in out nocopy utl_smtp.connection,p_attachment in out blob',
'                          ,p_attachment_name in varchar2,p_boundary in varchar2  ) is',
'      C_BASE64_CHUNK_SIZE constant pls_integer := 78;',
'      v_base64_chunk      raw(32767);',
'      v_position          integer := 1;',
'      v_attachment_length integer;',
'      v_amount            binary_integer := 32767;',
'   begin',
'      smtp_write(v_connection, '''');',
'      smtp_write(v_connection, '''');',
'      smtp_write(v_connection, ''--'' || p_boundary);',
'      smtp_write(v_connection, ''Content-Type: application/octet-stream; name="'' || p_attachment_name || ''"'');',
'      smtp_write(v_connection, ''Content-Disposition: attachment; filename="'' || p_attachment_name || ''"'');',
'      smtp_write(v_connection, ''Content-Transfer-Encoding: base64'');',
'      smtp_write(v_connection, '''');',
'      smtp_write(v_connection, '''');',
'',
'      v_attachment_length := dbms_lob.getlength(p_attachment);',
'      if dbms_lob.isopen(p_attachment) = 0 then',
'         dbms_lob.open(p_attachment, dbms_lob.lob_readonly);',
'      end if;',
'      while v_position < v_attachment_length  loop',
'         v_amount := C_BASE64_CHUNK_SIZE;',
'         dbms_lob.read(p_attachment, v_amount, v_position, v_base64_chunk);',
'         utl_smtp.write_raw_data(v_connection, utl_encode.base64_encode(v_base64_chunk));',
'         v_position := v_position + C_BASE64_CHUNK_SIZE;',
'         smtp_write(v_connection, '''');',
'      end loop;',
'',
'      if dbms_lob.isopen(p_attachment) != 0',
'      then',
'         dbms_lob.close(p_attachment);',
'      end if;',
'',
'      smtp_write(v_connection, '''');',
'      smtp_write(v_connection, '''');',
'',
'   end add_attachment;',
'-------------------------------------------------------   ',
'FUNCTION loopThroughClob (srcClob IN CLOB) return dbms_sql.varchar2a is',
'v_result        dbms_sql.varchar2a;',
'vBuffer    VARCHAR2 (32767);',
'l_amount   BINARY_INTEGER := 900;',
'startPosition BINARY_INTEGER := 1;',
'endingPosition number;',
'chunk varchar2(1000);',
'foo varchar2(32767);',
'arrayCounter number := 1;',
'emailDone number := 0;',
'BEGIN',
'--dbms_output.put_line(''TOTAL SIZE: '' || dbms_lob.getlength(srcClob));',
'LOOP',
'  begin',
'   dbms_lob.read(srcClob, l_amount, startPosition, vBuffer); --loaded 900 new bytes, starting where we left off                ',
'   exception when no_data_found then',
'   --dbms_output.put_line(''EXIT'');',
'   exit;',
'  end;   ',
'  if (length(vBuffer) < 900) then',
'        chunk := vBuffer;',
'        emailDone := 1;',
'  else',
'        --find the last space in the string',
'        --dbms_output.put_line(''*** BUFFER: '' || vBuffer);',
'        dbms_output.put_line(''*** BUFFER LENGTH: '' || length(vBuffer));        ',
'        endingPosition := instr(vBuffer,'' '',-1,1);',
'        dbms_output.put_line(''*** READ BUFFER FROM 1 to '' || endingPosition);',
'        dbms_output.put_line(''*** READ SIZE: '' || length(substr(vBuffer,1,endingPosition)) );',
'        foo := substr(vBuffer,1,endingPosition);    ',
'        dbms_output.put_line(''*** FOO LENGTH: '' || LENGTHB(foo) );',
'        chunk := foo;',
'  end if;',
'  --the next loop will start where the last one ended off',
'  startPosition := startPosition + endingPosition;    ',
'  endingPosition := null;',
'  v_result(arrayCounter) :=  chunk;',
'  arrayCounter := arrayCounter + 1;',
'  exit when arrayCounter = 99999; --protectino from runaways',
'  --exit when length(vBuffer) < 900;',
'  exit when emailDone = 1;',
'END LOOP;',
'return v_result;    ',
'END;',
'--------------------------------------------------------------------------------',
'function clob_to_varchars ( p_clob in clob,p_chunk_size in integer) return dbms_sql.varchar2a is',
'v_result        dbms_sql.varchar2a;',
'v_cursor_id     integer;',
'v_cursor_result integer;',
'begin',
'for i in 0 .. trunc(dbms_lob.getlength(p_clob) / p_chunk_size) loop',
'  v_result(i + 1) := dbms_lob.substr(p_clob, p_chunk_size, (i * p_chunk_size) + 1);',
'end loop;',
'return v_result;',
'end clob_to_varchars;',
'--------------------------------------------------------------------------------',
'procedure sanity_check_on_seperator(p_separator in varchar2,v_tokens out error_stack_token_table_type) is',
'begin',
'if p_separator is null then',
' v_tokens(1) := ''p_separator'';',
'end if;',
'if length(p_separator) > 1 then',
' v_tokens(1) := ''p_seperator'';',
' v_tokens(2) := ''of a single character'';',
'end if;',
'end sanity_check_on_seperator;',
'--------------------------------------------------------------------------------',
'function list_to_table(p_list in varchar2,p_separator in varchar2 default '','') return cio_plsql_string_array is',
'c_max_elements constant binary_integer := 16384;',
'v_tokens error_stack_token_table_type;',
'v_return                  cio_plsql_string_array := new cio_plsql_string_array();',
'v_element_count           binary_integer;',
'v_previous_comma_position binary_integer;',
'v_next_comma_position     binary_integer;',
'begin',
' sanity_check_on_seperator(p_separator, v_tokens);',
' if p_list is null then',
'   return null;',
' end if;',
' v_previous_comma_position := 0;',
' v_next_comma_position     := 0;',
' v_element_count           := 1;',
' for i in 1 .. c_max_elements loop',
'  v_next_comma_position := instr(p_list, p_separator, v_previous_comma_position + 1, 1);',
'  if v_next_comma_position = 0 then',
'   exit;',
'  end if;',
'  v_previous_comma_position := v_next_comma_position;',
'  v_element_count           := v_element_count + 1;',
' end loop;',
' v_previous_comma_position := 0;',
' v_next_comma_position     := 0;',
' for i in 1 .. v_element_count - 1 loop',
'  v_return.extend;',
'  v_next_comma_position := instr(p_list, p_separator, 1, i);',
'  dbms_output.put_line(''v_next_comma_position     ='' || v_next_comma_position);',
'  dbms_output.put_line(''v_previous_comma_position ='' || v_previous_comma_position);',
'  v_return(i) := substr(p_list, v_previous_comma_position + 1, v_next_comma_position - v_previous_comma_position - 1);',
'  v_previous_comma_position := v_next_comma_position;',
' end loop;',
' -- get the last element',
' if v_element_count > 1 then',
'  v_return.extend;',
'  v_return(v_element_count) := substr(p_list, v_next_comma_position + 1);',
' end if;',
' return v_return;',
' exception  ',
'    when parameter_did_not_conform then null;',
'    when parameter_cannot_be_null then null;',
'end list_to_table;',
'----------------------------------------------------------------------------------',
'procedure send_email (',
'      p_from_email    in varchar2',
'     ,p_from_replyto  in varchar2',
'     ,p_to_list       in varchar2',
'     ,p_cc_list       in varchar2',
'     ,p_bcc_list      in varchar2',
'     ,p_subject       in varchar2',
'     ,p_text_message  in clob',
'     ,p_content_type  in varchar2',
'     ,p_attachments   in attachment_tbl_type',
'     ,p_priority      in varchar2',
'     ,p_auth_username in varchar2',
'     ,p_auth_password in varchar2',
'     ,p_mail_server   in varchar2',
'     ,p_port          in integer ) is',
'      c_default_content_type constant varchar2(512) := ''text/plain'';',
'      v_connection   utl_smtp.connection;',
'      v_chunks       dbms_sql.varchar2a;',
'      v_blob         blob;',
'      v_boundary     varchar2(80) := ''CleverIdeasForOracleBoundary'';',
'      v_from_replyto varchar2(4000);',
'      v_content_type varchar2(512);',
'      procedure send_rcpt(p_target in varchar2) is',
'         v_rcpt_array cio_plsql_string_array;',
'      begin',
'         if (instr(replace(p_target, '';'', '',''), '','') > 0)',
'         then',
'            v_rcpt_array := list_to_table(replace(p_target, '';'', '',''));',
'            for i in 1 .. v_rcpt_array.count',
'            loop',
'               utl_smtp.rcpt(v_connection, v_rcpt_array(i));',
'            end loop;',
'         else',
'            utl_smtp.rcpt(v_connection, p_target);',
'         end if;',
'      end send_rcpt;',
'begin',
'      --utl_tcp.close_all_connections;',
'      v_connection := utl_smtp.open_connection(p_mail_server, p_port);',
'      utl_smtp.helo(v_connection, p_mail_server);',
'      if (p_auth_username is not null or p_auth_password is not null)  then',
'         utl_smtp.command(v_connection, ''AUTH LOGIN'');',
'         utl_smtp.command(v_connection, utl_raw.cast_to_varchar2(utl_encode.base64_encode(utl_raw.cast_to_raw(p_auth_username))));',
'         utl_smtp.command(v_connection, utl_raw.cast_to_varchar2(utl_encode.base64_encode(utl_raw.cast_to_raw(p_auth_password))));',
'      end if;',
'      utl_smtp.mail(v_connection, p_from_email);',
'      if trim(p_to_list) is not null then',
'         send_rcpt(trim(p_to_list));',
'      end if;',
'      if trim(p_cc_list) is not null then',
'         send_rcpt(trim(p_cc_list));',
'      end if;',
'      if trim(p_bcc_list) is not null then',
'         send_rcpt(trim(p_bcc_list));',
'      end if;',
'      utl_smtp.open_data(v_connection);',
'      v_from_replyto := nvl(trim(p_from_replyto), trim(p_from_email));',
'      if (v_from_replyto is not null) then',
'         smtp_write(v_connection, ''From:'' || v_from_replyto);',
'         smtp_write(v_connection, ''ReplyTo:'' || v_from_replyto);',
'         -- these are coupled because for the e-mail clients I tested, the ReplyTo:',
'         -- was simply ignored and the From: was used anyway.',
'      end if;',
'      if (trim(p_to_list) is not null) then',
'         smtp_write(v_connection, ''To:'' || trim(p_to_list));',
'      end if;',
'      if (trim(p_cc_list) is not null) then',
'         smtp_write(v_connection, ''Cc:'' || trim(p_cc_list));',
'      end if;      ',
'      if (trim(p_bcc_list) is not null) then',
'         smtp_write(v_connection, ''Bcc:'' || trim(p_bcc_list));',
'      end if;',
'      if (trim(p_subject) is not null) then',
'         smtp_write(v_connection, ''Subject:'' || trim(p_subject));',
'      end if;',
'      smtp_write(v_connection, ''X-Mailer:'' || c_x_mailer);',
'      if (trim(p_priority) is not null) then',
'         smtp_write(v_connection, ''X-Priority:'' || trim(p_priority));',
'      end if;',
'      if p_attachments.count > 0  then',
'         smtp_write(v_connection, ''Content-Type:multipart/mixed;boundary='' || v_boundary);',
'         smtp_write(v_connection, '''');',
'         smtp_write(v_connection, ''You are reading this because you are '');',
'         smtp_write(v_connection, ''using non-MIME compliant reader - this mail agent '');',
'         smtp_write(v_connection, c_x_mailer || '' expects you to be using one.'');',
'         smtp_write(v_connection, '''');',
'         smtp_write(v_connection, ''--'' || v_boundary);',
'      end if;',
'',
'      v_content_type := nvl(trim(p_content_type), c_default_content_type);',
'      smtp_write(v_connection, ''Content-Type:'' || v_content_type);',
'      smtp_write(v_connection, '''');',
'',
'      if (nvl(length(p_text_message), 0) > 0) then',
'         --v_chunks := clob_to_varchars(p_text_message, 900);',
'         v_chunks := loopThroughClob(p_text_message);',
'         for i in v_chunks.first .. v_chunks.last loop',
'            smtp_write(v_connection, replace(v_chunks(i), chr(10), chr(13)));',
'         end loop;',
'      end if;',
'      smtp_write(v_connection, '''');',
'      smtp_write(v_connection, '''');',
'      if p_attachments.count > 0 then',
'         for i in p_attachments.first .. p_attachments.last loop',
'            v_blob := p_attachments(i).binary_file;',
'            add_attachment(v_connection, v_blob, p_attachments(i).file_name, v_boundary);',
'         end loop;',
'      end if;',
'      smtp_write(v_connection, '''');',
'      if p_attachments.count > 0 then',
'         smtp_write(v_connection, ''--'' || v_boundary || ''--'');',
'      end if;',
'      utl_smtp.close_data(v_connection);',
'      utl_smtp.quit(v_connection);',
'   exception',
'    when utl_smtp.transient_error or utl_smtp.permanent_error then',
'     begin',
'      utl_smtp.quit(v_connection);',
'      exception when others then null; -- the quit call will raise an exception that we can ignore.',
'     end;',
'     raise;',
'    when others then      ',
'     begin',
'      ',
'      logError (emailAddress => nvl(p_to_list,p_bcc_list), subject => p_subject, messageText => p_text_message, errorText => DBMS_UTILITY.FORMAT_ERROR_STACK || '' '' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);',
'      utl_smtp.quit(v_connection);',
'      exception when others then',
'        logError (emailAddress => nvl(p_to_list,p_bcc_list), subject => p_subject, messageText => p_text_message, errorText => DBMS_UTILITY.FORMAT_ERROR_STACK || '' '' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);',
'        null; -- the quit call will raise an exception that we can ignore.',
'     end;',
'     raise;',
'end;',
'-----------------------------------------------------------------------------------------',
'procedure send( toEmail in varchar2, fromEmail in varchar2, fromName in varchar2,',
'subject in varchar2, messageText in clob,bccList in varchar2 default null) as',
'   v_attachments rca13_email.attachment_tbl_type;',
'   optedOut number;',
'   errorStack varchar2(4000);',
'   skipEmail exception;',
'   serverName varchar2(200);',
'   portNum integer;',
'   userId varchar2(40);',
'begin',
'   if (toEmail is null and bccList is null) then',
'      raise skipEmail;',
'   end if;',
'   begin',
'    select server_name,port into serverName,portNum from rca13_mail_server where rownum =1;',
'    exception when no_data_found then',
'    raise skipEmail;',
'   end;',
'   rca13_email.send_email(',
'           p_from_email    => fromEmail,',
'           p_from_replyto  => NULL,',
'           p_to_list       => toEmail,',
'           p_cc_list       => '''',',
'           p_bcc_list      => bccList,',
'           p_subject       => subject,',
'           p_text_message  => messageText,',
'           p_content_type  => ''text/html;charset=UTF8'',',
'           p_attachments   => v_attachments,',
'           p_priority      => ''3'',',
'           p_auth_username => '''',',
'           p_auth_password => '''',',
'           p_mail_server   => serverName,',
'           p_port          => portNum );',
'           ',
'        insert into rca13_email_sent(EMAIL_SENT_ID, USER_ID, EMAIL_ADDRESS, SENT_DATE, MESSAGE_TEXT)',
'        values (SYS_GUID(),userId, substr(nvl(toEmail,bccList),1,3900), sysdate, messageText);',
'        commit;',
'    exception',
'     when skipEmail then null;',
'    when others then',
'     errorStack := substr(DBMS_UTILITY.FORMAT_ERROR_STACK || '' '' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE,1,4000);',
'     if (errorStack like ''%is not an active email address in the system%'') then',
'       logError (emailAddress => nvl(toEmail,bccList),subject => subject,messageText => messageText,errorText => errorStack);',
'       commit;',
'       NULL;',
'     else',
'       logError (emailAddress => nvl(toEmail,bccList),subject => subject,messageText => messageText,errorText => errorStack);',
'       commit;',
'     end if;      ',
'end;',
'--------------------------------------------------------------------------------    ',
'END RCA13_EMAIL;',
'/',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(310978344354632645)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Manage Notifications'
,p_sequence=>140
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE RCA13_MANAGE_NOTIFICATIONS AS ',
' procedure startEmailJob;',
' procedure sendNotifications(jobId varchar2);',
' function get_restriction_predicate(userId varchar2) return number;',
' procedure getDiff(jobId varchar2 );',
' procedure jobintervalconfiguration(ivl number,freq varchar2);',
'procedure purgejobintervalconfiguration(ivl number,freq varchar2);',
'END RCA13_MANAGE_NOTIFICATIONS;',
'',
'/',
'    ',
'create or replace PACKAGE BODY RCA13_MANAGE_NOTIFICATIONS AS',
'--------------------------------------------------------------------------------',
'PROCEDURE trace_log(text  VARCHAR2)',
'IS',
'BEGIN',
'  INSERT INTO RCA13_EXCEPTION_LOG(TEXT) VALUES (text);',
'  COMMIT;',
'END;',
'-- This job gets executed for every 4hrs',
'procedure startEmailJob is',
'previousEndTime date;',
'previousJobId varchar2(40);',
'previousEndCdate timestamp;',
'currentCdate timestamp;',
'jobId varchar2(40) := sys_guid();',
'cnt number := 0;',
'lobId varchar2(40);',
'newsystem number := 0;',
'curcolname varchar2(400);',
'diffflag varchar2(40);',
'begin',
'--Delete old diff details. It is just temp table',
'delete from rca13_collections_diff;',
'commit;',
'--For the first time the job runs just insert latest value in tables and exit.',
'select count(*) into cnt from rca13_notification_jobs;',
'if cnt = 0 then',
' insert into rca13_notification_jobs(job_id,start_time,end_time) values(jobId,sysdate,sysdate);',
' --Write code to insert values in details table',
' for rec in ( select distinct system_id sId from rca13_col2sys_mapping where system_id != ''SAMPLE_SYSTEM'' ) loop',
'  select  max(collection_date) into currentCdate from rca13_col2sys_mapping where system_id = rec.sId;',
'  insert into rca13_notification_job_details(job_id,system_id,start_cdate,end_cdate)',
'  values(jobId,rec.sId,currentCdate,currentCdate);',
' end loop;',
' commit;',
'end if;',
'--GET THE LAST END TIME FOR A COMPLETED JOB',
'select max(end_time) into previousEndTime from rca13_notification_jobs where end_time is not null;',
'--select job_id into previousJobId from rca13_notification_jobs where end_time = previousEndTime;',
'insert into rca13_notification_jobs(job_id,start_time) values(jobId,sysdate);',
'commit;',
'-- Go through each system of each business unit',
'for rec in ( select distinct system_id sId from rca13_col2sys_mapping where system_id != ''SAMPLE_SYSTEM''  ) loop         ',
'   --Get previous end collection date for this system',
'    previousEndCdate := null;',
'    for rec1 in ( select end_cdate from rca13_notification_job_details ',
'                  where system_id = rec.sId order by end_cdate desc ) loop',
'      previousEndCdate := rec1.end_cdate;',
'      exit;',
'    end loop;   ',
'    diffflag := 1999;',
'    if previousEndCdate is null then --Means, New system added recently',
'      select  min(collection_date) into previousEndCdate from rca13_col2sys_mapping where system_id = rec.sId;        ',
'    select count(*) into newsystem from rca13_col2sys_mapping where system_id = rec.sId;',
'    if (newsystem = 1) then',
'    select collection_name into curcolname from rca13_col2sys_mapping where system_id = rec.sId;',
'    select diff_type into diffflag from rca13_diff_info where cur_col_name=curcolname;',
'    end if;',
'       end if;',
'    ',
'   -- Get latest collection date for the system',
'   select  max(collection_date) into currentCdate from rca13_col2sys_mapping where system_id = rec.sId;',
'   -- Insert row into details table',
'   if (previousEndCdate != currentCdate or diffflag=0) then -- Means no collections inserted after last job run',
'     insert into rca13_notification_job_details(job_id,system_id,start_cdate,end_cdate)',
'     values(jobId,rec.sId,previousEndCdate,currentCdate);',
'   end if;  ',
'end loop;',
'commit;',
'RCA13_MANAGE_NOTIFICATIONS.getDiff(jobId);',
'RCA13_MANAGE_NOTIFICATIONS.sendNotifications(jobId);',
'--Update end time',
'update rca13_notification_jobs set end_time = sysdate where job_id = jobId;',
'commit;',
'exception when others then',
' trace_log(''startEmailJobException''||SQLCODE||SQLERRM); ',
'end;',
'--------------------------------------------------------------------------------',
'procedure getDiff ( jobId varchar2 ) is',
'--messageText clob := NULL;',
'messageTextNew clob := NULL;',
'messageTextPass clob := NULL;',
'messageTextWarn clob := NULL;',
'messageTextFail clob := NULL;',
'lobName varchar2(256);',
'lobId varchar2(40);',
'sysName varchar2(256);',
'diffId varchar2(40);',
'diffType number;',
'prevColName varchar2(256);',
'curCcolName varchar2(256);',
'urlName varchar2(1000);',
'appId number;',
'link varchar2(1000);',
'newsystem number := 0;',
'curcolname varchar2(400);',
'diffflag varchar2(40);',
'begin',
'begin',
'  select url,app_id into urlName,appId from rca13_apex_details where rownum = 1;',
'  exception when others then null;',
'end; ',
' trace_log(''getdiff'');',
'  trace_log(''jobId''||jobId);',
'for rec in ( select system_id,start_cdate,end_cdate from rca13_notification_job_details where job_id = jobId ) loop',
'  --messageText := NULL;',
'messageTextNew  := NULL;',
'messageTextPass := NULL;',
'messageTextWarn := NULL;',
'messageTextFail := NULL;',
'  select b.lob_name,b.lob_id into lobName,lobId from rca13_lob2sys_mapping a,rca13_lobs b',
'  where a.system_id = rec.system_id and a.lob_id = b.lob_id;',
'  select system_name into sysName from rca13_systems where system_id = rec.system_id;',
'  ---START: Mail notification construction for the new collecitons without comparisons',
' diffflag := 1999;',
'    select count(*) into newsystem from rca13_col2sys_mapping where system_id = rec.system_id;',
'    if (newsystem=1) then',
'    select collection_name into curcolname from rca13_col2sys_mapping where system_id = rec.system_id;',
'    select diff_type into diffflag from rca13_diff_info where cur_col_name=curcolname;',
'    end if;',
'    ',
'  for rec2 in ( select collection_date cd,collection_name cn from rca13_col2sys_mapping where system_id = rec.system_id and collection_date >= rec.start_cdate',
'                and collection_date <= rec.end_cdate and diffflag=0 order by collection_date ) loop',
'   begin ',
'     messageTextNew  := NULL;       ',
'      diffId := rca13_manage_collections.hasDiffWithPrevRun(rec2.cn,rec2.cd);',
'      select diff_type,prev_col_name,cur_col_name into diffType,prevColName,curCcolName from rca13_diff_info where diff_id = diffId;',
'       trace_log(''I dont have difference''||diffId);',
'      if urlName is not null and appId is not null then',
'       link := ''<a href="''||urlName||''f?p=''||appId||'':1003:::NO:1003:P1003_DIFF_ID:''||diffId||''">Click here</a> for details'';',
'     else',
'       link := ''View CM App for details'';',
'    end if;',
'     trace_log(''messageTextNewCollections'');',
'      messageTextNew := messageTextNew || ''<tr><td>''||lobName||''</td><td>''||sysName||''</td><td>'';',
'      messageTextNew := messageTextNew || prevColName||''</td><td>''||curCcolName||''</td><td>New Collections Without Comparisons</td><td>''||link||''</td></tr>''; ',
'   insert into rca13_collections_diff(job_id,lob_id,lob_name,system_id,system_name,diff,diff_type)',
'   values(jobId,lobId,lobName,rec.system_id,sysName,messageTextNew,''0'');',
'  commit;   ',
'      exception when others then ',
'    trace_log(''DiffComputationNewsystemException''||SQLCODE||SQLERRM); ',
'      end;',
'    end loop;',
'---END: Mail notification construction for the new collections without comparisons',
'  -- 3 ==> Red flag',
'   -- diff_types:',
' --0:NEW = prev col not found for the selected collection,',
' --2:GOOD = diff found..but good( that is fail to pass, only region 1 ),Green,',
' --3:FAIL = diff found, but bad ( some thing from good to fail, only region 1 ),Red',
' --4:WARN = diff found, Orange ( some thing from good to warning )',
'  for rec1 in ( select collection_date cd,collection_name cn from rca13_col2sys_mapping where system_id = rec.system_id and collection_date > rec.start_cdate',
'                and collection_date <= rec.end_cdate order by collection_date ) loop',
'   begin      ',
'     diffId := rca13_manage_collections.hasDiffWithPrevRun(rec1.cn,rec1.cd);',
'     select diff_type,prev_col_name,cur_col_name into diffType,prevColName,curCcolName from rca13_diff_info where diff_id = diffId;',
'messageTextPass := NULL;',
'messageTextWarn := NULL;',
'messageTextFail := NULL;',
'  trace_log(''I have difference''||diffId);',
'    if (diffType = 0) then',
'      if urlName is not null and appId is not null then',
'        link := ''<a href="''||urlName||''f?p=''||appId||'':1003:::NO:1003:P1003_DIFF_ID:''||diffId||''">Click here</a> for details'';',
'      else',
'        link := ''View CM App for details'';',
'      end if;',
'      messageTextNew := messageTextNew || ''<tr><td>''||lobName||''</td><td>''||sysName||''</td><td>'';',
'      messageTextNew := messageTextNew || prevColName||''</td><td>''||curCcolName||''</td><td>New Collections Without Comparisons</td><td>''||link||''</td></tr>'';',
'    end if;',
'    ',
'    if (diffType = 2) then',
'      if urlName is not null and appId is not null then',
'        link := ''<a href="''||urlName||''f?p=''||appId||'':1003:::NO:1003:P1003_DIFF_ID:''||diffId||''">Click here</a> for details'';',
'      else',
'        link := ''View CM App for details'';',
'      end if;',
'       trace_log(''messageTextPass'');',
'      messageTextPass := messageTextPass || ''<tr><td>''||lobName||''</td><td>''||sysName||''</td><td>'';',
'      messageTextPass := messageTextPass || prevColName||''</td><td>''||curCcolName||''</td><td>Collections that Improved with Passes</td><td>''||link||''</td></tr>'';',
'    end if;',
'    ',
'    if (diffType = 4) then',
'      if urlName is not null and appId is not null then',
'        link := ''<a href="''||urlName||''f?p=''||appId||'':1003:::NO:1003:P1003_DIFF_ID:''||diffId||''">Click here</a> for details'';',
'      else',
'        link := ''View CM App for details'';',
'      end if;',
'         trace_log(''messageTextWarn'');',
'      messageTextWarn := messageTextWarn || ''<tr><td>''||lobName||''</td><td>''||sysName||''</td><td>'';',
'      messageTextWarn := messageTextWarn || prevColName||''</td><td>''||curCcolName||''</td><td>Collections Regressed with Warnings</td><td>''||link||''</td></tr>'';',
'    end if;',
'    ',
'    if (diffType = 3) then',
'      if urlName is not null and appId is not null then',
'        link := ''<a href="''||urlName||''f?p=''||appId||'':1003:::NO:1003:P1003_DIFF_ID:''||diffId||''">Click here</a> for details'';',
'      else',
'        link := ''View CM App for details'';',
'      end if;',
'       trace_log(''messageTextFail'');',
'      messageTextFail := messageTextFail || ''<tr><td>''||lobName||''</td><td>''||sysName||''</td><td>'';',
'      messageTextFail := messageTextFail || prevColName||''</td><td>''||curCcolName||''</td><td>Collections Regressed with Failures</td><td>''||link||''</td></tr>'';',
'    end if;',
'    if messageTextNew is not null then',
'   insert into rca13_collections_diff(job_id,lob_id,lob_name,system_id,system_name,diff,diff_type)',
'   values(jobId,lobId,lobName,rec.system_id,sysName,messageTextNew,to_char(diffType));',
'  end if;',
'  commit;',
'  if messageTextPass is not null then',
'   insert into rca13_collections_diff(job_id,lob_id,lob_name,system_id,system_name,diff,diff_type)',
'   values(jobId,lobId,lobName,rec.system_id,sysName,messageTextPass,to_char(diffType));',
'  end if;',
'  commit;',
'  if messageTextWarn is not null then',
'   insert into rca13_collections_diff(job_id,lob_id,lob_name,system_id,system_name,diff,diff_type)',
'   values(jobId,lobId,lobName,rec.system_id,sysName,messageTextWarn,to_char(diffType));',
'  end if;',
'  commit;',
'  if messageTextFail is not null then',
'   insert into rca13_collections_diff(job_id,lob_id,lob_name,system_id,system_name,diff,diff_type)',
'   values(jobId,lobId,lobName,rec.system_id,sysName,messageTextFail,to_char(diffType));',
'  end if;',
'  commit;  ',
'    exception when others then ',
'    trace_log(''DiffComputationException''||SQLCODE||SQLERRM); ',
'   end;',
'  end loop;  ',
'end loop;',
'end;',
'--------------------------------------------------------------------------------',
'procedure sendNotifications ( jobId varchar2 ) is',
'messageText clob := NULL;',
'rVal number := 1;',
'flag number := 0;',
'messageHeader clob := NULL;',
'messagespacecrunch clob := NULL;',
'messageFooter clob := NULL;',
'spaceflag  number := 0;',
'tsName varchar2(256);',
'freeSpace number := 999;',
'talert varchar2(50);',
'begin',
' messageHeader := ''',
' <html><head>',
' <style>',
'  table {    ',
'    font-weight: bold;',
'    border-spacing: 0;',
'    outline: medium none;',
'    font-family: Lucida Grande,Lucida Sans,Arial,sans-serif;',
'    font-size: 12px;',
'  }',
'  th {',
'    background-image: linear-gradient(#F0F0F0, #DDDDDD);',
'    border-radius: 3px 3px 0 0;',
'    height: 30px;',
'    border-collapse: collapse;',
'    border-spacing: 0',
'    border-bottom: 1px solid #AAAAAA;',
'  }',
'  td {   ',
'    font-weight: normal;',
'    padding: 5;',
'    border-collapse: collapse;',
'    border-spacing: 0;',
'    border-bottom: 1px solid #AAAAAA;',
'  }',
' </style>',
' </head><body>',
' <h4>Found Diff for the following collections</h4>',
' <table><thead><tr><th>BU Name</th><th>System Name</th><th>Previous Collection</th>',
' <th>Current Collection</th><th>Collection DifferenceType</th><th>Comments</th><tr></thead><tbody>',
' '';',
' messageFooter := ''</tbody></table></body></html>'';',
' --For each user we need to get the list of systems that he has access to and send that info only',
' trace_log(''sendnotificationsstart'');',
' for rec in ( select user_id,email_address mId,nvl(emailalert,999) emailalert from rca13_user_details where IS_NOTIFIED = 1 and email_address is not null) loop',
'  begin',
'   trace_log(''user_id::''||rec.user_id||''mail_id::''||rec.mId);',
'    trace_log(''emailalert::''||rec.emailalert);',
'   flag := 0;',
'   rVal := RCA13_MANAGE_NOTIFICATIONS.get_restriction_predicate(rec.user_id);   ',
'   messageText := NULL;  ',
'   for rec1  in ( select diff,diff_type from rca13_collections_diff where job_id = jobId and ',
'                  (lob_id,system_id) in (',
'                  select lob_id,system_id from rca13_lob2sys_mapping where rVal = 1 and rca13_lob2sys_mapping.lob_id != ''SAMPLE''',
'                  UNION',
'                  select lob_id lId,system_id sId from rca13_lob2sys_mapping where rVal = 3 and exists ( select 1 from rca13_user_roles  ',
'                  where user_id = rec.user_id and rca13_lob2sys_mapping.lob_id != ''SAMPLE'' and  ( role_id = 1  OR  ',
'                  ( role_id = 2 and lob_id = rca13_lob2sys_mapping.lob_id  ) OR',
'                  ( lob_id = rca13_lob2sys_mapping.lob_id and system_id = rca13_lob2sys_mapping.system_id ) ) ) )  ',
'                  order by decode(diff_type,''3'',1,''4'',2,''2'',3,''0'',4),lob_name,system_name ) loop',
'     --Construct messageText. ',
'      trace_log(''I have access to system ondifftype::''||rec1.diff_type);',
'    if (rec1.diff_type = 0 and instr(rec.emailalert,''0'') > 0) then ',
'     messageText := messageText || rec1.diff;    ',
'     flag := 1;',
'     end if;',
'      if (rec1.diff_type = 2 and instr(rec.emailalert,''2'') > 0) then ',
'     messageText := messageText || rec1.diff;    ',
'     flag := 1;',
'     end if;',
'      if (rec1.diff_type = 3 and instr(rec.emailalert,''3'') > 0) then ',
'     messageText := messageText || rec1.diff;    ',
'     flag := 1;',
'     end if;',
'      if (rec1.diff_type = 4 and instr(rec.emailalert,''4'') > 0) then ',
'     messageText := messageText || rec1.diff;    ',
'     flag := 1;',
'     end if;',
'   end loop; ',
'   begin',
'  ',
'    SELECT nvl(tablespace_name,''XXX'') into tsName from user_tables where table_name = ''RCA13_DOCS'';',
'    trace_log(''tablespace_name''||tsName);',
'    SELECT round(sum(bytes)/1048576) into freeSpace FROM user_free_space  where tablespace_name = tsName;',
'    trace_log(''freeSpace''||freeSpace);',
'    SELECT nvl(tablespacealert,''0'') into talert FROM rca13_user_details  where IS_NOTIFIED = 1 and email_address is not null and user_id=rec.user_id;',
'    trace_log(''tablespacealertflag''||talert);  ',
'    if (freeSpace < 500) then',
'    spaceflag := 1;',
'     messagespacecrunch := '' <html><h4>The ORAchk CM tablespace has  ''||freeSpace||''MB of free space remaining. Each collection processed can consume a minimum 20MB - 100MB . <br> Check your Autoextensible enabled in dba_data_files table. If all free'
||' space is consumed, problems processing collections can occur. </h4></html>''; ',
'    else ',
'     messagespacecrunch := NULL;      ',
'    end if;',
'     exception when others then',
' trace_log(''TablespaceException''||SQLCODE||SQLERRM); ',
'    end;',
'     ',
'   if (flag = 1 and spaceflag = 1 and instr(talert,''1'') > 0) then      ',
'    messageText := messagespacecrunch ||messageHeader || messageText || messageFooter;',
'     rca13_email.send(rec.mId,rec.mId,''From CM Notification System'',''Collection Manager Notifications : Space in DB reached < 500MB Check your Autoextensible Enabled in dba_data_files table'',messageText);',
'   elsif flag = 1 then',
'    trace_log(''sendnotificationsconstructedmail''); ',
'     messageText := messageHeader || messageText || messageFooter;',
'     rca13_email.send(rec.mId,rec.mId,''From CM Notification System'',''Collection Manager Notifications'',messageText);',
'   end if;  ',
'  exception when others then',
' trace_log(''sendnotificationsaccessException''||SQLCODE||SQLERRM); ',
'  end;',
' end loop; ',
'exception when others then',
'trace_log(''sendnotificationsuserdetailsException''||SQLCODE||SQLERRM); ',
'null;',
'end;',
'--------------------------------------------------------------------------------',
'FUNCTION get_restriction_predicate ( userId varchar2 ) RETURN number AS',
'cnt number := 0;',
'hasRole number := 0;',
'hasData number := 0;',
'vpdString varchar2(4000);',
'BEGIN',
'--Is user has atleast one role other than to SAMPLE data',
'select count(1) into hasRole from rca13_user_roles where user_id = userId and lob_id != ''SAMPLE'';',
'--check whther there is non sample data',
'select count(1) into hasData from rca13_collections_md;',
'--If ACL system is not enabled then don''t apply any security/vpd on data',
'select count(1) into cnt from rca13_intrack_preferences where preference_name = ''ACCESS_CONTROL_ENABLED'' and preference_value = ''N'';',
'if cnt > 0 then  ',
'  if hasData > 2 then --display whole data other than sample( 2 rows for sample data )',
'   --return  ''  rca13_lob2sys_mapping.lob_id != ''''SAMPLE'''' '';',
'   return 1;',
'  else  ',
'   --return '' 1 = 1 '';',
'   return 2;',
'  end if;',
'end if;',
'--Check whether user has access to atleast one unit or not other than SAMPLE unit',
'--After first log in to app, user will become dba_manager to SAMPLE unit.',
'--By default we insert some SAMPLE data ( and hence systems which map to SAMPLE unit ) into app',
'if hasRole > 0 and hasData > 2 then --Exclude SAMPLE data',
'  vpdString :=',
'  ''  exists ( select 1 from rca13_user_roles  where user_id = ''''''||userId||'''''' and rca13_lob2sys_mapping.lob_id != ''''SAMPLE'''' ''||',
'  '' and  ( role_id = 1  OR  ''||',
'  ''  ( role_id = 2 and lob_id = rca13_lob2sys_mapping.lob_id  ) OR ''||',
'  ''  ( lob_id = rca13_lob2sys_mapping.lob_id and system_id = rca13_lob2sys_mapping.system_id ) ) ) '';',
'  return 3;',
'else --Which display only sample data',
'  vpdString :=',
'  ''  exists ( select 1 from rca13_user_roles  where user_id = ''''''||userId||''''''  and  ( role_id = 1  OR  ''||',
'  ''  ( role_id = 2 and lob_id = rca13_lob2sys_mapping.lob_id  ) OR ''||',
'  ''  ( lob_id = rca13_lob2sys_mapping.lob_id and system_id = rca13_lob2sys_mapping.system_id ) ) ) '';',
'  return 4;',
'end if;  ',
'--RETURN vpdString;',
'return 1;',
'END;',
'--------------------------------------------------------------------------------',
'procedure jobintervalconfiguration(ivl number,freq varchar2) is',
'interval varchar2(5);',
'l_job_exists number := 0;',
'l_job_running number := 0;',
'frequency varchar2(15);',
'BEGIN',
'select count(1) into l_job_exists from user_scheduler_jobs where job_name = ''RCA13_NOTIFICATIONS_JOB'';',
'  trace_log(''Interval::''||ivl||''frequency::''||freq);  ',
'   select decode(freq,''HOURS'',''hourly'',''DAYS'',''daily'',freq) into frequency from dual;',
'   select count(*) into l_job_running',
'     from user_scheduler_running_jobs',
'    where job_name = ''RCA13_NOTIFICATIONS_JOB'';',
'   if (l_job_running = 1) then   ',
'      begin',
'      dbms_scheduler.stop_job(''RCA13_NOTIFICATIONS_JOB'');',
'      exception when others then ',
'        trace_log(''Stop NotificationJob Exception''||SQLCODE||SQLERRM); ',
'      end;',
'    end if;',
'    if(l_job_exists = 1 ) then',
'      begin',
'      dbms_scheduler.drop_job(''RCA13_NOTIFICATIONS_JOB'');',
'       exception when others then ',
'       trace_log(''Drop NotificationJob Exception''||SQLCODE||SQLERRM); ',
'      end;',
'    end if;',
'     begin',
'    DBMS_SCHEDULER.CREATE_JOB (',
'     job_name           => ''RCA13_NOTIFICATIONS_JOB'',',
'     job_type           => ''PLSQL_BLOCK'',',
'     job_action         => ''BEGIN rca13_manage_notifications.startEmailJob(); END;'',',
'     start_date         =>   systimestamp,',
'     repeat_interval    => ''freq=''||trim(frequency)||''; interval=''||trim(ivl)||''; byminute=0; bysecond=0;'', /*For every 4 hours */',
'     end_date           =>   NULL,',
'     enabled            =>   TRUE,',
'     auto_drop          =>   FALSE,',
'     comments           =>  ''ORAchk App:Email Notification system'');',
'     DBMS_SCHEDULER.enable (''RCA13_NOTIFICATIONS_JOB'');',
'     exception when others then ',
'     trace_log(''Create Job Notification Exception''||SQLCODE||SQLERRM); ',
'      end;',
'trace_log(''Success JobInterval'');',
'exception when others then ',
'trace_log(''JobIntervalException''||SQLCODE||SQLERRM); ',
'END;',
'--------------------------------------------------------------------------------',
'procedure purgejobintervalconfiguration(ivl number,freq varchar2) is',
'interval varchar2(5);',
'l_job_exists number := 0;',
'l_job_running number := 0;',
'interval_value number := 0;',
'frequency varchar2(15);',
'conf_date date;',
'conf number := 0;',
'BEGIN',
'select count(1) into l_job_exists from user_scheduler_jobs where job_name = ''RCA13_PURGE_JOB'';',
'select preference_value into interval_value from rca13_intrack_preferences where preference_name = ''PURGE_JOB_INTERVAL'';',
'  trace_log(''Interval::''||ivl||''frequency::''||freq);  ',
'   select decode(freq,''HOURS'',''hourly'',''DAYS'',''daily'',''WEEKLY'',''weekly'',''MONTHLY'',''monthly'',freq) into frequency from dual;',
'   select decode(freq,''DAYS'',ivl*1,''WEEKLY'',ivl*7,''MONTHLY'',ivl*30,''YEARLY'',ivl*365,freq) into conf from dual;',
'   --select sysdate-conf into conf_date from dual;',
'   update rca13_intrack_preferences set preference_value = ivl,preference_description=freq where preference_name=''PURGE_JOB_INTERVAL'';',
'   select count(*) into l_job_running',
'     from user_scheduler_running_jobs',
'    where job_name = ''RCA13_PURGE_JOB'';',
'   if (l_job_running = 1) then   ',
'      begin',
'      dbms_scheduler.stop_job(''RCA13_PURGE_JOB'');',
'      exception when others then ',
'        trace_log(''Stop PurgeJob Exception''||SQLCODE||SQLERRM); ',
'      end;',
'    end if;',
'    if(l_job_exists = 1 ) then',
'      begin',
'      dbms_scheduler.drop_job(''RCA13_PURGE_JOB'');',
'       exception when others then ',
'       trace_log(''Drop PurgeJob Exception''||SQLCODE||SQLERRM); ',
'      end;',
'    end if;',
'     begin',
'    DBMS_SCHEDULER.CREATE_JOB (',
'     job_name           => ''RCA13_PURGE_JOB'',',
'     job_type           => ''PLSQL_BLOCK'',',
'   --job_action         => ''BEGIN RCA13_MANAGE_COLLECTIONS.purgeData(dat => to_timestamp(''''''||conf_date||'''''',''''DD-MON-RR HH.MI.SS.FF AM'''')); END;'',',
'     job_action         => ''BEGIN RCA13_MANAGE_COLLECTIONS.purgeData(dat => systimestamp - ''||conf||''); END;'', -- clean data on every day basis',
'     start_date         =>  systimestamp,     ',
'     --repeat_interval    => ''freq=''||trim(frequency)||''; interval=''||trim(ivl)||''; byminute=0; bysecond=0;'', /*For every submitted hours (rca13_intrack_preferences) */',
'     repeat_interval    => ''freq=daily; interval=1; byminute=0; bysecond=0;'', /*daily job to preserve only the recent <interval> data in the database */',
'     end_date           =>   NULL,',
'     enabled            =>   TRUE,',
'     auto_drop          =>   FALSE,',
'     comments           =>  ''Purge Data Older than ''||conf_date);',
'     DBMS_SCHEDULER.enable (''RCA13_PURGE_JOB'');',
'     exception when others then ',
'     trace_log(''Create Job Purge Exception''||SQLCODE||SQLERRM); ',
'      end;',
'trace_log(''Success PurgeJobInterval'');',
'exception when others then ',
'trace_log(''PurgeJobIntervalException''||SQLCODE||SQLERRM); ',
'END;',
'--------------------------------------------------------------------------------',
'END RCA13_MANAGE_NOTIFICATIONS;',
'',
''))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(311014739447855505)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'RCA13_INCIDENT_INTEGRATION'
,p_sequence=>142
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE RCA13_INCIDENT_INTEGRATION AS ',
'  procedure addInfo2ITC ( acsTicketId varchar2 );',
'  procedure addLink2ITC( acsTicketId varchar2 );',
'  procedure update_collection_score(TicketId varchar2,flag number default 0 );',
'END RCA13_INCIDENT_INTEGRATION;',
'/',
'',
'create or replace PACKAGE BODY RCA13_INCIDENT_INTEGRATION AS',
'--------------------------------------------------------------------------------',
'--ITC insident tracking system. acs - audit check sytem',
'procedure addInfo2ITC ( acsTicketId varchar2 ) is',
'addType varchar2(40);',
'attr1 varchar2(40);',
'ticketId varchar2(100);',
'text clob;',
'noTicket exception;',
'',
'begin ',
'  ',
'  begin',
'   select ticket_id,type,attr1 into ticketId,addType,attr1 from RCA13_AC_TICKETS ',
'   where acs_ticket_id = acsTicketId;  ',
'   exception when no_data_found then raise noTicket;',
'  end; ',
' ',
' if addType = ''CHECK'' and attr1 is not null  then   ',
'   for rec in ( select * from auditcheck_result where auditcheck_result_id = attr1 ) loop     ',
'     text := ''Cluster Name: ''||rec.CLUSTER_NAME||chr(10);',
'     text := text||''Collection Name: ''||rec.UPLOAD_COLLECTION_NAME||chr(10);',
'     text := text||''Collection Date: ''||rec.COLLECTION_DATE||chr(10);   ',
'     text := text||''Check Name: ''||nvl(rec.CHECK_NAME,rec.PARAM_NAME)||chr(10);',
'     text := text||''Check Status: ''||rec.STATUS||chr(10);',
'     text := text||''Status Message: ''||rec.STATUS_MESSAGE||chr(10);',
'     text := text||''Actuall Message: ''||rec.ACTUAL_VALUE||chr(10);',
'     text := text||''Recommended Value: ''||rec.RECOMMENDED_VALUE||chr(10);',
'     text := text||''Operator: ''||rec.COMPARISON_OPERATOR||chr(10);',
'     text := text||''Host Name: ''||rec.HOSTNAME||chr(10);',
'     text := text||''Instance Name: ''||rec.INSTANCE_NAME||chr(10);',
'     text := text||''Check Type: ''||rec.CHECK_TYPE||chr(10);',
'     text := text||''OS Platform: ''||rec.DB_PLATFORM||chr(10);',
'     text := text||''DB version: ''||rec.DB_VERSION||chr(10);',
'     text := text||''DB Name: ''||rec.DB_NAME||chr(10);',
'     text := text||''DB Role: ''||rec.DATABASE_ROLE||chr(10);',
'     text := text||''CRS Version: ''||rec.CLUSTERWARE_VERSION||chr(10);',
'   end loop;',
' elsif addType = ''COLLECTION'' then ',
'   if attr1 is not null then   ',
'     for rec in ( select * from rca13_collections where collection_id = attr1 ) loop',
'       text := ''Collection Name: ''||rec.COLLECTION_NAME||chr(10);',
'       text := text||''Collection Date: ''||rec.COLLECTION_DATE||chr(10);',
'       text := text||''OS Platform: ''||rec.OS_PLATFORM||chr(10);    ',
'       text := text||''OS Distribution: ''||rec.OS_DIST||chr(10);        ',
'       text := text||''OS Kernel: ''||rec.OS_KERNEL||chr(10);      ',
'       text := text||''OS Version: ''||rec.OS_VERSION||chr(10);     ',
'       text := text||''Collection Type: ''||rec.COLLECTION_TYPE||chr(10);',
'       text := text||''System Name: ''||rec.SYSTEM_NAME||chr(10);    ',
'     end loop;',
'   else ',
'     text := ''Collection zip not found'';',
'   end if;',
' end if;',
' if text is not null then',
'   insert into RCA13_INTRACK_NOTES (INCIDENT_ID, note) values (ticketId, text);',
'   commit;',
' end if; ',
' exception when noTicket then null;',
'end; ',
'--------------------------------------------------------------------------------',
'procedure addLink2ITC( acsTicketId varchar2) is ',
'addType varchar2(40);',
'attr1 varchar2(40);',
'ticketId varchar2(100);',
'text clob;',
'noTicket exception;',
'cDate timestamp;',
'begin',
'  begin',
'   select ticket_id,type,attr1 into ticketId,addType,attr1 from RCA13_AC_TICKETS ',
'   where acs_ticket_id = acsTicketId;',
'  exception when no_data_found then raise noTicket;',
'  end; ',
'  if addType = ''CHECK'' then    ',
'    --Get collection Date .. attr1 is either collectionId or auditcheck result Id',
'    select collection_date into cDate from auditcheck_result where auditcheck_result_id = attr1;',
'  elsif addType = ''COLLECTION'' then  ',
'    select collection_date into cDate from RCA13_AC_TICKETS where acs_ticket_id = acsTicketId;',
'  end if;    ',
'  insert into RCA13_INTRACK_LINKS (INCIDENT_ID, LINK_TEXT, link_target, LINK_COMMENTS) ',
'  values (ticketId,''Link to collection'',''f?p=&APP_ID.:1002:&APP_SESSION.:::1002:P1002_COLLECTION_DATE:''||cDate,''Link to collection'');',
'  exception when noTicket then null;',
'end;',
'--------------------------------------------------------------------------------',
'--When a ticket is closed on collection/check update the score of the collection',
'procedure update_collection_score ( ticketId varchar2,flag number default 0 ) is ',
'newScore number;',
'cName varchar2(40);',
'cDate timestamp;',
'acResultId varchar2(40);',
'tType varchar2(100);',
'attr1 varchar2(40);',
'collectionId varchar2(40);',
'PRAGMA AUTONOMOUS_TRANSACTION;',
'begin',
' for rec in ( select type,attr1,collection_date,collection_name from RCA13_AC_TICKETS where ticket_id = ticketId ) loop',
'   tType := rec.type;',
'   if tType = ''CHECK'' then ',
'     attr1 := rec.attr1;',
'   else ',
'     collectionId := rec.attr1;',
'   end if;',
'   cDate := rec.collection_date;',
'   cName := rec.collection_name;',
'   exit;',
' end loop;',
' if tType = ''CHECK'' then ',
'  select collection_id,upload_collection_name,collection_date into collectionId,cName,cDate ',
'  from auditcheck_result where auditcheck_result_id = attr1; ',
' end if;',
' if cDate is null then',
'   return;',
' end if;',
'   newScore := RCA13_GET_DATA4COLUMNS.getCollectionScore(collectionId,cName,cDate,flag);',
'  update rca13_collection_values set score = newScore where collection_date  = cDate and collection_name = cName;',
' commit;',
' exception when others then null;',
'end;',
'--------------------------------------------------------------------------------',
'END RCA13_INCIDENT_INTEGRATION;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(311014539316845977)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Incidents trigger'
,p_sequence=>150
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace trigger rca13_intrack_incidents_trg',
'before insert or update on rca13_intrack_incidents',
'for each row',
'begin',
'   if :new.tags is not null then',
'      :new.tags := rca13_intrack_fw.tags_cleaner(:new.tags);',
'   end if;',
'   if inserting then',
'      if :NEW.ID is null then',
'         select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :NEW.ID',
'           from dual;',
'      end if;',
'      if :new.CREATED is null then',
'           :NEW.CREATED := localtimestamp;',
'      end if;',
'      :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'      :new.row_version_number := 1;',
'   end if;',
'   --',
'   if inserting or updating then',
'      :NEW.UPDATED    := localtimestamp;',
'      :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'   end if;',
'   if updating then',
'      :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'   end if;',
'   if :new.incident_number is null then',
'       for c1 in (select rca13_intrack_seq.nextval s from dual) loop',
'           :new.incident_number := rca13_intrack_fw.compress_int(c1.s);',
'       end loop;',
'   end if;',
'   if :new.severity_id is null then',
'      for c1 in (select id from rca13_intrack_severity order by sequence_number desc) loop',
'          :new.severity_id := c1.id;',
'          exit;',
'      end loop;',
'   end if;',
'   if nvl(:new.status_id,0) != nvl(:old.status_id,0) then',
'       for c2 in (select status_code from rca13_intrack_status where id = :new.status_id) loop',
'           :new.status_code := c2.status_code;',
'       end loop;',
'   end if;',
'       --',
'   if updating then',
'         if :new.status_id is not null then',
'          for c3 in (select STATUS_TYPE from RCA13_INTRACK_STATUS where id = :new.status_id ) loop',
'                  if c3.STATUS_TYPE = ''CLOSED'' then',
'                      :new.DATE_CLOSED := localtimestamp;',
'                      RCA13_INCIDENT_INTEGRATION.update_collection_score(:NEW.ID,1);',
'                  elsif c3.STATUS_TYPE = ''OPEN'' then',
'                      :new.DATE_CLOSED := null;',
'                  end if;',
'          end loop;',
'       end if;',
'       ',
'       if :new.DATE_CLOSED is not null and :old.date_closed is null then',
'          insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''CLOSE_DATE_CHANGE'', ''DATE_CLOSED'', null, ''Date closed automatically set'');',
'       end if;',
'       if :new.DATE_CLOSED is  null and :old.date_closed is not null then',
'          insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''CLOSE_DATE_CHANGE'', ''DATE_CLOSED'', ''Date closed automatically unset'', null);',
'       end if;',
'       --',
'       if nvl(:new.status_code,''x'') != nvl(:old.status_code,''x'') then',
'          insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''STATUS_CHANGE'', ''STATUS_CODE'', :old.status_id, :new.status_id);',
'       end if;',
'       if nvl(:new.ASSIGNED_TO_ID,0) != nvl(:old.ASSIGNED_TO_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''ASSIGNEE_CHANGE'', ''ASSIGNED_TO_ID'', :old.ASSIGNED_TO_ID, :new.ASSIGNED_TO_ID);',
'            :new.ASSIGNED_ON := systimestamp; ',
'       end if;',
'       if nvl(:new.URGENCY_ID,0) != nvl(:old.URGENCY_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''URGENCY_CHANGE'', ''URGENCY_ID'', :old.URGENCY_ID, :new.URGENCY_ID);',
'       end if;',
'       if nvl(:new.SEVERITY_ID,0) != nvl(:old.SEVERITY_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''SEVERITY_CHANGE'', ''SEVERITY_ID'', :old.SEVERITY_ID, :new.SEVERITY_ID);',
'       end if;',
'       if nvl(:new.CATEGORY_ID,0) != nvl(:old.CATEGORY_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''CATEGORY_CHANGE'', ''CATEGORY_ID'', :old.CATEGORY_ID, :new.CATEGORY_ID);',
'       end if;',
'       if nvl(:new.TAGS,''0'') != nvl(:old.TAGS,''0'') then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''TAG_CHANGE'', ''TAGS'', :old.TAGS, :new.TAGS);',
'       end if;',
'       if nvl(:new.PRODUCT_ID,0) != nvl(:old.PRODUCT_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''PRODUCT_CHANGE'', ''PRODUCT_ID'', :old.PRODUCT_ID, :new.PRODUCT_ID);',
'       end if;',
'       if nvl(:new.CUSTOMER_ID,0) != nvl(:old.CUSTOMER_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''CUSTOMER_CHANGE'', ''CUSTOMER_ID'', :old.CUSTOMER_ID, :new.CUSTOMER_ID);',
'       end if;',
'       if nvl(:new.PRODUCT_VERSION_ID,0) != nvl(:old.PRODUCT_VERSION_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''PRODUCT_VERSION_CHANGE'', ''PRODUCT_VERSION_ID'', :old.PRODUCT_VERSION_ID, :new.PRODUCT_VERSION_ID);',
'       end if;',
'       if nvl(:new.SUBJECT,''0'') != nvl(:old.SUBJECT,''0'') then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''SUBJECT_CHANGE'', ''SUBJECT'', :old.SUBJECT, :new.SUBJECT);',
'       end if;',
'       if nvl(:new.BUG_NUMBER,''0'') != nvl(:old.BUG_NUMBER,''0'') then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''BUG_CHANGE'', ''BUG_NUMBER'', :old.BUG_NUMBER, :new.BUG_NUMBER);',
'       end if;',
'   end if;',
'   --',
'   rca13_intrack_fw.tag_sync(',
'        p_new_tags      => :new.tags,',
'        p_old_tags      => :old.tags,',
'        p_content_type  => ''INCIDENT'',',
'        p_content_id    => :new.id );',
'end;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(317659421172205738)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Triggers'
,p_sequence=>160
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'--Nothing wrong in running this trigger regardless of version',
'create or replace TRIGGER "RCA13_DOCS_FILE_NAME"',
'BEFORE INSERT ON RCA13_DOCS',
'FOR EACH ROW',
'BEGIN',
'  :new.filename := substr(:new.filename,instr(:new.filename,''/'',-1,1)+1);',
'END;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312103757837761568)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Help'
,p_sequence=>170
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table rca13_intrack_help_page (',
'  id                        number not null',
'                            constraint RCA13_INTRACK_HELP_PAGE_PK',
'                            primary key,',
'  row_version_number        integer,',
'  language_code             varchar2(30),',
'  -- left side',
'  application_name          varchar2(255),',
'  show_icon                 varchar2(255),',
'  sprite                    varchar2(1000),',
'  alternative_image         varchar2(1000),',
'  show_app_version_yn       varchar2(1),',
'  show_page_count_yn        varchar2(1),',
'  USE_APP_TITLE_YN          varchar2(1),',
'  support_link              varchar2(1000),',
'  support_link_text         varchar2(1000),  ',
'  additional_help_link      varchar2(1000),',
'  vendor                    varchar2(1000),',
'  twitter                   varchar2(1000),',
'  facebook                  varchar2(1000),',
'  linkedin                  varchar2(1000),',
'  website                   varchar2(1000),',
'  -- custom attributes',
'  attr_label_01             varchar2(255),',
'  attr_value_01             varchar2(1000),',
'  attr_label_02             varchar2(255),',
'  attr_value_02             varchar2(1000),',
'  attr_label_03             varchar2(255),',
'  attr_value_03             varchar2(1000),',
'  attr_label_04             varchar2(255),',
'  attr_value_04             varchar2(1000),',
'  attr_label_05             varchar2(255),',
'  attr_value_05             varchar2(1000),',
'  attr_label_06             varchar2(255),',
'  attr_value_06             varchar2(1000),',
'  attr_label_07             varchar2(255),',
'  attr_value_07             varchar2(1000),',
'  attr_label_08             varchar2(255),',
'  attr_value_08             varchar2(1000),',
'  -- right side',
'  about_app                 clob,',
'  getting_started           clob,',
'  quick_start               clob,',
'  support                   clob,',
'  public_help               clob,',
'  features                  clob,',
'  --',
'  created                   timestamp with local time zone,',
'  created_by                varchar2(255),',
'  updated                   timestamp with local time zone,',
'  updated_by                varchar2(255)',
'  );',
'  ',
'create or replace trigger RCA13_INTRACK_HELP_PAGE_TRG',
'   before insert or update on rca13_intrack_help_page',
'   for each row',
'begin',
'   if :new."ID" is null then',
'     select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'') into :new.id from dual;',
'   end if;',
'   if inserting then',
'       :new.created := localtimestamp;',
'       :new.created_by := nvl(wwv_flow.g_user,user);',
'       :new.updated := localtimestamp;',
'       :new.updated_by := nvl(wwv_flow.g_user,user);',
'       :new.row_version_number := 1;',
'   elsif updating then',
'       :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'   end if;',
'   if inserting or updating then',
'       :new.updated := localtimestamp;',
'       :new.updated_by := nvl(wwv_flow.g_user,user);',
'   end if;',
'end;',
'/',
'show errors',
'',
'alter trigger RCA13_INTRACK_HELP_PAGE_TRG enable;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312103950696768997)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Help contents'
,p_sequence=>180
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'delete from rca13_intrack_help_page;',
'',
'Insert into rca13_intrack_help_page (',
'    LANGUAGE_CODE,',
'    APPLICATION_NAME,',
'    --',
'    SPRITE,',
'    ALTERNATIVE_IMAGE,',
'    SHOW_APP_VERSION_YN,',
'    --',
'    SHOW_PAGE_COUNT_YN,',
'    ADDITIONAL_HELP_LINK,',
'    SUPPORT_LINK,',
'    SUPPORT_LINK_TEXT,',
'    VENDOR,',
'    --',
'    about_app,',
'    getting_started,',
'    PUBLIC_HELP,',
'    features,',
'    support)',
'values (',
'    ''EN'',',
'    null,',
'    --',
'    ''collection_manager'',',
'    null,',
'    ''Y'',',
'    --',
'    ''Y'',',
'    null,',
'    ''https://forums.oracle.com/forums/forum.jspa?forumID=137'',',
'    ''OTN Forum'',',
'    ''Oracle'',',
'    --',
'    ''<h2>About Collection Managger Application</h2>'',',
'''<p>ORAchk Collection Manager Application for the ORAchk configuration audit tool gives you a complete system for managing and tracking ORAchk collection data uploaded to tables in a database.</p>',
'<p>ORAchk is the new name for RACcheck which will take effect starting with version 2.2.4.ORAchk and RACcheck are functionally equivalent.Please see the following MOS Note for more details: </p>',
'<br /><li>  RACcheck Configuration Audit Tool Statement of Direction - name change to ORAchk (Doc ID 1591208.1)</li>    ',
'<br /><p>Please consult the ORAchk User Guide for the details of how to automate and upload data from the ORAchk collections for use with ORAchk Collection Manager Application. This functionality is very useful if you are doing ORAchk collections fro'
||'m many systems. Please see the following MOS Note for more details.</p>',
'<br /><li>  RACcheck - RAC Configuration Audit Tool (Doc ID 1268927.1)</li>          ',
'<br /><p>Please note that ORAchk Collection Manager Application can be used just as easily as described here with EXAchk for the Exadata Database Machine or the other Oracle engineered systems.Collections from non-engineered systems and engineered sy'
||'stems can be tracked and managed within the same easy to use framework provided by this application. ORAchk Collection Manager Application displays collection data in an easy to use, multi-functional web console based on Business Units & different pe'
||'riod-s of time including all collections. </p>',
'<h2>About Incident Tracking</h2>',
'<p>The Incident Tracking gives you a complete system for entering and tracking support incidents.  The application allows you to enter customer companies and multiple contacts for each company, specify products and categories and set up values to lim'
||'it status codes, severity and urgency attributes for an incident.</p>',
'<p>Incident Tracking includes a wizard to enter essential information about an incident and a variety of ways to sort and report on incidents, including a time line based on when incidents were entered into the system.</p>',
'<p>Once a ticket is entered into the system, you can track the progress of the ticket in an update area of the ticket, or add attachments and links to the incident.  You can also use tags to further classify incidents and use the resulting tag cloud '
||'in your reports.</p>',
'<p>The Incident Tracking system includes robust interactive reports, which provide valuable analysis of incidents through an easy-to-use interface, including the ability to create charts.</p>',
'<h2>About Access Control System</h2>',
'<br /><p> By default the Access Control System is disabled.  Access Control Disable means that all application features are available to any user who can authenticate. Disabling Access Control makes all authenticated users administrators with super u'
||'ser privileges.If Access Controls are enabled in the Administration tab end users with accounts can be assigned one or more roles.</p>',
'<br /><li> There are three functional roles within the ORAchk Collection Manager application that can be enabled. </li>',
'<br /><p>            Admin User             </p>',
'<br /><li> The super user may or may not be a Workspace Administrator for the application depending upon the role separation requirements of the customer. </li>',
'<br /><p>            DBA Manager            </p>',
'<br /><p>            DBA                    </p>',
'<br /><li> Once the users are configured they should be assigned roles before accessing the system </li>',
''',',
'--',
''''',',
'''<h2> More Information <h2>',
'<p> Please see the following MOS Note for more details: </p>',
'<br /><li> Collection Manager for ORAchk, RACcheck and Exachk (Doc ID 1602329.1)</li>',
''',    ',
'''<h2>Additional Information</h2>',
'<p>If you have questions, ask them on the #SUPPORT_LINK#<p>'');',
'commit;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312104168011773961)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Framework Body'
,p_sequence=>190
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace',
'package body rca13_intrack_fw as',
'',
'    function conv_txt_html (',
'        p_txt_message in varchar2 )',
'        return varchar2',
'    is',
'        l_html_message   varchar2(32767) default p_txt_message;',
'        l_temp_url varchar2(32767) := null;',
'        l_length number;',
'    begin',
'        l_html_message := replace(l_html_message, chr(10), ''<br />'');',
'        l_html_message := replace(l_html_message, chr(13), null);',
'        return l_html_message;',
'    end conv_txt_html;',
'',
'    function conv_urls_links (',
'        p_string in varchar2 )',
'        return varchar2',
'    is',
'        l_string   varchar2(32767) default p_string;',
'        l_endofUrl varchar2(4000) default chr(10) || chr(13) || chr(9) || '' )<>'';',
'        l_url         varchar2(4000);',
'        l_current_pos number := 1;',
'        n             number := 1;',
'        m             number := 1;',
'        p             number := 1;',
'    begin',
'        l_string := p_string || '' '';',
'        for i in 1 .. 1000 loop',
'            n := instr( lower(l_string), ''http://'', l_current_pos );',
'            m := instr( lower(l_string), ''https://'', l_current_pos );',
'            p := instr( lower(l_string), ''ftp://'', l_current_pos   );',
'',
'            -- set n to position of first link',
'            if m > 0 and (n = 0 or m < n) and (p = 0 or m < p) then',
'               n := m;',
'            elsif p > 0 and (n = 0 or p < n) then',
'               n := p;',
'            end if;',
'            exit when n = 0 or length(l_string) > 32000;',
'',
'            for j in 0 .. length( l_string ) - n loop',
'                if ( instr( l_endofUrl, substr( l_string, n+j, 1 ) ) > 0 ) then',
'                   l_url := rtrim( substr( l_string, n, j ), ''.''||chr(32)||chr(10) );',
'                   l_url := ''<a href="'' || l_url || ''">'' || l_url || ''</a>'';',
'                   l_string := substr( l_string, 1, n-1 ) || l_url || substr( l_string, n+j );',
'                   l_current_pos := n + length(l_url);',
'                   exit;',
'                end if;',
'            end loop;',
'        end loop;',
'',
'        return l_string;',
'    end conv_urls_links;',
'',
'    function tags_cleaner (',
'        p_tags  in varchar2,',
'        p_case  in varchar2 default ''U'' )',
'        return varchar2',
'    is',
'        type tags is table of varchar2(255) index by varchar2(255);',
'        l_tags_a        tags;',
'        l_tag           varchar2(255);',
'        l_tags          apex_application_global.vc_arr2;',
'        l_tags_string   varchar2(32767);',
'        i               integer;',
'    begin',
'',
'        l_tags := apex_util.string_to_table(p_tags,'','');',
'',
'        for i in 1..l_tags.count loop',
'            --remove all whitespace, including tabs, spaces, line feeds and carraige returns with a single space',
'            l_tag := substr(trim(regexp_replace(l_tags(i),''[[:space:]]{1,}'','' '')),1,255);',
'',
'            if l_tag is not null and l_tag != '' '' then',
'                if p_case = ''U'' then',
'                    l_tag := upper(l_tag);',
'                elsif p_case = ''L'' then',
'                    l_tag := lower(l_tag);',
'                end if;',
'                --add it to the associative array, if it is a duplicate, it will just be replaced',
'                l_tags_a(l_tag) := l_tag;',
'            end if;',
'        end loop;',
'',
'        l_tag := null;',
'',
'        l_tag := l_tags_a.first;',
'',
'        while l_tag is not null loop',
'            l_tags_string := l_tags_string||l_tag;',
'            if l_tag != l_tags_a.last then',
'                l_tags_string := l_tags_string || '', '';',
'            end if;',
'            l_tag := l_tags_a.next(l_tag);',
'        end loop;',
'',
'        return substr(l_tags_string, 1, 4000);',
'    end tags_cleaner;',
'',
'    procedure tag_sync (',
'        p_new_tags          in varchar2,',
'        p_old_tags          in varchar2,',
'        p_content_type      in varchar2,',
'        p_content_id        in number )',
'    as',
'        type tags is table of varchar2(255) index by varchar2(255);',
'        l_new_tags_a    tags;',
'        l_old_tags_a    tags;',
'        l_new_tags      apex_application_global.vc_arr2;',
'        l_old_tags      apex_application_global.vc_arr2;',
'        l_merge_tags    apex_application_global.vc_arr2;',
'        l_dummy_tag     varchar2(255);',
'        i               integer;',
'    begin',
'',
'        l_old_tags := apex_util.string_to_table(p_old_tags,'', '');',
'        l_new_tags := apex_util.string_to_table(p_new_tags,'', '');',
'',
'        if l_old_tags.count > 0 then --do inserts and deletes',
'',
'            --build the associative arrays',
'            for i in 1..l_old_tags.count loop',
'                l_old_tags_a(l_old_tags(i)) := l_old_tags(i);',
'            end loop;',
'',
'            for i in 1..l_new_tags.count loop',
'                l_new_tags_a(l_new_tags(i)) := l_new_tags(i);',
'            end loop;',
'',
'            --do the inserts',
'            for i in 1..l_new_tags.count loop',
'                begin',
'                    l_dummy_tag := l_old_tags_a(l_new_tags(i));',
'                exception when no_data_found then',
'                    insert into rca13_intrack_tags (tag, content_id, content_type )',
'                    values (l_new_tags(i), p_content_id, p_content_type );',
'                    l_merge_tags(l_merge_tags.count + 1) := l_new_tags(i);',
'                end;',
'            end loop;',
'',
'            --do the deletes',
'            for i in 1..l_old_tags.count loop',
'                begin',
'                    l_dummy_tag := l_new_tags_a(l_old_tags(i));',
'                exception when no_data_found then',
'                    delete from rca13_intrack_tags where content_id = p_content_id and tag = l_old_tags(i);',
'                    l_merge_tags(l_merge_tags.count + 1) := l_old_tags(i);',
'                end;',
'            end loop;',
'        else --just do inserts',
'            for i in 1..l_new_tags.count loop',
'                insert into rca13_intrack_tags (tag, content_id, content_type )',
'                values (l_new_tags(i), p_content_id, p_content_type );',
'                l_merge_tags(l_merge_tags.count + 1) := l_new_tags(i);',
'            end loop;',
'        end if;',
'',
'        for i in 1..l_merge_tags.count loop',
'            merge into rca13_intrack_tags_type_sum s',
'            using (select count(*) tag_count',
'                     from rca13_intrack_tags',
'                    where tag = l_merge_tags(i) and content_type = p_content_type ) t',
'            on (s.tag = l_merge_tags(i) and s.content_type = p_content_type )',
'            when not matched then insert (tag, content_type, tag_count)',
'                                  values (l_merge_tags(i), p_content_type, t.tag_count)',
'            when matched then update set s.tag_count = t.tag_count;',
'',
'            merge into rca13_intrack_tags_sum s',
'            using (select sum(tag_count) tag_count',
'                     from rca13_intrack_tags_type_sum',
'                    where tag = l_merge_tags(i) ) t',
'            on (s.tag = l_merge_tags(i) )',
'            when not matched then insert (tag, tag_count)',
'                                  values (l_merge_tags(i), t.tag_count)',
'            when matched then update set s.tag_count = t.tag_count;',
'        end loop;',
'',
'    end tag_sync;',
'',
'    function selective_escape (',
'        p_text  in varchar2,',
'        p_tags  in varchar2 default ''<h2>,</h2>,<p>,</p>,<b>,</b>,<li>,</li>,<ul>,</ul>,<br />,<i>,</i>,<h3>,</h3>''',
'        ) return varchar2',
'    is',
'        t apex_application_global.vc_arr2;',
'        x varchar2(32767) := p_text;',
'    begin',
'        t := apex_util.string_to_table(p_tags, '','');',
'        for i in 1..t.count loop',
'            x := replace(x,t(i),''Aa''||i||''aA'');',
'        end loop;',
'        x := sys.htf.escape_sc(x);',
'        for i in 1..t.count loop',
'            x := replace(x,''Aa''||i||''aA'',t(i));',
'        end loop;',
'        return x;',
'    end selective_escape;',
'',
'    function get_preference_value (',
'        p_preference_name varchar2 )',
'        return varchar2',
'    is',
'        l_preference_value varchar2(255);',
'    begin',
'        select preference_value',
'            into l_preference_value',
'        from rca13_intrack_preferences',
'        where preference_name = p_preference_name;',
'',
'        return l_preference_value;',
'    exception',
'        when no_data_found then',
'            return ''Preference does not exist'';',
'    end get_preference_value;',
'',
'    procedure set_preference_value (',
'        p_preference_name  varchar2,',
'        p_preference_value varchar2 )',
'    is',
'    begin',
'        update rca13_intrack_preferences',
'        set preference_value = p_preference_value',
'        where preference_name  = p_preference_name;',
'    end set_preference_value;',
'',
'    function compress_int (',
'        n in integer )',
'        return varchar2',
'    as',
'        ret varchar2(30);',
'        quotient integer;',
'        remainder integer;',
'        digit char(1);',
'    begin',
'        ret := '''';',
'        quotient := n;',
'        while quotient > 0',
'        loop',
'            remainder := mod(quotient, 10 + 26);',
'            quotient := floor(quotient  / (10 + 26));',
'            if remainder < 26 then',
'                digit := chr(ascii(''A'') + remainder);',
'            else',
'                digit := chr(ascii(''0'') + remainder - 26);',
'            end if;',
'            ret := digit || ret;',
'        end loop ;',
'        if length(ret) < 5 then',
'            ret := lpad(ret, 4, ''A'');',
'        end if ;',
'        return upper(ret);',
'    end compress_int;',
'',
'    procedure add_error_log (',
'        p_error in apex_error.t_error )',
'    is',
'    pragma autonomous_transaction;',
'    begin',
'        -- Remove old errors',
'        delete from rca13_intrack_errors where err_time <= localtimestamp - 21;',
'        -- Log the error.',
'        insert into rca13_intrack_errors (',
'            app_id,',
'            app_page_id,',
'            app_user,',
'            user_agent,',
'            ip_address,',
'            ip_address2,',
'            message,',
'            page_item_name,',
'            region_id,',
'            column_alias,',
'            row_num,',
'            apex_error_code,',
'            ora_sqlcode,',
'            ora_sqlerrm,',
'            error_backtrace )',
'        select v(''APP_ID''),',
'            v(''APP_PAGE_ID''),',
'            v(''APP_USER''),',
'            owa_util.get_cgi_env(''HTTP_USER_AGENT''),',
'            owa_util.get_cgi_env(''REMOTE_ADDR''),',
'            sys_context(''USERENV'', ''IP_ADDRESS''),',
'            substr(p_error.message,0,4000),',
'            p_error.page_item_name,',
'            p_error.region_id,',
'            p_error.column_alias,',
'            p_error.row_num,',
'            p_error.apex_error_code,',
'            p_error.ora_sqlcode,',
'            substr(p_error.ora_sqlerrm,0,4000),',
'            substr(p_error.error_backtrace,0,4000)',
'        from dual;',
'        commit;',
'    end add_error_log;',
'',
'    function apex_error_handling (',
'        p_error in apex_error.t_error )',
'        return apex_error.t_error_result',
'    is',
'        l_result          apex_error.t_error_result;',
'        l_constraint_name varchar2(255);',
'    begin',
'        l_result := apex_error.init_error_result (',
'                        p_error => p_error );',
'',
'        -- If it is an internal error raised by APEX, like an invalid statement or',
'        -- code which can not be executed, the error text might contain security sensitive',
'        -- information. To avoid this security problem we can rewrite the error to',
'        -- a generic error message and log the original error message for further',
'        -- investigation by the help desk.',
'        if p_error.is_internal_error then',
'            -- Access Denied errors raised by application or page authorization should',
'            -- still show up with the original error message',
'            if p_error.apex_error_code <> ''APEX.AUTHORIZATION.ACCESS_DENIED''',
'                    and p_error.apex_error_code not like ''APEX.SESSION_STATE.%'' then',
'',
'                add_error_log( p_error );',
'',
'                -- Change the message to the generic error message which doesn''t expose',
'                -- any sensitive information.',
'                l_result.message         := ''An unexpected internal application error has occurred.'';',
'                l_result.additional_info := null;',
'            end if;',
'        else',
'            -- Always show the error as inline error',
'            -- Note: If you have created manual tabular forms (using the package',
'            --       apex_item/htmldb_item in the SQL statement) you should still',
'            --       use "On error page" on that pages to avoid loosing entered data',
'            l_result.display_location := case',
'                                           when l_result.display_location = apex_error.c_on_error_page then apex_error.c_inline_in_notification',
'                                           else l_result.display_location',
'                                         end;',
'',
'            -- If it''s a constraint violation like',
'            --',
'            --   -) ORA-00001: unique constraint violated',
'            --   -) ORA-02091: transaction rolled back (-> can hide a deferred constraint)',
'            --   -) ORA-02290: check constraint violated',
'            --   -) ORA-02291: integrity constraint violated - parent key not found',
'            --   -) ORA-02292: integrity constraint violated - child record found',
'            --',
'            -- we try to get a friendly error message from our constraint lookup configuration.',
'            -- If we don''t find the constraint in our lookup table we fallback to',
'            -- the original ORA error message.',
'            if p_error.ora_sqlcode in (-1, -2091, -2290, -2291, -2292) then',
'                l_constraint_name := apex_error.extract_constraint_name (',
'                                         p_error => p_error );',
'',
'                begin',
'                    select message',
'                      into l_result.message',
'                      from rca13_intrack_error_lookup',
'                     where constraint_name = l_constraint_name;',
'                exception when no_data_found then null; -- not every constraint has to be in our lookup table',
'                end;',
'            end if;',
'',
'            -- If an ORA error has been raised, for example a raise_application_error(-20xxx, ''...'')',
'            -- in a table trigger or in a PL/SQL package called by a process and we',
'            -- haven''t found the error in our lookup table, then we just want to see',
'            -- the actual error text and not the full error stack with all the ORA error numbers.',
'            if p_error.ora_sqlcode is not null and l_result.message = p_error.message then',
'                l_result.message := apex_error.get_first_ora_error_text (',
'                                        p_error => p_error );',
'            end if;',
'',
'            -- If no associated page item/tabular form column has been set, we can use',
'            -- apex_error.auto_set_associated_item to automatically guess the affected',
'            -- error field by examine the ORA error for constraint names or column names.',
'            if l_result.page_item_name is null and l_result.column_alias is null then',
'                apex_error.auto_set_associated_item (',
'                    p_error        => p_error,',
'                    p_error_result => l_result );',
'            end if;',
'        end if;',
'',
'        return l_result;',
'    end apex_error_handling;',
'',
'    procedure show_help_main',
'    is',
'        l_records_found     number := 0;',
'        l_about             varchar2(32767) := null;',
'        l_getting_started   varchar2(32767) := null;',
'        l_support           varchar2(32767) := null;',
'        l_support_link      varchar2(32767) := null;',
'        l_support_link_text varchar2(32767) := null;',
'        l_features          varchar2(32767) := null;',
'    begin',
'        for c1 in (',
'            select support_link, support_link_text, about_app, getting_started, support, features from rca13_intrack_help_page where upper(language_code) = upper(substr(apex_application.g_browser_language,1,2))',
'        ) loop',
'            l_about             := c1.about_app;',
'            l_getting_started   := c1.getting_started;',
'            l_support           := c1.support;',
'            l_support_link      := c1.support_link;',
'            l_support_link_text := c1.support_link_text;',
'            l_features          := c1.features;',
'        end loop;',
'',
'        if l_records_found = 0 then',
'            for c1 in (',
'                select support_link, support_link_text, about_app, getting_started, support, features from rca13_intrack_help_page where upper(language_code) = ''EN''',
'            ) loop',
'                l_about             := c1.about_app;',
'                l_getting_started   := c1.getting_started;',
'                l_support           := c1.support;',
'                l_support_link      := c1.support_link;',
'                l_support_link_text := c1.support_link_text;',
'                l_features          := c1.features;',
'            end loop;',
'        end if;',
'',
'        if l_about is not null then',
'           sys.htp.prn(''<div class="aboutApp">'');',
'           sys.htp.prn(rca13_intrack_fw.selective_escape(l_about));',
'           sys.htp.prn(''</div>'');',
'        end if;',
'',
'        if l_getting_started is not null then',
'           sys.htp.prn(''<div class="textRegion">'');',
'           sys.htp.prn(rca13_intrack_fw.selective_escape(l_getting_started));',
'           sys.htp.prn(''</div>'');',
'        end if;',
'',
'        if l_features is not null then',
'           sys.htp.prn(''<div class="textRegion">'');',
'           sys.htp.prn(rca13_intrack_fw.selective_escape(l_features));',
'           sys.htp.prn(''</div>'');',
'        end if;',
'',
'        if l_support is not null then',
'           sys.htp.prn(''<div class="textRegion">'');',
'           sys.htp.prn(',
'               replace(',
'                   rca13_intrack_fw.selective_escape(l_support),',
'                   ''#SUPPORT_LINK#'',',
'                   ''<a href="'' || rca13_intrack_fw.selective_escape(l_support_link) ||''" target="_blank">''||l_support_link_text||''</a>''',
'               )',
'           );',
'           sys.htp.prn(''</div>'');',
'        end if;',
'    end show_help_main;',
'',
'    procedure show_help_sidebar',
'    is',
'        l_image_prefix      varchar2(4000) := v(''IMAGE_PREFIX'');',
'        l_app_id            number         := v(''APP_ID'');',
'    begin',
'',
'        for c1 in',
'            (select application_name,',
'                    sprite,',
'                    ''SPRITE'' show_icon,',
'                    show_app_version_yn,',
'                    show_page_count_yn,',
'                    ''Y'' use_app_title_yn,',
'                    additional_help_link,',
'                    alternative_image,',
'                    vendor,',
'                    twitter,',
'                    facebook,',
'                    linkedin,',
'                    website,',
'                    attr_label_01,',
'                    attr_value_01,',
'                    attr_label_02,',
'                    attr_value_02,',
'                    attr_label_03,',
'                    attr_value_03,',
'                    attr_label_04,',
'                    attr_value_04,',
'                    attr_label_05,',
'                    attr_value_05,',
'                    attr_label_06,',
'                    attr_value_06,',
'                    attr_label_07,',
'                    attr_value_07,',
'                    attr_label_08,',
'                    attr_value_08',
'             from rca13_intrack_help_page',
'             where language_code = ''EN''',
'        ) loop',
'            sys.htp.p(''<h1 class="appNameHeader">'');',
'            if c1.show_icon = ''SPRITE'' then',
'                sys.htp.p(''  <img src="''||l_image_prefix||''f_spacer.gif" class="appIcon ''||sys.htf.escape_sc(c1.sprite)||''" alt="" />'');',
'            elsif c1.show_icon = ''IMAGE'' then',
'                sys.htp.p(''  <img src="''||l_image_prefix||sys.htf.escape_sc(c1.ALTERNATIVE_IMAGE)||''" class="appIcon" alt="" />'');',
'            end if;',
'            if c1.use_app_title_yn = ''Y'' then',
'                for c2 in (select LOGO, application_name from apex_applications where application_id = l_app_id) loop',
'                    if (instr(upper(c2.logo),''<'') = 0 and c2.logo is not null) then',
'                        sys.htp.p(replace(sys.htf.escape_sc(c2.LOGO),''TEXT:'',''''));',
'                    else',
'                        sys.htp.p(sys.htf.escape_sc(c2.application_name));',
'                    end if;',
'                end loop;',
'            else',
'                sys.htp.p(sys.htf.escape_sc(c1.application_name));',
'            end if;',
'            sys.htp.p(''</h1>'');',
'            sys.htp.p(''<ul class="vapList">'');',
'',
'            if c1.show_app_version_yn = ''Y'' then',
'                for c2 in (select version from apex_applications where application_id = l_app_id) loop',
'                    sys.htp.p('' <li>'');',
'                    sys.htp.p(''   <span class="vLabel">App Version</span>'');',
'                    sys.htp.p(''   <span class="vValue">''||sys.htf.escape_sc(c2.version)||''</span>'');',
'                    sys.htp.p('' </li>'');',
'                end loop;',
'            end if;',
'',
'            if c1.show_page_count_yn = ''Y'' then',
'                sys.htp.p('' <li>'');',
'                sys.htp.p(''   <span class="vLabel">Pages</span>'');',
'                sys.htp.p(''   <span class="vValue">'');',
'                for c2 in (select to_char(PAGES,''999G999G990'') pages from apex_applications where application_id = l_app_id) loop',
'                    sys.htp.p(c2.pages);',
'                end loop;',
'                sys.htp.p(''</span>'');',
'                sys.htp.p('' </li>'');',
'            end if;',
'',
'            sys.htp.p('' <li>'');',
'            sys.htp.p(''   <span class="vLabel">Vendor</span>'');',
'            sys.htp.p(''   <span class="vValue">'');',
'            if c1.website is not null then',
'                sys.htp.p(''<a href="''||sys.htf.escape_sc(c1.website)||''" target="_blank">''||sys.htf.escape_sc(c1.vendor)||''</a>'');',
'            else',
'                sys.htp.p(sys.htf.escape_sc(c1.vendor));',
'            end if;',
'            sys.htp.p(''</span>'');',
'            sys.htp.p('' </li>'');',
'',
'            if c1.additional_help_link is not null then',
'                sys.htp.p('' <li>'');',
'                sys.htp.p(''   <span class="vLabel">Additional Help</span>'');',
'                sys.htp.p(''   <span class="vValue"><a href="''||sys.htf.escape_sc(c1.additional_help_link)||''" target="_blank">View Additional Help</a></span>'');',
'                sys.htp.p('' </li>'');',
'            end if;',
'',
'            if ((c1.facebook is not null) or (c1.twitter is not null) or (c1.linkedin is not null)) then',
'                sys.htp.p('' <li>'');',
'                sys.htp.p(''   <span class="vLabel">Social</span>'');',
'                sys.htp.p(''   <span class="vValue">'');',
'                if c1.facebook is not null then',
'                    sys.htp.p(''<a href="''||sys.htf.escape_sc(c1.facebook)||''" target="_blank">Facebook</a><br />'');',
'                end if;',
'                if c1.twitter is not null then',
'                    sys.htp.p(''<a href="''||sys.htf.escape_sc(c1.twitter)||''" target="_blank">Twitter</a><br />'');',
'                end if;',
'                if c1.linkedin is not null then',
'                    sys.htp.p(''<a href="''||sys.htf.escape_sc(c1.linkedin)||''" target="_blank">LinkedIn</a>'');',
'                end if;',
'                sys.htp.p(''   </span>'');',
'                sys.htp.p('' </li>'');',
'            end if;',
'',
'            --',
'            -- print attributes',
'            --',
'            if c1.attr_label_01 is not null and c1.attr_value_01 is not null then',
'                sys.htp.p('' <li>'');',
'                sys.htp.p(''   <span class="vLabel">''||sys.htf.escape_sc(c1.attr_label_01)||''</span>'');',
'                if instr(upper(c1.attr_value_01),''HTTP'') > 0 then',
'                    sys.htp.p(''   <span class="vValue"><a href="''||sys.htf.escape_sc(c1.attr_value_01)||''" target="_blank">''||sys.htf.escape_sc(c1.attr_value_01)||''</a></span>'');',
'                else',
'                    sys.htp.p(''   <span class="vValue">''||sys.htf.escape_sc(c1.attr_value_01)||''</span>'');',
'                end if;',
'                sys.htp.p('' </li>'');',
'            end if;',
'',
'            if c1.attr_label_02 is not null and c1.attr_value_02 is not null then',
'                sys.htp.p('' <li>'');',
'                sys.htp.p(''   <span class="vLabel">''||sys.htf.escape_sc(c1.attr_label_02)||''</span>'');',
'                if instr(upper(c1.attr_value_02),''HTTP'') > 0 then',
'                    sys.htp.p(''   <span class="vValue"><a href="''||sys.htf.escape_sc(c1.attr_value_02)||''" target="_blank">''||sys.htf.escape_sc(c1.attr_value_02)||''</a></span>'');',
'                else',
'                    sys.htp.p(''   <span class="vValue">''||sys.htf.escape_sc(c1.attr_value_02)||''</span>'');',
'                end if;',
'                sys.htp.p('' </li>'');',
'            end if;',
'',
'            if c1.attr_label_03 is not null and c1.attr_value_03 is not null then',
'                sys.htp.p('' <li>'');',
'                sys.htp.p(''   <span class="vLabel">''||sys.htf.escape_sc(c1.attr_label_03)||''</span>'');',
'                if instr(upper(c1.attr_value_03),''HTTP'') > 0 then',
'                    sys.htp.p(''   <span class="vValue"><a href="''||sys.htf.escape_sc(c1.attr_value_03)||''" target="_blank">''||sys.htf.escape_sc(c1.attr_value_03)||''</a></span>'');',
'                else',
'                    sys.htp.p(''   <span class="vValue">''||sys.htf.escape_sc(c1.attr_value_03)||''</span>'');',
'                end if;',
'                sys.htp.p('' </li>'');',
'            end if;',
'',
'            if c1.attr_label_04 is not null and c1.attr_value_04 is not null then',
'                sys.htp.p('' <li>'');',
'                sys.htp.p(''   <span class="vLabel">''||sys.htf.escape_sc(c1.attr_label_04)||''</span>'');',
'                if instr(upper(c1.attr_value_04),''HTTP'') > 0 then',
'                    sys.htp.p(''   <span class="vValue"><a href="''||sys.htf.escape_sc(c1.attr_value_04)||''" target="_blank">''||sys.htf.escape_sc(c1.attr_value_04)||''</a></span>'');',
'                else',
'                    sys.htp.p(''   <span class="vValue">''||sys.htf.escape_sc(c1.attr_value_04)||''</span>'');',
'                end if;',
'                sys.htp.p('' </li>'');',
'            end if;',
'',
'            if c1.attr_label_05 is not null and c1.attr_value_05 is not null then',
'                sys.htp.p('' <li>'');',
'                sys.htp.p(''   <span class="vLabel">''||sys.htf.escape_sc(c1.attr_label_05)||''</span>'');',
'                if instr(upper(c1.attr_value_05),''HTTP'') > 0 then',
'                    sys.htp.p(''   <span class="vValue"><a href="''||sys.htf.escape_sc(c1.attr_value_05)||''" target="_blank">''||sys.htf.escape_sc(c1.attr_value_05)||''</a></span>'');',
'                else',
'                    sys.htp.p(''   <span class="vValue">''||sys.htf.escape_sc(c1.attr_value_05)||''</span>'');',
'                end if;',
'                sys.htp.p('' </li>'');',
'            end if;',
'',
'            if c1.attr_label_06 is not null and c1.attr_value_06 is not null then',
'                sys.htp.p('' <li>'');',
'                sys.htp.p(''   <span class="vLabel">''||sys.htf.escape_sc(c1.attr_label_06)||''</span>'');',
'                if instr(upper(c1.attr_value_06),''HTTP'') > 0 then',
'                    sys.htp.p(''   <span class="vValue"><a href="''||sys.htf.escape_sc(c1.attr_value_06)||''" target="_blank">''||sys.htf.escape_sc(c1.attr_value_06)||''</a></span>'');',
'                else',
'                    sys.htp.p(''   <span class="vValue">''||sys.htf.escape_sc(c1.attr_value_06)||''</span>'');',
'                end if;',
'                sys.htp.p('' </li>'');',
'            end if;',
'',
'            if c1.attr_label_07 is not null and c1.attr_value_07 is not null then',
'                sys.htp.p('' <li>'');',
'                sys.htp.p(''   <span class="vLabel">''||sys.htf.escape_sc(c1.attr_label_07)||''</span>'');',
'                if instr(upper(c1.attr_value_07),''HTTP'') > 0 then',
'                    sys.htp.p(''   <span class="vValue"><a href="''||sys.htf.escape_sc(c1.attr_value_07)||''" target="_blank">''||sys.htf.escape_sc(c1.attr_value_07)||''</a></span>'');',
'                else',
'                    sys.htp.p(''   <span class="vValue">''||sys.htf.escape_sc(c1.attr_value_07)||''</span>'');',
'                end if;',
'                sys.htp.p('' </li>'');',
'            end if;',
'',
'            if c1.attr_label_08 is not null and c1.attr_value_08 is not null then',
'                sys.htp.p('' <li>'');',
'                sys.htp.p(''   <span class="vLabel">''||sys.htf.escape_sc(c1.attr_label_08)||''</span>'');',
'                if instr(upper(c1.attr_value_08),''HTTP'') > 0 then',
'                    sys.htp.p(''   <span class="vValue"><a href="''||sys.htf.escape_sc(c1.attr_value_08)||''" target="_blank">''||sys.htf.escape_sc(c1.attr_value_08)||''</a></span>'');',
'                else',
'                    sys.htp.p(''   <span class="vValue">''||sys.htf.escape_sc(c1.attr_value_08)||''</span>'');',
'                end if;',
'                sys.htp.p('' </li>'');',
'            end if;',
'',
'            sys.htp.p(''</ul>'');',
'        end loop;',
'    end show_help_sidebar;',
'',
'end rca13_intrack_fw;',
'/',
'show errors'))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312104345978777085)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'customers table'
,p_sequence=>230
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table rca13_intrack_customers (',
'   id                      number         not null,',
'   row_version_number      number         not null,',
'   row_key                 varchar2(60)   not null,',
'   customer_name           varchar2(255)  not null,',
'   customer_name_upper     varchar2(255)  not null,',
'   --',
'   address                 varchar2(255),',
'   address_2               varchar2(255),',
'   city                    varchar2(255),',
'   state                   varchar2(255),',
'   postal_code             varchar2(255),',
'   country                 varchar2(255),',
'   --',
'   marquee_customer_yn     varchar2(1),',
'   --',
'   tags                    varchar2(4000),',
'   customer_profile        clob,',
'   web_site                varchar2(1000),',
'   stock_symbol            varchar2(30),',
'   sic                     varchar2(30),  -- standard industry code',
'   duns                    varchar2(30),  -- dun and bradstreet number',
'   --',
'   created               timestamp with local time zone not null,',
'   created_by            varchar2(255) not null,',
'   updated               timestamp with local time zone,',
'   updated_by            varchar2(255),',
'   --',
'   flex_n01                number,',
'   flex_n02                number,',
'   flex_n03                number,',
'   flex_n04                number,',
'   flex_d01                timestamp with local time zone,',
'   flex_d02                timestamp with local time zone,',
'   flex_d03                timestamp with local time zone,',
'   flex_d04                timestamp with local time zone,',
'   flex_01                 varchar2(4000),',
'   flex_02                 varchar2(4000),',
'   flex_03                 varchar2(4000),',
'   flex_04                 varchar2(4000),',
'   flex_05                 varchar2(4000),',
'   flex_06                 varchar2(4000),',
'   flex_07                 varchar2(4000),',
'   flex_08                 varchar2(4000),',
'   flex_clob               clob',
'   )',
'/',
'alter table rca13_intrack_customers',
'   add constraint RCA13_INTRACK_CUSTOMERS_PK',
'       primary key (id)',
'/',
'create unique index RCA13_INTRACK_CUSTOMERS_UK1 on rca13_intrack_customers(customer_name)',
'/',
'',
'',
'create or replace trigger RCA13_INTRACK_CUSTOMERS_TRG',
'   before insert or update on rca13_intrack_customers',
'   for each row',
'begin',
'      if :new.tags is not null then',
'            :new.tags := rca13_intrack_fw.tags_cleaner(:new.tags);',
'      end if;',
'      if inserting then',
'         if :NEW.ID is null then',
'           select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :new.id',
'           from dual;',
'         end if;',
'         :NEW.CREATED    := localtimestamp;',
'         :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'         :NEW.UPDATED    := localtimestamp;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := 1;',
'         :new.customer_name_upper := trim(upper(:new.customer_name));',
'        rca13_intrack_fw.tag_sync(',
'            p_new_tags      => :new.tags,',
'            p_old_tags      => null,',
'            p_content_type  => ''CUSTOMER'',',
'            p_content_id    => :new.id );',
'      end if;',
'',
'      if :new.row_key is null then',
'         select rca13_intrack_fw.compress_int(rca13_intrack_seq.nextval) into :new.row_key from dual;',
'      end if;',
'',
'      if updating then',
'         :NEW.UPDATED := localtimestamp;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := nvl(:new.row_version_number,0) + 1;',
'         :new.customer_name_upper := trim(upper(:new.customer_name));',
'         rca13_intrack_fw.tag_sync(',
'            p_new_tags      => :new.tags,',
'            p_old_tags      => :old.tags,',
'            p_content_type  => ''CUSTOMER'',',
'            p_content_id    => :new.id );',
'      end if;',
'end;',
'/',
'show errors',
'    ',
'insert into rca13_intrack_customers (id,customer_name) values (1,''Internal'');',
'insert into rca13_intrack_customers (id,customer_name) values (2,''External'');',
'insert into rca13_intrack_customers (id,customer_name) values (3,''Other'');',
'commit;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312104555329779802)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'customer contacts table'
,p_sequence=>240
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table  rca13_intrack_customer_contact',
'   (',
'   id                      number constraint RCA13_INTRACK_CUSTOMER_CO_PK primary key,',
'   row_version_number      number not null,',
'   customer_id             number constraint RCA13_INTRACK_CUSTOMER_CO_FK1',
'                                  references rca13_intrack_customers (id)',
'                                  on delete cascade,',
'   first_name              varchar2(80),',
'   last_name               varchar2(80),',
'   email                   varchar2(255) not null,',
'   phone                   varchar2(50),',
'   phone_type              varchar2(50),',
'   phone2                  varchar2(50),',
'   phone2_type             varchar2(50),',
'   country_id              varchar2(50),',
'   department_name         varchar2(255),',
'   is_active               varchar2(1) DEFAULT ''Y'' NOT NULL ENABLE,',
'   additional_info         varchar2(4000),',
'   --',
'   created     timestamp with local time zone          not null,',
'   created_by  varchar2(255) not null,',
'   updated     timestamp with local time zone,',
'   updated_by  varchar2(255)',
'   )',
'/',
'',
'alter table rca13_intrack_customer_contact',
'   add constraint RCA13_INTRACK_CUSTOMER_C_CHK1',
'       check (is_active in (''Y'',''N''))',
'/',
'    ',
'create index rca13_intrack_cust_con_i1 on rca13_intrack_customer_contact(customer_id);',
'create index rca13_intrack_cust_con_i2 on rca13_intrack_customer_contact(email);',
'',
'create or replace trigger rca13_intrack_cust_con_trg',
'   before insert or update on rca13_intrack_customer_contact',
'   for each row',
'   begin',
'      if inserting then',
'         if :NEW.ID is null then',
'           select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :new.id',
'           from dual;',
'         end if;',
'         :NEW.CREATED    := localtimestamp;',
'         :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := 1;',
'      end if;',
'',
'      if inserting or updating then',
'         :NEW.UPDATED    := localtimestamp;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'      end if;',
'      if updating then',
'         :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'      end if;',
'      :new.email := lower(:new.email);',
'   end;',
'/',
'show errors'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312104765372782685)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'incidents table'
,p_sequence=>250
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table  rca13_intrack_incidents',
'   (',
'   id                      number,',
'   row_version_number      number,',
'   incident_number      varchar2(50),',
'   bug_number           varchar2(50),',
'   subject              varchar2(500) not null enable,',
'   submitted_on         timestamp with local time zone,',
'   category_id          number,',
'   assigned_to_id       number,',
'   assigned_on          timestamp with local time zone,',
'   DATE_CLOSED          timestamp with local time zone,',
'   --',
'   description          clob,',
'   --',
'   product_id           number,',
'   product_version_id   number,',
'   additional_product_info varchar2(4000),',
'   product_serial_num   varchar2(255),',
'   --',
'   customer_id          number,',
'   customer_contact_id  number,',
'   customer_department  varchar2(500),',
'   found_version_id     number,',
'   status_id            number,',
'   status_code          varchar2(30),',
'   SEVERITY_id          number,',
'   urgency_id           number,',
'   assigned_to_group_id number,',
'   component            varchar2(4000),',
'  --',
'  flex_01     varchar2(4000),',
'  flex_02     varchar2(4000),',
'  flex_03     varchar2(4000),',
'  flex_04     varchar2(4000),',
'  flex_05     varchar2(4000),',
'  flex_06     varchar2(4000),',
'  flex_07     varchar2(4000),',
'  flex_08     varchar2(4000),',
'  --',
'  flex_num_01 number,',
'  flex_num_02 number,',
'  flex_num_03 number,',
'  flex_num_04 number,',
'  --',
'  flex_date_01 timestamp with local time zone,',
'  flex_date_02 timestamp with local time zone,',
'  flex_date_03 timestamp with local time zone,',
'  flex_date_04 timestamp with local time zone,',
'  --',
'  flex_clob_01 clob,',
'  flex_clob_02 clob,',
'  --',
'  tags         varchar2(4000),',
'  --',
'  created     timestamp with local time zone not null,',
'  created_by  varchar2(255) not null,',
'  updated     timestamp with local time zone,',
'  updated_by  varchar2(255),',
'  --',
'  constraint RCA13_INTRACK_INCIDENTS_PK primary key(id),',
'    --',
'    constraint RCA13_INTRACK_INCID_CUST_FK foreign key (customer_id)',
'    references  rca13_intrack_customers (id) on delete set null enable,',
'    --',
'    constraint rca13_intrack_prob_cat_fk foreign key (category_id)',
'    references  rca13_intrack_category (id) on delete set null enable,',
'    --',
'    constraint rca13_intrack_incid_p_fk foreign key (product_id)',
'    references  rca13_intrack_product (id) on delete cascade,',
'    --',
'    constraint rca13_intrack_incidents_u_fk foreign key (urgency_id)',
'    references  rca13_intrack_urgency (id) on delete set null enable,',
'    --',
'    constraint rca13_intrack_prob_g_fk foreign key (assigned_to_group_id)',
'     references  rca13_intrack_group (id) on delete set null enable',
'   )',
'/',
'',
'',
'create index RCA13_INTRACK_INCIDENTS_INDX2 on rca13_intrack_incidents(customer_id);',
'create index RCA13_INTRACK_INCIDENTS_INDX3 on rca13_intrack_incidents(category_id);',
'create index RCA13_INTRACK_INCIDENTS_INDX4 on rca13_intrack_incidents(product_id);',
'create index RCA13_INTRACK_INCIDENTS_INDX5 on rca13_intrack_incidents(assigned_to_group_id);',
'create index RCA13_INTRACK_INCIDENTS_INDX6 on rca13_intrack_incidents(incident_number);',
'create index RCA13_INTRACK_INCIDENTS_INDX1 on rca13_intrack_incidents(URGENCY_ID);'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312104944378786096)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'product version function'
,p_sequence=>260
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace function RCA13_INTRACK_GET_VERSIONS (',
'    p_product_id in number)',
'    return varchar2',
'is',
'    R VARCHAR2(4000) := NULL;',
'BEGIN',
'for c1 in (',
'        select VERSION_NAME',
'        from RCA13_INTRACK_VERSION',
'        WHERE product_id = p_product_id) LOOP',
'          r := r||c1.version_name||'', '';',
'        END LOOP;',
'    RETURN rtrim(r,'', '');',
'END;',
'/',
'SHOW ERRORS'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312105158923790299)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'incident package spec'
,p_sequence=>270
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace package  rca13_intrack_incident',
'as',
'function create_customer (',
'    p_customer_name           in varchar2 default null,',
'    p_customer_web_site       in varchar2 default null,',
'    p_customer_address        in varchar2 default null,',
'    p_customer_city           in varchar2 default null,',
'    p_customer_state          in varchar2 default null,',
'    p_customer_postal_code    in varchar2 default null,',
'    p_customer_country        in varchar2 default null',
'    ) return number',
'    ;',
'    ',
'function create_contact (',
'    p_customer_id             in number,',
'    p_new_contact_phone       in varchar2 default null,',
'    p_new_contact_email       in varchar2 default null,',
'    p_new_contact_phone_type  in varchar2 default null,',
'    p_new_contact_department  in varchar2 default null,',
'    --',
'    p_contact_first_name      in varchar2 default null,',
'    p_contact_last_name       in varchar2 default null,',
'    p_contact_email           in varchar2 default null,',
'    p_contact_department      in varchar2 default null,',
'    p_contact_phone           in varchar2 default null,',
'    p_contact_phone_type      in varchar2 default null,',
'    p_contact_country         in varchar2 default null',
'    ) return number',
'    ;',
'    ',
'function create_ticket (',
'    p_customer_id             in number   default null,',
'    p_customer_name           in varchar2 default null,',
'    p_customer_web_site       in varchar2 default null,',
'    p_customer_address        in varchar2 default null,',
'    p_customer_city           in varchar2 default null,',
'    p_customer_state          in varchar2 default null,',
'    p_customer_postal_code    in varchar2 default null,',
'    --                      ',
'    p_contact_id              in number   default null,',
'    p_contact_first_name      in varchar2 default null,',
'    p_contact_last_name       in varchar2 default null,',
'    p_contact_email           in varchar2 default null,',
'    p_contact_department      in varchar2 default null,',
'    p_contact_phone           in varchar2 default null,',
'    p_contact_phone_type      in varchar2 default null,',
'    p_contact_country         in varchar2 default null,',
'    --                      ',
'    p_product_id              in number   default null,',
'    p_product_version_id      in number   default null,',
'    p_product_additional_info in varchar2 default null,',
'    p_product_serial_num      in varchar2 default null,',
'    --',
'    p_urgency_id              in number   default null,',
'    p_severity_id             in number   default null,',
'    p_category_id             in number   default null,',
'    p_status_id               in number   default null,',
'    p_assignee_id             in number   default null,',
'    --',
'    p_subject                 in varchar2 default null,',
'    p_incident_description    in varchar2 default null,',
'    p_bug_number              in varchar2 default null,',
'    p_additional_info         in varchar2 default null,',
'    --',
'    p_tags                    in varchar2 default null,',
'    p_create_date_override    in timestamp with local time zone default null)',
'    return varchar2;',
'end rca13_intrack_incident;',
'/',
'show errors',
'',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312105336544793280)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Incident package body'
,p_sequence=>280
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace package body rca13_intrack_incident',
'as',
'function create_customer (',
'    p_customer_name           in varchar2 default null,',
'    p_customer_web_site       in varchar2 default null,',
'    p_customer_address        in varchar2 default null,',
'    p_customer_city           in varchar2 default null,',
'    p_customer_state          in varchar2 default null,',
'    p_customer_postal_code    in varchar2 default null,',
'    p_customer_country        in varchar2 default null',
'    ) return number',
'is',
'    l_id number;',
'    l_count integer;',
'begin',
'    select count(*) c, max(id) into l_count, l_id',
'    from RCA13_INTRACK_CUSTOMERS c',
'    where c.customer_name_upper = upper(p_customer_name);',
'    if l_count = 1 and l_id > 0 then',
'       return l_id;',
'    end if;',
'    insert into RCA13_INTRACK_CUSTOMERS',
'    (',
'       customer_name,',
'       web_site,',
'       address,',
'       city,',
'       state,',
'       postal_code,',
'       COUNTRY',
'    ) values (',
'       p_customer_name,',
'       p_customer_web_site,',
'       p_customer_address,',
'       p_customer_city,',
'       p_customer_state,',
'       p_customer_postal_code,',
'       p_customer_country',
'    ) returning id into l_id;',
'    commit;',
'    return l_id;',
'end create_customer;',
'    ',
'function create_contact (',
'    p_customer_id             in number,',
'    p_new_contact_phone       in varchar2 default null,',
'    p_new_contact_email       in varchar2 default null,',
'    p_new_contact_phone_type  in varchar2 default null,',
'    p_new_contact_department  in varchar2 default null,',
'    --',
'    p_contact_first_name      in varchar2 default null,',
'    p_contact_last_name       in varchar2 default null,',
'    p_contact_email           in varchar2 default null,',
'    p_contact_department      in varchar2 default null,',
'    p_contact_phone           in varchar2 default null,',
'    p_contact_phone_type      in varchar2 default null,',
'    p_contact_country         in varchar2 default null',
'    ) return number',
'is',
'    l_id          number;',
'    l_count       integer;',
'begin',
'    select count(*) c, max(id) into l_count, l_id',
'    from RCA13_INTRACK_CUSTOMER_CONTACT c',
'    where customer_id = p_customer_id and',
'          c.email = lower(p_contact_email);',
'    if l_count = 1 and l_id > 0 then',
'       if p_new_contact_phone is not null then',
'          update RCA13_INTRACK_CUSTOMER_CONTACT',
'          set phone = p_new_contact_phone',
'          where id = l_id;',
'       end if;',
'       if p_new_contact_phone_type is not null then',
'          update RCA13_INTRACK_CUSTOMER_CONTACT',
'          set phone_type = p_new_contact_phone_type',
'          where id = l_id;',
'       end if;',
'       if p_new_contact_email is not null then',
'          update RCA13_INTRACK_CUSTOMER_CONTACT',
'          set email = p_new_contact_email',
'          where id = l_id;',
'       end if;',
'       if p_new_contact_department is not null then',
'          update RCA13_INTRACK_CUSTOMER_CONTACT',
'          set department_name = p_new_contact_department',
'          where id = l_id;',
'       end if;',
'       return l_id;',
'    end if;',
'    insert into RCA13_INTRACK_CUSTOMER_CONTACT (',
'       CUSTOMER_ID,',
'       FIRST_NAME,',
'       LAST_NAME,',
'       EMAIL,',
'       phone,',
'       phone_type,',
'       DEPARTMENT_NAME',
'       ) values (',
'       p_CUSTOMER_ID,',
'       p_contact_first_name,',
'       p_contact_last_name,',
'       p_contact_email,',
'       p_contact_phone,',
'       p_contact_phone_type,',
'       p_contact_department',
'    ) returning id into l_id;',
'    commit;',
'    return l_id;',
'end create_contact;',
'    ',
'function create_ticket (',
'    p_customer_id             in number   default null,',
'    p_customer_name           in varchar2 default null,',
'    p_customer_web_site       in varchar2 default null,',
'    p_customer_address        in varchar2 default null,',
'    p_customer_city           in varchar2 default null,',
'    p_customer_state          in varchar2 default null,',
'    p_customer_postal_code    in varchar2 default null,',
'    --                      ',
'    p_contact_id              in number   default null,',
'    p_contact_first_name      in varchar2 default null,',
'    p_contact_last_name       in varchar2 default null,',
'    p_contact_email           in varchar2 default null,',
'    p_contact_department      in varchar2 default null,',
'    p_contact_phone           in varchar2 default null,',
'    p_contact_phone_type      in varchar2 default null,',
'    p_contact_country         in varchar2 default null,',
'    --                      ',
'    p_product_id              in number   default null,',
'    p_product_version_id      in number   default null,',
'    p_product_additional_info in varchar2 default null,',
'    p_product_serial_num      in varchar2 default null,',
'    --',
'    p_urgency_id              in number   default null,',
'    p_severity_id             in number   default null,',
'    p_category_id             in number   default null,',
'    p_status_id               in number   default null,',
'    p_assignee_id             in number   default null,',
'    --',
'    p_subject                 in varchar2 default null,',
'    p_incident_description    in varchar2 default null,',
'    p_bug_number              in varchar2 default null,',
'    p_additional_info         in varchar2 default null,',
'    --',
'    p_tags                    in varchar2 default null,',
'    p_create_date_override    in timestamp with local time zone default null)',
'    return varchar2',
'is',
'    l_customer_id          number := null;',
'    l_contact_id           number := null;',
'    l_id                   number := null;',
'    l_default_assignee_id  number := null;',
'    l_auto_assign          boolean := false;',
'begin',
'    --',
'    -- determine customer ID',
'    --',
'    if p_customer_id is not null then',
'       l_customer_id := p_customer_id;',
'    else',
'       l_customer_id := create_customer (',
'           p_customer_name         => p_customer_name,',
'           p_customer_web_site     => p_customer_web_site,',
'           p_customer_address      => p_customer_address,',
'           p_customer_city         => p_customer_city,',
'           p_customer_state        => p_customer_state,',
'           p_customer_postal_code  => p_customer_postal_code);',
'    end if;',
'    --',
'    -- determine contact ID',
'    --',
'    if p_contact_id is not null then',
'        l_contact_id := p_contact_id;',
'    else',
'        l_contact_id :=  create_contact (',
'            p_customer_id         => l_customer_id,',
'            p_contact_first_name  => p_contact_first_name,',
'            p_contact_last_name   => p_contact_last_name,',
'            p_contact_email       => p_contact_email,',
'            p_contact_department  => p_contact_department,',
'            p_contact_phone       => p_contact_phone,',
'            p_contact_phone_type  => p_contact_phone_type,',
'            p_contact_country     => p_contact_country);',
'    end if;',
'    ',
'    --',
'    -- determine assignee',
'    --',
'    if p_assignee_id is null and p_product_id is not null then',
'       l_auto_assign := false;',
'       for c1 in (select preference_value from rca13_intrack_preferences where preference_name = ''AUTO_ASSIGN'') loop',
'          l_auto_assign := true;',
'       end loop;',
'       if l_auto_assign then',
'          for c1 in (select default_assignee_id from rca13_intrack_product where id = p_product_id) loop',
'              l_default_assignee_id := c1.default_assignee_id;',
'          end loop;',
'       end if;',
'    end if;',
'    --',
'    -- create ticket',
'    --',
'    insert into RCA13_INTRACK_INCIDENTS (',
'        SUBJECT,',
'        CATEGORY_ID,',
'        DESCRIPTION,',
'        PRODUCT_ID,',
'        --',
'        PRODUCT_VERSION_ID,',
'        ADDITIONAL_PRODUCT_INFO,',
'        CUSTOMER_ID,',
'        customer_contact_id,',
'        --',
'        STATUS_ID,',
'        SEVERITY_ID,',
'        URGENCY_ID,',
'        assigned_to_id,',
'        --',
'        tags,',
'        bug_number,',
'        product_serial_num,',
'        created',
'    ) values (',
'        p_subject,',
'        p_category_id,',
'        p_incident_description,',
'        p_product_id,',
'        --',
'        p_product_version_id,',
'        p_product_additional_info,',
'        l_customer_id,',
'        l_contact_id,',
'        --',
'        p_status_id,',
'        p_severity_id,',
'        p_urgency_id,',
'        l_default_assignee_id,',
'        --',
'        p_tags,',
'        p_bug_number,',
'        p_product_serial_num,',
'        p_create_date_override',
'    ) return id into l_id;',
'    commit;',
'    return l_id;',
'',
'end create_ticket;',
'end rca13_intrack_incident;',
'/',
'show errors',
'',
'',
'',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312105545202795819)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'incident follow up'
,p_sequence=>290
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table rca13_intrack_inc_followup (',
'    id                      number primary key,',
'    incident_id             number references RCA13_INTRACK_INCIDENTS(id) on delete cascade,',
'    row_key                 varchar2(50),',
'    row_version_number      number,',
'    follow_up               clob,',
'    follow_up_type          varchar2(30) constraint RCA13_INTRACK_INC_FOLLOW_CHK1',
'                            check (follow_up_type in (',
'                            ''TEXT'',',
'                            ''CLOSE_DATE_CHANGE'',',
'                            ''STATUS_CHANGE'',',
'                            ''ASSIGNEE_CHANGE'',',
'                            ''URGENCY_CHANGE'',',
'                            ''SEVERITY_CHANGE'',',
'                            ''CATEGORY_CHANGE'',',
'                            ''GROUP_CHANGE'',',
'                            ''PRODUCT_CHANGE'',',
'                            ''PRODUCT_VERSION_CHANGE'',',
'                            ''SUBJECT_CHANGE'',',
'                            ''TAG_CHANGE'',',
'                            ''BUG_CHANGE'',',
'                            ''CUSTOMER_CHANGE'')),',
'    status_column           varchar2(255),',
'    status_old_val          varchar2(4000),',
'    status_new_val          varchar2(4000),',
'    status_old_disp_val     varchar2(4000),',
'    status_new_disp_val     varchar2(4000),',
'    --',
'    created_by          varchar2(255),',
'    created             timestamp with local time zone,',
'    updated_by          varchar2(255),',
'    updated             timestamp with local time zone',
');',
'',
'create index RCA13_INTRACK_INC_FOLLOW_INDX1 on rca13_intrack_inc_followup (incident_id);',
'',
'create or replace trigger RCA13_INTRACK_INC_FOLLUP_TRG',
'before insert or update on rca13_intrack_inc_followup',
'    for each row',
'begin',
'    if inserting and :new.id is null then',
'        select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'        into :new.id',
'        from dual;',
'    end if;',
'    if inserting then',
'        :new.created_by := nvl(v(''APP_USER''),USER);',
'        :new.created := localtimestamp;',
'        :new.row_version_number := 1;',
'    end if;',
'    if updating then',
'        :new.updated_by := nvl(v(''APP_USER''),USER);',
'        :new.updated := localtimestamp;',
'        :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'    end if;',
'    if :new.follow_up_type is null then',
'        :new.follow_up_type := ''TEXT'';',
'    end if;',
'    if :new.row_key is null then',
'       for c1 in (select rca13_intrack_seq.nextval s from dual) loop',
'           :new.row_key := rca13_intrack_fw.compress_int(c1.s);',
'       end loop;',
'    end if;',
'end;',
'/',
'alter trigger RCA13_INTRACK_INC_FOLLUP_TRG enable;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312105939099803549)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'val email fmt'
,p_sequence=>310
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace function rca13_intrack_val_email_fmt (',
'   p_email_address  in   varchar2)',
'   return varchar2',
'is',
'    g_email_regexp         varchar2(4000) := ''^[-!#$%&''''''''*+/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&''''''''*+/0-9=?A-Z^_a-z{|}~])*@[a-zA-Z](-?[a-zA-Z0-9+])*(\.[a-zA-Z](-?[a-zA-Z0-9+])*)+$'';',
'begin',
'   if regexp_instr(p_email_address,g_email_regexp) = 0 then',
'      return ''Invalid email address format.'';',
'   end if;',
'   return null;',
'exception when others then',
'    return ''Invalid email address *'';',
'end rca13_intrack_val_email_fmt;',
'/',
'show errors'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312106149142806394)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'assignees'
,p_sequence=>315
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table rca13_intrack_assignees (',
'   id                      number         not null,',
'   row_version_number      number         not null,',
'   row_key                 varchar2(60)   not null,',
'   assignee_name           varchar2(255)  not null,',
'   assignee_name_upper     varchar2(255)  not null,',
'   email                   varchar2(255),',
'   im                      varchar2(255),',
'   phone1                  varchar2(255),',
'   phone2                  varchar2(255),',
'   tz_preference           varchar2(255),',
'   --',
'   created               timestamp with local time zone not null,',
'   created_by            varchar2(255) not null,',
'   updated               timestamp with local time zone,',
'   updated_by            varchar2(255),',
'   --',
'   flex_n01                number,',
'   flex_n02                number,',
'   flex_n03                number,',
'   flex_n04                number,',
'   flex_d01                timestamp with local time zone,',
'   flex_d02                timestamp with local time zone,',
'   flex_d03                timestamp with local time zone,',
'   flex_d04                timestamp with local time zone,',
'   flex_01                 varchar2(4000),',
'   flex_02                 varchar2(4000),',
'   flex_03                 varchar2(4000),',
'   flex_04                 varchar2(4000),',
'   flex_05                 varchar2(4000),',
'   flex_06                 varchar2(4000),',
'   flex_07                 varchar2(4000),',
'   flex_08                 varchar2(4000)',
'   )',
'/',
'alter table rca13_intrack_assignees',
'   add constraint RCA13_INTRACK_ASSIGNEES_PK',
'       primary key (id)',
'/',
'create unique index RCA13_INTRACK_ASSIGNEES_UK1 on rca13_intrack_assignees(assignee_name_upper)',
'/',
'',
'',
'create or replace trigger rca13_intrack_assignees_trg',
'   before insert or update on rca13_intrack_assignees',
'   for each row',
'begin',
'      if inserting then',
'         if :NEW.ID is null then',
'           select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :new.id',
'           from dual;',
'         end if;',
'         :NEW.CREATED    := localtimestamp;',
'         :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'         :NEW.UPDATED    := localtimestamp;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := 1;',
'         :new.assignee_name_upper := trim(upper(:new.assignee_name));',
'      end if;',
'',
'      if :new.row_key is null then',
'         select rca13_intrack_fw.compress_int(rca13_intrack_seq.nextval) into :new.row_key from dual;',
'      end if;',
'',
'      if updating then',
'         :NEW.UPDATED := localtimestamp;',
'         :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'         :new.row_version_number := nvl(:new.row_version_number,0) + 1;',
'         :new.assignee_name_upper := trim(upper(:new.assignee_name));',
'      end if;',
'end;',
'/',
'show errors',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312106358838809235)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Incidents view'
,p_sequence=>320
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace view rca13_intrack_incidents_view',
'as',
'select',
'     i.id,',
'     i.ROW_VERSION_NUMBER as ROW_VERSION_NUMBER,',
'     i."INCIDENT_NUMBER" as "INCIDENT_NUMBER",',
'     i."SUBJECT" as "SUBJECT",',
'     i."BUG_NUMBER" as "BUG_NUMBER",',
'     i."CATEGORY_ID" as "CATEGORY_ID",',
'     i."ASSIGNED_TO_ID" as "ASSIGNED_TO_ID",',
'     i."ASSIGNED_ON" as "ASSIGNED_ON",',
'     i."DATE_CLOSED" as "DATE_CLOSED",',
'     i."DESCRIPTION" as "DESCRIPTION",',
'     i."PRODUCT_ID" as "PRODUCT_ID",',
'     i."PRODUCT_VERSION_ID" as "PRODUCT_VERSION_ID",',
'     i."ADDITIONAL_PRODUCT_INFO" as "ADDITIONAL_PRODUCT_INFO",',
'     i."CUSTOMER_ID" as "CUSTOMER_ID",',
'     i."CUSTOMER_DEPARTMENT" as "CUSTOMER_DEPARTMENT",',
'     i."SEVERITY_ID" as "SEVERITY_ID",',
'     i."STATUS_ID" as "STATUS_ID",',
'     i.status_code,',
'     i."URGENCY_ID" as "URGENCY_ID",',
'     i."ASSIGNED_TO_GROUP_ID" as "ASSIGNED_TO_GROUP_ID",',
'     i."TAGS" as "TAGS",',
'     i."CREATED" as "CREATED",',
'     i."CREATED_BY" as "CREATED_BY",',
'     i."UPDATED" as "UPDATED",',
'     i."UPDATED_BY" as "UPDATED_BY",',
'     (select email from rca13_intrack_customer_contact cc where cc.id = i.customer_contact_id) customer_contact_email,',
'     (select last_Name||'', ''||first_name n from rca13_intrack_customer_contact cc where cc.id = i.customer_contact_id) customer_contact_name,',
'     (select customer_name from rca13_intrack_customers c where c.id = i.customer_id) customer,',
'    decode(i.ASSIGNED_TO_ID,null,null,(select username from rca13_intrack_users u where u.id = i.ASSIGNED_TO_ID)) assignee,',
'     (select count(*) from rca13_intrack_inc_followup f where f.incident_id = i.id) follow_ups,',
'     (select status_type from rca13_intrack_status s where i.STATUS_ID = s.id) status_type,',
'     (select status_name from rca13_intrack_status s where i.STATUS_ID = s.id) status_name,',
'     (select product_name from RCA13_INTRACK_PRODUCT p where i."PRODUCT_ID" = p."ID") product_name,',
'     (select version_name from RCA13_INTRACK_VERSION v where v."PRODUCT_ID" = i."ID" and i.PRODUCT_VERSION_ID = v.id) product_version,',
'     (select URGENCY_NAME from RCA13_INTRACK_URGENCY u where i."URGENCY_ID" = u."ID") URGENCY_NAME,',
'     (select SEVERITY_NAME from RCA13_INTRACK_SEVERITY sev where i."SEVERITY_ID" = sev."ID") SEVERITY_NAME,',
'     (select SEVERITY_CODE from RCA13_INTRACK_SEVERITY sev where i."SEVERITY_ID" = sev."ID") SEVERITY_CODE',
' from',
'     "RCA13_INTRACK_INCIDENTS" i;',
'',
''))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312106568535812047)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'files table'
,p_sequence=>330
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create table rca13_intrack_files (',
'    id                      number primary key,',
'    row_version_number      number,',
'    incident_id             number references rca13_intrack_incidents(id) on delete cascade,',
'    --',
'    filename                varchar2(4000),',
'    file_mimetype           varchar2(512),',
'    file_charset            varchar2(512),',
'    file_blob               blob,',
'    file_comments           varchar2(4000),',
'    tags                    varchar2(4000),',
'    --',
'    created                 timestamp with local time zone,',
'    created_by              varchar2(255),',
'    updated                 timestamp with local time zone,',
'    updated_by              varchar2(255)',
'    )',
'/',
'',
'create index RCA13_INTRACK_FILES_INDX1 on rca13_intrack_files (incident_id);',
'',
'',
'CREATE OR REPLACE TRIGGER RCA13_INTRACK_FILES_TRG',
'   before insert or update on rca13_intrack_files',
'   for each row',
'begin',
'  if (inserting or updating) and nvl(dbms_lob.getlength(:new.file_blob),0) > 15728640 then',
'    raise_application_error(-20000, ''The size of the uploaded file was over 15MB. Please upload a smaller file.'');',
'  end if;',
'  if :new.tags is not null then',
'    :new.tags := rca13_intrack_fw.tags_cleaner(:new.tags);',
'  end if;',
'  if :new.id is null then',
'    select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'') into :new.id from dual;',
'  end if;',
'  if inserting then',
'    :new.created := localtimestamp;',
'    :new.created_by := nvl(wwv_flow.g_user,user);',
'    :new.row_version_number := 1;',
'  elsif updating then',
'    :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'  end if;',
'  if inserting or updating then',
'    :new.updated := localtimestamp;',
'    :new.updated_by := nvl(wwv_flow.g_user,user);',
'  end if;',
'  rca13_intrack_fw.tag_sync(',
'    p_new_tags      => :new.tags,',
'    p_old_tags      => :old.tags,',
'    p_content_type  => ''FILE'',',
'    p_content_id    => :new.id);',
'end;',
'/',
'ALTER TRIGGER rca13_intrack_files_trg ENABLE',
'/',
'',
'',
'create or replace trigger rca13_intrack_files_bd_trg',
'    before delete on rca13_intrack_files',
'    for each row',
'begin',
'',
'    rca13_intrack_fw.tag_sync(',
'        p_new_tags      => null,',
'        p_old_tags      => :old.tags,',
'        p_content_type  => ''FILE'',',
'        p_content_id    => :old.id );',
'',
'end rca13_intrack_files_bd;',
'/',
'show errors'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312106745464814793)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'links'
,p_sequence=>340
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE TABLE "RCA13_INTRACK_LINKS"',
'   (',
'    "ID"                     NUMBER constraint RCA13_INTRACK_LINKS_PK primary key,',
'    "ROW_VERSION_NUMBER"     NUMBER not null,',
'    incident_id              number references rca13_intrack_incidents(id) on delete cascade,',
'    "LINK_TARGET"            VARCHAR2(4000 BYTE),',
'    "LINK_TEXT"              VARCHAR2(255 BYTE),',
'    "LINK_COMMENTS"          VARCHAR2(4000 BYTE),',
'    tags                     VARCHAR2(4000 BYTE),',
'    "CREATED"                timestamp with local time zone,',
'    "CREATED_BY"             VARCHAR2(255 BYTE),',
'    "UPDATED"                timestamp with local time zone,',
'    "UPDATED_BY"             VARCHAR2(255 BYTE)',
'   ) ;',
'',
'create index RCA13_INTRACK_LINKS_INDX1 on RCA13_INTRACK_LINKS(incident_id);',
'',
'CREATE OR REPLACE TRIGGER "RCA13_INTRACK_LINKS_TRG"',
'   before insert or update on RCA13_INTRACK_links',
'   for each row',
'begin',
'   if :new."ID" is null then',
'     select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'') into :new.id from dual;',
'   end if;',
'   if inserting then',
'       :new.created := localtimestamp;',
'       :new.created_by := nvl(wwv_flow.g_user,user);',
'       :new.updated := localtimestamp;',
'       :new.updated_by := nvl(wwv_flow.g_user,user);',
'       :new.row_version_number := 1;',
'   elsif updating then',
'       :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'   end if;',
'   if inserting or updating then',
'       :new.updated := localtimestamp;',
'       :new.updated_by := nvl(wwv_flow.g_user,user);',
'   end if;',
'end;',
'/',
'ALTER TRIGGER "RCA13_INTRACK_LINKS_TRG" ENABLE;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312107056199817929)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'notes'
,p_sequence=>350
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE TABLE "RCA13_INTRACK_NOTES"',
'   (',
'    "ID"                     NUMBER constraint RCA13_INTRACK_NOTES_PK primary key,',
'    "ROW_VERSION_NUMBER"     NUMBER not null,',
'    incident_id              number references rca13_intrack_incidents(id) on delete cascade,',
'    "NOTE"                   CLOB,',
'    tags                     VARCHAR2(4000 BYTE),',
'    "CREATED"                timestamp with local time zone,',
'    "CREATED_BY"             VARCHAR2(255 BYTE),',
'    "UPDATED"                timestamp with local time zone,',
'    "UPDATED_BY"             VARCHAR2(255 BYTE)',
'   ) ;',
'',
'create index RCA13_INTRACK_NOTES_INDX1 on RCA13_INTRACK_NOTES(incident_id);',
'',
'CREATE OR REPLACE TRIGGER "RCA13_INTRACK_NOTES_TRG"',
'   before insert or update on RCA13_INTRACK_NOTES',
'   for each row',
'begin',
'   if :new."ID" is null then',
'     select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'') into :new.id from dual;',
'   end if;',
'   if inserting then',
'       :new.created := localtimestamp;',
'       :new.created_by := nvl(wwv_flow.g_user,user);',
'       :new.updated := localtimestamp;',
'       :new.updated_by := nvl(wwv_flow.g_user,user);',
'       :new.row_version_number := 1;',
'   elsif updating then',
'       :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'   end if;',
'   if inserting or updating then',
'       :new.updated := localtimestamp;',
'       :new.updated_by := nvl(wwv_flow.g_user,user);',
'   end if;',
'end;',
'/',
'ALTER TRIGGER "RCA13_INTRACK_NOTES_TRG" ENABLE;',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312107758754828092)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'rca13_intrack body'
,p_sequence=>380
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace package body rca13_intrack as',
'',
'    -------------------------------------------------------------------------',
'    -- Generates a unique Identifier',
'    -------------------------------------------------------------------------',
'    function gen_id',
'        return number',
'    is',
'        l_id  number;',
'    begin',
'        select to_number(sys_guid(), ''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'          into l_id',
'          from dual;',
'    ',
'        return l_id;',
'    end gen_id;',
'',
'    -------------------------------------------------------------------------',
'    -- Gets the current user''s authorization level. Depends on the following:',
'    --  * If access control is currently disabled, returns highest level of 3.',
'    --  * If access control is enabled, but user is not in list, returns 0',
'    --  * If access control is enabled and user is in list, returns their',
'    --    access level.',
'    -------------------------------------------------------------------------',
'    function get_authorization_level (',
'        p_username             varchar2)',
'        return number',
'    is',
'        l_access_level_id       rca13_intrack_users.access_level_id%type := 0;  -- default to lowest privilege.',
'        l_account_locked        rca13_intrack_users.account_locked%type;',
'    begin',
'        -- If access control is disabled, default to highest privilege',
'        if rca13_intrack_fw.get_preference_value(''ACCESS_CONTROL_ENABLED'') = ''N'' then',
'            return 3;',
'        else',
'            -- Query for user''s access level, throws no_data_found if no user',
'            select access_level_id,',
'                   account_locked',
'              into l_access_level_id,',
'                   l_account_locked',
'              from rca13_intrack_users',
'             where username = p_username;',
'            -- Check if user''s account is locked, return 0 (no privilege), otherwise stick',
'            -- with their level.',
'            if l_account_locked = ''Y'' then',
'                return 0;',
'            end if;',
'            -- Overwrite user access level 1 with access level 2 if access control scope is PUBLIC_CONTRIBUTE',
'            if l_access_level_id = 1 and rca13_intrack_fw.get_preference_value(''ACCESS_CONTROL_SCOPE'') = ''PUBLIC_CONTRIBUTE'' then',
'                return 2;',
'            end if;            ',
'        end if;',
'        return l_access_level_id;',
'    exception',
'        when no_data_found then',
'            -- If no user exists with passed username, do a final check if reader access is set to any authenticated user',
'            if rca13_intrack_fw.get_preference_value(''ACCESS_CONTROL_SCOPE'') = ''PUBLIC_CONTRIBUTE'' then',
'                return 2;',
'            elsif rca13_intrack_fw.get_preference_value(''ACCESS_CONTROL_SCOPE'') = ''PUBLIC_READONLY'' then',
'                return 1;',
'            else',
'                return 0;',
'            end if;           ',
'    end get_authorization_level;',
'',
'    -------------------------------------------------------------------------',
'    -- Gets the set of links displayed on the mobile details summary page (301)',
'    -- for the passed-in type',
'    -------------------------------------------------------------------------',
'    function get_mobile_incident_details',
'    (',
'      p_type    in     varchar2,',
'      p_session in     number,',
'      p_app_id  in     varchar2  default ''7140'',',
'      p_page_id in     varchar2  default ''305''',
'    ) return varchar2',
'    is',
'      l_retval varchar2(32767);',
'    begin',
'      if p_type = ''SEVERITY_ID'' then',
'        for c in',
'        (',
'          select',
'            ''<a href="f?p=''||p_app_id||'':''||p_page_id||'':''||p_session||''::YES:''||p_page_id||'':P''||p_page_id||''_''||p_type||'':''||sys.htf.escape_sc(v1.severity_id)||'':">'' || v1.cnt || '' '' || sys.htf.escape_sc(v1.status) || ''</a><br />'' as severity_list_'
||'item',
'          from',
'            (',
'              select',
'                severity_name status,',
'                severity_id,',
'                count(*) cnt',
'              from',
'                rca13_intrack_incidents_view',
'              where',
'                status_type = ''OPEN''',
'              group by',
'                severity_name, severity_id',
'              order by',
'                2 desc, 1',
'            ) v1',
'        )',
'        loop',
'          l_retval := l_retval || c.severity_list_item;',
'        end loop;',
'      elsif p_type = ''URGENCY_NAME'' then',
'        for c in',
'        (',
'          select',
'            ''<a href="f?p=''||p_app_id||'':''||p_page_id||'':''||p_session||''::YES:''||p_page_id||'':P''||p_page_id||''_''||p_type||'':''||sys.htf.escape_sc(v1.status)||'':">'' || v1.cnt || '' '' || sys.htf.escape_sc(v1.status) || ''</a><br />'' as urgency_list_item',
'          from',
'            (',
'              select',
'                urgency_name status,',
'                count(*) cnt',
'              from',
'                rca13_intrack_incidents_view',
'              where',
'                status_type = ''OPEN''',
'              group by',
'                urgency_name',
'              order by',
'                2 desc, 1',
'            ) v1',
'        )',
'        loop',
'          l_retval := l_retval || c.urgency_list_item;',
'        end loop;',
'      elsif p_type = ''STATUS_CODE'' then',
'        for c in',
'        (',
'          select',
'            ''<a href="f?p=''||p_app_id||'':''||p_page_id||'':''||p_session||''::YES:''||p_page_id||'':P''||p_page_id||''_''||p_type||'':''||sys.htf.escape_sc(v1.status_code)||'':">'' || v1.cnt || '' '' || sys.htf.escape_sc(v1.status) || ''</a><br />'' as status_list_it'
||'em',
'          from',
'            (',
'              select',
'                status_code,',
'                status_name status,',
'                count(*) cnt',
'              from',
'                rca13_intrack_incidents_view',
'              where',
'                status_type = ''OPEN''',
'              group by',
'                status_code, status_name',
'              order by',
'                3 desc',
'            ) v1',
'        )',
'        loop',
'          l_retval := l_retval || c.status_list_item;',
'        end loop;',
'      elsif p_type = ''PRODUCT'' then',
'        for c in',
'        (',
'          select',
'            ''<a href="f?p=''||p_app_id||'':''||p_page_id||'':''||p_session||''::YES:''||p_page_id||'':P''||p_page_id||''_''||p_type||'':''||sys.htf.escape_sc(v1.product)||'':">'' || v1.cnt || '' '' || sys.htf.escape_sc(v1.product) || ''</a><br />'' as product_list_item',
'          from',
'            (',
'              select',
'                PRODUCT_NAME product,',
'                count(*) cnt',
'              from',
'                rca13_intrack_incidents_view',
'              where',
'                status_type = ''OPEN''',
'              group by',
'                product_name',
'              order by',
'                2 desc',
'            ) v1',
'        )',
'        loop',
'          l_retval := l_retval || c.product_list_item;',
'        end loop;',
'      elsif p_type = ''CUSTOMER_ID'' then',
'        for c in',
'        (',
'          select',
'            ''<a href="f?p=''||p_app_id||'':''||p_page_id||'':''||p_session||''::YES:''||p_page_id||'':P''||p_page_id||''_''||p_type||'':''||sys.htf.escape_sc(v1.id)||'':">'' || v1.cnt || '' '' || sys.htf.escape_sc(v1.customer) || ''</a><br />'' as customer_list_item',
'          from',
'            (',
'              select',
'                customer,',
'                customer_id id,',
'                count(*) cnt',
'              from',
'                rca13_intrack_incidents_view',
'              where',
'                status_type = ''OPEN''',
'              group by',
'                customer, customer_id',
'              order by',
'                2 desc',
'            ) v1',
'        )',
'        loop',
'          l_retval := l_retval || c.customer_list_item;',
'        end loop;',
'      end if;',
'      return l_retval;',
'    end get_mobile_incident_details;',
'',
'end rca13_intrack;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312115459528909774)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Create AuditCheck Result table'
,p_sequence=>390
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' isTabExists number;',
' isColExists number; ',
'begin',
' select count(1) into isTabExists from user_tables where table_name = ''AUDITCHECK_RESULT'';',
' if isTabExists = 0 then',
'   EXECUTE IMMEDIATE ''',
'  CREATE TABLE AUDITCHECK_RESULT',
'   (    "COLLECTION_DATE" TIMESTAMP (6) NOT NULL ENABLE,',
'  "CHECK_NAME"             VARCHAR2(256 BYTE),',
'  "PARAM_NAME"             VARCHAR2(256 BYTE),',
'  "STATUS"                 VARCHAR2(256 BYTE),',
'  "STATUS_MESSAGE"         VARCHAR2(256 BYTE),',
'  "ACTUAL_VALUE"           VARCHAR2(256 BYTE),',
'  "RECOMMENDED_VALUE"      VARCHAR2(256 BYTE),',
'  "COMPARISON_OPERATOR"    VARCHAR2(256 BYTE),',
'  "HOSTNAME"               VARCHAR2(256 BYTE),',
'  "INSTANCE_NAME"          VARCHAR2(256 BYTE),',
'  "CHECK_TYPE"             VARCHAR2(256 BYTE),',
'  "DB_PLATFORM"            VARCHAR2(256 BYTE),',
'  "OS_DISTRO"              VARCHAR2(256 BYTE),',
'  "OS_KERNEL"              VARCHAR2(256 BYTE),',
'  "OS_VERSION"             NUMBER,',
'  "DB_VERSION"             VARCHAR2(256 BYTE),',
'  "CLUSTER_NAME"           VARCHAR2(256 BYTE),',
'  "DB_NAME"                VARCHAR2(256 BYTE),',
'  "ERROR_TEXT"             VARCHAR2(256 BYTE),',
'  "CHECK_ID"               VARCHAR2(40 BYTE),',
'  "NEEDS_RUNNING"          VARCHAR2(100 BYTE),',
'  "MODULES"                VARCHAR2(4000 BYTE),',
'  "DATABASE_ROLE"          VARCHAR2(100 BYTE),',
'  "CLUSTERWARE_VERSION"    VARCHAR2(100 BYTE),',
'  "GLOBAL_NAME"            VARCHAR2(256 BYTE),',
'  "UPLOAD_COLLECTION_NAME" VARCHAR2(256 BYTE) NOT NULL ENABLE,',
'  "AUDITCHECK_RESULT_ID"   VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'  "COLLECTION_ID"          VARCHAR2(40 BYTE),',
'  "TARGET_TYPE"            VARCHAR2(128 BYTE), ',
'  "TARGET_VALUE"           VARCHAR2(256 BYTE),',
'  CONSTRAINT "AUDITCHECK_RESULT_PK" PRIMARY KEY ("AUDITCHECK_RESULT_ID")                            ',
'   )'';',
'else ',
' select count(1) into isColExists from user_tab_columns where table_name = ''AUDITCHECK_RESULT'' and column_name in (''TARGET_TYPE'',''TARGET_VALUE'');',
' if isColExists = 0 then',
'    EXECUTE IMMEDIATE ''',
'    ALTER TABLE AUDITCHECK_RESULT add',
'    (',
'    "TARGET_TYPE"            VARCHAR2(128 BYTE),',
'    "TARGET_VALUE"           VARCHAR2(256 BYTE)',
'    )'';',
' end if;',
'end if;',
'end;',
'/',
'',
'DECLARE',
'  A NUMBER(1) := 0;    ',
'begin',
'  SELECT CASE WHEN EXISTS(SELECT * FROM USER_INDEXES WHERE INDEX_NAME = ''AUDITCHECK_RESULT_CD'')',
'         THEN 1',
'         ELSE 0',
'         END CASE INTO A',
'    FROM DUAL;',
'  ',
'  IF A = 0 THEN',
'    execute immediate '' CREATE INDEX AUDITCHECK_RESULT_CD ON AUDITCHECK_RESULT ("COLLECTION_DATE") '';',
'  END IF;  ',
'end;',
'/',
'',
'    DECLARE',
'  A NUMBER(1) := 0;    ',
'begin',
'  SELECT CASE WHEN EXISTS(SELECT * FROM USER_INDEXES WHERE INDEX_NAME = ''AUDITCHECK_RESULT_CI'')',
'         THEN 1',
'         ELSE 0',
'         END CASE INTO A',
'    FROM DUAL;',
'  ',
'  IF A = 0 THEN',
'    execute immediate ''  CREATE INDEX AUDITCHECK_RESULT_CI ON AUDITCHECK_RESULT ("COLLECTION_ID") '';',
'  END IF;',
'end;    ',
'/',
'   ',
'declare',
' isTabExists number;',
' isColExists number;',
'begin',
' select count(1) into isTabExists from user_tables where table_name = ''AUDITCHECK_PATCH_RESULT'';',
' if isTabExists = 0 then',
'   EXECUTE IMMEDIATE ''',
'     CREATE TABLE AUDITCHECK_PATCH_RESULT',
'  (',
'  "COLLECTION_DATE" TIMESTAMP (6) NOT NULL ENABLE,',
'  "HOSTNAME"            VARCHAR2(256 BYTE),',
'  "ORACLE_HOME_TYPE"    VARCHAR2(256 BYTE),',
'  "ORACLE_HOME_PATH"    VARCHAR2(256 BYTE),',
'  "ORACLE_HOME_VERSION" VARCHAR2(256 BYTE),',
'  "PATCH_NUMBER"        NUMBER,',
'  "CLUSTER_NAME"        VARCHAR2(256 BYTE),',
'  "DESCRIPTION"         VARCHAR2(256 BYTE),',
'  "PATCH_TYPE"          VARCHAR2(128 BYTE),',
'  "APPLIED"             NUMBER,',
'  "RECOMMENDED"         NUMBER,',
'  "UPLOAD_COLLECTION_NAME" VARCHAR2(256 BYTE)',
'  )'';',
'else ',
' select count(1) into isColExists from user_tab_columns where table_name = ''AUDITCHECK_PATCH_RESULT'' and column_name = ''UPLOAD_COLLECTION_NAME'';',
' if isColExists = 0 then',
'    EXECUTE IMMEDIATE ''',
'    ALTER TABLE AUDITCHECK_RESULT add',
'    (',
'    "UPLOAD_COLLECTION_NAME" VARCHAR2(256 BYTE)',
'    )'';',
'  end if;',
' end if;',
'end;',
'/',
'--- checking COLLECTION_DATE column datatype in AUDITCHECK_PATCH_RESULT table--------    ',
'declare',
'isDataType number;',
'begin',
'select count(1) into isDataType from user_tab_columns where table_name = ''AUDITCHECK_PATCH_RESULT'' ',
'and column_name =''COLLECTION_DATE'' and data_type=''TIMESTAMP(9) WITH LOCAL TIME ZONE'';',
'if isDataType = 1 then',
'     EXECUTE IMMEDIATE ''alter table auditcheck_patch_result rename column COLLECTION_DATE to COLLECTION_DATE_TEMP'';',
'     EXECUTE IMMEDIATE ''alter table auditcheck_patch_result add (COLLECTION_DATE TIMESTAMP(6))'';',
'     end if;',
'end;',
'/',
'declare',
'isColExists number;',
'begin',
'select count(1) into isColExists from user_tab_columns where table_name = ''AUDITCHECK_PATCH_RESULT'' ',
'and column_name =''COLLECTION_DATE_TEMP'';',
'if isColExists = 1 then',
'     EXECUTE IMMEDIATE ''update auditcheck_patch_result set COLLECTION_DATE = COLLECTION_DATE_TEMP'';                                    ',
'     commit;                                                                                                       ',
'     EXECUTE IMMEDIATE ''alter table auditcheck_patch_result modify COLLECTION_DATE NOT NULL'';                      ',
'     EXECUTE IMMEDIATE ''alter table auditcheck_patch_result drop column COLLECTION_DATE_TEMP'';',
' end if;',
'end;',
'/    ',
'---------------------------   ---------------------------------------------------------- ',
' DECLARE',
'  A NUMBER(1) := 0;    ',
'begin',
'  SELECT CASE WHEN EXISTS(SELECT * FROM USER_INDEXES WHERE INDEX_NAME = ''AUDITCHECK_PATCH_RESULT_CD'')',
'         THEN 1',
'         ELSE 0',
'         END CASE INTO A',
'    FROM DUAL;',
'  ',
'  IF A = 0 THEN',
'    execute immediate '' CREATE INDEX AUDITCHECK_PATCH_RESULT_CD ON AUDITCHECK_PATCH_RESULT  ("COLLECTION_DATE") '';',
'  END IF;  ',
'end;',
'/',
'',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(308493467230837071)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'ACL Tables'
,p_sequence=>400
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE TABLE RCA13_LOBS',
'  (',
'    LOB_ID   VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    LOB_NAME VARCHAR2(256 BYTE) NOT NULL ENABLE,',
'    CREATED TIMESTAMP (6) DEFAULT systimestamp,',
'    CREATED_BY VARCHAR2(256 BYTE),',
'    CONSTRAINT RCA13_LOBS_PK PRIMARY KEY (LOB_ID)',
'  )',
'/',
'CREATE UNIQUE INDEX RCA13_LOBS_UK1 ON RCA13_LOBS(LOB_NAME);',
'/',
'    ',
'create or replace',
'TRIGGER rca13_lobs_ins',
'    before insert or update on rca13_lobs',
'    for each row',
'begin',
'    if inserting then',
'        if :new.lob_id is null then',
'            :new.lob_id := sys_guid();',
'        end if;',
'        if :new.created_by is null then',
'            :new.created_by         := nvl(v(''APP_USER''), USER);',
'        end if;',
'        --:new.created            := localtimestamp;      ',
'    end if;   ',
'    -- Always store username as upper case',
'    :new.lob_name := upper(:new.lob_name);',
'end;',
'/',
'ALTER TRIGGER RCA13_LOBS_INS ENABLE;',
'/',
'-- Insert Default Business Units --',
'insert into rca13_lobs(lob_id,lob_name) values(''SAMPLE'',''SAMPLE'');',
'insert into rca13_lobs(lob_name) values(''PRODUCTION'');',
'insert into rca13_lobs(lob_name) values(''DEVELOPMENT'');',
'insert into rca13_lobs(lob_id,lob_name) values(''DEFAULT'',''DEFAULT'');',
'/',
'-------------------------------------------------------------------------------',
'CREATE TABLE RCA13_ACCESS_ROLES',
'(',
'    ROLE_ID   VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    ROLE_NAME VARCHAR2(256 BYTE) NOT NULL ENABLE,',
'    CONSTRAINT RCA13_ACCESS_ROLES_PK PRIMARY KEY (ROLE_ID)',
')',
'/',
'CREATE UNIQUE INDEX RCA13_ACCESS_ROLES_UK1 ON RCA13_ACCESS_ROLES(ROLE_NAME);',
'/',
'',
'insert into RCA13_ACCESS_ROLES(role_id,role_name) values (1,''Admin'');',
'insert into RCA13_ACCESS_ROLES(role_id,role_name) values (2,''DBA Manager'');',
'insert into RCA13_ACCESS_ROLES(role_id,role_name) values (3,''DBA'');',
'/    ',
'-------------------------------------------------------------------------------    ',
'CREATE TABLE RCA13_USER_ROLES ',
'(',
'    USER_ROLE_ID VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    USER_ID      NUMBER NOT NULL ENABLE,',
'    ROLE_ID      VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    LOB_ID       VARCHAR2(40 BYTE),',
'    SYSTEM_ID    VARCHAR2(40 BYTE),',
'    CREATED TIMESTAMP (6) DEFAULT systimestamp,',
'    CREATED_BY VARCHAR2(256 BYTE),',
'    UPDATED TIMESTAMP (6),',
'    UPDATED_BY VARCHAR2(256 BYTE),',
'    CONSTRAINT RCA13_USER_ROLES_PK PRIMARY KEY (USER_ROLE_ID) ',
')',
'/',
'CREATE UNIQUE INDEX RCA13_USER_ROLES_UK1 ON RCA13_USER_ROLES(USER_ID, ROLE_ID, LOB_ID, SYSTEM_ID);',
'/',
'create or replace',
'TRIGGER rca13_user_roles_trg',
'before insert or update on rca13_user_roles',
'for each row',
'begin',
'if inserting or updating then    ',
'      :NEW.UPDATED    := systimestamp;',
'    if :NEW.UPDATED_BY is null then  ',
'      :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'    end if;  ',
'end if; ',
'end;',
'/',
'    ',
'ALTER TRIGGER RCA13_USER_ROLES_TRG ENABLE;',
'/',
'------------------------------------------------------------------------------------------------------    ',
'',
'    CREATE TABLE RCA13_SYSTEMS',
'  (',
'    SYSTEM_ID   VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    SYSTEM_NAME VARCHAR2(256 BYTE),',
'    SYSTEM_TYPE VARCHAR2(256 BYTE),',
'    CREATED_BY  VARCHAR2(256 BYTE),',
'    CREATED TIMESTAMP (6) DEFAULT systimestamp,',
'    CONSTRAINT RCA13_SYSTEMS_PK PRIMARY KEY (SYSTEM_ID)',
'  )',
'/',
' ',
'------------------------------------------------------------------------------------------------    ',
'CREATE TABLE RCA13_SYSTEM_HOSTS',
'  (',
'    SYS_HOST_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    SYSTEM_ID   VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    HOST_NAME   VARCHAR2(256 BYTE) NOT NULL ENABLE,',
'    CONSTRAINT RCA13_SYSTEM_HOSTS_PK PRIMARY KEY (SYS_HOST_ID),',
'    CONSTRAINT RCA13_SYSTEM_HOSTS_RCA13__FK1 FOREIGN KEY (SYSTEM_ID) REFERENCES RCA13_SYSTEMS (SYSTEM_ID) ON DELETE CASCADE ENABLE',
'  )',
'/',
'CREATE UNIQUE INDEX RCA13_SYSTEM_HOSTS_UK1 ON RCA13_SYSTEM_HOSTS(SYSTEM_ID, HOST_NAME);',
'/',
'',
'-------------------------------------------------------------------------------------------------',
'    ',
'CREATE TABLE RCA13_LOB2SYS_MAPPING',
'  (',
'    MAP_ID    VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    SYSTEM_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    LOB_ID    VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    CREATED   VARCHAR2(256 BYTE),',
'    CREATED_ON TIMESTAMP (6) DEFAULT systimestamp,',
'    CONSTRAINT RCA13_LOB2SYS_MAPPING_PK PRIMARY KEY (MAP_ID),',
'    CONSTRAINT RCA13_LOB2SYS_MAPPING_UK1 UNIQUE (SYSTEM_ID, LOB_ID),',
'    CONSTRAINT RCA13_LOB2SYS_MAPPING_RCA_FK1 FOREIGN KEY (LOB_ID) REFERENCES RCA13_LOBS (LOB_ID) ENABLE',
'  )',
'/',
'-------------------------------------------------------------------------------------------------    ',
'CREATE TABLE RCA13_COL2SYS_MAPPING',
'  (',
'    MAP_ID VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    COLLECTION_DATE TIMESTAMP (6) NOT NULL ENABLE,',
'    COLLECTION_NAME VARCHAR2(1000 BYTE) NOT NULL ENABLE,',
'    SYSTEM_ID       VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    CONSTRAINT "RCA13_COL2SYS_MAPPING_PK" PRIMARY KEY ("MAP_ID"),  ',
'    CONSTRAINT "RCA13_COL2SYS_MAPPING_UK1" UNIQUE ("COLLECTION_DATE", "COLLECTION_NAME", "SYSTEM_ID"),',
'    CONSTRAINT "RCA13_COL2SYS_MAPPING_RCA_FK1" FOREIGN KEY ("SYSTEM_ID") REFERENCES "RCA13_SYSTEMS" ("SYSTEM_ID") ENABLE  ',
'  )',
'/',
'-------------------------------------------------------------------------------    ',
'',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(308493866462931475)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'cache tables'
,p_sequence=>410
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE TABLE RCA13_DIFF_INFO',
'  (',
'    DIFF_ID      VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    CUR_COL_NAME VARCHAR2(2000 BYTE) NOT NULL ENABLE,',
'    CUR_COL_DATE TIMESTAMP (6) NOT NULL ENABLE,',
'    PREV_COL_NAME VARCHAR2(2000 BYTE),',
'    PREV_COL_DATE TIMESTAMP (6),',
'    DIFF_TYPE NUMBER,',
'    CONSTRAINT RCA13_DIFF_INFO_PK PRIMARY KEY (DIFF_ID)',
'  )',
'/',
'CREATE INDEX "RCA13_DIFF_INFO_INDEX1" ON "RCA13_DIFF_INFO" ("CUR_COL_DATE")',
'/',
'---------------------------------------------------------------------------------------------    ',
'CREATE TABLE RCA13_COLLECTION_VALUES',
'  (',
'    SCORE   NUMBER,',
'    F_COUNT NUMBER,',
'    W_COUNT NUMBER,',
'    P_COUNT NUMBER,',
'    COLLECTION_DATE TIMESTAMP (6),',
'    COLLECTION_NAME VARCHAR2(512 BYTE),',
'    "I_COUNT" NUMBER, ',
'    "FIXED_COUNT" NUMBER, ',
'    "IG_COUNT" NUMBER,  ',
'    CONSTRAINT "RCA13_COLLECTION_VALUES_UK1" UNIQUE ("COLLECTION_DATE", "COLLECTION_NAME")  ',
'  )',
'/',
'    '))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312115848896039139)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'create sequences'
,p_sequence=>430
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE SEQUENCE RCA13_FILE_SEQ INCREMENT BY 1 MAXVALUE 999999999999999999999999999 MINVALUE 1000 CACHE 20 nocycle;',
'/',
'CREATE SEQUENCE RCA13_JOB_SEQ INCREMENT BY 1 MAXVALUE 9999999999999999999999999999 MINVALUE 1 CACHE 20 cycle;',
'/',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(308614551099388611)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Create Docs table '
,p_sequence=>435
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
' isTabExists number;',
'isColExists number := 999;',
'begin',
' select count(1) into isTabExists from user_tables where table_name = ''RCA13_DOCS'';',
'select count(1) into isColExists from user_tab_columns where table_name = ''RCA13_DOCS'' and column_name =''SR_BUG_NUM'';',
' if isTabExists = 0 then',
'   EXECUTE IMMEDIATE ''    ',
'   CREATE TABLE RCA13_DOCS   (',
'    DOC_ID        NUMBER DEFAULT to_number(sys_guid(),''''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'''') NOT NULL ENABLE,',
'    COLLECTION_ID VARCHAR2(40 BYTE),',
'    FILENAME      VARCHAR2(1000 BYTE) NOT NULL ENABLE,',
'    FILE_MIMETYPE VARCHAR2(512 BYTE),',
'    FILE_CHARSET  VARCHAR2(512 BYTE),',
'    FILE_BLOB BLOB NOT NULL ENABLE,',
'    FILE_COMMENTS VARCHAR2(4000 BYTE),',
'    TAGS          VARCHAR2(4000 BYTE),',
'    ATTR1         VARCHAR2(200 BYTE),',
'    UPLOADED_BY   VARCHAR2(200 BYTE) DEFAULT USER,',
'    UPLOADED_ON TIMESTAMP (6) DEFAULT systimestamp,',
'    SR_BUG_NUM    VARCHAR2(20 BYTE), ',
'    CONSTRAINT RCA13_DOCS_PK PRIMARY KEY (DOC_ID),',
'    CONSTRAINT RCA13_DOCS_UK1 UNIQUE (FILENAME)',
'  )'';',
' elsif isColExists = 0 then                                                                                                   ',
'     EXECUTE IMMEDIATE ''ALTER TABLE RCA13_DOCS ADD (SR_BUG_NUM VARCHAR2(2000))'';   ',
' end if;',
' exception when others then null;',
'end;',
'/',
'    ',
'    ',
'create or replace TRIGGER "RCA13_DOCS_FILE_NAME"',
'BEFORE INSERT ON RCA13_DOCS',
'FOR EACH ROW',
'BEGIN',
'  :new.filename := substr(:new.filename,instr(:new.filename,''/'',-1,1)+1);',
'END;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(308494543625076229)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'collection processing tables'
,p_sequence=>440
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE TABLE RCA13_COLLECTIONS',
'  (',
'    COLLECTION_ID VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    COLLECTION_DATE TIMESTAMP (6),',
'    OS_PLATFORM     VARCHAR2(128 BYTE),',
'    OS_DIST         VARCHAR2(40 BYTE),',
'    OS_KERNEL       VARCHAR2(60 BYTE),',
'    OS_VERSION      VARCHAR2(10 BYTE),',
'    COLLECTION_TYPE VARCHAR2(10 BYTE),',
'    SYSTEM_NAME     VARCHAR2(128 BYTE),',
'    STATUS          VARCHAR2(200 BYTE),',
'    ASM_VERSION     VARCHAR2(100 BYTE),',
'    CRS_VERSION     VARCHAR2(50 BYTE),',
'    IS_EXADATA      NUMBER,',
'    EXADATA_VERSION VARCHAR2(40 BYTE),',
'    EXADATA_RACK    VARCHAR2(20 BYTE),',
'    KIT_ID          VARCHAR2(40 BYTE),',
'    COLLECTION_NAME VARCHAR2(2000 BYTE),',
'    DOC_ID          NUMBER,',
'    FAIL_COMMENT             VARCHAR2(1000),',
'    TOOL_VERSION             VARCHAR2(100),  ',
'    CURRENT_USER             VARCHAR2(100),  ',
'    SKIPPED_CHECKS           NUMBER,         ',
'    IS_EXALOGIC              NUMBER ,',
'    PROFILES       VARCHAR2(2000 BYTE),',
'    SR_BUG_NUM     VARCHAR2(20 BYTE),  ',
'    CONSTRAINT RCA13_COLLECTIONS_PK PRIMARY KEY (COLLECTION_ID)',
'  )',
'/',
'-----------------------------------------------------------------------------------    ',
'CREATE TABLE RCA13_COLLECTION_FILES',
'  (',
'    COLLECTION_FILE_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    COLLECTION_ID      VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    FILE_NAME          VARCHAR2(1000 BYTE),',
'    FILE_TIMESTAMP DATE,',
'    FILE_SIZE       NUMBER,',
'    LOAD_STATUS     VARCHAR2(40 BYTE),',
'    SHORT_FILE_NAME VARCHAR2(500 BYTE),',
'    CONSTRAINT RCA13_COLLECTION_FILES_PK PRIMARY KEY (COLLECTION_FILE_ID)',
'  )',
'/',
'CREATE INDEX RCA13_COLLECTION_FILES_CI ON RCA13_COLLECTION_FILES(COLLECTION_ID);',
'/',
'-------------------------------------------------------------------------------------    ',
'CREATE TABLE RCA13_COLLECTION_FILE_DATA',
'  (',
'    COLLECTION_FILE_DATA_ID VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    COLLECTION_FILE_ID      VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    LINE_TEXT               VARCHAR2(4000 BYTE),',
'    FORMATED_LINE           VARCHAR2(4000 BYTE),',
'    LINE_NUMBER             NUMBER,',
'    CONSTRAINT RCA13_COLLECTION_FILE_DAT_PK PRIMARY KEY (COLLECTION_FILE_DATA_ID)',
'  )',
'/',
'CREATE INDEX RCA13_COL_FILE_DATA_CFID ON RCA13_COLLECTION_FILE_DATA(COLLECTION_FILE_ID);',
'/  ',
'--------------------------------------------------------------------------------------    ',
'CREATE TABLE RCA13_HOSTS',
'  (',
'    HOST_ID       VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    HOST_NAME     VARCHAR2(128 BYTE) NOT NULL ENABLE,',
'    COLLECTION_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    CONSTRAINT RCA13_HOSTS_PK PRIMARY KEY (HOST_ID),',
'    CONSTRAINT RCA13_HOSTS_RCA13_COLLECT_FK1 FOREIGN KEY (COLLECTION_ID) REFERENCES RCA13_COLLECTIONS (COLLECTION_ID) ON',
'  DELETE CASCADE ENABLE',
'  )',
'/',
'CREATE INDEX RCA13_HOSTS_CI ON RCA13_HOSTS(COLLECTION_ID);',
'/',
'CREATE INDEX RCA13_HOSTS_HN ON RCA13_HOSTS(HOST_NAME);',
'/  ',
'-------------------------------------------------------------------------------------    ',
'CREATE TABLE RCA13_IBS_SS',
'  (',
'    IBS_SS_ID     VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    NAME          VARCHAR2(128 BYTE) NOT NULL ENABLE,',
'    COLLECTION_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    TYPE          VARCHAR2(20 BYTE),',
'    CONSTRAINT RCA13_IBS_SS_PK PRIMARY KEY (IBS_SS_ID)',
'  )',
'/',
'CREATE INDEX RCA13_IBS_SS_CI ON RCA13_IBS_SS(COLLECTION_ID);',
'/',
'-------------------------------------------------------------------------------------    ',
'CREATE TABLE RCA13_DATABASES',
'  (',
'    DATABASE_ID      VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    DB_NAME          VARCHAR2(128 BYTE),',
'    HOME_ID          VARCHAR2(40 BYTE),',
'    PHYSICAL_STANDBY NUMBER,',
'    LOGICAL_STANDBY  NUMBER,',
'    COLLECTION_ID    VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    DATABASE_ROLE    VARCHAR2(100 BYTE),',
'    CONSTRAINT RCA13_DATABASES_PK PRIMARY KEY (DATABASE_ID)',
'  )',
'/',
'CREATE INDEX RCA13_DATABASES_CI ON RCA13_DATABASES(COLLECTION_ID);',
'/  ',
'---------------------------------------------------------------------------------',
'CREATE TABLE RCA13_HOMES',
'  (',
'    HOME_ID         VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    HOME_PATH       VARCHAR2(128 BYTE) NOT NULL ENABLE,',
'    VERSION         VARCHAR2(64 BYTE),',
'    USER_NAME       VARCHAR2(128 BYTE),',
'    COLLECTION_ID   VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    TYPE            VARCHAR2(20 BYTE),',
'    HOME_PATH_SHORT VARCHAR2(400 BYTE),',
'    CONSTRAINT RCA13_HOMES_PK PRIMARY KEY (HOME_ID)',
'  )',
'/',
'CREATE INDEX RCA13_HOMES_CI ON RCA13_HOMES(COLLECTION_ID);',
'/',
'------------------------------------------------------------------------------------    ',
'CREATE TABLE RCA13_FILES',
'  (',
'    FILE_ID            VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    COLLECTION_ID      VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    SOURCE_NAME        VARCHAR2(128 BYTE),',
'    SOURCE_TYPE        VARCHAR2(10 BYTE),',
'    COLLECTION_FILE_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    CONSTRAINT RCA13_FILES_PK PRIMARY KEY (FILE_ID)',
'  )',
'/',
'CREATE INDEX RCA13_FILES_INDEX1 ON RCA13_FILES(COLLECTION_ID);',
'/',
'--------------------------------------------------------------    ',
'CREATE TABLE RCA13_CHECKS_INFO',
'  (',
'    CHECK_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    RECOMMENDATION CLOB,',
'    CONSTRAINT RCA13_CHECKS_INFO_PK PRIMARY KEY (CHECK_ID)',
'  )',
'/',
'-----------------------------------------------------------------    ',
'CREATE TABLE RCA13_ASM_INSTANCES',
'  (',
'    INSTANCE_NAME   VARCHAR2(100 BYTE),',
'    NODE_NAME       VARCHAR2(200 BYTE),',
'    COLLECTION_ID   VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    ASM_INSTANCE_ID VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    CONSTRAINT RCA13_ASM_INSTANCES_PK PRIMARY KEY (ASM_INSTANCE_ID)',
'  )',
'/',
'CREATE INDEX RCA13_ASM_INSTANCES_CI ON RCA13_ASM_INSTANCES(COLLECTION_ID);',
'/',
'--------------------------------------------------------------------------  ',
'CREATE TABLE RCA13_LOG',
'  (',
'    COLLECTION_ID VARCHAR2(40 BYTE) DEFAULT sys_guid(),',
'    TEXT          VARCHAR2(2000 BYTE) NOT NULL ENABLE,',
'    DOC_ID        NUMBER,',
'    INS_DATE TIMESTAMP (6) DEFAULT systimestamp',
'  )',
'/',
'CREATE INDEX RCA13_LOG_CI ON RCA13_LOG(COLLECTION_ID);',
'/',
'--------------------------------------------------------------------------    ',
'CREATE TABLE RCA13_DB_INSTANCES',
'  (',
'    DB_INSTANCE_ID VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    DATABASE_ID    VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    INSTANCE_NAME  VARCHAR2(128 BYTE),',
'    NODE_NAME      VARCHAR2(128 BYTE),',
'    COLLECTION_ID  VARCHAR2(40 BYTE) NOT NULL ENABLE,',
'    CONSTRAINT RCA13_DB_INSTANCES_PK PRIMARY KEY (DB_INSTANCE_ID)',
'  )',
'/',
'CREATE INDEX RCA13_DB_INSTANCES_CI ON RCA13_DB_INSTANCES(COLLECTION_ID);',
'/',
'---------------------------------------------------------------------------',
'--- Insert data into rca13_checks_info table ---------------    ',
'insert into rca13_checks_info (check_id,recommendation) values (''B0B22ED1E04418E6E0431EC0E50A2DE3'',''<b>Description</b><br> Operational best practices are an essential prerequisite to high availability.   The integration of Oracle Maximum Availability'
||' Architecture (MAA) operational and configuration best practices with Oracle Exadata Database Machine (Exadata MAA) provides the most comprehensive high availability solution available for the Oracle Database.',
' <br><b>Best Practices</b><br><ul><li><a href="http://docs.oracle.com/cd/E11882_01/server.112/e10803/operational_bps.htm#CHDJHADI" target="_blank">HABP: Chapter 2: Operational Prerequisites to Maximizing Availability </a></li><li><a href="http://www.'
||'oracle.com/technetwork/database/features/availability/exadata-maa-131903.pdf" target="_blank">MAA Paper: MAA Best Practices for Oracle Exadata Database Machine </a></li></ul>'');',
'insert into rca13_checks_info (check_id,recommendation) values (''B12BD323300C7542E0431EC0E50A15D4'',''<b>Description</b><br> The MAA recommended way to achieve the most comprehensive data corruption prevention and detection is to use Oracle Active Data'
||' Guard and configure the DB_BLOCK_CHECKING, DB_BLOCK_CHECKSUM, and DB_LOST_WRITE_PROTECT database initialization parameters on the Primary database and any Data Guard and standby databases.',
'',
' Key HA Benefits',
'<ul>',
'<li>Application downtime can be reduced from hours and days to seconds to no downtime.</li>',
' ',
'<li>Prevention, quick detection and fast repair of data block corruptions. </li>',
' ',
'<li>With Active Data Guard, data block corruptions can be repaired automatically.</li>',
'',
'</ul>',
' <br><b>Best Practices</b><br><ul><li><a href="https://support.oracle.com/CSP/main/article?cmd=show&type=NOT&id=1302539.1" target="_blank">Note: 1302539.1 - Best Practices for Corruption Detection, Prevention, and Automatic Repair - in a Data Guard C'
||'onfiguration</a></li><li><a href="http://docs.oracle.com/cd/E11882_01/server.112/e10803/config_db.htm#BGBHFDFG" target="_blank">HABP: Chapter 5.1.6: Protect Against Data Corruption </a></li><li><a href="https://support.oracle.com/CSP/main/article?cmd'
||'=show&type=NOT&id=1265884.1" target="_blank">Note: 1265884.1 - Resolving ORA-752 or ORA-600 [3020] During Standby Recovery</a></li><li><a href="http://docs.oracle.com/cd/E11882_01/server.112/e10803/outage.htm#BABECCJH" target="_blank">HABP: Chapter 1'
||'3.2.6: </a></li></ul>'');',
'insert into rca13_checks_info (check_id,recommendation) values (''B12E4BFE753547ECE0431EC0E50A6404'',''<b>Description</b><br> A highly available architecture requires the ability of the application tier to transparently fail over to a surviving instance'
||' or database advertising the required service. This ensures that applications are generally available or minimally impacted in the event of node failure, instance failure, or database failures.',
'',
'Oracle listeners can be configured to throttle incoming connections to avoid logon storms after a database node or instance failure.  The connection rate limiter feature in the Oracle Net Listener enables a database administrator (DBA) to limit the n'
||'umber of new connections handled by the listener.',
'',
' <br><b>Best Practices</b><br><ul><li><a href="http://www.oracle.com/technetwork/database/features/availability/maa-wp-11gr2-client-failover-173305.pdf" target="_blank">Client Failover Best Practices for Highly Available Oracle Databases: Oracle Data'
||'base 11g Release 2 </a></li><li><a href="http://www.oracle.com/technetwork/database/features/availability/wlsdatasourcefordataguard-1534212.pdf" target="_blank">Oracle WebLogic Server and Highly Available Oracle Databases: Oracle Integrated Maximum A'
||'vailability Solutions </a></li><li><a href="http://docs.oracle.com/cd/E11882_01/network.112/e10835/listener.htm#BGBHDGEI" target="_blank">Net Services Reference Guide: Connection Rate Limiter Parameters </a></li><li><a href="http://docs.oracle.com/cd'
||'/E11882_01/server.112/e10803/config_fcf.htm#BDCFJEHD" target="_blank">HABP: Chapter 11: Configuring Fast Connection Failover </a></li></ul>'');',
'insert into rca13_checks_info (check_id,recommendation) values (''B0B4A0BC085D39D9E0431EC0E50A1ECC'',''<b>Description</b><br> Oracle RAC and Oracle Clusterware allow Oracle Database to run any packaged or custom application across a set of clustered ser'
||'vers. This capability provides server side high availability and scalability. If a clustered server fails, then Oracle Database continues running on the surviving servers. When more processing power is needed, you can add another server without inter'
||'rupting access to data.',
'',
'Key HA Benefits:',
'',
'Zero database downtime for node and instance failures.  Application brownout can be zero or seconds compared to minutes and an hour with third party cold cluster failover solutions. ',
'',
'Oracle RAC and Oracle Clusterware rolling upgrade for most hardware and software changes excluding Oracle RDBMS patch sets and new database releases.',
' <br><b>Best Practices</b><br><ul><li><a href="http://download.oracle.com/docs/cd/E11882_01/server.112/e10803/config_cw.htm#CEGJIACG" target="_blank">HABP: Chapter 6: Configuring Oracle Database with Oracle Clusterware </a></li><li><a href="http://do'
||'wnload.oracle.com/docs/cd/E11882_01/server.112/e10803/config_rac.htm#BHCBFACB" target="_blank">HABP: Chapter 7: Configuring Oracle Database with Oracle RAC </a></li><li><a href="http://docs.oracle.com/cd/E11882_01/server.112/e10803/config_db.htm#BGBB'
||'DBFJ" target="_blank">HABP: Chapter 5: Configuring Oracle Database contains Generic HA practices </a></li></ul>'');',
'insert into rca13_checks_info (check_id,recommendation) values (''B0B3687F575079F9E0431EC0E50AE277'',''<b>Description</b><br> Database consolidation requires additional planning and management to ensure HA requirements are met.',
' <br><b>Best Practices</b><br><ul><li><a href="http://www.oracle.com/technetwork/database/features/availability/exadata-consolidation-522500.pdf" target="_blank">Best Practices For Database  Consolidation On Exadata Database  Machine </a></li><li><a '
||'href="http://www.oracle.com/technetwork/database/database-cloud/index.html" target="_blank">Oracle Database Cloud </a></li><li><a href="https://support.oracle.com/CSP/main/article?cmd=show&type=NOT&id=1386048.1" target="_blank">Note: 1386048.1 - Sche'
||'ma Recovery Options in a Consolidated Environment</a></li><li><a href="http://www.oracle.com/technetwork/database/focus-areas/performance/resource-manager-twp-133705.pdf" target="_blank">Using Oracle Database Resource Manager </a></li></ul>'');',
'insert into rca13_checks_info (check_id,recommendation) values (''B12D2AE8A6016FF8E0431EC0E50A7194'',''<b>Description</b><br> The Oracle Storage Grid is implemented using either Oracle Automatic Storage Management (ASM) and Oracle Exadata Storage Server'
||' Software or ASM and third-party storage. The Oracle Storage Grid with Exadata seamlessly supports MAA-related technology, improves performance, provides unlimited I/O scalability, is easy to use and manage, and delivers mission-critical availability'
||' and reliability to your enterprise.',
'',
'A properly configured storage grid eliminates single point of failure for storage components, including disk, disk controller, network connections or switches. The Exadata Database Machine default configuration is an example of a properly configured '
||'storage grid.',
'',
'Key HA Benefits:',
'',
'Zero database downtime for storage related failures and maintenance. ',
'Oracle Grid Infrastructure and ASM rolling upgrade.',
'',
'Other References:',
'',
'Oracle® Exadata Storage Server Software User''''s Guide: Chapter 1: Section: About Oracle ASM for Maximum Availability',
' <br><b>Best Practices</b><br><ul><li><a href="http://www.oracle.com/exadata/" target="_blank">Oracle Exadata Database Machine </a></li><li><a href="http://docs.oracle.com/cd/E11882_01/server.112/e10803/config_storage.htm#CDEGCJGF" target="_blank">HA'
||'BP Chapter 4: Configuring Storage </a></li></ul>'');',
'',
'insert into rca13_checks_info (check_id,recommendation) values (''CCAD9345F6447E79E0431EC0E50ABC8C'',''<b>Description</b><br> Oracle database can be configured with best practices that are applicable to all Oracle databases, including single-instance, O'
||'racle RAC databases, Oracle RAC One Node databases, and the primary and standby databases in Oracle Data Guard configurations.',
'Key HA Benefits:',
'<ul>',
'<li>Improved recoverability</li>',
'<li>Improved stability</li>',
'</ul>',
' <br><b>Best Practices</b><br><ul><li><a href="http://docs.oracle.com/cd/E11882_01/server.112/e10803/config_cw.htm#CEGJIACG" target="_blank">Configuring Oracle Database with Oracle Clusterware </a></li><li><a href="http://docs.oracle.com/cd/E11882_01'
||'/server.112/e10803/config_db.htm" target="_blank">Configuring Oracle Database </a></li></ul>'');',
'insert into rca13_checks_info (check_id,recommendation) values (''B0B3687F575279F9E0431EC0E50AE277'',''<b>Description</b><br> Redundant client and interconnect network connectivity using components such as dual-ported Quad Data Rate (QDR) Host Channel A'
||'dapters (HCAs) and redundant switches to ensure no point of failure in your network topology. Configuring the same redundancy for client access by network bonding is recommended.  Additional servers such as media and ETL servers should also be config'
||'ured with redundant networks.',
' <br><b>Best Practices</b><br><ul><li><a href="http://www.oracle.com/technetwork/database/features/availability/exadata-maa-131903.pdf" target="_blank">Deploying Oracle Maximum Availability Architecture with Exadata Database Machine </a></li></ul>'');',
'insert into rca13_checks_info (check_id,recommendation) values (''E34C2AFCFF497B53E04312C0E50A2956'',''<b>Description</b><br> Oracle Recovery Manager (RMAN) is an Oracle Database utility to manage database backup and, more importantly, the recovery of t'
||'he database. RMAN eliminates operational complexity while providing superior performance and availability of the database.',
'RMAN determines the most efficient method of executing the requested backup, restoration, or recovery operation and then submits these operations to the Oracle Database server for processing. RMAN and the server automatically identify modifications t'
||'o the structure of the database and dynamically adjust the required operation to adapt to the changes.',
'',
'RMAN has many unique HA capabilities that can be challenging or impossible for third party backup and restore utilities to deliver such as ',
'<ul>',
'<li>In-depth Oracle data block checks during every backup or restore operation</li>',
'<li>Efficient block media recovery</li> ',
'<li>Automatic recovery through complex database state changes such as resetlogs or past Data Guard role transitions</li> ',
'<li>Fast incremental backup and restore operations</li>',
'<li>Integrated retention policies and backup file management with Oracle’s fast recovery area</li> ',
'<li>Online backups without the need to put the database or data file in hot backup mode.</li></ul>',
'',
'RMAN backups are strategic to MAA so a damaged database (complete database or subset of the database such as a data file or tablespace, log file, or controlfile) can be recovered but for the fastest recovery, use Data Guard or GoldenGate.   RMAN oper'
||'ations are also important for detecting any corrupted blocks from data files that are not frequently accessed. ',
' <br><b>Best Practices</b><br><ul><li><a href="http://www.oracle.com/technetwork/database/features/availability/maa-wp-dbm-zfs-backup-1593252.pdf" target="_blank">Backup and Recovery Performance and Best Practices using the Sun ZFS Storage Appliance '
||'with the Oracle Exadata Database Machine </a></li><li><a href="http://www.oracle.com/technetwork/database/availability/maa-exadata-backup-methodology-495297.pdf" target="_blank">Oracle Exadata Database Machine - Backup & Recovery Sizing: Tape Backups'
||' </a></li><li><a href="http://docs.oracle.com/cd/E11882_01/server.112/e10803/config_backuprec.htm#CHDIADHD" target="_blank">Configuring Backup and Recovery </a></li><li><a href="http://docs.oracle.com/cd/E11882_01/backup.112/e10642/toc.htm" target="_'
||'blank">Oracle® Database Backup and Recovery User''''s Guide 11g Release 2 (11.2) </a></li><li><a href="http://www.oracle.com/technetwork/database/features/availability/maa-tech-wp-sundbm-backup-11202-183503.pdf" target="_blank">Backup and Recovery  Per'
||'formance and Best Practices  for Exadata Cell and Oracle  Exadata Database Machine </a></li></ul>'');',
'insert into rca13_checks_info (check_id,recommendation) values (''DC53A23691D2406AE04312C0E50AEED9'',''<b>Description</b><br> Proactive hardware and software maintenance helps avoid critical issues and helps maintain the highest stability and availabili'
||'ty of your system.  ',
'',
'By running the latest version of exachk, automatic detection occurs for the following:',
'<ul>',
'<li>Software version mismatches on the system.</li>',
'<li>Known critical issues for your specific environment.</li>',
'<li>Software releases that are older than recommended versions.</li>',
'</ul>',
'',
' <br><b>Best Practices</b><br><ul><li><a href="https://support.oracle.com/CSP/main/article?cmd=show&type=NOT&id=1461240.1" target="_blank">Note: 1461240.1 - Exadata Database Machine Software and Hardware Maintenance Planning Guide</a></li><li><a href'
||'="http://www.oracle.com/technetwork/database/features/availability/exadata-consolidation-522500.pdf" target="_blank">Best Practices For Database Consolidation On Exadata Database Machine </a></li><li><a href="https://support.oracle.com/CSP/main/artic'
||'le?cmd=show&type=NOT&id=888828.1" target="_blank">Note: 888828.1 - Database Machine and Exadata Storage Server 11g Release 2 (11.2) Supported Versions</a></li><li><a href="https://support.oracle.com/CSP/main/article?cmd=show&type=NOT&id=1262380.1" ta'
||'rget="_blank">Note: 1262380.1 - Exadata Patching Overview and Patch Testing Guidelines</a></li><li><a href="https://support.oracle.com/CSP/main/article?cmd=show&type=NOT&id=1270094.1" target="_blank">Note: 1270094.1 - Exadata Critical Issues</a></li>'
||'</ul>'');',
'insert into rca13_checks_info (check_id,recommendation) values (''B12BD323300D7542E0431EC0E50A15D4'',''<b>Description</b><br> Oracle Flashback Technology enables fast logical failure repair. Oracle recommends that you use automatic undo management with '
||'sufficient space to attain your desired undo retention guarantee, enable Oracle Flashback Database, and allocate sufficient space and I/O bandwidth in the fast recovery area.  Application monitoring is required for early detection.  Effective and fas'
||'t repair comes from leveraging and rehearsing the most common application specific logical failures and using the different flashback features effectively (e.g flashback query, flashback version query, flashback transaction query, flashback transacti'
||'on, flashback drop, flashback table, and flashback database).',
'',
'Key HA Benefits:',
'',
'With application monitoring and rehearsed repair actions with flashback technologies, application downtime can reduce from hours and days to the time to detect the logical inconsistency.',
'',
'Fast repair for logical failures caused by malicious or accidental DML or DDL operations.',
'',
'Effect fast point-in-time repair at the appropriate level of granularity: transaction, table, or database.',
' ',
'Questions:',
'',
'Can your application or monitoring infrastructure detect logical inconsistencies?',
'',
'Is your operations team prepared to use various flashback technologies to repair quickly and efficiently?',
'',
'Is security practices enforced to prevent unauthorized privileges that can result logical inconsistencies?',
' <br><b>Best Practices</b><br><ul><li><a href="http://download.oracle.com/docs/cd/E11882_01/server.112/e10803/config_db.htm#BGBFJGCI" target="_blank">HABP: Chapter 5.1.4: Enable Flashback Database </a></li><li><a href="https://support.oracle.com/CSP/'
||'main/article?cmd=show&type=NOT&id=565535.1" target="_blank">Note: 565535.1 - Flashback Database Best Practices & Performance</a></li><li><a href="http://docs.oracle.com/cd/E11882_01/server.112/e10803/outage.htm" target="_blank">HABP: Chapter 13.2.7: '
||'Recovering from Human Error (Recovery with Flashback) </a></li><li><a href="http://docs.oracle.com/cd/E11882_01/network.112/e10746/toc.htm" target="_blank">Oracle® Database Advanced Security Administrator''''s Guide </a></li></ul>'');',
'commit;',
'',
''))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(310980236407131844)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Email Tables'
,p_sequence=>445
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'   CREATE TABLE RCA13_EMAIL_FAILURE',
'   (',
'    EMAIL_FAILURE_ID VARCHAR2(40 BYTE),',
'    DATE_ADDED DATE,',
'    EMAIL_ADDRESS VARCHAR2(1000 BYTE),',
'    SUBJECT VARCHAR2(1000 BYTE),',
'    MESSAGE_TEXT VARCHAR2(4000 BYTE),',
'    MESSAGE_LENGTH NUMBER,',
'    ERROR_TEXT CLOB',
'   );',
'   /',
'    CREATE TABLE RCA13_EMAIL_SENT',
'   (    ',
'    EMAIL_SENT_ID VARCHAR2(40 BYTE),',
'    USER_ID VARCHAR2(40 BYTE),',
'    EMAIL_ADDRESS VARCHAR2(4000 BYTE),',
'    SENT_DATE DATE,',
'    MESSAGE_TEXT CLOB',
'   );',
'   /',
'   CREATE TABLE RCA13_MAIL_SERVER',
'   (    ',
'    ID VARCHAR2(40 BYTE),',
'    SERVER_NAME VARCHAR2(200 BYTE),',
'    PORT NUMBER(*,0) DEFAULT 25',
'   );',
'   /',
'   CREATE TABLE RCA13_USER_DETAILS ',
'   (',
'    EMAIL_ADDRESS VARCHAR2(40 BYTE) NOT NULL ENABLE, ',
'    USER_ID VARCHAR2(40 BYTE) NOT NULL ENABLE, ',
'    IS_NOTIFIED NUMBER DEFAULT 0,',
'    EMAILALERT varchar2(50),',
'    TABLESPACEALERT varchar2(50),',
'    CONSTRAINT RCA13_USER_DETAILS_PK PRIMARY KEY (USER_ID)',
'   );',
'   /',
'   CREATE TABLE RCA13_COLLECTIONS_DIFF ',
'   (    ',
'    JOB_ID VARCHAR2(40 BYTE), ',
'    LOB_ID VARCHAR2(40 BYTE), ',
'    SYSTEM_ID VARCHAR2(40 BYTE), ',
'    DIFF CLOB, ',
'    LOB_NAME VARCHAR2(256 BYTE), ',
'    SYSTEM_NAME VARCHAR2(256 BYTE),',
'    DIFF_TYPE VARCHAR2(50)',
'   );',
'   /',
'    CREATE TABLE RCA13_EXCEPTION_LOG(TEXT VARCHAR2(4000),LOG_DATE TIMESTAMP DEFAULT SYSTIMESTAMP);',
'/',
'  CREATE TABLE RCA13_NOTIFICATION_JOBS ',
'   (    ',
'    JOB_ID VARCHAR2(40 BYTE) NOT NULL ENABLE, ',
'    START_TIME DATE, ',
'    END_TIME DATE, ',
'    CONSTRAINT RCA13_NOTIFICATION_JOBS_PK PRIMARY KEY (JOB_ID)',
'   ); ',
'   /',
'  CREATE TABLE RCA13_NOTIFICATION_JOB_DETAILS ',
'   (    JOB_ID VARCHAR2(40 BYTE), ',
'    SYSTEM_ID VARCHAR2(40 BYTE), ',
'    START_CDATE TIMESTAMP (6), ',
'    END_CDATE TIMESTAMP (6)',
'   );',
'   /',
'  CREATE INDEX RCA13_NOTIF_JOB_DTLS_IND1 ON RCA13_NOTIFICATION_JOB_DETAILS (JOB_ID);    ',
'  /',
'  CREATE TABLE RCA13_APEX_DETAILS',
'   (    URL VARCHAR2(1000 BYTE), ',
'    APP_ID NUMBER',
'   );',
'   /',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(308494855427306702)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'create track_actions ,ac_tickets & ignore checks table'
,p_sequence=>450
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE TABLE RCA13_TRACK_ACTIONS',
'  (',
'    ACTION_ID VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    ACTION    VARCHAR2(100 BYTE),',
'    ACTION_ON VARCHAR2(100 BYTE),',
'    CREATED TIMESTAMP (6) DEFAULT systimestamp,',
'    CREATED_BY VARCHAR2(256 BYTE),',
'    SYSTEM_ID  VARCHAR2(40 BYTE),',
'    COLLECTION_DATE TIMESTAMP (6),',
'    ATTR1 VARCHAR2(40 BYTE),',
'    ATTR2 VARCHAR2(40 BYTE),',
'    ATTR3 VARCHAR2(40 BYTE),',
'    CONSTRAINT RCA13_TRACK_ACTIONS_PK PRIMARY KEY (ACTION_ID)',
' )',
'/',
'----------------------------------------------------------    ',
'CREATE TABLE RCA13_IGNORED_CHECKS',
'  (',
'    IGNORE_ID VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    COLLECTION_DATE TIMESTAMP (6),',
'    COLLECTION_NAME VARCHAR2(256),',
'    CHECK_ID  VARCHAR2(40 BYTE),',
'    SYSTEM_ID VARCHAR2(40 BYTE),',
'    CREATED TIMESTAMP (6) DEFAULT systimestamp,',
'    CREATED_BY VARCHAR2(256 BYTE),',
'    TYPE       VARCHAR2(40 BYTE),',
'    ACR_ID     VARCHAR2(40 BYTE),',
'    IGNORE_TIME_BOUND TIMESTAMP (6),',
'    UN_IGNORED NUMBER,',
'    CONSTRAINT RCA13_IGNORED_CHECKS_PK PRIMARY KEY (IGNORE_ID),',
'    CONSTRAINT RCA13_IGNORED_CHECKS_UK1 UNIQUE (COLLECTION_DATE, CHECK_ID, SYSTEM_ID, ACR_ID)',
'  )',
'/',
'create or replace',
'TRIGGER RCA13_IGNORED_CHECKS_TA',
'after insert or delete on RCA13_IGNORED_CHECKS',
'for each row',
'begin',
'   if inserting then',
'      insert into rca13_track_actions(ACTION,ACTION_ON,CREATED_BY,system_id,COLLECTION_DATE,ATTR1)',
'      values(''IGNORE'',''CHECK'',v(''APP_USER''),:new.system_id,:new.COLLECTION_DATE,:NEW.CHECK_ID); ',
'   end if;',
'   if deleting then',
'      insert into rca13_track_actions(ACTION,ACTION_ON,CREATED_BY,system_id,COLLECTION_DATE,ATTR1)',
'      values(''UNIGNORE'',''CHECK'',v(''APP_USER''),:OLD.system_id,:OLD.COLLECTION_DATE,:OLD.CHECK_ID);  ',
'   end if;',
'end;',
'/',
'ALTER TRIGGER RCA13_IGNORED_CHECKS_TA ENABLE;',
'/',
'    ',
'    ',
'CREATE TABLE RCA13_AC_TICKETS',
'  (',
'    ACS_TICKET_ID VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE,',
'    TICKET_ID     VARCHAR2(100 BYTE) NOT NULL ENABLE,',
'    TYPE          VARCHAR2(40 BYTE),',
'    ATTR1         VARCHAR2(40 BYTE),',
'    COLLECTION_DATE TIMESTAMP (6),',
'  COLLECTION_NAME VARCHAR2(2000 BYTE),',
'  SYSTEM_ID       VARCHAR2(40 BYTE),',
'  CONSTRAINT RCA13_AC_TICKETS_PK PRIMARY KEY (ACS_TICKET_ID)',
'  )',
'/',
'CREATE INDEX RCA13_AC_TICKETS_CD ON RCA13_AC_TICKETS(COLLECTION_DATE);',
'/',
'CREATE INDEX RCA13_AC_TICKETS_TI ON RCA13_AC_TICKETS(TICKET_ID);',
'/',
'CREATE INDEX RCA13_AC_TICKETS_TYPE ON RCA13_AC_TICKETS(TYPE);',
'/',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312116464329232794)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Create MD tables'
,p_sequence=>540
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE TABLE "RCA13_COLLECTIONS_MD"    (    ',
'    "COLLECTION_DATE" TIMESTAMP (6) NOT NULL ENABLE, ',
'    "COLLECTION_NAME" VARCHAR2(512 BYTE) NOT NULL ENABLE, ',
'    "COLLECTION_ID" VARCHAR2(40 BYTE), ',
'    "CID" VARCHAR2(40 BYTE) DEFAULT sys_guid() NOT NULL ENABLE, ',
'    CONSTRAINT "RCA13_COLLECTIONS_MD_PK" PRIMARY KEY ("CID"),',
'    CONSTRAINT "RCA13_COLLECTIONS_MD_UK1" UNIQUE ("COLLECTION_DATE", "COLLECTION_NAME")',
');',
'/',
'',
'/',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312116638057253567)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Manage Zips Specs'
,p_sequence=>550
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace ',
'PACKAGE RCA13_MANAGE_ZIPS AS ',
'  type file_list is table of clob;',
'  function file2blob    ( p_dir varchar2    , p_file_name varchar2    )  return blob;',
'  function get_file_list    ( p_dir varchar2    , p_zip_file varchar2    , p_encoding varchar2 := null    )  return file_list;',
'  function get_file_list    ( p_zipped_blob blob    , p_encoding varchar2 := null    )  return file_list;',
'  function get_file    ( p_dir varchar2    , p_zip_file varchar2    , p_file_name varchar2    , p_encoding varchar2 := null    )  return blob;',
'  function get_file    ( p_zipped_blob blob    , p_file_name varchar2    , p_encoding varchar2 := null    )  return blob;',
'  procedure add1file    ( p_zipped_blob in out blob    , p_name varchar2    , p_content blob    );',
'  procedure finish_zip( p_zipped_blob in out blob );',
' ',
'  function blob2num( p_blob blob, p_len integer, p_pos integer )  return number;',
'  ',
'  function raw2varchar2( p_raw raw, p_encoding varchar2 )  return varchar2;',
'  ',
'  function little_endian( p_big number, p_bytes pls_integer := 4 ) return raw;',
'END RCA13_MANAGE_ZIPS;',
'',
'/',
'',
'show errors   '))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312116842475273764)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Manage Zips Body'
,p_sequence=>560
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace ',
'PACKAGE BODY RCA13_MANAGE_ZIPS AS',
' --',
'  c_LOCAL_FILE_HEADER        constant raw(4) := hextoraw( ''504B0304'' ); -- Local file header signature',
'  c_END_OF_CENTRAL_DIRECTORY constant raw(4) := hextoraw( ''504B0506'' ); -- End of central directory signature',
'--',
'  function blob2num( p_blob blob, p_len integer, p_pos integer )',
'  return number',
'  is',
'  begin',
'    return utl_raw.cast_to_binary_integer( dbms_lob.substr( p_blob, p_len, p_pos ), utl_raw.little_endian );',
'  end;',
'--',
'  function raw2varchar2( p_raw raw, p_encoding varchar2 )',
'  return varchar2',
'  is',
'  begin',
'    return coalesce( utl_i18n.raw_to_char( p_raw, p_encoding )',
'                   , utl_i18n.raw_to_char( p_raw, utl_i18n.map_charset( p_encoding, utl_i18n.GENERIC_CONTEXT, utl_i18n.IANA_TO_ORACLE ) )',
'                   );',
'  end;',
'--',
'  function little_endian( p_big number, p_bytes pls_integer := 4 )',
'  return raw',
'  is',
'  begin',
'    return utl_raw.substr( utl_raw.cast_from_binary_integer( p_big, utl_raw.little_endian ), 1, p_bytes );',
'  end;',
'--',
'  function file2blob    ( p_dir varchar2    , p_file_name varchar2    )',
'  return blob',
'  is',
'    file_lob bfile;',
'    file_blob blob;',
'  begin',
'    file_lob := bfilename( p_dir, p_file_name );',
'    dbms_lob.open( file_lob, dbms_lob.file_readonly );',
'    dbms_lob.createtemporary( file_blob, true );',
'    dbms_lob.loadfromfile( file_blob, file_lob, dbms_lob.lobmaxsize );',
'    dbms_lob.close( file_lob );',
'    return file_blob;',
'  exception',
'    when others then',
'      if dbms_lob.isopen( file_lob ) = 1',
'      then',
'        dbms_lob.close( file_lob );',
'      end if;',
'      if dbms_lob.istemporary( file_blob ) = 1',
'      then',
'        dbms_lob.freetemporary( file_blob );',
'      end if;',
'      raise;',
'  end;',
'--',
'  function get_file_list     ( p_zipped_blob blob , p_encoding varchar2 := null    )',
'  return file_list',
'  is',
'    t_ind integer;',
'    t_hd_ind integer;',
'    t_rv file_list;',
'    t_encoding varchar2(32767);',
'  begin',
'    t_ind := dbms_lob.getlength( p_zipped_blob ) - 21;',
'    loop',
'      exit when t_ind < 1 or dbms_lob.substr( p_zipped_blob, 4, t_ind ) = c_END_OF_CENTRAL_DIRECTORY;',
'      t_ind := t_ind - 1;',
'    end loop;',
'--',
'    if t_ind <= 0',
'    then',
'      return null;',
'    end if;',
'--',
'    t_hd_ind := blob2num( p_zipped_blob, 4, t_ind + 16 ) + 1;',
'    t_rv := file_list();',
'    t_rv.extend( blob2num( p_zipped_blob, 2, t_ind + 10 ) );',
'    for i in 1 .. blob2num( p_zipped_blob, 2, t_ind + 8 )',
'    loop',
'      if p_encoding is null',
'      then',
'        if utl_raw.bit_and( dbms_lob.substr( p_zipped_blob, 1, t_hd_ind + 9 ), hextoraw( ''08'' ) ) = hextoraw( ''08'' )',
'        then  ',
'          t_encoding := ''AL32UTF8''; -- utf8',
'        else',
'          t_encoding := ''US8PC437''; -- IBM codepage 437',
'        end if;',
'      else',
'        t_encoding := p_encoding;',
'      end if;',
'      t_rv( i ) := raw2varchar2',
'                     ( dbms_lob.substr( p_zipped_blob',
'                                      , blob2num( p_zipped_blob, 2, t_hd_ind + 28 )',
'                                      , t_hd_ind + 46',
'                                      )',
'                     , t_encoding',
'                     );',
'      t_hd_ind := t_hd_ind + 46',
'                + blob2num( p_zipped_blob, 2, t_hd_ind + 28 )  -- File name length',
'                + blob2num( p_zipped_blob, 2, t_hd_ind + 30 )  -- Extra field length',
'                + blob2num( p_zipped_blob, 2, t_hd_ind + 32 ); -- File comment length',
'    end loop;',
'--',
'    return t_rv;',
'  end;',
'--',
'  function get_file_list     ( p_dir varchar2    , p_zip_file varchar2    , p_encoding varchar2 := null    )',
'  return file_list',
'  is',
'  begin',
'    return get_file_list( file2blob( p_dir, p_zip_file ), p_encoding );',
'  end;',
'--',
'  function get_file',
'    ( p_zipped_blob blob',
'    , p_file_name varchar2',
'    , p_encoding varchar2 := null',
'    )',
'  return blob',
'  is',
'    t_tmp blob;',
'    t_ind integer;',
'    t_hd_ind integer;',
'    t_fl_ind integer;',
'    t_encoding varchar2(32767);',
'    t_len integer;',
'  begin',
'    t_ind := dbms_lob.getlength( p_zipped_blob ) - 21;',
'    loop',
'      exit when t_ind < 1 or dbms_lob.substr( p_zipped_blob, 4, t_ind ) = c_END_OF_CENTRAL_DIRECTORY;',
'      t_ind := t_ind - 1;',
'    end loop;',
'--',
'    if t_ind <= 0',
'    then',
'      return null;',
'    end if;',
'--',
'    t_hd_ind := blob2num( p_zipped_blob, 4, t_ind + 16 ) + 1;',
'    for i in 1 .. blob2num( p_zipped_blob, 2, t_ind + 8 )',
'    loop',
'      if p_encoding is null',
'      then',
'        if utl_raw.bit_and( dbms_lob.substr( p_zipped_blob, 1, t_hd_ind + 9 ), hextoraw( ''08'' ) ) = hextoraw( ''08'' )',
'        then  ',
'          t_encoding := ''AL32UTF8''; -- utf8',
'        else',
'          t_encoding := ''US8PC437''; -- IBM codepage 437',
'        end if;',
'      else',
'        t_encoding := p_encoding;',
'      end if;',
'      if p_file_name = raw2varchar2',
'                         ( dbms_lob.substr( p_zipped_blob',
'                                          , blob2num( p_zipped_blob, 2, t_hd_ind + 28 )',
'                                          , t_hd_ind + 46',
'                                          )',
'                         , t_encoding',
'                         )',
'      then',
'        t_len := blob2num( p_zipped_blob, 4, t_hd_ind + 24 ); -- uncompressed length ',
'        if t_len = 0',
'        then',
'          if substr( p_file_name, -1 ) in ( ''/'', ''\'' )',
'          then  -- directory/folder',
'            return null;',
'          else -- empty file',
'            return empty_blob();',
'          end if;',
'        end if;',
'--',
'        if dbms_lob.substr( p_zipped_blob, 2, t_hd_ind + 10 ) = hextoraw( ''0800'' ) -- deflate',
'        then',
'          t_fl_ind := blob2num( p_zipped_blob, 4, t_hd_ind + 42 );',
'          t_tmp := hextoraw( ''1F8B0800000000000003'' ); -- gzip header',
'          dbms_lob.copy( t_tmp',
'                       , p_zipped_blob',
'                       ,  blob2num( p_zipped_blob, 4, t_hd_ind + 20 )',
'                       , 11',
'                       , t_fl_ind + 31',
'                       + blob2num( p_zipped_blob, 2, t_fl_ind + 27 ) -- File name length',
'                       + blob2num( p_zipped_blob, 2, t_fl_ind + 29 ) -- Extra field length',
'                       );',
'          dbms_lob.append( t_tmp, utl_raw.concat( dbms_lob.substr( p_zipped_blob, 4, t_hd_ind + 16 ) -- CRC32',
'                                                , little_endian( t_len ) -- uncompressed length',
'                                                )',
'                         );',
'          return utl_compress.lz_uncompress( t_tmp );',
'        end if;',
'--',
'        if dbms_lob.substr( p_zipped_blob, 2, t_hd_ind + 10 ) = hextoraw( ''0000'' ) -- The file is stored (no compression)',
'        then',
'          t_fl_ind := blob2num( p_zipped_blob, 4, t_hd_ind + 42 );',
'          dbms_lob.createtemporary( t_tmp, true );',
'          dbms_lob.copy( t_tmp',
'                       , p_zipped_blob',
'                       , t_len',
'                       , 1',
'                       , t_fl_ind + 31',
'                       + blob2num( p_zipped_blob, 2, t_fl_ind + 27 ) -- File name length',
'                       + blob2num( p_zipped_blob, 2, t_fl_ind + 29 ) -- Extra field length',
'                       );',
'          return t_tmp;',
'        end if;',
'      end if;',
'      t_hd_ind := t_hd_ind + 46',
'                + blob2num( p_zipped_blob, 2, t_hd_ind + 28 )  -- File name length',
'                + blob2num( p_zipped_blob, 2, t_hd_ind + 30 )  -- Extra field length',
'                + blob2num( p_zipped_blob, 2, t_hd_ind + 32 ); -- File comment length',
'    end loop;',
'--',
'    return null;',
'  end;',
'--',
'  function get_file',
'    ( p_dir varchar2',
'    , p_zip_file varchar2',
'    , p_file_name varchar2',
'    , p_encoding varchar2 := null',
'    )',
'  return blob',
'  is',
'  begin',
'    return get_file( file2blob( p_dir, p_zip_file ), p_file_name, p_encoding );',
'  end;',
'--',
'  procedure add1file     ( p_zipped_blob in out blob    , p_name varchar2    , p_content blob    )  is',
'    t_now date;',
'    t_blob blob;',
'    t_len integer;',
'    t_clen integer;',
'    t_crc32 raw(4) := hextoraw( ''00000000'' );',
'    t_compressed boolean := false;',
'    t_name raw(32767);',
'  begin',
'    t_now := sysdate;',
'    t_len := nvl( dbms_lob.getlength( p_content ), 0 );',
'    if t_len > 0',
'    then ',
'      t_blob := utl_compress.lz_compress( p_content );',
'      t_clen := dbms_lob.getlength( t_blob ) - 18;',
'      t_compressed := t_clen < t_len;',
'      t_crc32 := dbms_lob.substr( t_blob, 4, t_clen + 11 );       ',
'    end if;',
'    if not t_compressed',
'    then ',
'      t_clen := t_len;',
'      t_blob := p_content;',
'    end if;',
'    if p_zipped_blob is null',
'    then',
'      dbms_lob.createtemporary( p_zipped_blob, true );',
'    end if;',
'    t_name := utl_i18n.string_to_raw( p_name, ''AL32UTF8'' );',
'    dbms_lob.append( p_zipped_blob',
'                   , utl_raw.concat( c_LOCAL_FILE_HEADER -- Local file header signature',
'                                   , hextoraw( ''1400'' )  -- version 2.0',
'                                   , case when t_name = utl_i18n.string_to_raw( p_name, ''US8PC437'' )',
'                                       then hextoraw( ''0000'' ) -- no General purpose bits',
'                                       else hextoraw( ''0008'' ) -- set Language encoding flag (EFS)',
'                                     end ',
'                                   , case when t_compressed',
'                                        then hextoraw( ''0800'' ) -- deflate',
'                                        else hextoraw( ''0000'' ) -- stored',
'                                     end',
'                                   , little_endian( to_number( to_char( t_now, ''ss'' ) ) / 2',
'                                                  + to_number( to_char( t_now, ''mi'' ) ) * 32',
'                                                  + to_number( to_char( t_now, ''hh24'' ) ) * 2048',
'                                                  , 2',
'                                                  ) -- File last modification time',
'                                   , little_endian( to_number( to_char( t_now, ''dd'' ) )',
'                                                  + to_number( to_char( t_now, ''mm'' ) ) * 32',
'                                                  + ( to_number( to_char( t_now, ''yyyy'' ) ) - 1980 ) * 512',
'                                                  , 2',
'                                                  ) -- File last modification date',
'                                   , t_crc32 -- CRC-32',
'                                   , little_endian( t_clen )                      -- compressed size',
'                                   , little_endian( t_len )                       -- uncompressed size',
'                                   , little_endian( utl_raw.length( t_name ), 2 ) -- File name length',
'                                   , hextoraw( ''0000'' )                           -- Extra field length',
'                                   , t_name                                       -- File name',
'                                   )',
'                   );',
'    if t_compressed',
'    then                   ',
'      dbms_lob.copy( p_zipped_blob, t_blob, t_clen, dbms_lob.getlength( p_zipped_blob ) + 1, 11 ); -- compressed content',
'    elsif t_clen > 0',
'    then                   ',
'      dbms_lob.copy( p_zipped_blob, t_blob, t_clen, dbms_lob.getlength( p_zipped_blob ) + 1, 1 ); --  content',
'    end if;',
'    if dbms_lob.istemporary( t_blob ) = 1',
'    then      ',
'      dbms_lob.freetemporary( t_blob );',
'    end if;',
'  end;',
'--',
'  procedure finish_zip( p_zipped_blob in out blob )',
'  is',
'    t_cnt pls_integer := 0;',
'    t_offs integer;',
'    t_offs_dir_header integer;',
'    t_offs_end_header integer;',
'    t_comment raw(32767) := utl_raw.cast_to_raw( ''Implementation by Anton Scheffer'' );',
'  begin',
'    t_offs_dir_header := dbms_lob.getlength( p_zipped_blob );',
'    t_offs := 1;',
'    while dbms_lob.substr( p_zipped_blob, utl_raw.length( c_LOCAL_FILE_HEADER ), t_offs ) = c_LOCAL_FILE_HEADER',
'    loop',
'      t_cnt := t_cnt + 1;',
'      dbms_lob.append( p_zipped_blob',
'                     , utl_raw.concat( hextoraw( ''504B0102'' )      -- Central directory file header signature',
'                                     , hextoraw( ''1400'' )          -- version 2.0',
'                                     , dbms_lob.substr( p_zipped_blob, 26, t_offs + 4 )',
'                                     , hextoraw( ''0000'' )          -- File comment length',
'                                     , hextoraw( ''0000'' )          -- Disk number where file starts',
'                                     , hextoraw( ''0000'' )          -- Internal file attributes => ',
'                                                                   --     0000 binary file',
'                                                                   --     0100 (ascii)text file',
'                                     , case',
'                                         when dbms_lob.substr( p_zipped_blob',
'                                                             , 1',
'                                                             , t_offs + 30 + blob2num( p_zipped_blob, 2, t_offs + 26 ) - 1',
'                                                             ) in ( hextoraw( ''2F'' ) -- /',
'                                                                  , hextoraw( ''5C'' ) -- \',
'                                                                  )',
'                                         then hextoraw( ''10000000'' ) -- a directory/folder',
'                                         else hextoraw( ''2000B681'' ) -- a file',
'                                       end                         -- External file attributes',
'                                     , little_endian( t_offs - 1 ) -- Relative offset of local file header',
'                                     , dbms_lob.substr( p_zipped_blob',
'                                                      , blob2num( p_zipped_blob, 2, t_offs + 26 )',
'                                                      , t_offs + 30',
'                                                      )            -- File name',
'                                     )',
'                     );',
'      t_offs := t_offs + 30 + blob2num( p_zipped_blob, 4, t_offs + 18 )  -- compressed size',
'                            + blob2num( p_zipped_blob, 2, t_offs + 26 )  -- File name length ',
'                            + blob2num( p_zipped_blob, 2, t_offs + 28 ); -- Extra field length',
'    end loop;',
'    t_offs_end_header := dbms_lob.getlength( p_zipped_blob );',
'    dbms_lob.append( p_zipped_blob',
'                   , utl_raw.concat( c_END_OF_CENTRAL_DIRECTORY                                -- End of central directory signature',
'                                   , hextoraw( ''0000'' )                                        -- Number of this disk',
'                                   , hextoraw( ''0000'' )                                        -- Disk where central directory starts',
'                                   , little_endian( t_cnt, 2 )                                 -- Number of central directory records on this disk',
'                                   , little_endian( t_cnt, 2 )                                 -- Total number of central directory records',
'                                   , little_endian( t_offs_end_header - t_offs_dir_header )    -- Size of central directory',
'                                   , little_endian( t_offs_dir_header )                        -- Offset of start of central directory, relative to start of archive',
'                                   , little_endian( nvl( utl_raw.length( t_comment ), 0 ), 2 ) -- ZIP file comment length',
'                                   , t_comment',
'                                   )',
'                   );',
'  end;',
'END RCA13_MANAGE_ZIPS;',
'',
'/',
' ',
'show errors              ',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312133367677476028)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'get data4columns specs'
,p_sequence=>561
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE RCA13_GET_DATA4COLUMNS AS ',
'  function getIBSwitches(collectionId varchar2,cNo number) return varchar2;',
'  function getDatabases(collectionId varchar2,cNo number) return varchar2;',
'  function getStorageServers(collectionId varchar2,cNo number) return varchar2;',
'  function getCrsHome(collectionId varchar2) return varchar2;',
'  function getASMHome(collectionId varchar2) return varchar2;',
'  function getRdbmsHome(collectionId varchar2) return varchar2;',
'  function getDBServers(collectionId varchar2,cNo number) return varchar2;',
'  function getCollectionScore(collectionId varchar2,cName varchar2,cDate timestamp,flag number default 0 ) return number;',
'END RCA13_GET_DATA4COLUMNS;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312133547030479518)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'get data4columns body'
,p_sequence=>562
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE BODY RCA13_GET_DATA4COLUMNS AS',
'--------------------------------------------------------------------------------',
'function getCrsHome(collectionId varchar2) return varchar2 as',
'home varchar2(1000);',
'begin',
' select home_path||'' - ''||version into home from rca13_homes where collection_id = collectionId and type in (''CRS'',''GI'');',
' return home;',
' exception when others then return null;',
'end;',
'--------------------------------------------------------------------------------',
'function getASMHome(collectionId varchar2) return varchar2 as',
'home varchar2(1000);',
'begin',
' select home_path||'' - ''||version into home from rca13_homes where collection_id = collectionId and type in (''ASM'');',
' return home;',
' exception when others then return null;',
'end;',
'--------------------------------------------------------------------------------',
'function getRdbmsHome(collectionId varchar2) return varchar2 as',
'home varchar2(1000);',
'begin',
' for rec in ( select home_path||'' - ''||version h from rca13_homes where collection_id = collectionId and type in (''RDBMS'') ) loop',
'  home := home ||rec.h||''<br>'';',
' end loop;',
' return rtrim(home,''<br>'');',
' exception when others then return null;',
'end;',
'--------------------------------------------------------------------------------',
'function getDBServers(collectionId varchar2,cNo number) return varchar2 as',
'nodesList varchar2(4000);',
'begin',
' for rec in ( select host_name hn from rca13_hosts where collection_id = collectionId ) loop',
'  nodesList := nodesList || rec.hn||'', '';',
' end loop;',
'  nodesList := rtrim(nodesList,'', '');',
' if length(nodesList) > 100 then ',
'  nodesList := substr(nodesList,1,100)||''<div id="nodesList''||cNo||''" style="DISPLAY: none">''|| ',
'              substr(nodesList,101)||'' </div> <br> <a id="nodesList''||cNo||''_mh" href="javascript:;" onclick="javascript:ShowHide(''''nodesList''||cNo||'''''')">...More</a>'';',
' end if;',
'return nodesList;',
'end;',
'--------------------------------------------------------------------------------',
'function getStorageServers(collectionId varchar2,cNo number) return varchar2 as',
'nodesList varchar2(4000);',
'begin',
' for rec in ( select name hn from rca13_ibs_ss where collection_id = collectionId and type like ''C'') loop',
'  nodesList := nodesList || rec.hn||'', '';',
' end loop;',
' nodesList := rtrim(nodesList,'', '');',
' if length(nodesList) > 100 then ',
'  nodesList := substr(nodesList,1,100)||''<div id="cellsList''||cNo||''" style="DISPLAY: none">''|| ',
'              substr(nodesList,101)||'' </div> <br> <a id="cellsList''||cNo||''_mh" href="javascript:;" onclick="javascript:ShowHide(''''cellsList''||cNo||'''''')">...More</a>'';',
' end if;',
'return nodesList;',
'end;',
'--------------------------------------------------------------------------------',
'function getDatabases(collectionId varchar2,cNo number) return varchar2 as',
'nodesList varchar2(4000);',
'begin',
' for rec in ( select db_name hn,database_role dr from rca13_databases where collection_id = collectionId) loop',
'   if rec.dr is null then',
'     nodesList := nodesList || rec.hn||'', '';',
'   else',
'     nodesList := nodesList || rec.hn||''(''||rec.dr||'')''||'', '';',
'   end if;  ',
' end loop;',
' nodesList := rtrim(nodesList,'', '');',
' if length(nodesList) > 100 then ',
'  nodesList := substr(nodesList,1,100)||''<div id="databasesList''||cNo||''" style="DISPLAY: none">''|| ',
'              substr(nodesList,101)||'' </div> <br> <a id="databasesList''||cNo||''_mh" href="javascript:;" onclick="javascript:ShowHide(''''databasesList''||cNo||'''''')">...More</a>'';',
' end if;',
'return nodesList;',
'end;',
'--------------------------------------------------------------------------------',
'function getIBSwitches(collectionId varchar2,cNo number) return varchar2 as',
'nodesList varchar2(4000);',
'begin',
' for rec in ( select name hn from rca13_ibs_ss where collection_id = collectionId and type like ''S'') loop',
'  nodesList := nodesList || rec.hn||'', '';',
' end loop;',
' nodesList := rtrim(nodesList,'', '');',
' if length(nodesList) > 100 then ',
'  nodesList := substr(nodesList,1,100)||''<div id="switchesList''||cNo||''" style="DISPLAY: none">''|| ',
'              substr(nodesList,101)||'' </div> <br> <a id="switchesList''||cNo||''_mh" href="javascript:;" onclick="javascript:ShowHide(''''switchesList''||cNo||'''''')">...More</a>'';',
' end if;',
'return nodesList;',
'end;',
'--------------------------------------------------------------------------------',
'function getCollectionScore(collectionId varchar2,cName varchar2,cDate timestamp,flag number default 0) return number as',
'crh_total_points number;',
'crh_err_points number;',
'crh_less_points number;',
'crh_health number;',
'G_TOTAL_CHECKS number := 0;',
'G_FAIL_CHECKS number := 0;',
'G_WARN_CHECKS number := 0;',
'G_INFO_CHECKS number := 0;',
'sysId varchar2(40);',
'cnt number;',
'skippedChecksCnt number := 0;',
'isExalogic number := 0;',
'PRAGMA AUTONOMOUS_TRANSACTION;',
'begin',
'   -- Get system id of collection',
'   select system_id into sysId from rca13_col2sys_mapping where collection_date = cDate and collection_name = cName;',
'   --If ticket is closed on collection, return score as 100%',
'   if flag = 1 then ---call from trigger',
'     select count(1) into cnt from rca13_ac_tickets a,rca13_intrack_incidents b ',
'     where a.collection_date = cDate and a.collection_name = cName and a.ticket_id = b.id;',
'   else ',
'     select count(1) into cnt from rca13_ac_tickets a,rca13_intrack_incidents b ',
'     where a.collection_date = cDate and a.collection_name = cName and a.ticket_id = b.id and b.status_code >= 80;',
'   end if;',
'   ',
'   if cnt > 0 then ',
'     return 100;',
'   end if;   ',
'   -- Following statement fails when result is inserted before collection is processed',
'   -- But we should update after collection is processed',
'   if collectionid is not null then ',
'    begin',
'     select skipped_checks,is_exalogic into skippedChecksCnt,isExalogic from rca13_collections where collection_id = collectionid;',
'     exception when others then null; -- Score will not consider skipped checks',
'    end; ',
'   end if; ',
'   select count(*) into G_TOTAL_CHECKS from auditcheck_result a where collection_date = cDate and upload_collection_name = cName  ',
'   AND not exists ( SELECT 1 FROM rca13_ignored_checks t1 WHERE a.check_id = t1.check_id and a.status = ''FAIL''',
'   AND t1.system_id =sysId AND ( t1.collection_date IS NULL OR ( t1.collection_date  = a.collection_date ',
'   and t1.collection_name = a.UPLOAD_COLLECTION_NAME and acr_id is null ) ',
'   OR acr_id = a.auditcheck_result_id) ); ',
'   --If check is ignored, don''t use it for caliculating score',
'   for rec in ( select status,auditcheck_result_id ari from auditcheck_result a where a.collection_date = cDate and a.UPLOAD_COLLECTION_NAME = cName ',
'                and a.status in (''FAIL'',''WARNING'',''INFO'') and ',
'                not exists ( SELECT 1 FROM rca13_ignored_checks t1 WHERE a.check_id = t1.check_id and a.status = ''FAIL''',
'                AND t1.system_id =sysId AND ( t1.collection_date IS NULL OR ( t1.collection_date  = a.collection_date ',
'                and t1.collection_name = a.UPLOAD_COLLECTION_NAME and acr_id is null ) ',
'                OR acr_id = a.auditcheck_result_id ) ) ) loop ',
'     --If ticket is closed on check, use failed/warned check as pass and caliculate score',
'     cnt := 0;',
'     select count(1) into cnt from rca13_ac_tickets a,rca13_intrack_incidents b ',
'     where a.attr1 = rec.ari and a.ticket_id = b.id and b.status_code >= 80;',
'     continue when cnt > 0; ',
'     case ',
'        when rec.status = ''FAIL'' then',
'          G_FAIL_CHECKS := G_FAIL_CHECKS + 1;',
'        when rec.status = ''WARNING'' then',
'          G_WARN_CHECKS := G_WARN_CHECKS + 1; ',
'        when rec.status = ''INFO'' then ',
'          G_INFO_CHECKS := G_INFO_CHECKS + 1;',
'        else',
'          G_FAIL_CHECKS := G_FAIL_CHECKS + 1;',
'     end case;',
'   end loop;',
' crh_total_points := G_TOTAL_CHECKS*10;',
' --dbms_output.put_line(''total=''||crh_total_points);',
' if isExalogic = 1 then',
'   crh_err_points := G_FAIL_CHECKS*10+G_WARN_CHECKS*5+G_INFO_CHECKS*3+skippedChecksCnt*10;',
' else',
'   crh_err_points := G_FAIL_CHECKS*10+G_WARN_CHECKS*5+G_INFO_CHECKS*3+skippedChecksCnt*3;',
' end if;  ',
' --dbms_output.put_line(G_FAIL_CHECKS||''*10+''||G_WARN_CHECKS||''*5+''||G_INFO_CHECKS||''*3'');',
' crh_less_points := crh_total_points - crh_err_points;',
' crh_health := 0;',
'  if crh_total_points > 0 then ',
'    crh_health := crh_less_points*100 / crh_total_points;    ',
'  end if;',
'  return round(crh_health);',
'end;',
'--------------------------------------------------------------------------------',
'--Get check actual values',
'function getCheckDetails (cDate timestamp,checkId varchar2) return clob is',
'rValue clob;',
'collectionId varchar2(40);',
'cName varchar2(256);',
'htmlFileId varchar2(40) := NULL;',
'readingOn number := 0;',
'begin',
' begin',
'   --For now we are not calling this fun anyware .. don''t worry about collection_name column for now',
'   select collection_id,collection_name into collectionId,cName from rca13_collections where collection_date = cDate;',
'   exception when NO_DATA_FOUND then return null;  ',
' end;  ',
' -- Get file id of html file',
' for rec in ( select collection_file_id cfi from rca13_collection_files a where short_file_name = cName||''.html'' ',
'              and collection_id = collectionId ',
'              and (select count(1) from rca13_collection_file_data where collection_file_id = a.collection_file_id ) > 0 ) loop',
'   htmlFileId := rec.cfi;',
' end loop; ',
' if htmlFileId is null then ',
'   return null;',
' end if;',
' for rec in ( select line_text lt from rca13_collection_file_data where collection_file_id = htmlFileId order by line_number ) loop ',
'   if readingOn = 0 and instr(rec.lt,''id="''||checkId||''_contents"'') > 0 then',
'     readingOn := 1;',
'   end if;',
'   if readingOn = 1 and instr(rec.lt,''<div id="'') > 0 and  instr(rec.lt,''_contents">'') > 0 then',
'     exit;',
'   end if;   ',
'   if readingOn = 1 then ',
'     rValue := rValue || rec.lt;',
'   end if;',
' end loop;',
' return rValue;',
'end;',
'--------------------------------------------------------------------------------',
'END RCA13_GET_DATA4COLUMNS;',
'/'))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312198558836773520)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>' manage parameters specs'
,p_sequence=>563
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE RCA13_MANAGE_PARAMS AS ',
' procedure processParamFiles(collectionId varchar2);',
'END RCA13_MANAGE_PARAMS;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312198741998778124)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'manage parameters body'
,p_sequence=>564
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'a',
'    ',
'create or replace PACKAGE BODY RCA13_MANAGE_PARAMS AS',
'procedure processParamFiles(collectionId varchar2) is ',
'  CURSOR cur IS SELECT COLLECTION_FILE_ID cfid,short_file_name sfn FROM rca13_COLLECTION_FILES',
'  WHERE COLLECTION_ID = collectionId and short_file_name like ''d_v_parameter_%.out'' ',
'  and short_file_name not like ''d_v_parameter_u_%.out''',
'  ORDER BY short_file_name;',
'  dbName varchar2(128);',
'  instName varchar2(128);',
'  nameF varchar2(256);',
'  valueF varchar2(512);',
'BEGIN',
'  for rec1 in cur loop',
'    --Get db name',
'    dbName := substr(rec1.sfn,15,length(rec1.sfn)-18);',
'    for line in ( select line_text lt from rca13_collection_file_data where collection_file_id = rec1.cfid order by line_number ) loop ',
'      nameF  := trim(substr(line.lt,1,(instr(line.lt ,''='',1,1)-1)));',
'      valueF := trim(substr(line.lt,(instr(line.lt , ''='' ,1,1)+1)));       ',
'      -- Get db instName from name      ',
'      instName :=  substr(nameF,1,instr(nameF,''.'',1,1)-1);',
'      nameF := substr(nameF,(instr(nameF,''.'',1,1)+1));',
'      continue when nameF is null OR instName is null;',
'      insert into rca13_parameters(collection_id,DB_NAME,INSTANCE_NAME,PARAM_NAME,VALUE)',
'      values (collectionId,dbName,instName,nameF,valueF);',
'    end loop;',
'    commit;',
'  end loop;',
'END;',
'END RCA13_MANAGE_PARAMS;',
'/',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312117038450282154)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Manage Collections Specs'
,p_sequence=>570
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE RCA13_MANAGE_COLLECTIONS AS',
'procedure process_collection(docId number);',
'function blob2clob( blobData BLOB ) return clob;',
'function blob_to_clob( blob_in BLOB ) return clob;',
'procedure parseRCFiles(collectionId varchar2,docId number);',
'procedure deleteCollection ( docId number,keep_zip number default 0);',
'function hasDiffWithPrevRun(cName varchar2,cDate timestamp) return varchar2;',
'function hasDiff (pcName varchar2,pcDate timestamp,cName varchar2,cDate timestamp) return number;',
'procedure submitJob(docId in number,user varchar2 default ''ORACHK.USER'');',
'procedure submitJob4All;',
'procedure getChecksInfo ( fileId varchar2,source varchar2 );',
'procedure insertAuditChecks ( fileId varchar2,collectId varchar2,docId number );',
'procedure classifyCollections;',
'procedure classifyCollection(cDate timestamp,cName varchar2 );',
'procedure updateMDtable;',
'procedure afterColInUpActs( collectionDate timestamp,collectionName varchar2,flag number default 1 );',
'procedure purgeData(dat timestamp);',
'procedure submitDataPurgeJob(dat timestamp);',
'procedure processAuditData;',
'procedure monitorDiffType;',
'procedure ignoreReCalValues_AIAD(sysId varchar2,collectionDate timestamp,colName varchar2);',
'END RCA13_MANAGE_COLLECTIONS;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312117262953308080)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Manage Collections Body'
,p_sequence=>580
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE BODY rca13_MANAGE_COLLECTIONS AS',
'LOCAL_NODE varchar2(40);',
'RACCHECK_ENV_FILE_ID varchar2(40);',
'ISCRSINSTALLED number;',
'ISASMINSTALLED number;',
'ASMHOME varchar2(128);',
'APP_USER varchar2(64);',
'COLLECTION_NAME varchar2(256);',
'IS_UPGRADE_MODE number := 0;',
'TARGET_VERSION varchar2(40);',
'isExadata number;',
'kitId varchar2(40);',
'--------------------------------------------------------------------------------',
'PROCEDURE log_text(',
'    text         VARCHAR2,',
'    collectionId VARCHAR2,docId number default null)',
'IS',
'BEGIN',
'  INSERT INTO rca13_LOG (COLLECTION_ID,TEXT,INS_DATE,DOC_ID)',
'  VALUES (collectionId,text,LOCALTIMESTAMP,docId);',
'  COMMIT;',
'END;',
'--------------------------------------------------------------------------------',
'procedure update_collection_status ( collectionId varchar2,statusMsg varchar2,failComment varchar2 default null ) is',
'begin',
' update rca13_collections set status = statusMsg,fail_comment = failComment where collection_id = collectionId;',
' commit;',
'end;',
'--------------------------------------------------------------------------------',
'procedure getChecksInfo ( fileId varchar2, source varchar2 ) is',
' cursor cur is select line_text lt,line_number ln from rca13_COLLECTION_FILE_DATA  ',
' where COLLECTION_FILE_ID = fileId order by line_number;',
' readingOn number := 0;',
' checkId varchar2(40);',
' text clob;',
' line varchar2(4000);',
' cnt number;',
' pLength number;',
'begin',
'  -- start line for each check <div id="E3508B6664085B53E04313C0E50AC2CA_contents">',
'  -- Get check id from above line',
'  -- Start of recommendation: after <td>Recommendation</td>, take <td> to </td>',
'  --dbms_output.put_line(''fileId=''||fileId);',
' if source = ''HTML'' then',
'  for rec in cur loop',
'    line := rec.lt;',
'    if line like ''%<div id="%_contents">%'' then',
'      SELECT regexp_substr(line,''"[^"]+_'') into checkId FROM dual;',
'      --OP:"E3508B6664085B53E04313C0E50AC2CA_',
'      checkId := substr(checkId,2,length(checkId)-2);      ',
'      --dbms_output.put_line(''checkId=''||checkId);',
'    end if;',
'    if line like ''%<tr><td>Recommendation</td><td><pre>%'' OR line like ''%<tr><td scope="row">Recommendation</td><td scope="row"><pre>%'' then',
'      text := replace(line,''<tr><td>Recommendation</td><td><pre>'');',
'      text := replace(line,''<tr><td scope="row">Recommendation</td><td scope="row"><pre>'');',
'      readingOn := 1;',
'      continue;',
'    end if;',
'    --Start getting the recommendation',
'    if readingOn = 1 then      ',
'      if nvl(line,''z'') like ''%</pre>%'' then',
'        readingOn := 0;',
'        --Inesrt data into table if not exists',
'        select count(1) into cnt from rca13_checks_info where check_id = checkId;        ',
'        if cnt = 0 and checkId is not null then',
'          begin',
'           insert into rca13_checks_info ( check_id,recommendation) values(checkId,text);',
'           exception when dup_val_on_index then null;',
'          end;',
'        elsif cnt > 0 and checkId is not null then',
'          select dbms_lob.getlength(recommendation) into pLength from rca13_checks_info where check_id = checkId and rownum = 1;',
'          if dbms_lob.getlength(text) > pLength  then',
'            update rca13_checks_info set recommendation = text where check_id = checkId;',
'          end if;  ',
'        end if;',
'        commit;',
'        --Reset all things',
'        text := NULL;',
'        checkId := NULL;',
'      else',
'        text := text||chr(10)||line;',
'      end if;',
'    end if;',
'  end loop;',
' elsif source = ''XML'' then',
'  for rec in cur loop',
'    line := rec.lt;',
'    if line like ''%<Check id="%">%'' then',
'      SELECT regexp_substr(line,''"[^"]+"'') into checkId FROM dual;',
'      --OP:"E3508B6664085B53E04313C0E50AC2CA_',
'      checkId := substr(checkId,2,length(checkId)-2);      ',
'      --dbms_output.put_line(''checkId=''||checkId);',
'      readingOn := 1;',
'      continue;',
'    end if;    ',
'    --Start getting the recommendation',
'    if readingOn = 1 then      ',
'      if nvl(line,''z'') like ''%</Check>%'' then',
'        readingOn := 0;',
'        --Insert data into table if not exists',
'        select count(1) into cnt from rca13_checks_info where check_id = checkId;        ',
'        if cnt = 0 and checkId is not null then',
'          begin',
'           insert into rca13_checks_info ( check_id,recommendation) values(checkId,text);',
'           exception when dup_val_on_index then null;',
'          end;',
'        elsif cnt > 0 and checkId is not null then',
'          select dbms_lob.getlength(recommendation) into pLength from rca13_checks_info where check_id = checkId and rownum = 1;',
'          if dbms_lob.getlength(text) > pLength  then',
'            update rca13_checks_info set recommendation = text where check_id = checkId;',
'          end if;  ',
'        end if;',
'        commit;',
'        --Reset all things',
'        text := NULL;',
'        checkId := NULL;',
'      else',
'        if line like ''%<Recommendation>%'' then',
'          line := replace(line,''<Recommendation>'');',
'        elsif line like ''%</Recommendation>%'' then   ',
'          line := replace(line,''</Recommendation>'');',
'        elsif line like ''%<Links>%'' then',
'          line := replace(line,''<Links>'',''<br>Links:<br>'');',
'        elsif line like ''%</Links>%'' then',
'          line := replace(line,''</Links>'');',
'        end if;',
'        --line := replace(line,''<![CDATA['');',
'        line := replace(line,'']]>'');',
'        text := text||chr(10)||line;',
'      end if;',
'    end if;',
'  end loop;',
' end if;',
'end;',
'--------------------------------------------------------------------------------',
'procedure insertAuditChecks ( fileId varchar2,collectId varchar2,docId number ) is',
' fileId_local varchar2(40) := TRIM(BOTH '''''''' FROM DBMS_ASSERT.ENQUOTE_LITERAL(fileId));',
' collectionId varchar2(40) := TRIM(BOTH '''''''' FROM DBMS_ASSERT.ENQUOTE_LITERAL(collectId));',
' docId_local number := docId;',
' cursor cur is select line_text from rca13_collection_file_data where collection_file_id = fileId_local;',
' statement varchar2(4000);',
' cDate timestamp(6);',
' cName varchar2(1000);',
' cnt number;',
' newScore number;',
'begin',
' log_text(''START: Started inserting AuditChecks into auditcheck_result table'',collectionId,docId_local);',
'  if fileId is null or collectionId is null then',
'   return;',
' end if;  ',
' --If checks inserted already then update collection_id column value',
' select collection_date,collection_name into cDate,cName from rca13_collections where collection_id = collectionId;',
'  if cDate is not null and cName is not null then',
'   select count(1) into cnt from auditcheck_result where collection_date = cDate and upload_collection_name = cName;',
' else',
'   --Depend on collection_date',
'   --select count(1) into cnt from auditcheck_result where upload_collection_name = cName;',
'   return;',
' end if;',
' ',
' if cnt > 0 then',
'  log_text(''DUPLICATE: Audit checks are already inserted in auditcheck_result table, Just update collection_id and exit'',collectionId,docId_local);',
'  --Just update the collection_id in rca13_collections and rca13_collections_md',
'  update auditcheck_result set collection_id = collectionId where collection_date = cDate and upload_collection_name = cName;  ',
'  commit;',
'  update rca13_collections_md set collection_id = collectionId where collection_date = cDate and collection_name = cName;  ',
'  commit;',
'  -- Since we are using skipped checks also to calculate score. recalculate the score value.',
'  newScore := RCA13_GET_DATA4COLUMNS.getCollectionScore(collectionId,cName,cDate);',
'  update rca13_collection_values set score = newScore where collection_date  = cDate and collection_name = cName;',
'  commit;',
'  return;',
' end if;',
'  for rec in cur loop',
'   begin',
'     statement := rec.line_text;',
'     statement := trim(statement);',
'     -- Need to remove ; at the end of line   ',
'     statement := rtrim(statement,'';'');',
'     -- To Avoid java script injections replace < and >',
'     if instr(statement,''<'') > 0 or instr(statement,''>'') > 0 then',
'       statement := replace(replace(statement,''<'',chr(38)||''lt;''),''>'',chr(38)||''gt;'');',
'     end if;',
'     --Also, we need to change/add the table name.',
'     if instr(lower(statement),''auditcheck_result('') = 0 then',
'       statement := ''insert into auditcheck_result ''||substr(statement,instr(statement,''('',1,1));',
'     end if;',
'     --To avoid sql injections check whether statement is started with insert into auditcheck_result or not',
'     continue when ( instr(lower(statement),''insert into auditcheck_result'') != 1 );',
'     -- Add collection_id column value',
'     statement := regexp_replace(statement,''\)'','',collection_id)'',1,1);',
'     statement := regexp_replace(statement,''\)'','',''''''||collectionId||'''''')'',instr(statement,'')'',-1,1),1);',
'     execute immediate statement;',
'     exception when others then',
'       log_text(''FAIL: Failed to execute: ''||statement,collectionId,docId_local);  ',
'   end;',
' end loop;',
' commit;',
' log_text(''INSERT: Finished inserting checks into auditcheck_result table'',collectionId,docId_local);',
' --Now insert into Metadata table -- Don''t do it here .. do it from job',
' --begin',
' --  insert into RCA13_COLLECTIONS_MD(collection_date,collection_name,collection_id)',
' --  values(cDate,cName,collectionId);',
' --  commit;',
' --  exception when dup_val_on_index then null;',
' -- end;',
' exception when others then',
'  log_text(''FAIL: Audit checks insertion failed'',collectionId,docId_local);',
'end;',
'--------------------------------------------------------------------------------',
'procedure insertAuditPatchChecks ( fileId varchar2,collectId varchar2,docId number ) is',
' collectionId varchar2(40) := TRIM(BOTH '''''''' FROM DBMS_ASSERT.ENQUOTE_LITERAL(collectId));',
' fileId_local varchar2(40) := TRIM(BOTH '''''''' FROM DBMS_ASSERT.ENQUOTE_LITERAL(fileId));',
' cursor cur is select line_text from rca13_collection_file_data where collection_file_id = fileId_local;',
' statement varchar2(4000);',
' cDate timestamp(6);',
' cName varchar2(1000);',
' cnt number;',
'begin',
' log_text(''START: Started inserting AuditPatchChecks into auditcheck_patch_result table'',collectionId,docId);',
' if fileId_local is null or collectionId is null then',
'   return;',
' end if;  ',
' --If checks inserted already then update collection_id column value',
' select collection_date,collection_name into cDate,cName from rca13_collections where collection_id = collectionId;',
'  if cDate is not null then',
'   select count(1) into cnt from auditcheck_patch_result where collection_date = cDate;',
' else',
' return;',
' end if;',
' if cnt > 0 then',
'  --Just update the collection_id column',
'  --if cDate is not null then',
'  -- update auditcheck_patch_result set collection_id = collectionId where collection_date = cDate and upload_collection_name = cName;',
'  --else',
'   --update auditcheck_result set collection_id = collectionId where upload_collection_name = cName;',
'  --end if;',
'  --commit;',
'  log_text(''DUPLICATE: Auditcheck patch results are already inserted into auditcheck_patch_result table, so exit'',collectionId,docId);',
'  return;',
' end if;',
'  for rec in cur loop',
'  begin',
'   statement := rec.line_text;',
'   statement := trim(statement);',
'   -- Need to remove ; at the end of line',
'   statement := rtrim(statement,'';'');',
'   -- To Avoid java script injections replace < and >',
'   if instr(statement,''<'') > 0 or instr(statement,''>'') > 0 then',
'     statement := replace(replace(statement,''<'',chr(38)||''lt;''),''>'',chr(38)||''gt;'');',
'   end if;',
'   --Also, we need to change/add the table name.',
'   if instr(lower(statement),''auditcheck_patch_result('') = 0 then',
'     statement := ''insert into auditcheck_patch_result ''||substr(statement,instr(statement,''('',1,1));',
'   end if;',
'   --To avoid sql injections check whether statement is started with insert into auditcheck_result or not',
'   continue when ( instr(lower(statement),''insert into auditcheck_patch_result'') != 1 );    ',
'   execute immediate statement;   ',
'  exception when others then null;',
'  end;',
' end loop;',
' commit;',
' log_text(''FINISH: Finished inserting patch result checks into auditcheck_patch_result table'',collectionId,docId);',
' exception when others then',
'  log_text(''FAIL: Audit Patch checks insertion failed'',collectionId,docId);',
'end;',
'------------------------------------------------------------------------------------------',
'PROCEDURE process_collection  (  docId IN number  ) IS',
'  collectionId varchar2(40);  ',
'  files rca13_manage_zips.file_list;',
'  colBlob BLOB;',
'  fileBlob BLOB;',
'  cFileId  VARCHAR2(40);',
'  fnShort  VARCHAR2(500);',
'  fSize    NUMBER;',
'  lCounter NUMBER := 0;',
'  fContent CLOB;',
'  lText      VARCHAR2(4000);',
'    lTextlong      VARCHAR2(4000);',
'  colName    VARCHAR2(2000);',
'  collectionName VARCHAR2(2000);',
'  cCount number;',
'  htmlRep    VARCHAR2(1000);',
'  xmlRecFileId varchar2(200) := NULL;',
'  browserRep VARCHAR2(1000);',
'  isHTMLLoaded number := 0;',
'  htmlFileId varchar2(40);',
'  checksSqlFileId varchar2(40);',
'  patchchecksSqlFileId varchar2(40);',
'  temp varchar2(1000);',
'  temp1 number;',
'  docName rca13_DOCS.FILENAME%TYPE;',
'  colStatus varchar2(100) := NULL;',
'  failComment varchar2(1000);',
'  tsName varchar2(256);',
'  freeSpace number := 999;',
'  minRequiredFreeSpace number := 100; -- Size in MB',
'  filesCnt number :=0;',
'  collectionType varchar2(40);',
'  srBugNum varchar2(20);',
'   v_start PLS_INTEGER  := 1;',
'    v_buffer PLS_INTEGER := 32760;',
'     text VARCHAR2(32767);',
'     textLeft varchar2(4000);',
'BEGIN',
'  commit; -- This commit is for seeing just inserted zip file',
'  begin',
'    select filename,collection_id,sr_bug_num into docName,collectionId,srBugNum from rca13_docs where doc_id = docId;',
'    colName := substr(docName,instr(docName,''/'',-1,1)+1);    ',
'    colName := REGEXP_REPLACE(colName,''\.zip'','''',1,1,''i'');    ',
'    --dbms_output.put_line(''cid=''||collectionId);',
'    If collectionId is not null then',
'      --Now check whether collection is processes successfully or not. Proceed next if status is failed      ',
'       select status,fail_comment into colStatus,failComment from rca13_collections where collection_id = collectionId;',
'       --dbms_output.put_line(''stats=''||colStatus);',
'       if nvl(colStatus,''z'') != ''Failed'' then',
'        return;',
'       end if;       ',
'       --dbms_output.put_line(''call delete fun'');',
'       if colStatus = ''Failed'' and failComment != ''NO_ENOUGH_SPACE'' then',
'         return;',
'       end if;',
'       --If collection is failed bcz of space issue try to reprocess it.',
'       deleteCollection(docId,1); -- 1 ==> Delete every thing except collection zip',
'       log_text(''REATTEMPT: Re-Attempting to process the collection'',collectionId,docId);',
'    end if;',
'    --dbms_output.put_line(''delete done'');',
'    insert into rca13_collections(collection_id,status,collection_name,doc_id,sr_bug_num) values(sys_guid(),''Processing'',colName,docId,srBugNum)',
'    return collection_id into collectionId;',
'    --dbms_output.put_line(''cid=''||collectionId);',
'    update rca13_docs set collection_id = collectionId where doc_id = docId;    ',
'    commit;',
'    exception when no_data_found then',
'    log_text(''NODATA: No collection found with docId=''||docId||''...exiting'',''NO COLLECTION ID'',docId);',
'    return;',
'  end;  ',
'  --Expected file names:',
'  -- orachk_cetrain19_sid11203_052214_165708.zip ==> Full Run',
'  -- orachk_033015_151240.zip ==> Patch results',
'  --Add some validations on fileName to check whther it is valid collection or not',
'  if ( upper(docName) not like ''EXACHK_%.ZIP'' and upper(docName) not like ''RACCHECK_%.ZIP'' and upper(docName) not like ''ORACHK_%.ZIP'' ) then',
'    log_text(''INVALIDNAME: Collection name is not valid. It should start with orachk/exachk/raccheck...exiting'',collectionId,docId);',
'    update_collection_status(collectionId,''Failed'');',
'    return;',
'  end if;  ',
'  ',
'  --We are processing patch results now',
'  /*if ( instr(docName,''_'',1,3) <= 0 ) then',
'    -- For now we are not processing files of type orachk_052014_064245.zip as it is patch related run and we don''t know from which home it came from.',
'    log_text(''We are not processing collections if it is like orachk_052014_064245.zip. It is patch related run and we do not know from which host it is.'',collectionId,docId);',
'    update_collection_status(collectionId,''Failed'');',
'    return;',
'  end if;  ',
'  */',
'  ',
'  -- Get collection type',
'    if upper(docName) like ''EXACHK_%.ZIP'' then',
'      collectionType := ''exachk'';',
'    elsif upper(docName) like ''ORACHK_%.ZIP'' then',
'      collectionType := ''orachk'';',
'    elsif upper(docName) like ''RACCHECK_%.ZIP'' then',
'      collectionType := ''raccheck'';',
'    else',
'      log_text(''INVALIDNAME: Collection name is not valid. It should start with orachk/exachk/raccheck...exiting'',collectionId,docId);',
'      update_collection_status(collectionId,''Failed'');',
'      return;',
'    end if;',
'  ',
'  -- Check whether there is enough space to process collection or not  ',
'  begin',
'   select tablespace_name into tsName from user_tables where table_name = ''RCA13_DOCS'';',
'   SELECT sum(bytes)/1048576 into freeSpace FROM user_free_space  where tablespace_name = tsName;',
'   exception when others then null;',
'  end;',
'  if freeSpace < minRequiredFreeSpace then     ',
'    log_text(''MEMORYCRUNCH: Does not have enough space in data base to process collection...exiting.'',collectionId,docId);',
'    update_collection_status(collectionId,''Failed'',''NO_ENOUGH_SPACE'');',
'    return;    ',
'  end if;',
'  ',
'  log_text(''START: Started processing collection'',collectionId,docId);',
'  SELECT filename,  file_blob  INTO colName, colBlob  FROM rca13_docs WHERE doc_id = docId;',
'  collectionName := substr(colName,instr(colName,''/'',-1,1)+1);',
'  collectionName := REGEXP_REPLACE(collectionName,''\.zip'','''',1,1,''i'');',
'  colName := REGEXP_REPLACE(collectionName,''\_collect'','''',1,1,''i'');',
'  htmlRep            := colName||''.html'';',
'  browserRep         := regexp_replace(htmlRep,''_'',''_browse_'',1,1);',
'  ',
'  --log_text(''HTML file=''||htmlRep||'',b=''||browserRep,collectionId,docId);  ',
'  --UPDATE rca13_collections  SET status          = ''Processing''  WHERE collection_id = collectionId;',
'  files              := rca13_manage_zips.get_file_list(colBlob);',
'  log_text(''FINISH: Finished getting list of files from Zip archive'',collectionId,docId);',
'  ',
'  --In First round process non HTML files',
'  log_text(''START: Started parsing non HTML/XML files'',collectionId,docId);',
'  FOR i IN files.first() .. files.last   LOOP',
'   begin',
'    temp := files(i);',
'    -- files returns directories also. Don''t insert directories',
'    CONTINUE  WHEN SUBSTR(files(i),LENGTH(files(i))) = ''/'';',
'    --Now a days seeing some zip files inside zip .. ignore them for now',
'    continue when upper(files(i)) like ''%.ZIP'';',
'    fnShort := SUBSTR(files(i),instr(files(i),''/'',-1,1)+1);',
'    -- As part of minimal collection processing. Process only selective files of collection.',
'    if fnShort = ''upload_''||collectionType||''_result.sql'' OR fnShort = ''upload_''||collectionType||''_patch_result.sql''',
'       OR fnShort = ''check_env.out'' OR fnShort = ''o_host_list.out'' OR fnShort = ''o_ibswitches.out''',
'       OR fnShort = ''cells.out'' OR fnShort =  collectionType||''_skipped_checks.log''',
'         OR fnShort = ''total_checks_summary.out'' then',
'      -- Basic files  ',
'      null;',
'    elsif fnShort like ''d_v_parameter_%.out'' then',
'      --Name = value files -- not sure what to do with these files.',
'      null;',
'    else',
'      continue;',
'    end if;',
'    INSERT INTO RCA13_COLLECTION_FILES(COLLECTION_FILE_ID,COLLECTION_ID,FILE_NAME,SHORT_FILE_NAME)',
'    VALUES(sys_guid(),collectionId,files(i),fnShort) RETURN COLLECTION_FILE_ID    INTO cFileId;        ',
'   ',
'    fileBlob := rca13_manage_zips.get_file(colBlob,files(i));  ',
'    fContent                     := rca13_manage_collections.blob_to_clob(fileBlob);',
'    fContent                     := trim(both chr(10) FROM fContent);',
'    lCounter                     := 1;',
'   ',
'    if fnShort = ''upload_''||collectionType||''_result.sql'' then       ',
'        checksSqlFileId := cFileId;',
'    end if;',
'    if fnShort = ''upload_''||collectionType||''_patch_result.sql'' then       ',
'        patchchecksSqlFileId := cFileId;',
'    end if;',
'    ',
'    WHILE instr(fContent,chr(10)) > 0',
'    LOOP',
'      lText := SUBSTR(fContent,1,instr(fContent,chr(10)) - 1);',
'      INSERT INTO RCA13_COLLECTION_FILE_DATA(COLLECTION_FILE_DATA_ID,COLLECTION_FILE_ID,LINE_TEXT,LINE_NUMBER)',
'      VALUES(sys_guid(),cFileId,lText,lCounter);',
'      fContent := SUBSTR(fContent,instr(fContent,chr(10)) + 1);',
'      lCounter := lCounter                                +1;',
'    END LOOP;',
'    --Hanlde file with one line / insert last line of file',
'    IF instr(fContent,chr(10)) = 0 AND fContent IS NOT NULL THEN',
'      INSERT INTO RCA13_COLLECTION_FILE_DATA(COLLECTION_FILE_DATA_ID,COLLECTION_FILE_ID,LINE_TEXT,LINE_NUMBER)',
'      VALUES(sys_guid(),cFileId,fContent,lCounter);',
'    END IF;',
'    COMMIT;    ',
'   exception when others then    ',
'     log_text(''FAIL: Failed to process the file''||temp,collectionId,docId);',
'     if fnShort = ''upload_''||collectionType||''_result.sql'' then       ',
'        filesCnt := filesCnt + 1;',
'     end if;',
'     if fnShort = ''upload_''||collectionType||''_patch_result.sql'' then       ',
'        filesCnt := filesCnt + 1;',
'     end if;',
'   end;',
'  END LOOP;',
'  ',
'  -- There is no point of going a head if .sql files fails OR if no .sql files',
'  if filesCnt = 2 OR ( ( checksSqlFileId is null OR filesCnt = 1 ) and ( patchchecksSqlFileId is null OR filesCnt = 1 ) ) then  ',
'    log_text(''FAIL: *.sql files ( audit results ) not found or failed to process .. Exiting'',collectionId,docId);',
'    update_collection_status(collectionId,''Failed'');',
'    return;',
'  end if;',
'  ',
'  log_text(''FINISH: Finished parsing non HTML/XML files'',collectionId,docId);',
'  ',
'  -- Now Go through some of the files and popup tables',
'  rca13_manage_collections.parseRCFiles(collectionId,docId);',
'  commit;',
'  -- INsert auditchecks',
'  if checksSqlFileId is not null then',
'   insertAuditChecks(checksSqlFileId,collectionId,docId);',
'  end if;',
'  -- Insert patch results',
'  if patchchecksSqlFileId is not null then',
'   insertAuditPatchChecks(patchchecksSqlFileId,collectionId,docId);',
'  end if;',
'  --log_text(''Finished inserting data into Audit check result tables'',collectionId,docId);',
'  ',
'  -- Now process HTML/XML files',
'  log_text(''START: Started parsing HTML/XML files'',collectionId,docId);',
'  isHTMLLoaded := 0;',
'  FOR i IN files.first() .. files.last   LOOP',
'   begin',
'    temp := files(i);',
'    fnShort := SUBSTR(files(i),instr(files(i),''/'',-1,1)+1);',
'    continue when nvl(fnShort,''z'') != nvl(htmlRep,''zz'') and nvl(fnShort,''z'') != nvl(collectionType||''_recommendations.xml'',''zz'') ;',
'    continue when nvl(fnShort,''z'') = nvl(htmlRep,''zz'') and isHTMLLoaded = 1;',
'    --We are here only if file is HTML files',
'    INSERT INTO RCA13_COLLECTION_FILES(COLLECTION_FILE_ID,COLLECTION_ID,FILE_NAME,SHORT_FILE_NAME)',
'    VALUES(sys_guid(),collectionId,files(i),fnShort) RETURN COLLECTION_FILE_ID    INTO cFileId;        ',
'    ',
'    fileBlob := rca13_manage_zips.get_file(colBlob,files(i));  ',
'    IF ( files(i) LIKE ''%''||htmlRep and isHTMLLoaded = 0 ) THEN',
'      INSERT INTO RCA13_docs (doc_id,COLLECTION_ID,FILENAME, FILE_BLOB,attr1) VALUES',
'        ( rca13_file_seq.nextval,collectionId,htmlRep,fileBlob,''HTML_REP_FILE'');',
'      COMMIT;',
'      isHTMLLoaded := 1;',
'      htmlFileId := cFileId;',
'      log_text(''INSERT: Inserted HTML Report into rca13_docs'',collectionId,docId);',
'    END IF;',
'    if ( files(i) LIKE ''%''||collectionType||''_recommendations.xml'' ) then',
'      xmlRecFileId := cFileId;',
'    end if;',
'    fContent                     := rca13_manage_collections.blob_to_clob(fileBlob);',
'    fContent                     := trim(both chr(10) FROM fContent);',
'    lCounter                     := 1;',
'   --  fileBlob := null;    ',
'    log_text(''STARTPRO: Started Processing ''||files(i)||'' file'',collectionId,docId);',
'   /* WHILE instr(fContent,chr(10)) > 0',
'    LOOP',
'      lText := substr(SUBSTR(fContent,1,instr(fContent,chr(10)) - 1),1,4000);   ',
'      INSERT INTO RCA13_COLLECTION_FILE_DATA',
'      (COLLECTION_FILE_DATA_ID,COLLECTION_FILE_ID,LINE_TEXT,LINE_NUMBER)',
'      VALUES(sys_guid(),cFileId,lText,lCounter);',
'      fContent := SUBSTR(fContent,instr(fContent,chr(10)) + 1);',
'      lCounter := lCounter+1;         ',
'    END LOOP;',
'    --Handle file with one line / insert last line of file',
'    IF instr(fContent,chr(10)) = 0 AND fContent IS NOT NULL THEN',
'      INSERT INTO RCA13_COLLECTION_FILE_DATA',
'      (COLLECTION_FILE_DATA_ID,COLLECTION_FILE_ID,LINE_TEXT,LINE_NUMBER)',
'      VALUES(sys_guid(),cFileId,fContent,lCounter);',
'    END IF;',
'    COMMIT;  ',
'   log_text(''FINISHPRO: Finished processing ''||files(i)||'' file'',collectionId,docId);',
'   exception',
'   when no_data_found then',
'   log_text(''FAIL: Failed to process the file SQLCODE ''||SQLCODE||''lCounter''||lCounter,collectionId,docId);',
'   log_text(''FAIL: Failed to process the file SQLERRM ''||SUBSTR(SQLERRM,1,64),collectionId,docId);   ',
'   when others then',
'   log_text(''FAIL: Failed to process the file SQLCODE ''||SQLCODE||''lCounter''||lCounter,collectionId,docId);',
'   log_text(''FAIL: Failed to process the file SQLERRM ''||SUBSTR(SQLERRM,1,64),collectionId,docId);',
'   log_text(''FAIL: Failed to process the file ''||temp,collectionId,docId);',
'      end;',
'  END LOOP;*/',
' v_start := 1;  ',
'for i in 1..ceil(DBMS_LOB.GETLENGTH(fContent)/v_buffer) loop',
'      text := null;',
'      dbms_lob.read(fContent,v_buffer,v_start,text);',
'      WHILE instr(text,chr(10)) > 0 LOOP',
'        lText := substr(SUBSTR(text,1,instr(text,chr(10)) - 1),1,4000);     ',
'        if textLeft is not null then',
'          lText := textLeft || lText;',
'          textLeft := null;',
'        end if;',
'        INSERT INTO RCA13_COLLECTION_FILE_DATA(COLLECTION_FILE_DATA_ID,COLLECTION_FILE_ID,LINE_TEXT,LINE_NUMBER)',
'        VALUES(sys_guid(),cFileId,lText,lCounter);',
'        text := SUBSTR(text,instr(text,chr(10)) + 1);',
'        lCounter := lCounter + 1;          ',
'      END LOOP;',
'      if text is not null then',
'        textLeft := text;',
'      end if;',
'      v_start := v_start + v_buffer;',
'    end loop;',
'      --Handle insert last line of file',
'    IF instr(fContent,chr(10)) = 0 AND fContent IS NOT NULL THEN',
'      INSERT INTO RCA13_COLLECTION_FILE_DATA',
'      (COLLECTION_FILE_DATA_ID,COLLECTION_FILE_ID,LINE_TEXT,LINE_NUMBER)',
'      VALUES(sys_guid(),cFileId,fContent,lCounter);',
'    END IF;',
'    COMMIT;  ',
'    log_text(''FINISHPRO: Finished processing ''||files(i)||'' file'',collectionId,docId);',
'   exception when others then',
'    log_text(''FAIL: Failed to process the file SQLCODE ''||SQLCODE||''lCounter''||lCounter,collectionId,docId);',
'   log_text(''FAIL: Failed to process the file SQLCODE ''||SQLCODE,collectionId,docId);',
'   log_text(''FAIL: Failed to process the file SQLERRM ''||SUBSTR(SQLERRM,1,64),collectionId,docId);',
'   log_text(''FAIL: Failed to process the file ''||temp,collectionId,docId);',
'end;',
'  END LOOP; ',
'       ',
'  -- Now go through HTML report file and get checks recommendation data',
'  if xmlRecFileId is not null OR htmlFileId is not null then',
'   log_text(''START: Started updating checks rationale Information'',collectionId,docId);',
'   if xmlRecFileId is not null then',
'    getChecksInfo(xmlRecFileId,''XML'');',
'   else',
'    getChecksInfo(htmlFileId,''HTML'');',
'   end if;',
'   log_text(''FINISH: Finished updating checks rationale Information'',collectionId,docId);',
'  end if;',
'  ',
'  --Process parameter files',
'  RCA13_MANAGE_PARAMS.processParamFiles(collectionId);',
'  commit;',
'  --Update the status to completed',
'  UPDATE rca13_collections  SET status = ''Processed''  WHERE collection_id = collectionId;',
'  commit;',
'  log_text(''FINISH: Finished processing collection'',collectionId,docId);    ',
'  exception when others then',
'  UPDATE rca13_collections  SET status = ''Failed''  WHERE collection_id = collectionId;',
'  log_text(''FAIL: Collection Failed to process with error ''||DBMS_UTILITY.FORMAT_ERROR_STACK,collectionId,docId);',
'  commit;',
'END;',
'--------------------------------------------------------------------------------',
'procedure parseHostSwitchSSFile(shortFileName varchar2 , cFileId varchar2) is',
'cursor cur is select line_text from RCA13_COLLECTION_FILE_DATA  where COLLECTION_FILE_ID = cFileId;',
'lineText varchar2(256);',
'collectionId varchar2(40);',
'sourceName varchar2(40);',
'cellName varchar2(128);',
'begin',
'select collection_id into collectionId from RCA13_COLLECTION_FILES where COLLECTION_FILE_ID = cFileId;',
'select system_name into sourceName from rca13_collections  where collection_id = collectionId;',
' ',
'insert into rca13_files(file_id,collection_id,source_name,source_type,COLLECTION_FILE_ID)',
'  values (sys_guid(),collectionId,sourceName,decode(shortFileName,''o_host_list.out'',''HOSTS'',''o_ibswitches.out'',''SWITCH'',''cells.out'',''CELL'',''DB''),cFileId);',
' ',
'if shortFileName like ''o_host_list.out'' then  ',
' for line in cur loop',
' insert into rca13_hosts(host_id,host_name,collection_id) values',
'        (sys_guid(),line.line_text,collectionId);',
' end loop;',
'elsif shortFileName like ''o_ibswitches.out'' then',
' for line in cur loop',
' insert into rca13_ibs_ss(ibs_ss_id,name,collection_id,type) values',
'        (sys_guid(),line.line_text,collectionId,''S'');',
' end loop;',
'elsif shortFileName like ''cells.out'' then',
' for line in cur loop',
'  continue when ( instr(line.line_text,''='',1,1) = 0 );',
'  cellName := trim(substr(line.line_text,instr(line.line_text,''='',1,1)+1));',
'  --if cell name is not available in DNS store IP address',
'  if cellName is null then',
'   cellName := trim(substr(line.line_text,1,instr(line.line_text,''='',1,1)-1));    ',
'  end if;',
'   insert into rca13_ibs_ss(ibs_ss_id,name,collection_id,type) values (sys_guid(),cellName,collectionId,''C'');',
' end loop;',
'end if;',
'commit;',
'end;',
'--------------------------------------------------------------------------------',
'procedure parseOsFiles(shortFileName varchar2, cFileId varchar2) is',
'flag number := 0;',
'begin',
'  if (shortFileName like ''%inventory%'' or shortFileName like ''%comps%'')  then',
'    --pgFromDarwinInventoryOrComps (shortFileName,cFileId);',
'    null;',
'  elsif shortFileName like ''o_host_list.out'' or shortFileName like ''o_ibswitches.out'' or shortFileName like ''cells.out'' then',
'    parseHostSwitchSSFile(shortFileName,cFileId);',
'  elsif shortFileName like ''o_package%'' then  ',
'    --parseOsPackageFiles(shortFileName,cFileId);',
'    null;',
'  elsif shortFileName like ''o_actual_%'' or shortFileName like ''c_actual.out'' then',
'    --parseOsActualFiles(shortFileName,cFileId);',
'    null;',
'  else',
'   --parseOtherOsFiles(shortFileName,cFileId);',
'   null;',
'  end if;',
'end;',
'--------------------------------------------------------------------------------',
'function getVersionFromDbName(homePath varchar2,cFileId varchar2) return varchar2 is',
'cursor cur is select line_text from rca13_COLLECTION_FILE_DATA where'))
);
end;
/
begin
wwv_flow_api.append_to_install_script(
 p_id=>wwv_flow_api.id(312117262953308080)
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' COLLECTION_FILE_ID = cFileId and trim(line_text) like ''DB_NAME%'';',
'nameField varchar2(512);',
'valueField varchar2(256);',
'begin',
' -- this func return null if there is no DB_NAME entry in check_env.out file for the corresponding home.',
' -- If user selects no databases then we will not see any DB_NAME entry in check_env.out file.',
' for line in cur loop  ',
'   nameField  := upper(trim(substr(line.line_text,1,(instr(line.line_text , ''='' ,1,1)-1))));',
'   valueField := trim(substr(line.line_text,(instr(line.line_text , ''='' ,1,1)+1)));',
'   continue when ( instr(line.line_text,''='',1,1) = 0 or nameField not like ''DB_NAME'');',
'   if substr(valueField,instr(valueField,''|'',-1,1)+1) = homePath then',
'    return substr(valueField,instr(valueField,''|'',1,1)+1,instr(valueField,''|'',1,2)-instr(valueField,''|'',1,1)-1);',
'  end if;',
' end loop;',
' return null;',
'end;',
'--------------------------------------------------------------------------------',
'procedure combineHomes(collectionId varchar2) is',
'cursor cur is select * from rca13_homes where collection_id=collectionId and type not like ''ASM'';',
'asmVersion varchar2(40) := NULL;',
'asmHomePath varchar2(128) := NULL;',
'asmHomeId varchar2(40):= NULL;',
'begin',
'-- crs version >= asm version >= rdbms version',
'-- for GI asm and crs share the same home',
'if ISASMINSTALLED = 1 then',
' begin',
'    select home_id,home_path,version into asmHomeId,asmHomePath,asmVersion from rca13_homes',
'    where collection_id=collectionId and type like ''ASM'';',
' ',
'    for rec in cur loop',
'      if rec.type like ''CRS'' and ( asmVersion >= ''11.2'' or rec.version >= ''11.2'' or asmHomePath like rec.home_path ) then',
'        update rca13_homes set version=decode(rec.version,null,asmVersion,rec.version),type=''GI'',',
'       home_path=decode(rec.home_path,null,asmHomePath,rec.home_path) where home_id=rec.home_id;',
'        delete from rca13_homes where home_id=asmHomeId;',
'      end if;',
'      if rec.type like ''RDBMS'' and asmHomePath like rec.home_path then',
'        update rca13_homes set version=decode(rec.version,null,asmVersion,rec.version),type=''ASM & RDBMS'' where home_id=rec.home_id;',
'        delete from rca13_homes where home_id=asmHomeId;',
'      end if;',
'    end loop;',
'    commit;',
'  exception when no_data_found then',
'   --Don''t worry about it, there must not have been a separate ASM home, and nothing to combine',
'   --and nothing to update and nothing to delete',
'    null;',
'  end;',
'end if;',
'end;',
'--------------------------------------------------------------------------------',
'procedure parseEnvFile(shortFileName varchar2,cFileId varchar2) is',
'cursor cur is select line_text,line_number from rca13_COLLECTION_FILE_DATA  ',
' where COLLECTION_FILE_ID = cFileId order by line_number ASC;',
'nameField varchar2(512);',
'valueField varchar2(256);',
'collectionDate date;',
'dbName varchar2(40);',
'dbVersion varchar2(30);',
'rdbmsVersion varchar2(50);',
'rdbmsVersion1 varchar2(50);',
'asmVersion varchar2(50);',
'crsVersion varchar2(50);',
'osPlatform varchar2(50);',
'osDistribution varchar2(30);',
'osKernel rca13_collections.os_kernel%TYPE;',
'osVersion varchar2(30);',
'systemName varchar2(128);',
'collectionType varchar2(30);',
'collectionSource varchar2(30);',
'fileName varchar2(128);',
'fileType varchar2(100);',
'sourceName varchar2(40);',
'sourceType varchar2(40);',
'collectionId varchar2(40);',
'fileId varchar2(40);',
'instanceName varchar2(128);',
'instanceType varchar2(40);',
'counter number;',
'lineNumber number;',
'needsRunning varchar2(32);',
'collectionName varchar2(512);',
'oracleHomeid varchar2(40);',
'c1 number;',
'dbId varchar2(40);',
'version1 varchar2(48);',
'homeId1 varchar2(40);',
'dbId1 varchar2(40);',
'c2 number;',
'tempVar varchar2(40);',
'exadataVersion varchar2(40);',
'exadataRack varchar2(20);',
'count1 number;',
'c3 number;',
'hostId1 varchar2(40);',
'inFlag number;',
'hName varchar2(200);',
'grpStr varchar2(100);',
'customerId varchar2(200);',
'toolVersion varchar2(100);',
'curUser varchar2(100);',
'skippedChecksCnt number := 0;',
'isExalogic number := 0;',
'profs varchar2(2000);',
'begin',
'  select collection_id into collectionId from rca13_COLLECTION_FILES where collection_file_id=cFileId;',
'  if shortFileName not like ''check_env.out'' then',
'   return;',
'  end if;',
'    --Stage1: Get some Info and fill rca13_homes',
'    for line in cur loop',
'     continue when ( instr(line.line_text,''='',1,1) = 0 );',
'     nameField  := upper(trim(substr(line.line_text,1,(instr(line.line_text , ''='' ,1,1)-1))));',
'     valueField := trim(substr(line.line_text,(instr(line.line_text , ''='' ,1,1)+1)));',
'     if nameField like ''LOCALNODE'' then',
'      LOCAL_NODE := valueField;     ',
'     elsif nameField like ''SWITCH'' and valueField like ''-u'' then',
'      IS_UPGRADE_MODE := 1;',
'     elsif nameField like ''TARGET_VERSION'' and valueField is not null then',
'      TARGET_VERSION := substr(valueField,1,2)||''.'';',
'      for i in 3 .. length(valueField) loop',
'       TARGET_VERSION := TARGET_VERSION || substr(valueField,i,1)||''.'';',
'      end loop;',
'      TARGET_VERSION := rtrim(TARGET_VERSION,''.'');',
'     elsif nameField like ''RDBMS_ORACLE_HOME''  then',
'      if valueField is null or substr(valueField,1,instr(valueField,''|'',1,1)-1) is null then                 ',
'        continue;',
'      end if;',
'      rdbmsVersion := substr(valueField,instr(valueField,''|'',1,1)+1,instr(valueField,''|'',1,2)-1-instr(valueField,''|'',1,1));',
'      if rdbmsVersion is null then',
'       rdbmsVersion := getVersionFromDbName(rtrim(substr(valueField,1,instr(valueField,''|'',1,1)-1),''/''),cFileId);',
'       continue when (rdbmsVersion is null);',
'      end if;',
'      rdbmsVersion1 := substr(rdbmsVersion,1,2)||''.'';',
'      for i in 3 .. length(rdbmsVersion) loop',
'       rdbmsVersion1 := rdbmsVersion1 || substr(rdbmsVersion,i,1)||''.'';',
'      end loop;',
'      rdbmsVersion1 := rtrim(rdbmsVersion1,''.'');',
'      -- Remove duplicate home paths...',
'      select count(1) into count1 from rca13_homes where collection_id=collectionId and type like ''RDBMS'' and',
'       home_path = rtrim(substr(valueField,1,instr(valueField,''|'',1,1)-1),''/'');',
'      if count1 > 0 then',
'       continue;',
'      else',
'      insert into rca13_homes(home_id,collection_id,home_path,version,user_name,type)',
'       values(sys_guid(),collectionId,rtrim(substr(valueField,1,instr(valueField,''|'',1,1)-1),''/''),rdbmsVersion1,',
'       nvl(substr(valueField,instr(valueField,''|'',1,2)+1),''USER_NAME''),''RDBMS'');',
'      end if;',
'      commit;     ',
'     end if;',
'    end loop;',
'    ',
'    -- Stage2:     ',
'    for line in cur loop',
'     continue when ( instr(line.line_text,''='',1,1) = 0 );',
'     nameField  := trim(substr(line.line_text,1,(instr(line.line_text , ''='' ,1,1)-1)));',
'     valueField := trim(substr(line.line_text,(instr(line.line_text , ''='' ,1,1)+1)));',
'     -- Work around for entries like FILE_ID = A862D9F3403E44ECE040E50A1EC01F32 Ã·',
'     if nameField like ''FILE_ID'' and instr(valueField,'' '',1,1) != 0 then',
'      valueField := substr(valueField,1,instr(valueField,'' '',1,1)-1);',
'     end if;',
'     if nameField like ''DB_NAME'' and instr(line.line_text , ''|'' ,1,1) != 0 then',
'      begin',
'        select home_id into oracleHomeId from rca13_homes',
'         where collection_id = collectionId and home_path = rtrim(substr(valueField,instr(valueField,''|'',1,2)+1),''/'');',
'         exception when no_data_found then',
'         -- Continue when entries are like DB_NAME = VPT3DB15||',
'         continue;',
'      end;   ',
'      insert into rca13_databases(database_id,db_name,home_id,physical_standby,logical_standby,collection_id)',
'       values(sys_guid(),substr(valueField,1,instr(valueField,''|'',1,1)-1),oracleHomeId,NULL,NULL,collectionId);',
'     else',
'        case          ',
'         when nameField like ''FILE_ID'' then kitId := valueField;',
'         when nameField like ''FILE_SIG'' then customerId := valueField;',
'         when nameField like ''COLLECTION DATE'' then',
'              begin',
'              collectionDate := to_date(valueField,''DD-MM-YYYY HH24:MI:SS'');',
'              exception when others then collectionDate := null;',
'              end;',
'         when nameField like ''DB_NAME'' then dbName := valueField;',
'         when nameField like ''DB_VERSION'' then dbVersion := valueField;',
'         when nameField like ''ASM_VERSION'' then asmVersion := valueField;',
'         when nameField like ''ASM_HOME'' then ASMHOME := valueField;',
'         when nameField like ''CRS_VERSION'' then crsVersion := valueField;',
'         when nameField like ''DB_PLATFORM'' then osPlatform := valueField;',
'         when nameField like ''OS_DISTRO'' then osDistribution := valueField;',
'         when nameField like ''OS_VERSION'' then osVersion := valueField;',
'         when nameField like ''OS_KERNEL'' then osKernel := valueField;',
'         when nameField like ''CLUSTER_NAME'' then systemName := valueField;',
'         when upper(nameField) like upper(LOCAL_NODE)||''.CRS_ACTIVE_VERSION'' then crsVersion := valueField;',
'         when upper(nameField) like upper(LOCAL_NODE)||''.%ASM%.VERSION'' then asmVersion := valueField;',
'         when upper(nameField) like upper(LOCAL_NODE)||''.CRS_INSTALLED'' then ISCRSINSTALLED := valueField;',
'         when upper(nameField) like upper(LOCAL_NODE)||''.ASM_INSTALLED'' then ISASMINSTALLED := valueField;',
'         when upper(nameField) like ''.%ASM%.VERSION'' then asmVersion := nvl(valueField,asmVersion);',
'         when upper(nameField) = ''EXADATA_COMPUTE'' then isExadata := nvl(valueField,0);',
'         when upper(nameField) = ''EXADATA_VERSION'' then exadataVersion := valueField;',
'         when upper(nameField) = ''EXADATA_RACK''  then exadataRack := valueField;',
'         when upper(nameField) = ''GRP_STR''  then grpStr := valueField;',
'         when upper(nameField) = ''EXACHK_VERSION'' OR upper(nameField) = ''ORACHK_VERSION''  then toolVersion := valueField;',
'         when upper(nameField) = ''CURRENT_USER''  then curUser := valueField;',
'         when upper(nameField) = ''IS_EXALOGIC_MACHINE''  then isExalogic := valueField;',
'         when upper(nameField) = ''PROFILE_NAMES''  then profs := replace(valueField,'','','', '');',
'         else null;',
'         --dbms_output.put_line(''do nothing'');         ',
'        end case;        ',
'     end if;   ',
'    end loop;',
'    -- get db instances    ',
'    if osPlatform like ''AIX6 ( 64-BIT)'' then',
'     osPlatform := ''AIX6 (64-BIT)'';',
'    end if;',
'    if osPlatform like ''AIX5 ( 64-BIT)'' then',
'     osPlatform := ''AIX5 (64-BIT)'';',
'    end if;',
'    -- If platform name is ''SOLARIS  (SPARC 64-BIT)'', then Replace it with ''SOLARIS (SPARC 64-BIT)''',
'    if osPlatform like ''SOLARIS  (SPARC 64-BIT)'' or osPlatform like ''SOLARIS (SPARC64-BIT)'' then',
'      osPlatform := ''SOLARIS (SPARC 64-BIT)'';',
'    end if;',
'    if osPlatform = ''HPUX'' and grpStr like ''HPUXItanium%'' then',
'      osPlatform := ''HP-UX ITANIUM'';',
'    end if;',
'    ',
'    for line in cur loop    ',
'     continue when ( instr(line.line_text,''='',1,1) = 0 );',
'     nameField  := upper(trim(substr(line.line_text,1,(instr(line.line_text , ''='' ,1,1)-1))));',
'     valueField := trim(substr(line.line_text,(instr(line.line_text , ''='' ,1,1)+1)));     ',
'     -- Following works for both SDB and MDB, if we miss crs_home from SDB, we will add it later',
'     -- And we combine asm_home with other home( if applicable) later',
'     -- We are populating rca13_homes table in both the SDB and MDB cases',
'     if nameField like ''DB_NAME'' and instr(valueField,''|'',1,1) = 0 then',
'      insert into rca13_homes(home_id,collection_id,home_path,version,user_name,type,home_path_short)',
'       values(sys_guid(),collectionId,''RDBMS Home'',dbVersion,''SITE.USER'',''RDBMS'',''RDBMS Home'') return home_id into homeId1;',
'      insert into rca13_databases(database_id,db_name,home_id,physical_standby,logical_standby,collection_id)',
'       values(sys_guid(),valueField,homeId1,NULL,NULL,collectionId) return database_id into dbId1;',
'     elsif nameField like ''CRS_HOME'' and ISCRSINSTALLED = 1 then',
'      insert into rca13_homes(home_id,collection_id,home_path,version,type)',
'       values(sys_guid(),collectionId,valueField,crsVersion,''CRS'');',
'     elsif nameField like ''ASM_HOME'' and ISASMINSTALLED = 1 then',
'      insert into rca13_homes(home_id,collection_id,home_path,version,user_name,type,home_path_short)',
'       values(sys_guid(),collectionId,decode(valueField,NULL,''ASM Home'',valueField),asmVersion,''SITE.USER'',''ASM'',decode(valueField,NULL,''ASM Home'',NULL));',
'     end if;',
'    end loop;',
'-- get db instances and ASM instances     ',
'    for line in cur loop    ',
'     continue when ( instr(line.line_text,''='',1,1) = 0 );',
'     nameField  := upper(trim(substr(line.line_text,1,(instr(line.line_text , ''='' ,1,1)-1))));',
'     valueField := trim(substr(line.line_text,(instr(line.line_text , ''='' ,1,1)+1)));',
'     -- DB instances fetch',
'     if nameField like ''%.INSTANCE_NAME'' and valueField is not null then      ',
'      if instr(nameField,''.'',1,2 )!=0 then --works for MOH collections       ',
'       begin',
'       select distinct database_id into dbId from rca13_databases where collection_id = collectionId',
'        and upper(db_name) like substr(nameField,instr(nameField,''.'',1,1)+1,instr(nameField,''.'',1,2)-instr(nameField,''.'',1,1)-1);',
'       exception when NO_DATA_FOUND then continue; -- this exception is to handle if we don''t have',
'       end;',
'       insert into rca13_db_instances(db_instance_id,database_id,instance_name,node_name,collection_id)',
'        values(sys_guid(),dbId,valueField,substr(nameField,1,instr(nameField,''.'',1,1)-1),collectionId);                ',
'      elsif dbName is not null then --works for SOH collections',
'       insert into rca13_db_instances(db_instance_id,database_id,instance_name,node_name,collection_id)',
'        values(sys_guid(),dbId1,valueField,substr(nameField,1,instr(nameField,''.'',1,1)-1),collectionId);',
'      end if;',
'     end if;  ',
'     -- ASM instances fetch',
'     if nameField like ''%.ASM_INSTANCE'' and valueField is not null then      ',
'       insert into rca13_asm_instances(asm_instance_id,instance_name,node_name,collection_id)',
'        values(sys_guid(),valueField,substr(nameField,1,instr(nameField,''.'',1,1)-1),collectionId);                ',
'     end if;     ',
'    end loop;',
'    commit;            ',
'    --If collection date is null, get it from collection file name or initialize to sysdate',
'    if collectionDate is null then',
'     select filename into collectionName from rca13_collections where collection_id=collectionId;',
'     collectionName := substr(collectionName,instr(collectionName,''/'',-1,1)+1,',
'                       instr(collectionName,''.'',-1,1)-instr(collectionName,''/'',-1,1)-1);',
'     collectionName := substr(collectionName,instr(collectionName,''_'',1,2)+1);',
'     collectionName := substr(collectionName,1,2)||''-''||substr(collectionName,3,2)||''-''||substr(collectionName,5,2)||'' ''||',
'                       substr(collectionName,8,2)||'':''||substr(collectionName,10,2)||'':''||substr(collectionName,12,2);',
'     begin                       ',
'      collectionDate:= to_date(collectionName,''DD-MON-YYYY HH24:MI:SS'');',
'      exception when others then',
'      collectionDate := to_date(sysdate,''DD-MON-YYYY HH24:MI:SS'');   ',
'     end;',
'    end if;',
'        ',
'    -- if osPlatform is null or crsVersion is null then',
'    if crsVersion is null and ISCRSINSTALLED = 1 and asmVersion is not null and asmVersion >= ''11.2'' then',
'     crsVersion := asmVersion;',
'    end if;',
'    if osPlatform is null or (crsVersion is null and ISCRSINSTALLED = 1) then    ',
'      --raise_application_error(-20001,''Values of DB_PLATFORM(os platform) and CRS_VERSION should not be null'',true);',
'      null;',
'    end if;',
'    -- Get skipped checks count',
'    begin',
'     select count(1) into skippedChecksCnt from rca13_collection_file_data a,rca13_collection_files b',
'     where b.collection_id = collectionId and b.short_file_name like ''%_skipped_checks.log''',
'     and b.collection_file_id = a.collection_file_id;',
'     exception when others then null;',
'    end;',
'    update rca13_collections set collection_date = collectionDate,',
'     os_platform = osPlatform,os_dist = osDistribution,os_kernel = osKernel,',
'     os_version = osVersion,system_name = systemName,asm_version = asmVersion,crs_version = crsVersion,',
'     is_exadata = isExadata,exadata_version = exadataVersion,exadata_rack = exadataRack,kit_id = kitId,',
'     current_user = curUser,tool_version = toolVersion,skipped_checks = skippedChecksCnt,',
'     is_exalogic = isExalogic,profiles = profs where collection_id = collectionId;',
'    commit;',
'-- update rca13_homes table for type= crs,asm and rdbms',
'   update rca13_homes set version = asmVersion where collection_id = collectionId and type like ''ASM'';',
'   select count(*) into c2 from rca13_homes where collection_id= collectionId and type like ''CRS'';',
'   if c2 = 1 then',
'    update rca13_homes set version = crsVersion where collection_id = collectionId and type like ''CRS'';',
'   else',
'    insert into rca13_homes(home_id,collection_id,home_path,version,user_name,type,home_path_short)',
'       values(sys_guid(),collectionId,''CRS Home'',crsVersion,''SITE.USER'',''CRS'',''CRS Home'');',
'   end if;',
'   ',
'   combineHomes(collectionId);   ',
'   ',
'   select system_name into sourceName from rca13_collections where collection_id=collectionId;',
'  insert into rca13_files (file_id,collection_id,source_name,source_type,collection_file_id)',
'        values (sys_guid(),collectionId,sourceName,''DB'',cFileId);',
'-- this is to get standby',
'   for line in cur loop',
'    continue when ( instr(line.line_text,''='',1,1) = 0 );',
'    nameField  := trim(substr(line.line_text,1,(instr(line.line_text , ''='' ,1,1)-1)));',
'    valueField := trim(substr(line.line_text,(instr(line.line_text , ''='' ,1,1)+1)));',
'    case',
'     when nameField like ''%.PHYSICAL_STANDBY'' then',
'      update rca13_databases set physical_standby = valueField',
'       where collection_id = collectionId and upper(db_name) = upper(substr(nameField,1,instr(nameField,''.'',1,1)-1));',
'     when nameField like ''%.LOGICAL_STANDBY''  then',
'      update rca13_databases set logical_standby = valueField',
'       where collection_id = collectionId and upper(db_name) = upper(substr(nameField,1,instr(nameField,''.'',1,1)-1));',
'     when nameField like ''%.DATABASE_ROLE'' then',
'      update rca13_databases set DATABASE_ROLE = valueField',
'       where collection_id = collectionId and upper(db_name) = upper(substr(nameField,1,instr(nameField,''.'',1,1)-1));       ',
'     else null;',
'    end case;',
'   end loop;          ',
'  commit;',
'end;',
'--------------------------------------------------------------------------------',
'procedure parseFile(cFileId varchar2 ) is',
'shortFileName rca13_COLLECTION_FILES.short_file_name%TYPE;',
'collectionId varchar2(40);',
'begin',
' if cFileId is null then',
'  return;',
' end if;',
' select collection_id,short_file_name into collectionId,shortFileName from rca13_COLLECTION_FILES',
' where COLLECTION_FILE_ID = cFileId;',
'  if ( shortFileName like ''o_%.out'' or shortFileName like ''cells.out'' or shortFileName like ''c_actual.out'') and shortFileName not like ''%_result%''  ',
'       and shortFileName not like ''%patchlist%''then',
'     -- parsing o_host_list.out,o_ibswithces.out and cells.out files in praseOsFiles() function.',
'     parseOsFiles(shortFileName, cFileId);',
' elsif shortFileName like ''%check_env.out'' then',
'     parseEnvFile(shortFileName,cFileId);    ',
' elsif shortFileName like ''d_%.out'' or shortFileName like ''a_%.out'' then',
'     --parseDbAsmFiles(shortFileName,cFileId);',
'     null;',
' elsif shortFileName like ''s_%.out'' then      ',
'     --parseSwitchFiles(shortFileName,cFileId);     ',
'     null;',
' elsif shortFileName like ''%audit_result%'' then',
'     --parseResultFiles(shortFileName,cFileId,collectionId);',
'     null;',
' end if;',
'end;',
'--------------------------------------------------------------------------------',
'PROCEDURE parseRCFiles(collectionId VARCHAR2,docId number) IS',
'  CURSOR cur IS SELECT COLLECTION_FILE_ID, SHORT_FILE_NAME FROM rca13_COLLECTION_FILES',
'    WHERE COLLECTION_ID = collectionId and ( short_file_name like ''%_skipped_checks.log'' OR',
'    short_file_name in (''check_env.out'',''o_host_list.out'',''o_ibswitches.out'',''cells.out'') )',
'    ORDER BY short_file_name;',
'  shortFileName rca13_COLLECTION_FILES.short_file_name%TYPE;',
'  dCheckId       VARCHAR2(40);',
'  hostsFileId    VARCHAR2(40);',
'  noOfFiles      NUMBER := 0;',
'  currentFile    VARCHAR2(128);',
'  switchesFileId VARCHAR2(40);',
'  cellsFileId    VARCHAR2(40);',
'  c              NUMBER;',
'  cpFileId       VARCHAR2(40); --This is to store o_misc_clusterwide_checks.out file Id',
'  r              NUMBER;',
'  temp           VARCHAR2(40);',
'  colName        VARCHAR2(2000);',
'  INVALID_COLLECTION exception;',
'  emesg varchar2(2000);',
'BEGIN',
'  log_text(''START: Started Processing files other than HTML file'',collectionId,docId);',
'  SELECT COUNT(1)   INTO noOfFiles  FROM rca13_COLLECTION_FILES',
'  WHERE COLLECTION_ID = collectionId   AND ( short_file_name LIKE ''check_env.out''',
'  OR short_file_name LIKE ''o_host_list.out'');',
'  ',
'  IF noOfFiles = 0 OR noOfFiles = 1 THEN',
'    RAISE INVALID_COLLECTION;',
'  END IF;',
'  ',
'  SELECT filename  INTO colName  FROM rca13_docs  WHERE doc_id = docId;',
'  SELECT COUNT(1)   INTO noOfFiles',
'  FROM rca13_COLLECTION_FILES',
'  WHERE COLLECTION_ID = collectionId',
'  AND ( short_file_name LIKE ''a_%.out''',
'  OR short_file_name LIKE ''d_%.out''',
'  OR short_file_name LIKE ''o_%.out''',
'  OR short_file_name LIKE ''check_env.out''',
'  OR short_file_name LIKE ''c_actual.out'' );',
'  SELECT mod(noOfFiles,10) INTO r FROM dual;',
'  IF r = 0 THEN',
'    noOfFiles := noOfFiles + 1;',
'  END IF;',
'  c := 0;',
'  FOR rec IN cur LOOP',
'    --prevent processing duplicate file names and Get file Id''s that we need to run',
'    -- in first and second stages',
'    shortFileName := rec.short_file_name;',
'    IF shortFileName != NVL(currentFile,''NONE'') THEN',
'      currentFile    := shortFileName;',
'      IF shortFileName LIKE ''check_env.out'' THEN        ',
'        parseFile(rec.COLLECTION_FILE_ID);',
'        RACCHECK_ENV_FILE_ID := rec.COLLECTION_FILE_ID;',
'      elsif shortFileName LIKE ''o_host_list.out'' THEN',
'        hostsFileId := rec.COLLECTION_FILE_ID;',
'      elsif shortFileName LIKE ''o_ibswitches.out'' THEN',
'        switchesFileId := rec.COLLECTION_FILE_ID;',
'      elsif shortFileName LIKE ''cells.out'' THEN',
'        cellsFileId := rec.COLLECTION_FILE_ID;',
'      elsif shortFileName LIKE ''o_misc_clusterwide_checks.out'' THEN',
'        cpFileId := rec.COLLECTION_FILE_ID;',
'      END IF;',
'    END IF;',
'  END LOOP;  ',
'  parseFile(hostsFileId);',
'  IF NVL(switchesFileId,''z'') != ''z'' THEN',
'    parseFile(switchesFileId);',
'  END IF;',
'  IF NVL(cellsFileId,''z'') != ''z'' THEN',
'    parseFile(cellsFileId);',
'  END IF;',
'  currentFile := NULL;',
'  FOR rec IN cur  LOOP',
'    shortFileName := rec.short_file_name;',
'    IF shortFileName != NVL(currentFile,''NONE'') THEN',
'      currentFile    := shortFileName;',
'      IF rec.COLLECTION_FILE_ID != NVL(RACCHECK_ENV_FILE_ID,''z'') AND rec.collection_file_id != NVL(hostsFileId,''z'')',
'         AND rec.collection_file_id != NVL(cpFileId,''z'') AND rec.collection_file_id != NVL(switchesFileId,''z'')',
'         AND rec.collection_file_id != NVL(cellsFileId,''z'') THEN        ',
'             --parseFile(rec.COLLECTION_FILE_ID);',
'             NULL;',
'      END IF;',
'    END IF;',
'  END LOOP;',
'  COMMIT;',
'  log_text(''FINISH: Finished processing files other than HTML file'',collectionId,docId);',
'EXCEPTION',
' WHEN INVALID_COLLECTION THEN',
'   log_text(''NODATA: Collection does not have raccheck_env.out/check_env.out file ... exiting'',collectionId);',
' WHEN OTHERS THEN',
'   emesg := SQLERRM;',
'   log_text(''FAIL: Error Occured:''||emesg,collectionId);',
'END;',
'--------------------------------------------------------------------------------',
'FUNCTION blob_to_clob',
'  (',
'    blob_in IN BLOB',
'  )',
'  RETURN CLOB',
'AS',
'  v_clob CLOB;',
'  v_varchar VARCHAR2(32767);',
'  v_start PLS_INTEGER  := 1;',
'  v_buffer PLS_INTEGER := 32767;',
'BEGIN',
'  IF ( blob_in IS NULL ) THEN',
'    RETURN NULL;',
'  END IF;',
'  IF ( LENGTH(blob_in)=0 ) THEN',
'    RETURN empty_clob();',
'  END IF;',
'  DBMS_LOB.CREATETEMPORARY(v_clob, TRUE);',
'  FOR i IN 1..CEIL',
'  (',
'    DBMS_LOB.GETLENGTH(blob_in) / v_buffer)',
'  LOOP',
'    v_varchar := UTL_RAW.CAST_TO_VARCHAR2(DBMS_LOB.SUBSTR(blob_in, v_buffer, v_start));',
'    DBMS_LOB.WRITEAPPEND(v_clob, LENGTH(v_varchar), v_varchar);',
'    v_start := v_start + v_buffer;',
'  END LOOP;',
'  RETURN v_clob;',
'END;',
'--------------------------------------------------------------------------------',
'FUNCTION blob2clob',
'  (',
'    blobData BLOB',
'  )',
'  RETURN CLOB',
'IS',
'  clobData CLOB;',
'  temp CLOB;',
'  LEN NUMBER;',
'  n   NUMBER;',
'BEGIN',
'  IF ( blobData IS NULL ) THEN',
'    RETURN NULL;',
'  END IF;',
'  IF ( LENGTH(blobData)=0 ) THEN',
'    RETURN empty_clob();',
'  END IF;',
'  dbms_lob.createtemporary(clobData,true);',
'  n               :=1;',
'  WHILE ( n+32767 <= LENGTH(blobData) )',
'  LOOP',
'    temp := utl_raw.cast_to_varchar2(dbms_lob.substr(blobData,32767,n));',
'    LEN  := dbms_lob.GETLENGTH(temp);',
'    dbms_lob.writeappend(clobData,LEN,temp); -- some thing is wrong that is why usng len variable instead of 32767',
'    n:=n+32767;',
'  END LOOP;',
'  dbms_lob.writeappend(clobData,LENGTH(blobData)-n+1,utl_raw.cast_to_varchar2(dbms_lob.substr(blobData,LENGTH(blobData)-n+1,n)));',
'  RETURN clobData;',
'END;',
'--------------------------------------------------------------------------------',
'procedure deleteCollection ( docId number,keep_zip number default 0) is',
'collectionId varchar2(40);',
'colDate timestamp;',
'colName varchar2(256);',
'temp varchar2(40);',
'begin',
' --Delete based on collection zip doc id',
' --Get collectionId from rca13_docs table',
' select collection_id into collectionId from rca13_docs where doc_id = docId;',
' --dbms_output.put_line(''in delete fun:cid=''||collectionId);',
' if collectionId is null then',
'  --If process is failed before updating collection id in docs table get collectionId from collections table',
'  select collection_id into collectionId from rca13_collections where doc_id = docId and rownum = 1;',
' end if;',
' --dbms_output.put_line(''in delete fun:cid2=''||collectionId);',
' if collectionId is null then',
' --dbms_output.put_line(''in delete fun: in if'');',
'  --collection is not processed so just delete doc and we can''t do any thing about the data inserted in result tables',
'  delete from rca13_docs where doc_id = docId;',
'  return;',
' else --Delete whole data',
' --dbms_output.put_line(''in delete fun: in else'');',
'  --Get collection date and collection name',
'  select collection_date,collection_name into colDate,colName from rca13_COLLECTIONS',
'  where collection_id = collectionId;',
'  if keep_zip = 1 then',
'    delete from rca13_docs where collection_id =  collectionId and attr1 != ''ZIP_FILE'';',
'    update rca13_docs set collection_id = null where collection_id =  collectionId and doc_id = docId;',
'  else',
'    delete from rca13_docs where collection_id =  collectionId;',
'  end if;',
'  --update auditcheck_result set collection_id = null where collection_id =  collectionId;',
'  delete from rca13_collections_md where  collection_id =  collectionId;',
'  delete from auditcheck_result where  collection_id =  collectionId;  ',
'  -- Data based on collection date --',
'  delete from auditcheck_patch_result where  collection_date =  colDate;',
'  delete from rca13_col2sys_mapping where collection_date = colDate and collection_name = colName;',
'  delete from rca13_collection_values where collection_date = colDate and collection_name = colName;',
'  delete from rca13_diff_info where cur_col_date = colDate and cur_col_name = colName;',
'  -- Delete All parsed data --',
'  delete from rca13_COLLECTIONS where collection_id =  collectionId;',
'  delete from rca13_DB_INSTANCES where collection_id =  collectionId;',
'  delete from rca13_DATABASES where collection_id =  collectionId;',
'  delete from rca13_IBS_SS where collection_id =  collectionId;',
'  delete from rca13_ASM_INSTANCES where collection_id =  collectionId;',
'  delete from rca13_HOSTS where collection_id =  collectionId;',
'  delete from rca13_HOMES where collection_id =  collectionId;',
'  delete from rca13_FILES where collection_id =  collectionId;',
'  -- Need order for the following 2 deletes',
'  delete from rca13_COLLECTION_FILE_DATA where collection_file_id in',
'  (select collection_file_id from rca13_COLLECTION_FILES where collection_id =  collectionId );',
'  delete from rca13_parameters where collection_id = collectionId;',
'  delete from rca13_COLLECTION_FILES where collection_id =  collectionId;',
'  delete from rca13_LOG where collection_id =  collectionId;',
' end if;',
' commit;',
' -- Delete Ignored checks info',
' delete from rca13_ignored_checks where COLLECTION_DATE is not null and COLLECTION_DATE = colDate and collection_name = colName;',
' -- Delete Tickets info',
' for rec in ( select ticket_id ti from rca13_ac_tickets where collection_date = colDate and collection_name = colName ) loop',
'     delete from rca13_intrack_incidents where id = rec.ti;',
' end loop;              ',
' delete from  rca13_ac_tickets where collection_date = colDate and collection_name = colName;',
' -- Deelte HIstory',
' delete from rca13_track_actions where collection_date = colDate;',
' commit;',
' --Now do some thing about diff',
' delete from rca13_diff_info where CUR_COL_DATE = colDate and CUR_COL_NAME = colName;',
' commit;',
' for rec in ( select CUR_COL_NAME cn,cur_col_date cd from rca13_diff_info where prev_col_date = colDate ) loop',
'  temp := hasDiffWithPrevRun(rec.cn,rec.cd);',
' end loop;',
' end;',
'--------------------------------------------------------------------------------',
'procedure purgeData(dat timestamp) is --delete data older than dat',
'begin',
' --First delete based on docId  ',
' --Get all collections which are older than dat',
' for rec in ( select doc_id did,collection_id cid from rca13_collections where collection_date <= dat ) loop',
'   deleteCollection(rec.did,0);',
' end  loop;',
' --Second delte based on date --THis data is not processed by zips',
' --Don''t delete sample data',
' delete from rca13_collections_md where  collection_date <= dat and collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');',
' delete from auditcheck_result where  collection_date <= dat and upload_collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');',
' delete from auditcheck_patch_result where  collection_date <= dat;',
' delete from rca13_col2sys_mapping where collection_date <= dat and collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');',
' delete from rca13_collection_values where collection_date <= dat and collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');',
' delete from rca13_diff_info where cur_col_date <= dat and collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_09'))
);
null;
end;
/
begin
wwv_flow_api.append_to_install_script(
 p_id=>wwv_flow_api.id(312117262953308080)
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'2713_163750'');',
' commit;',
' -- Delete Ignored checks info',
' delete from rca13_ignored_checks where COLLECTION_DATE is not null and COLLECTION_DATE <= dat;',
' -- Delete Tickets info',
' for rec in ( select ticket_id ti from rca13_ac_tickets where collection_date <= dat',
'              and collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'') ) loop',
'     delete from rca13_intrack_incidents where id = rec.ti;',
' end loop;              ',
' delete from  rca13_ac_tickets where collection_date <= dat and collection_name not in (''exachk_cetrain19_sidb_091913_151355'',''exachk_cetrain19_sidb_092713_163750'');   ',
' -- Deelte HIstory',
' delete from rca13_track_actions where collection_date <= dat;',
' commit;',
' --Now Re-caliculate every thing',
' for rec in ( select collection_date cd,collection_name cn from rca13_collections_md ) loop',
'    rca13_manage_collections.afterColInUpActs(rec.cd,rec.cn,3);',
' end loop;',
'end;',
'--------------------------------------------------------------------------------',
'procedure submitDataPurgeJob ( dat timestamp ) is',
'--Changing Jobname from RCA13_PURGE_DATA to RCA13_PUR',
'jobName varchar2(100) := ''RCA13_PUR_''|| RCA13_JOB_SEQ.nextval;',
'begin',
'--insert into a_temp_k (col) values(''BEGIN rca13_manage_collections.purgeData(dat => to_timestamp(''''''||dat||'''''',''''DD-MON-RR HH.MI.SS.FF AM'''')); END;'');',
'commit;',
'  DBMS_SCHEDULER.create_job (',
'    job_name   => jobName,',
'    job_type   => ''PLSQL_BLOCK'',',
'    job_action => ''BEGIN rca13_manage_collections.purgeData(dat => to_timestamp(''''''||dat||'''''',''''DD-MON-RR HH.MI.SS.FF AM'''')); END;'',',
'    start_date     => SYSTIMESTAMP,',
'    enabled => TRUE,',
'    comments => ''Purge Data Older than ''||dat);',
'end;',
'--------------------------------------------------------------------------------',
'function hasDiff (pcName varchar2,pcDate timestamp,cName varchar2,cDate timestamp) return number is',
'rValue number;',
'cnt number := 0;',
'--Cursor for differed checks',
'cursor cur is select * from  (',
'select status1,hostname1,dbname1,instname1,c1,statusmsg1,',
'case when instr(StatusMsg1,''on infiniband switch'',1,1) > 0 then substr(StatusMsg1,instr(StatusMsg1,''on infiniband switch'',1,1)+21)',
'  else   null  end as switch1,',
'case when  regexp_count(StatusMsg1, ''/'' ) >4 or ct1=''ORACLE_PATCH'' then    substr(StatusMsg1,instr(StatusMsg1,'' '',-1,1)+1)',
'  else    null  end as home1,',
'''<a id="''||c1||''" class="recommendation" style="cursor:pointer;" title="Recommendation" onclick="open_dialog(''''''||c1||'''''');">',
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>''||''<div id="''||c1||''_rec" style="display:none"></div>&nbsp;&nbsp;''||check_name as check_name,',
'status2,hostname2,dbname2,instname2,c2,sOrder1,statusmsg2,  ',
'case   when instr(StatusMsg2,''on infiniband switch'',1,1) > 0 then    substr(StatusMsg2,instr(StatusMsg2,''on infiniband switch'',1,1)+21)',
'  else    null  end as switch2,',
'case   when  regexp_count(StatusMsg2, ''/'' ) >4 or ct2=''ORACLE_PATCH'' then    substr(StatusMsg2,instr(StatusMsg2,'' '',-1,1)+1)',
'  else    null  end as home2    ',
'from (',
'select  ',
'a.status Status1,',
'a.hostname HostName1,a.db_name DBName1,a.instance_name InstName1,a.check_id c1,a.status_message StatusMsg1,a.check_type ct1,',
'decode(a.status,''FAIL'',1,''WARNING'',2,''INFO'',3,''PASS'',4,''INFO-PASS'',5,''FAIL-IGNORED'',6,7) sOrder1,',
'''<b>''||decode(a.check_type,''SQL_PARAM'',a.PARAM_NAME,''OS_PARAM'',a.PARAM_NAME,''OS_PACKAGE'',a.PARAM_NAME,nvl(a.CHECK_NAME,a.PARAM_NAME))||''</b>'' check_name,',
'b.status Status2,',
'b.hostname HostName2,b.db_name DBName2,b.instance_name InstName2,b.check_id c2,b.status_message StatusMsg2,b.check_type ct2',
'from  ( select * from auditcheck_result where collection_date = pcDate and upload_collection_name = pcName ) a,',
'      ( select * from auditcheck_result where collection_date = cDate and upload_collection_name = cName ) b',
'where',
'a.check_id = b.check_id',
'and nvl(a.hostname,''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name,''NA'')',
') )',
'where Status1 != Status2',
'and nvl(switch1,''NA'') = nvl(switch2,''NA'')',
'and nvl(home1,''NA'') = nvl(home2,''NA'');',
'--Cursor for Checks only in collection 2',
'cursor cur2 is select  status,hostname,db_name,instance_name,check_id,status_message,',
'''<a id="''||check_id||''" class="recommendation" style="cursor:pointer;" title="Recommendation" onclick="open_dialog(''''''||check_id||'''''');">',
'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>''||''<div id="''||check_id||''_rec" style="display:none"></div>&nbsp;&nbsp;''||check_name as check_name',
'from (',
'select  a.status,a.hostname,a.db_name,a.instance_name,a.check_id,a.status_message,a.check_name',
'from  auditcheck_result a where collection_date = cDate and upload_collection_name = cName',
'MINUS',
'select status2 status ,hostname2 hostname,dbname2 db_name,instname2 instance_name,c2 check_id,statusmsg2 status_message,check_name from  (',
'select status2,hostname2,dbname2,instname2,c2,statusmsg2,check_name,',
'case when instr(StatusMsg1,''on infiniband switch'',1,1) > 0 then substr(StatusMsg1,instr(StatusMsg1,''on infiniband switch'',1,1)+21)',
'  else   null  end as switch1,',
'case when  regexp_count(StatusMsg1, ''/'' ) >4 or ct1=''ORACLE_PATCH'' then    substr(StatusMsg1,instr(StatusMsg1,'' '',-1,1)+1)',
'  else    null  end as home1,',
'case when instr(StatusMsg2,''on infiniband switch'',1,1) > 0 then substr(StatusMsg2,instr(StatusMsg2,''on infiniband switch'',1,1)+21)',
'  else   null  end as switch2,',
'case when  regexp_count(StatusMsg2, ''/'' ) >4 or ct2=''ORACLE_PATCH'' then    substr(StatusMsg2,instr(StatusMsg2,'' '',-1,1)+1)',
'  else    null  end as home2',
'from (',
'select  a.status Status1,a.hostname HostName1,a.db_name DBName1,a.instance_name InstName1,a.check_id c1,a.status_message StatusMsg1,a.check_name,a.check_type ct1,',
'        b.status Status2,b.hostname HostName2,b.db_name DBName2,b.instance_name InstName2,b.check_id c2,b.status_message StatusMsg2,b.check_type ct2',
'from  ( select * from auditcheck_result where collection_date = pcDate and upload_collection_name = pcName ) a,',
'      ( select * from auditcheck_result where collection_date = cDate and upload_collection_name = cName ) b',
'where',
'a.check_id = b.check_id',
'and nvl(a.hostname,''NA'') = nvl(b.hostname,''NA'')',
'and nvl(a.db_name,''NA'') = nvl(b.db_name,''NA'')',
'and nvl(a.instance_name,''NA'') = nvl(b.instance_name,''NA'')',
') )',
'where nvl(switch1,''NA'') = nvl(switch2,''NA'')',
'and nvl(home1,''NA'') = nvl(home2,''NA'')',
');',
'begin',
'  -- Now check whether it is good or bad diff ==> return 2 for good(green), 3 for bad(red), 4 for waring(orange)',
'  -- check for red',
'  rValue := 0;',
'  for rec in cur loop        ',
'    if rec.Status2 = ''FAIL'' then',
'       return 3; --Red --Return no need to go further',
'    elsif rec.Status2 = ''WARNING'' then   ',
'       rValue := 4; --Orange',
'    end if;',
'  end loop;  ',
'  ',
'  --dbms_output.put_line(''2.rvalue=''||rValue||'' and ''||cnt);',
'  if rValue != 4 then',
'    rValue := 2; --Diff not found, green',
'  end if;',
'   ',
'  --dbms_output.put_line(''2.rvalue=''||rValue);',
'  --Now check checks only in collection2',
'  for rec in cur2 loop',
'    if rec.status = ''FAIL'' then',
'      return 3; --Red',
'    elsif rec.status = ''WARNING'' then',
'      cnt := 4;',
'    end if;    ',
'  end loop;',
'  ',
'  if rValue = 4 OR cnt = 4 then',
'    return 4; --Orange',
'  end if;  ',
'  ',
'  return 2; --Good Greem',
'  ',
'end;',
'--------------------------------------------------------------------------------',
'function hasDiffWithPrevRun(cName varchar2,cDate timestamp) return varchar2 is',
'hName varchar2(100);',
'dPart varchar2(10);',
'tPart varchar2(10);',
'cTime date;',
'pcName varchar2(1000);',
'pcDate timestamp;',
'rVal varchar2(40);',
'attr1 varchar2(1000);',
'attr2 timestamp;',
'sysId varchar2(40);',
'PRAGMA AUTONOMOUS_TRANSACTION;',
'begin',
' --Get system id',
' begin',
'   select system_id into sysId from rca13_col2sys_mapping where collection_date = cDate and collection_name = cName;',
'   exception when others then null; --That is system not classified',
' end;',
' --Get previous collection name from the same system/hostname',
' hname := substr(cName,instr(cName,''_'',1,1)+1,instr(cName,''_'',1,2)-instr(cName,''_'',1,1)-1);',
' if hname is not null then',
'   for rec in ( select a.collection_date,a.collection_name from rca13_collections_md a',
'                where sysId is null and a.collection_date < cDate and a.collection_name like ''%\_''||hname||''\_%'' escape ''\''',
'                UNION',
'                select a.collection_date,a.collection_name from rca13_collections_md a,rca13_col2sys_mapping b',
'                where sysId is not null and a.collection_date < cDate and a.collection_name like ''%\_''||hname||''\_%'' escape ''\''',
'                and a.collection_date = b.collection_date and a.collection_name = b.collection_name and b.system_id = sysId',
'                order by collection_date desc             ',
'             ) loop',
'     pcName := rec.collection_name;',
'     pcDate := rec.collection_date;',
'     exit;',
'    end loop;',
' elsif sysId is not null then --Get recent collection from system',
'     for rec in ( select a.collection_date,a.collection_name from rca13_collections_md a,rca13_col2sys_mapping b',
'                where a.collection_date < cDate and a.collection_date = b.collection_date',
'                and a.collection_name = b.collection_name and b.system_id = sysId',
'                order by collection_date desc             ',
'             ) loop',
'      pcName := rec.collection_name;',
'      pcDate := rec.collection_date;',
'      exit;',
'     end loop;',
' else -- No previous collection found',
'    return 0;',
' end if;   ',
' ',
' -- check whether diff is already caliculate or not',
' begin',
'  select diff_id,prev_col_name,prev_col_date into rVal,attr1,attr2 from rca13_diff_info',
'  where cur_col_name = cName and cur_col_date = cDate;',
'  exception when no_data_found then null;   ',
' end;',
' --Return if the previous collection details are correct, else delete the entry and do fresh diff',
' if rVal is not null then',
'  if (attr1 is null and attr2 is null ) or (attr1 = pcName  and attr2 = pcDate ) then',
'   return rVal;',
'  else',
'   delete from rca13_diff_info where diff_id = rVal;',
'   commit;',
'  end if;  ',
' end if;',
' -- diff_types:',
' --0 = prev col not found for the selected collection,',
' --2 = diff found..but good( that is fail to pass, only region 1 ),Green,',
' --3 = diff found, but bad ( some thing from good to fail, only region 1 ),Red',
' --4 = diff found, Orange ( some thing from good to warning )',
' if pcName is null OR pcDate is null then --No previous collection found',
'   insert into rca13_diff_info values(sys_guid(),cName,cDate,pcName,pcDate,0) return diff_id into rVal;',
' else',
'   insert into rca13_diff_info values(sys_guid(),cName,cDate,pcName,pcDate,hasDiff(pcName,pcDate,cName,cDate)) return diff_id into rVal;',
' end if;',
' commit;    ',
' return rVal;',
'end;',
'--------------------------------------------------------------------------------',
'procedure submitJob(docId in number,user varchar2 default ''ORACHK.USER'') is',
'--jobName varchar2(100) := ''RCA13_COL_'' || docId || ''_'' || RCA13_JOB_SEQ.nextval;',
'--Remove docId from name as it is too big',
'jobName varchar2(100) := ''RCA13_COL_''|| RCA13_JOB_SEQ.nextval;',
'--PRAGMA AUTONOMOUS_TRANSACTION;',
'begin    ',
'  DBMS_SCHEDULER.create_job (',
'    job_name   => jobName,',
'    job_type   => ''PLSQL_BLOCK'',',
'    job_action => ''BEGIN rca13_manage_collections.process_collection(docId => ''''''||docId||''''''); END;'',',
'    start_date     => SYSTIMESTAMP,',
'    enabled => TRUE,',
'    comments => docId);',
'end;',
'--------------------------------------------------------------------------------',
'procedure submitJob4All is',
'jobName varchar2(100);',
'cnt number := 0;',
'begin    ',
' -- Limit Jobs population to 10. Otherwise there is a chance that it will fill job queue',
' for rec in ( select doc_id docId from rca13_docs a where collection_id is null and attr1 = ''ZIP_FILE'' and  ',
'              not exists ( select 1 from rca13_collections b where a.doc_id = b.doc_id )',
'              UNION',
'              select doc_id docId from rca13_collections  where status = ''Failed'' and fail_comment = ''NO_ENOUGH_SPACE''',
'              ) loop',
'   --Remove docId from name as it is too big           ',
'   cnt := cnt + 1;',
'   exit when cnt > 10; -- Remaining collections will process in the next round',
'   --Changing job name from RCA13_COLLECTION to RCA13_COL to avoid job name lenght limit error',
'   jobName:= ''RCA13_COL_'' ||RCA13_JOB_SEQ.nextval;',
'   DBMS_SCHEDULER.create_job(',
'    job_name   => jobName,',
'    job_type   => ''PLSQL_BLOCK'',',
'    job_action => ''BEGIN rca13_manage_collections.process_collection(docId => ''''''||rec.docId||''''''); END;'',',
'    start_date     => SYSTIMESTAMP,',
'    enabled => TRUE,',
'    comments => rec.docId);',
' end loop;   ',
'end;',
'--------------------------------------------------------------------------------',
'procedure classifyCollection ( cDate timestamp,cName varchar2 ) is',
'cursor cur is select distinct cluster_name,hostname from auditcheck_result where collection_date = cDate',
'and upload_collection_name = cName order by hostname;',
'clusterName varchar2(256) := NULL;',
'cnt1 number;',
'sysId varchar2(40) := NULL;',
'flag number := 0;',
'cType varchar2(40) := ''Cluster'';',
'defaultSid varchar2(40);',
'isNew number := 0;',
'begin',
'  --Get Cluster/system name',
'  for rec in cur loop',
'    if rec.cluster_name is not null then',
'      clusterName := rec.cluster_name;    ',
'      exit;',
'    end if;  ',
'  end loop;',
'  --If cluster name is null try to get host name from collection name',
'  if clusterName is null then',
'      clusterName := substr(cName,instr(cName,''_'',1,1)+1,instr(cName,''_'',1,2)-instr(cName,''_'',1,1)-1);',
'      cType := ''Single Node'';',
'  end if;',
'  --If cluster name is null, classify it as unknown',
'  if clusterName is null then',
'      clusterName := ''Unknown'';',
'  end if;  ',
'  --dbms_output.put_line(''clusterName=''||clusterName);',
'  select count(1) into cnt1 from rca13_systems where system_name = clusterName;',
'  --dbms_output.put_line(''Is system already exists ?, cnt = ''||cnt1);',
'  if cnt1 = 0 then --System not yet inserted',
'    insert into RCA13_SYSTEMS(system_id,system_name,system_type,created_by,created)',
'    values (sys_guid(),clusterName,''Cluster'',''USER'',systimestamp) return system_id into sysId;',
'    isNew := 1;',
'  elsif cnt1 >= 1 then -- Find out correct system for which the collection belong to',
'    for rec in ( select system_id from rca13_systems where system_name = clusterName ) loop',
'      --dbms_output.put_line(''sysId=''||rec.system_id);',
'      for rec1 in ( select host_name from rca13_system_hosts where system_id = rec.system_id order by host_name ) loop',
'        --dbms_output.put_line(''sysId and existing host name = ''||rec.system_id||'',''||rec1.host_name);',
'        for rec2 in cur loop',
'           --dbms_output.put_line(''new host name=''||rec2.hostname);',
'           if rec2.hostname = rec1.host_name then',
'             --dbms_output.put_line(''System found in table'');',
'             sysId := rec.system_id;',
'             flag := 1;',
'             exit;',
'           end if;',
'        end loop;',
'        exit when flag = 1;',
'      end loop;',
'      exit when flag = 1;',
'    end loop;',
'  end if;',
'  --dbms_output.put_line(''sysId=''||sysId);',
'  if sysId is null then -- That is this system is new from existing systems',
'    insert into RCA13_SYSTEMS(system_id,system_name,system_type,created_by,created)',
'    values (sys_guid(),clusterName,cType,''USER'',systimestamp) return system_id into sysId;',
'    isNew := 1;',
'    for rec in cur loop',
'      insert into rca13_system_hosts(SYS_HOST_ID,system_id,host_name) values(sys_guid(),sysId,rec.hostname);',
'    end loop;',
'  else',
'    -- Add new hosts to hosts table',
'    for rec in cur loop       ',
'      begin',
'       insert into rca13_system_hosts(SYS_HOST_ID,system_id,host_name) values(sys_guid(),sysId,rec.hostname);',
'       --dbms_output.put_line(''New hosts adding are:''||rec.hostname);',
'       exception when dup_val_on_index then null;',
'      end;',
'    end loop;',
'  end if;  ',
'  -- Add collection to classification list',
'  --insert into rca13_col2sys_mapping(map_id,collection_date,collection_name,system_id) values(sys_guid(),TO_TIMESTAMP(cDate,''DD-MON-RR HH:MI:SS.FF AM''),cName,sysId);',
'  begin    ',
'    insert into rca13_col2sys_mapping(map_id,collection_date,collection_name,system_id) values(sys_guid(),cDate,cName,sysId);',
'    exception when dup_val_on_index then null;',
'  end;  ',
'  commit;',
'  --isNew = 1 ==> since system is new, map it to DEFAULT business unit by defalut(otherwise these collections will be invisible )',
'  if sysId != ''SAMPLE_SYSTEM'' and isNew = 1 then',
'   insert into rca13_lob2sys_mapping(map_id,system_id,lob_id,created) values(sys_guid(),sysId,''DEFAULT'',''USER'');',
'   commit;',
'  end if;',
'  exception when others then null;',
'end;    ',
'--------------------------------------------------------------------------------',
'procedure classifyCollections is',
'cursor cur is select collection_date cd,collection_name ucn from rca13_collections_md a',
'  where not exists ( select 1 from rca13_col2sys_mapping b where a.collection_date  = b.collection_date and b.collection_name = a.collection_name );',
'begin',
'  for rec in cur loop',
'    --dbms_output.put_line(''cDate=''||rec.cd||'' and cName=''||rec.ucn);',
'    classifyCollection(rec.cd,rec.ucn);',
'  end loop;',
'end;',
'--------------------------------------------------------------------------------',
'procedure monitorDiffType is',
'temp varchar2(40);',
'begin',
' for rec in ( select collection_date cDate,collection_name cName from rca13_collections_md',
'              where collection_date > sysdate - 90',
'              ) loop',
'   temp := hasDiffWithPrevRun(rec.cName,rec.cDate);',
' end loop;',
'end;',
'--------------------------------------------------------------------------------',
'procedure updateMDtable is',
'cursor cur is select collection_date cd ,upload_collection_name ucn,collection_id ci from',
'   ( select distinct collection_date,upload_collection_name,collection_id from auditcheck_result ) a where',
'   a.collection_date is not null and upload_collection_name is not null and',
'   not exists ( select 1 from rca13_collections_md where collection_date = a.collection_date and collection_name = a.upload_collection_name );  ',
'begin',
' for rec in cur loop',
'   --Insert entry into rca13_collections_md table',
'   begin',
'    insert into rca13_collections_md(collection_date,collection_name,collection_id) values(rec.cd,rec.ucn,rec.ci);',
'    commit;    ',
'    exception when dup_val_on_index then null;',
'   end;  ',
'   --For each inserted row of rca13_collections_md, caliculate all stuff',
'   RCA13_MANAGE_COLLECTIONS.afterColInUpActs(rec.cd,rec.ucn);',
' end loop;',
' --There is a chance that collections can be added and removed in middle. So, make sure that diff_type is correct for each collection',
' rca13_manage_collections.monitorDiffType();',
' --Now, Process collections if any',
' rca13_manage_collections.submitJob4All();   ',
'end;',
'--------------------------------------------------------------------------------',
'procedure processAuditData is',
'jobName varchar2(100);',
'cnt number;',
'begin',
'   --If previous job is already running return',
'   begin',
'    select count(1) into cnt from user_scheduler_running_jobs where job_name like ''RCA13_PAD_%'';',
'    exception when others then null;',
'   end;  ',
'   if cnt > 0 then    return;   end if;',
'   --Changing job name from RCA13_PROCESS_DATA to RCA13_PAD to avoid jobname lenght limit error',
'   jobName  := ''RCA13_PAD_''|| RCA13_JOB_SEQ.nextval;',
'   DBMS_SCHEDULER.CREATE_JOB (',
'   job_name           =>  jobName,',
'   job_type           =>  ''PLSQL_BLOCK'',',
'   job_action         =>  ''BEGIN rca13_manage_collections.updateMDtable; END;'',',
'   start_date         =>   systimestamp,',
'   enabled            =>   TRUE,',
'   comments           =>  ''ORAchk App:Process Audit Data'');',
'end;',
'--------------------------------------------------------------------------------',
'--Trigger the following procedure if inserting on rca13_collection_md .. do the following',
'--1. Classify collection',
'--2. Caliculate score,fails count,pass count,warning count and diff info',
'procedure afterColInUpActs( collectionDate timestamp,collectionName varchar2,flag number default 1 ) is',
'score number;',
'fCount number;',
'wCount number;',
'pCount number;',
'iCount number; --Info',
'igCount number; --Ignored count',
'fixedCount number;',
'sysId varchar2(40);',
'diff number;',
'temp varchar2(40);',
'begin',
' --flag = 1 => Collection is just inserted',
' --flag = 2 => When check is ignored or ticket is closed on check/collection',
' --flag = 3 ==> when data purged',
' --Classify collection',
' if flag = 1 then --For other flags no need to call it',
'  --This is one time job',
'  classifyCollection(collectionDate,collectionName);',
' end if;',
' --get system id for which the collection belongs to',
' begin  ',
'  select system_id into sysId from rca13_col2sys_mapping where collection_date = collectionDate and collection_name = collectionName;',
'  exception when no_data_found then return;',
' end;  ',
' --caliculate collection Score',
' score := RCA13_GET_DATA4COLUMNS.getCollectionScore(null,collectionName,collectionDate);',
' --caliculate check counts',
' --While caliculating fails,warning & info if check is ignored don''t consider that check',
' select count(1) into fCount from auditcheck_result a',
' where a.collection_date = collectionDate and a.UPLOAD_COLLECTION_NAME = collectionName and a.status = ''FAIL''',
' AND NOT EXISTS ( SELECT 1 FROM rca13_ignored_checks t1 WHERE a.check_id = t1.check_id',
' AND t1.system_id =sysId AND ( t1.collection_date IS NULL OR ( t1.collection_date  = a.collection_date',
' and t1.collection_name = a.UPLOAD_COLLECTION_NAME and acr_id is null )',
' OR acr_id = a.auditcheck_result_id) );',
' ',
' select count(1) into wCount from auditcheck_result a',
' where a.collection_date = collectionDate and a.UPLOAD_COLLECTION_NAME = collectionName and a.status = ''WARNING''',
' AND NOT EXISTS ( SELECT 1 FROM rca13_ignored_checks t1 WHERE a.check_id = t1.check_id',
' AND t1.system_id =sysId AND ( t1.collection_date IS NULL OR ( t1.collection_date  = a.collection_date',
' and t1.collection_name = a.UPLOAD_COLLECTION_NAME and acr_id is null )',
' OR acr_id = a.auditcheck_result_id) );',
' ',
' select count(1) into iCount from auditcheck_result a',
' where a.collection_date = collectionDate and a.UPLOAD_COLLECTION_NAME = collectionName and a.status  = ''INFO''',
' AND NOT EXISTS ( SELECT 1 FROM rca13_ignored_checks t1 WHERE a.check_id = t1.check_id',
' AND t1.system_id =sysId AND ( t1.collection_date IS NULL OR ( t1.collection_date  = a.collection_date',
' and t1.collection_name = a.UPLOAD_COLLECTION_NAME and acr_id is null )',
' OR acr_id = a.auditcheck_result_id) );',
' ',
' select count(1) into pCount from auditcheck_result where collection_date = collectionDate',
' and UPLOAD_COLLECTION_NAME = collectionName and status in (''PASS'',''INFO-PASS'');',
' ',
' select count(1) into fixedCount from auditcheck_result a,rca13_col2sys_mapping b,rca13_ac_tickets c',
' where a.collection_date = collectionDate and a.UPLOAD_COLLECTION_NAME = collectionName',
' and a.collection_date = b.collection_date and a.UPLOAD_COLLECTION_NAME = b.collection_name and b.system_id = c.system_id',
' and ( ( c.collection_date  = collectionDate and c.collection_name = collectionName ) OR c.attr1 = a.auditcheck_result_id );',
' ',
' --TODO: If ticket is closed on collection all non passes should come under FIXED',
' select count(1) into igCount from auditcheck_result a where a.collection_date = collectionDate',
' and a.UPLOAD_COLLECTION_NAME = collectionName and a.status in (''FAIL'',''WARNING'',''INFO'')',
' AND EXISTS ( SELECT 1 FROM rca13_ignored_checks t1 WHERE a.check_id = t1.check_id',
' AND t1.system_id =sysId AND ( t1.collection_date IS NULL OR ( t1.collection_date  = a.collection_date',
' and t1.collection_name = a.UPLOAD_COLLECTION_NAME and acr_id is null )',
' OR acr_id = a.auditcheck_result_id) );',
' ',
' ',
' --Delete collection details from rca13_collection_values, if already exists',
' delete from rca13_collection_values where collection_date = collectionDate and collection_name = collectionName;',
' commit;',
' insert into rca13_collection_values(score,f_count,w_count,p_count,collection_date,collection_name,i_count,ig_count)',
' values(score,fCount,wCount,pCount,collectionDate,collectionName,iCount,igCount);',
' commit;',
' --Caliculate diff .. we call it for each insertion of row in rca13_collections_md',
' --TODO: Handle it while deletion on row',
' if flag = 1 OR flag = 3 then',
'  temp := hasDiffWithPrevRun(collectionName,collectionDate);',
' end if;',
' commit;',
' --exception when others then',
' --dbms_output.put_line(''cd=''||collectionDate||'' , and cn=''||collectionName);',
' --null;',
'end;',
'--------------------------------------------------------------------------------',
'--After insert and after delete triggers',
'procedure ignoreReCalValues_AIAD(sysId varchar2,collectionDate timestamp,colName varchar2) is',
'cnt number;',
'begin',
'  select count(*) into cnt from rca13_ignored_checks where system_id = sysId;',
'  if collectionDate is not null then',
'    --select collection_name into colName from rca13_collections_md where collection_date = collectionDate;',
'    --If collection date is not null, that is ignore happended at collection level',
'    afterColInUpActs(collectionDate,colName,2);',
'  else -- that is check is ignored at system level',
'    for rec in ( select collection_date cd,collection_name cn from rca13_col2sys_mapping where system_id = sysId ) loop',
'      afterColInUpActs(rec.cd,rec.cn,2);',
'    end loop;',
'  end if;',
'  exception when others then null;',
'end;',
'--------------------------------------------------------------------------------',
'END rca13_MANAGE_COLLECTIONS;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(310979668024923370)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Email Specs'
,p_sequence=>585
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE RCA13_EMAIL AS ',
'   this_package constant varchar2(33) := ''email.'';',
'   "collection is not one based"    constant varchar2(65) := this_package || ''collection_is_not_one_based'';',
'   "exception does not exist"       constant varchar2(65) := this_package || ''exception_does_not_exist'';',
'   "exception outside user range"   constant varchar2(65) := this_package || ''exception_outside_user_range'';',
'   "fatal html syntax error"        constant varchar2(65) := this_package || ''fatal_html_syntax_error'';',
'   "generic exception"              constant varchar2(65) := this_package || ''generic_exception'';',
'   "invalid user"                   constant varchar2(65) := this_package || ''invalid_user'';',
'   "lookup table is corrupt"        constant varchar2(65) := this_package || ''lookup_table_is_corrupt'';',
'   "mandatory decision tree failed" constant varchar2(65) := this_package || ''mandatory_decision_tree_failed'';',
'   "package state undefined"        constant varchar2(65) := this_package || ''package_state_undefined'';',
'   "parameter cannot be null"       constant varchar2(65) := this_package || ''parameter_cannot_be_null'';',
'   "parameter did not conform"      constant varchar2(65) := this_package || ''parameter_did_not_conform'';',
'   "security violation"             constant varchar2(65) := this_package || ''security_violation'';',
'   "sparse collection not allowed"  constant varchar2(65) := this_package || ''sparse_collection_not_allowed'';',
'   "string too large"               constant varchar2(65) := this_package || ''string_too_large'';',
'   collection_is_not_one_based exception;',
'   exception_outside_user_range exception;',
'   exception_does_not_exist exception;',
'   fatal_html_syntax_error exception;',
'   generic_exception exception;',
'   invalid_user exception;',
'   lookup_table_is_corrupt exception;',
'   mandatory_decision_tree_failed exception;',
'   package_state_undefined exception;',
'   parameter_cannot_be_null exception;',
'   parameter_did_not_conform exception;',
'   security_violation exception;',
'   sparse_collection_not_allowed exception;',
'   string_too_large exception;',
'   pragma exception_init(security_violation, -20013);',
'   pragma exception_init(exception_does_not_exist, -20012);',
'   pragma exception_init(mandatory_decision_tree_failed, -20011);',
'   pragma exception_init(exception_outside_user_range, -20010);',
'   pragma exception_init(invalid_user, -20009);',
'   pragma exception_init(package_state_undefined, -20008);',
'   pragma exception_init(fatal_html_syntax_error, -20007);',
'   pragma exception_init(parameter_did_not_conform, -20006);',
'   pragma exception_init(lookup_table_is_corrupt, -20005);',
'   pragma exception_init(collection_is_not_one_based, -20004);',
'   pragma exception_init(sparse_collection_not_allowed, -20003);',
'   pragma exception_init(parameter_cannot_be_null, -20002);',
'   pragma exception_init(string_too_large, -20001);',
'   pragma exception_init(generic_exception, -20000);',
'',
'TYPE CIO_PLSQL_STRING_ARRAY is table of varchar2(32767);',
'type error_stack_token_table_type is table of varchar2(4000) index by varchar2(256);',
'type attachment_rec_type is record( binary_file blob,file_name   varchar2(512));',
'type attachment_tbl_type is table of attachment_rec_type index by binary_integer;',
'',
'procedure send ( toEmail in varchar2, fromEmail in varchar2,fromName in varchar2, ',
'                 subject in varchar2,messageText in clob,bccList in varchar2 default null);',
'   ',
'END RCA13_EMAIL;',
'/',
'',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(311009342167561239)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Email Body'
,p_sequence=>586
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE BODY RCA13_EMAIL AS',
'c_x_mailer constant varchar2(256) := ''CleverIdeasForOracle http://cleveridea.net'';',
'procedure logError (emailAddress varchar2, subject varchar2, messageText clob, errorText varchar2) is',
'errorClob CLOB := errorText;',
'foo number;',
'begin',
'foo := length(messageText);',
'insert into rca13_email_failure (email_address, subject, message_text, message_length, error_text)',
'values (substr(emailAddress,1,900),substr(logError.subject,1,900), dbms_lob.substr(messageText,1,3900) , length(messageText), errorClob);',
'commit;',
'end;',
'-----------------------------------------------------------',
'procedure smtp_write ( c in out utl_smtp.connection, data in varchar2 ) is',
'begin',
'   --We need to include a carriage return or line feed (CRLF) every 1000 characters when sending HTML based e-mails from Oracle',
'   utl_smtp.write_data(c, data||utl_tcp.crlf);',
'end smtp_write;',
'-----------------------------------------------------------',
'procedure add_attachment (v_connection in out nocopy utl_smtp.connection,p_attachment in out blob',
'                          ,p_attachment_name in varchar2,p_boundary in varchar2  ) is',
'      C_BASE64_CHUNK_SIZE constant pls_integer := 78;',
'      v_base64_chunk      raw(32767);',
'      v_position          integer := 1;',
'      v_attachment_length integer;',
'      v_amount            binary_integer := 32767;',
'   begin',
'      smtp_write(v_connection, '''');',
'      smtp_write(v_connection, '''');',
'      smtp_write(v_connection, ''--'' || p_boundary);',
'      smtp_write(v_connection, ''Content-Type: application/octet-stream; name="'' || p_attachment_name || ''"'');',
'      smtp_write(v_connection, ''Content-Disposition: attachment; filename="'' || p_attachment_name || ''"'');',
'      smtp_write(v_connection, ''Content-Transfer-Encoding: base64'');',
'      smtp_write(v_connection, '''');',
'      smtp_write(v_connection, '''');',
'',
'      v_attachment_length := dbms_lob.getlength(p_attachment);',
'      if dbms_lob.isopen(p_attachment) = 0 then',
'         dbms_lob.open(p_attachment, dbms_lob.lob_readonly);',
'      end if;',
'      while v_position < v_attachment_length  loop',
'         v_amount := C_BASE64_CHUNK_SIZE;',
'         dbms_lob.read(p_attachment, v_amount, v_position, v_base64_chunk);',
'         utl_smtp.write_raw_data(v_connection, utl_encode.base64_encode(v_base64_chunk));',
'         v_position := v_position + C_BASE64_CHUNK_SIZE;',
'         smtp_write(v_connection, '''');',
'      end loop;',
'',
'      if dbms_lob.isopen(p_attachment) != 0',
'      then',
'         dbms_lob.close(p_attachment);',
'      end if;',
'',
'      smtp_write(v_connection, '''');',
'      smtp_write(v_connection, '''');',
'',
'   end add_attachment;',
'-------------------------------------------------------   ',
'FUNCTION loopThroughClob (srcClob IN CLOB) return dbms_sql.varchar2a is',
'v_result        dbms_sql.varchar2a;',
'vBuffer    VARCHAR2 (32767);',
'l_amount   BINARY_INTEGER := 900;',
'startPosition BINARY_INTEGER := 1;',
'endingPosition number;',
'chunk varchar2(1000);',
'foo varchar2(32767);',
'arrayCounter number := 1;',
'emailDone number := 0;',
'BEGIN',
'--dbms_output.put_line(''TOTAL SIZE: '' || dbms_lob.getlength(srcClob));',
'LOOP',
'  begin',
'   dbms_lob.read(srcClob, l_amount, startPosition, vBuffer); --loaded 900 new bytes, starting where we left off                ',
'   exception when no_data_found then ',
'   --dbms_output.put_line(''EXIT'');',
'   exit;',
'  end;   ',
'  if (length(vBuffer) < 900) then',
'        chunk := vBuffer;',
'        emailDone := 1;',
'  else ',
'        --find the last space in the string',
'        --dbms_output.put_line(''*** BUFFER: '' || vBuffer);',
'        dbms_output.put_line(''*** BUFFER LENGTH: '' || length(vBuffer));        ',
'        endingPosition := instr(vBuffer,'' '',-1,1);',
'        dbms_output.put_line(''*** READ BUFFER FROM 1 to '' || endingPosition);',
'        dbms_output.put_line(''*** READ SIZE: '' || length(substr(vBuffer,1,endingPosition)) );',
'        foo := substr(vBuffer,1,endingPosition);    ',
'        dbms_output.put_line(''*** FOO LENGTH: '' || LENGTHB(foo) );',
'        chunk := foo;',
'  end if;',
'  --the next loop will start where the last one ended off',
'  startPosition := startPosition + endingPosition;    ',
'  endingPosition := null;',
'  v_result(arrayCounter) :=  chunk;',
'  arrayCounter := arrayCounter + 1;',
'  exit when arrayCounter = 99999; --protectino from runaways',
'  --exit when length(vBuffer) < 900;',
'  exit when emailDone = 1;',
'END LOOP;',
'return v_result;    ',
'END;',
'--------------------------------------------------------------------------------',
'function clob_to_varchars ( p_clob in clob,p_chunk_size in integer) return dbms_sql.varchar2a is',
'v_result        dbms_sql.varchar2a;',
'v_cursor_id     integer;',
'v_cursor_result integer;',
'begin',
'for i in 0 .. trunc(dbms_lob.getlength(p_clob) / p_chunk_size) loop',
'  v_result(i + 1) := dbms_lob.substr(p_clob, p_chunk_size, (i * p_chunk_size) + 1);',
'end loop;',
'return v_result;',
'end clob_to_varchars;',
'--------------------------------------------------------------------------------',
'procedure sanity_check_on_seperator(p_separator in varchar2,v_tokens out error_stack_token_table_type) is',
'begin',
'if p_separator is null then',
' v_tokens(1) := ''p_separator'';',
'end if;',
'if length(p_separator) > 1 then',
' v_tokens(1) := ''p_seperator'';',
' v_tokens(2) := ''of a single character'';',
'end if;',
'end sanity_check_on_seperator;',
'--------------------------------------------------------------------------------',
'function list_to_table(p_list in varchar2,p_separator in varchar2 default '','') return cio_plsql_string_array is',
'c_max_elements constant binary_integer := 16384;',
'v_tokens error_stack_token_table_type;',
'v_return                  cio_plsql_string_array := new cio_plsql_string_array();',
'v_element_count           binary_integer;',
'v_previous_comma_position binary_integer;',
'v_next_comma_position     binary_integer;',
'begin',
' sanity_check_on_seperator(p_separator, v_tokens);',
' if p_list is null then',
'   return null;',
' end if;',
' v_previous_comma_position := 0;',
' v_next_comma_position     := 0;',
' v_element_count           := 1;',
' for i in 1 .. c_max_elements loop',
'  v_next_comma_position := instr(p_list, p_separator, v_previous_comma_position + 1, 1);',
'  if v_next_comma_position = 0 then',
'   exit;',
'  end if;',
'  v_previous_comma_position := v_next_comma_position;',
'  v_element_count           := v_element_count + 1;',
' end loop;',
' v_previous_comma_position := 0;',
' v_next_comma_position     := 0;',
' for i in 1 .. v_element_count - 1 loop',
'  v_return.extend;',
'  v_next_comma_position := instr(p_list, p_separator, 1, i);',
'  dbms_output.put_line(''v_next_comma_position     ='' || v_next_comma_position);',
'  dbms_output.put_line(''v_previous_comma_position ='' || v_previous_comma_position);',
'  v_return(i) := substr(p_list, v_previous_comma_position + 1, v_next_comma_position - v_previous_comma_position - 1);',
'  v_previous_comma_position := v_next_comma_position;',
' end loop;',
' -- get the last element',
' if v_element_count > 1 then',
'  v_return.extend;',
'  v_return(v_element_count) := substr(p_list, v_next_comma_position + 1);',
' end if;',
' return v_return;',
' exception  ',
'    when parameter_did_not_conform then null;',
'    when parameter_cannot_be_null then null;',
'end list_to_table;',
'----------------------------------------------------------------------------------',
'procedure send_email (',
'      p_from_email    in varchar2',
'     ,p_from_replyto  in varchar2',
'     ,p_to_list       in varchar2',
'     ,p_cc_list       in varchar2',
'     ,p_bcc_list      in varchar2',
'     ,p_subject       in varchar2',
'     ,p_text_message  in clob',
'     ,p_content_type  in varchar2',
'     ,p_attachments   in attachment_tbl_type',
'     ,p_priority      in varchar2',
'     ,p_auth_username in varchar2',
'     ,p_auth_password in varchar2',
'     ,p_mail_server   in varchar2',
'     ,p_port          in integer ) is',
'      c_default_content_type constant varchar2(512) := ''text/plain'';',
'      v_connection   utl_smtp.connection;',
'      v_chunks       dbms_sql.varchar2a;',
'      v_blob         blob;',
'      v_boundary     varchar2(80) := ''CleverIdeasForOracleBoundary'';',
'      v_from_replyto varchar2(4000);',
'      v_content_type varchar2(512);',
'      procedure send_rcpt(p_target in varchar2) is',
'         v_rcpt_array cio_plsql_string_array;',
'      begin',
'         if (instr(replace(p_target, '';'', '',''), '','') > 0)',
'         then',
'            v_rcpt_array := list_to_table(replace(p_target, '';'', '',''));',
'            for i in 1 .. v_rcpt_array.count',
'            loop',
'               utl_smtp.rcpt(v_connection, v_rcpt_array(i));',
'            end loop;',
'         else',
'            utl_smtp.rcpt(v_connection, p_target);',
'         end if;',
'      end send_rcpt;',
'begin',
'      --utl_tcp.close_all_connections;',
'      v_connection := utl_smtp.open_connection(p_mail_server, p_port);',
'      utl_smtp.helo(v_connection, p_mail_server);',
'      if (p_auth_username is not null or p_auth_password is not null)  then',
'         utl_smtp.command(v_connection, ''AUTH LOGIN'');',
'         utl_smtp.command(v_connection, utl_raw.cast_to_varchar2(utl_encode.base64_encode(utl_raw.cast_to_raw(p_auth_username))));',
'         utl_smtp.command(v_connection, utl_raw.cast_to_varchar2(utl_encode.base64_encode(utl_raw.cast_to_raw(p_auth_password))));',
'      end if;',
'      utl_smtp.mail(v_connection, p_from_email);',
'      if trim(p_to_list) is not null then',
'         send_rcpt(trim(p_to_list));',
'      end if;',
'      if trim(p_cc_list) is not null then',
'         send_rcpt(trim(p_cc_list));',
'      end if;',
'      if trim(p_bcc_list) is not null then',
'         send_rcpt(trim(p_bcc_list));',
'      end if;',
'      utl_smtp.open_data(v_connection);',
'      v_from_replyto := nvl(trim(p_from_replyto), trim(p_from_email));',
'      if (v_from_replyto is not null) then',
'         smtp_write(v_connection, ''From:'' || v_from_replyto);',
'         smtp_write(v_connection, ''ReplyTo:'' || v_from_replyto);',
'         -- these are coupled because for the e-mail clients I tested, the ReplyTo:',
'         -- was simply ignored and the From: was used anyway.',
'      end if;',
'      if (trim(p_to_list) is not null) then',
'         smtp_write(v_connection, ''To:'' || trim(p_to_list));',
'      end if;',
'      if (trim(p_cc_list) is not null) then',
'         smtp_write(v_connection, ''Cc:'' || trim(p_cc_list));',
'      end if;      ',
'      if (trim(p_bcc_list) is not null) then',
'         smtp_write(v_connection, ''Bcc:'' || trim(p_bcc_list));',
'      end if;',
'      if (trim(p_subject) is not null) then',
'         smtp_write(v_connection, ''Subject:'' || trim(p_subject));',
'      end if;',
'      smtp_write(v_connection, ''X-Mailer:'' || c_x_mailer);',
'      if (trim(p_priority) is not null) then',
'         smtp_write(v_connection, ''X-Priority:'' || trim(p_priority));',
'      end if;',
'      if p_attachments.count > 0  then',
'         smtp_write(v_connection, ''Content-Type:multipart/mixed;boundary='' || v_boundary);',
'         smtp_write(v_connection, '''');',
'         smtp_write(v_connection, ''You are reading this because you are '');',
'         smtp_write(v_connection, ''using non-MIME compliant reader - this mail agent '');',
'         smtp_write(v_connection, c_x_mailer || '' expects you to be using one.'');',
'         smtp_write(v_connection, '''');',
'         smtp_write(v_connection, ''--'' || v_boundary);',
'      end if;',
'',
'      v_content_type := nvl(trim(p_content_type), c_default_content_type);',
'      smtp_write(v_connection, ''Content-Type:'' || v_content_type);',
'      smtp_write(v_connection, '''');',
'',
'      if (nvl(length(p_text_message), 0) > 0) then',
'         --v_chunks := clob_to_varchars(p_text_message, 900);',
'         v_chunks := loopThroughClob(p_text_message);',
'         for i in v_chunks.first .. v_chunks.last loop',
'            smtp_write(v_connection, replace(v_chunks(i), chr(10), chr(13)));',
'         end loop;',
'      end if;',
'      smtp_write(v_connection, '''');',
'      smtp_write(v_connection, '''');',
'      if p_attachments.count > 0 then',
'         for i in p_attachments.first .. p_attachments.last loop',
'            v_blob := p_attachments(i).binary_file;',
'            add_attachment(v_connection, v_blob, p_attachments(i).file_name, v_boundary);',
'         end loop;',
'      end if;',
'      smtp_write(v_connection, '''');',
'      if p_attachments.count > 0 then',
'         smtp_write(v_connection, ''--'' || v_boundary || ''--'');',
'      end if;',
'      utl_smtp.close_data(v_connection);',
'      utl_smtp.quit(v_connection);',
'   exception',
'    when utl_smtp.transient_error or utl_smtp.permanent_error then',
'     begin',
'      utl_smtp.quit(v_connection);',
'      exception when others then null; -- the quit call will raise an exception that we can ignore.',
'     end;',
'     raise;',
'    when others then      ',
'     begin',
'      ',
'      logError (emailAddress => nvl(p_to_list,p_bcc_list), subject => p_subject, messageText => p_text_message, errorText => DBMS_UTILITY.FORMAT_ERROR_STACK || '' '' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);',
'      utl_smtp.quit(v_connection);',
'      exception when others then',
'        logError (emailAddress => nvl(p_to_list,p_bcc_list), subject => p_subject, messageText => p_text_message, errorText => DBMS_UTILITY.FORMAT_ERROR_STACK || '' '' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);',
'        null; -- the quit call will raise an exception that we can ignore.',
'     end;',
'     raise;',
'end;',
'-----------------------------------------------------------------------------------------',
'procedure send( toEmail in varchar2, fromEmail in varchar2, fromName in varchar2, ',
'subject in varchar2, messageText in clob,bccList in varchar2 default null) as',
'   v_attachments rca13_email.attachment_tbl_type;',
'   optedOut number;',
'   errorStack varchar2(4000);',
'   skipEmail exception;',
'   serverName varchar2(200);',
'   portNum integer;',
'   userId varchar2(40);',
'begin',
'   if (toEmail is null and bccList is null) then',
'      raise skipEmail;',
'   end if; ',
'   begin',
'    select server_name,port into serverName,portNum from rca13_mail_server where rownum =1;',
'    exception when no_data_found then',
'    raise skipEmail;',
'   end; ',
'   rca13_email.send_email(',
'           p_from_email    => fromEmail,',
'           p_from_replyto  => NULL,',
'           p_to_list       => toEmail,',
'           p_cc_list       => '''',',
'           p_bcc_list      => bccList,',
'           p_subject       => subject,',
'           p_text_message  => messageText,',
'           p_content_type  => ''text/html;charset=UTF8'',',
'           p_attachments   => v_attachments,',
'           p_priority      => ''3'',',
'           p_auth_username => '''',',
'           p_auth_password => '''',',
'           p_mail_server   => serverName,',
'           p_port          => portNum );',
'           ',
'        insert into rca13_email_sent(EMAIL_SENT_ID, USER_ID, EMAIL_ADDRESS, SENT_DATE, MESSAGE_TEXT) ',
'        values (SYS_GUID(),userId, substr(nvl(toEmail,bccList),1,3900), sysdate, messageText);',
'        commit;',
'    exception',
'     when skipEmail then null;',
'    when others then ',
'     errorStack := substr(DBMS_UTILITY.FORMAT_ERROR_STACK || '' '' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE,1,4000);',
'     if (errorStack like ''%is not an active email address in the system%'') then',
'       logError (emailAddress => nvl(toEmail,bccList),subject => subject,messageText => messageText,errorText => errorStack);',
'       commit;',
'       NULL;',
'     else',
'       logError (emailAddress => nvl(toEmail,bccList),subject => subject,messageText => messageText,errorText => errorStack);',
'       commit;',
'     end if;      ',
'end;',
'--------------------------------------------------------------------------------    ',
'END RCA13_EMAIL;',
'/'))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(310979836557942656)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Manage Notifications Specs'
,p_sequence=>588
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE RCA13_MANAGE_NOTIFICATIONS AS ',
' procedure startEmailJob;',
' procedure sendNotifications(jobId varchar2);',
' function get_restriction_predicate(userId varchar2) return number;',
' procedure getDiff(jobId varchar2 );',
' procedure jobintervalconfiguration(ivl number,freq varchar2);',
'procedure purgejobintervalconfiguration(ivl number,freq varchar2);',
'END RCA13_MANAGE_NOTIFICATIONS;',
'',
'/',
'    '))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(311008242579391086)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Manage Notifications Body'
,p_sequence=>589
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE RCA13_MANAGE_NOTIFICATIONS AS ',
' procedure startEmailJob;',
' procedure sendNotifications(jobId varchar2);',
' function get_restriction_predicate(userId varchar2) return number;',
' procedure getDiff(jobId varchar2 );',
' procedure jobintervalconfiguration(ivl number,freq varchar2);',
'procedure purgejobintervalconfiguration(ivl number,freq varchar2);',
'END RCA13_MANAGE_NOTIFICATIONS;',
'',
'/',
'create or replace PACKAGE BODY RCA13_MANAGE_NOTIFICATIONS AS',
'--------------------------------------------------------------------------------',
'PROCEDURE trace_log(text  VARCHAR2)',
'IS',
'BEGIN',
'  INSERT INTO RCA13_EXCEPTION_LOG(TEXT) VALUES (text);',
'  COMMIT;',
'END;',
'-- This job gets executed for every 4hrs',
'procedure startEmailJob is',
'previousEndTime date;',
'previousJobId varchar2(40);',
'previousEndCdate timestamp;',
'currentCdate timestamp;',
'jobId varchar2(40) := sys_guid();',
'cnt number := 0;',
'lobId varchar2(40);',
'newsystem number := 0;',
'curcolname varchar2(400);',
'diffflag varchar2(40);',
'begin',
'--Delete old diff details. It is just temp table',
'delete from rca13_collections_diff;',
'commit;',
'--For the first time the job runs just insert latest value in tables and exit.',
'select count(*) into cnt from rca13_notification_jobs;',
'if cnt = 0 then',
' insert into rca13_notification_jobs(job_id,start_time,end_time) values(jobId,sysdate,sysdate);',
' --Write code to insert values in details table',
' for rec in ( select distinct system_id sId from rca13_col2sys_mapping where system_id != ''SAMPLE_SYSTEM'' ) loop',
'  select  max(collection_date) into currentCdate from rca13_col2sys_mapping where system_id = rec.sId;',
'  insert into rca13_notification_job_details(job_id,system_id,start_cdate,end_cdate)',
'  values(jobId,rec.sId,currentCdate,currentCdate);',
' end loop;',
' commit;',
'end if;',
'--GET THE LAST END TIME FOR A COMPLETED JOB',
'select max(end_time) into previousEndTime from rca13_notification_jobs where end_time is not null;',
'--select job_id into previousJobId from rca13_notification_jobs where end_time = previousEndTime;',
'insert into rca13_notification_jobs(job_id,start_time) values(jobId,sysdate);',
'commit;',
'-- Go through each system of each business unit',
'for rec in ( select distinct system_id sId from rca13_col2sys_mapping where system_id != ''SAMPLE_SYSTEM''  ) loop         ',
'   --Get previous end collection date for this system',
'    previousEndCdate := null;',
'    for rec1 in ( select end_cdate from rca13_notification_job_details ',
'                  where system_id = rec.sId order by end_cdate desc ) loop',
'      previousEndCdate := rec1.end_cdate;',
'      exit;',
'    end loop;   ',
'    diffflag := 1999;',
'    if previousEndCdate is null then --Means, New system added recently',
'      select  min(collection_date) into previousEndCdate from rca13_col2sys_mapping where system_id = rec.sId;        ',
'    select count(*) into newsystem from rca13_col2sys_mapping where system_id = rec.sId;',
'    if (newsystem = 1) then',
'    select collection_name into curcolname from rca13_col2sys_mapping where system_id = rec.sId;',
'    select diff_type into diffflag from rca13_diff_info where cur_col_name=curcolname;',
'    end if;',
'       end if;',
'    ',
'   -- Get latest collection date for the system',
'   select  max(collection_date) into currentCdate from rca13_col2sys_mapping where system_id = rec.sId;',
'   -- Insert row into details table',
'   if (previousEndCdate != currentCdate or diffflag=0) then -- Means no collections inserted after last job run',
'     insert into rca13_notification_job_details(job_id,system_id,start_cdate,end_cdate)',
'     values(jobId,rec.sId,previousEndCdate,currentCdate);',
'   end if;  ',
'end loop;',
'commit;',
'RCA13_MANAGE_NOTIFICATIONS.getDiff(jobId);',
'RCA13_MANAGE_NOTIFICATIONS.sendNotifications(jobId);',
'--Update end time',
'update rca13_notification_jobs set end_time = sysdate where job_id = jobId;',
'commit;',
'exception when others then',
' trace_log(''startEmailJobException''||SQLCODE||SQLERRM); ',
'end;',
'--------------------------------------------------------------------------------',
'procedure getDiff ( jobId varchar2 ) is',
'--messageText clob := NULL;',
'messageTextNew clob := NULL;',
'messageTextPass clob := NULL;',
'messageTextWarn clob := NULL;',
'messageTextFail clob := NULL;',
'lobName varchar2(256);',
'lobId varchar2(40);',
'sysName varchar2(256);',
'diffId varchar2(40);',
'diffType number;',
'prevColName varchar2(256);',
'curCcolName varchar2(256);',
'urlName varchar2(1000);',
'appId number;',
'link varchar2(1000);',
'newsystem number := 0;',
'curcolname varchar2(400);',
'diffflag varchar2(40);',
'begin',
'begin',
'  select url,app_id into urlName,appId from rca13_apex_details where rownum = 1;',
'  exception when others then null;',
'end; ',
' trace_log(''getdiff'');',
'  trace_log(''jobId''||jobId);',
'for rec in ( select system_id,start_cdate,end_cdate from rca13_notification_job_details where job_id = jobId ) loop',
'  --messageText := NULL;',
'messageTextNew  := NULL;',
'messageTextPass := NULL;',
'messageTextWarn := NULL;',
'messageTextFail := NULL;',
'  select b.lob_name,b.lob_id into lobName,lobId from rca13_lob2sys_mapping a,rca13_lobs b',
'  where a.system_id = rec.system_id and a.lob_id = b.lob_id;',
'  select system_name into sysName from rca13_systems where system_id = rec.system_id;',
'  ---START: Mail notification construction for the new collecitons without comparisons',
' diffflag := 1999;',
'    select count(*) into newsystem from rca13_col2sys_mapping where system_id = rec.system_id;',
'    if (newsystem=1) then',
'    select collection_name into curcolname from rca13_col2sys_mapping where system_id = rec.system_id;',
'    select diff_type into diffflag from rca13_diff_info where cur_col_name=curcolname;',
'    end if;',
'    ',
'  for rec2 in ( select collection_date cd,collection_name cn from rca13_col2sys_mapping where system_id = rec.system_id and collection_date >= rec.start_cdate',
'                and collection_date <= rec.end_cdate and diffflag=0 order by collection_date ) loop',
'   begin ',
'     messageTextNew  := NULL;       ',
'      diffId := rca13_manage_collections.hasDiffWithPrevRun(rec2.cn,rec2.cd);',
'      select diff_type,prev_col_name,cur_col_name into diffType,prevColName,curCcolName from rca13_diff_info where diff_id = diffId;',
'       trace_log(''I dont have difference''||diffId);',
'      if urlName is not null and appId is not null then',
'       link := ''<a href="''||urlName||''f?p=''||appId||'':1003:::NO:1003:P1003_DIFF_ID:''||diffId||''">Click here</a> for details'';',
'     else',
'       link := ''View CM App for details'';',
'    end if;',
'     trace_log(''messageTextNewCollections'');',
'      messageTextNew := messageTextNew || ''<tr><td>''||lobName||''</td><td>''||sysName||''</td><td>'';',
'      messageTextNew := messageTextNew || prevColName||''</td><td>''||curCcolName||''</td><td>New Collections Without Comparisons</td><td>''||link||''</td></tr>''; ',
'   insert into rca13_collections_diff(job_id,lob_id,lob_name,system_id,system_name,diff,diff_type)',
'   values(jobId,lobId,lobName,rec.system_id,sysName,messageTextNew,''0'');',
'  commit;   ',
'      exception when others then ',
'    trace_log(''DiffComputationNewsystemException''||SQLCODE||SQLERRM); ',
'      end;',
'    end loop;',
'---END: Mail notification construction for the new collections without comparisons',
'  -- 3 ==> Red flag',
'   -- diff_types:',
' --0:NEW = prev col not found for the selected collection,',
' --2:GOOD = diff found..but good( that is fail to pass, only region 1 ),Green,',
' --3:FAIL = diff found, but bad ( some thing from good to fail, only region 1 ),Red',
' --4:WARN = diff found, Orange ( some thing from good to warning )',
'  for rec1 in ( select collection_date cd,collection_name cn from rca13_col2sys_mapping where system_id = rec.system_id and collection_date > rec.start_cdate',
'                and collection_date <= rec.end_cdate order by collection_date ) loop',
'   begin      ',
'     diffId := rca13_manage_collections.hasDiffWithPrevRun(rec1.cn,rec1.cd);',
'     select diff_type,prev_col_name,cur_col_name into diffType,prevColName,curCcolName from rca13_diff_info where diff_id = diffId;',
'messageTextPass := NULL;',
'messageTextWarn := NULL;',
'messageTextFail := NULL;',
'  trace_log(''I have difference''||diffId);',
'    if (diffType = 0) then',
'      if urlName is not null and appId is not null then',
'        link := ''<a href="''||urlName||''f?p=''||appId||'':1003:::NO:1003:P1003_DIFF_ID:''||diffId||''">Click here</a> for details'';',
'      else',
'        link := ''View CM App for details'';',
'      end if;',
'      messageTextNew := messageTextNew || ''<tr><td>''||lobName||''</td><td>''||sysName||''</td><td>'';',
'      messageTextNew := messageTextNew || prevColName||''</td><td>''||curCcolName||''</td><td>New Collections Without Comparisons</td><td>''||link||''</td></tr>'';',
'    end if;',
'    ',
'    if (diffType = 2) then',
'      if urlName is not null and appId is not null then',
'        link := ''<a href="''||urlName||''f?p=''||appId||'':1003:::NO:1003:P1003_DIFF_ID:''||diffId||''">Click here</a> for details'';',
'      else',
'        link := ''View CM App for details'';',
'      end if;',
'       trace_log(''messageTextPass'');',
'      messageTextPass := messageTextPass || ''<tr><td>''||lobName||''</td><td>''||sysName||''</td><td>'';',
'      messageTextPass := messageTextPass || prevColName||''</td><td>''||curCcolName||''</td><td>Collections that Improved with Passes</td><td>''||link||''</td></tr>'';',
'    end if;',
'    ',
'    if (diffType = 4) then',
'      if urlName is not null and appId is not null then',
'        link := ''<a href="''||urlName||''f?p=''||appId||'':1003:::NO:1003:P1003_DIFF_ID:''||diffId||''">Click here</a> for details'';',
'      else',
'        link := ''View CM App for details'';',
'      end if;',
'         trace_log(''messageTextWarn'');',
'      messageTextWarn := messageTextWarn || ''<tr><td>''||lobName||''</td><td>''||sysName||''</td><td>'';',
'      messageTextWarn := messageTextWarn || prevColName||''</td><td>''||curCcolName||''</td><td>Collections Regressed with Warnings</td><td>''||link||''</td></tr>'';',
'    end if;',
'    ',
'    if (diffType = 3) then',
'      if urlName is not null and appId is not null then',
'        link := ''<a href="''||urlName||''f?p=''||appId||'':1003:::NO:1003:P1003_DIFF_ID:''||diffId||''">Click here</a> for details'';',
'      else',
'        link := ''View CM App for details'';',
'      end if;',
'       trace_log(''messageTextFail'');',
'      messageTextFail := messageTextFail || ''<tr><td>''||lobName||''</td><td>''||sysName||''</td><td>'';',
'      messageTextFail := messageTextFail || prevColName||''</td><td>''||curCcolName||''</td><td>Collections Regressed with Failures</td><td>''||link||''</td></tr>'';',
'    end if;',
'    if messageTextNew is not null then',
'   insert into rca13_collections_diff(job_id,lob_id,lob_name,system_id,system_name,diff,diff_type)',
'   values(jobId,lobId,lobName,rec.system_id,sysName,messageTextNew,to_char(diffType));',
'  end if;',
'  commit;',
'  if messageTextPass is not null then',
'   insert into rca13_collections_diff(job_id,lob_id,lob_name,system_id,system_name,diff,diff_type)',
'   values(jobId,lobId,lobName,rec.system_id,sysName,messageTextPass,to_char(diffType));',
'  end if;',
'  commit;',
'  if messageTextWarn is not null then',
'   insert into rca13_collections_diff(job_id,lob_id,lob_name,system_id,system_name,diff,diff_type)',
'   values(jobId,lobId,lobName,rec.system_id,sysName,messageTextWarn,to_char(diffType));',
'  end if;',
'  commit;',
'  if messageTextFail is not null then',
'   insert into rca13_collections_diff(job_id,lob_id,lob_name,system_id,system_name,diff,diff_type)',
'   values(jobId,lobId,lobName,rec.system_id,sysName,messageTextFail,to_char(diffType));',
'  end if;',
'  commit;  ',
'    exception when others then ',
'    trace_log(''DiffComputationException''||SQLCODE||SQLERRM); ',
'   end;',
'  end loop;  ',
'end loop;',
'end;',
'--------------------------------------------------------------------------------',
'procedure sendNotifications ( jobId varchar2 ) is',
'messageText clob := NULL;',
'rVal number := 1;',
'flag number := 0;',
'messageHeader clob := NULL;',
'messagespacecrunch clob := NULL;',
'messageFooter clob := NULL;',
'spaceflag  number := 0;',
'tsName varchar2(256);',
'freeSpace number := 999;',
'talert varchar2(50);',
'begin',
' messageHeader := ''',
' <html><head>',
' <style>',
'  table {    ',
'    font-weight: bold;',
'    border-spacing: 0;',
'    outline: medium none;',
'    font-family: Lucida Grande,Lucida Sans,Arial,sans-serif;',
'    font-size: 12px;',
'  }',
'  th {',
'    background-image: linear-gradient(#F0F0F0, #DDDDDD);',
'    border-radius: 3px 3px 0 0;',
'    height: 30px;',
'    border-collapse: collapse;',
'    border-spacing: 0',
'    border-bottom: 1px solid #AAAAAA;',
'  }',
'  td {   ',
'    font-weight: normal;',
'    padding: 5;',
'    border-collapse: collapse;',
'    border-spacing: 0;',
'    border-bottom: 1px solid #AAAAAA;',
'  }',
' </style>',
' </head><body>',
' <h4>Found Diff for the following collections</h4>',
' <table><thead><tr><th>BU Name</th><th>System Name</th><th>Previous Collection</th>',
' <th>Current Collection</th><th>Collection DifferenceType</th><th>Comments</th><tr></thead><tbody>',
' '';',
' messageFooter := ''</tbody></table></body></html>'';',
' --For each user we need to get the list of systems that he has access to and send that info only',
' trace_log(''sendnotificationsstart'');',
' for rec in ( select user_id,email_address mId,nvl(emailalert,999) emailalert from rca13_user_details where IS_NOTIFIED = 1 and email_address is not null) loop',
'  begin',
'   trace_log(''user_id::''||rec.user_id||''mail_id::''||rec.mId);',
'    trace_log(''emailalert::''||rec.emailalert);',
'   flag := 0;',
'   rVal := RCA13_MANAGE_NOTIFICATIONS.get_restriction_predicate(rec.user_id);   ',
'   messageText := NULL;  ',
'   for rec1  in ( select diff,diff_type from rca13_collections_diff where job_id = jobId and ',
'                  (lob_id,system_id) in (',
'                  select lob_id,system_id from rca13_lob2sys_mapping where rVal = 1 and rca13_lob2sys_mapping.lob_id != ''SAMPLE''',
'                  UNION',
'                  select lob_id lId,system_id sId from rca13_lob2sys_mapping where rVal = 3 and exists ( select 1 from rca13_user_roles  ',
'                  where user_id = rec.user_id and rca13_lob2sys_mapping.lob_id != ''SAMPLE'' and  ( role_id = 1  OR  ',
'                  ( role_id = 2 and lob_id = rca13_lob2sys_mapping.lob_id  ) OR',
'                  ( lob_id = rca13_lob2sys_mapping.lob_id and system_id = rca13_lob2sys_mapping.system_id ) ) ) )  ',
'                  order by decode(diff_type,''3'',1,''4'',2,''2'',3,''0'',4),lob_name,system_name ) loop',
'     --Construct messageText. ',
'      trace_log(''I have access to system ondifftype::''||rec1.diff_type);',
'    if (rec1.diff_type = 0 and instr(rec.emailalert,''0'') > 0) then ',
'     messageText := messageText || rec1.diff;    ',
'     flag := 1;',
'     end if;',
'      if (rec1.diff_type = 2 and instr(rec.emailalert,''2'') > 0) then ',
'     messageText := messageText || rec1.diff;    ',
'     flag := 1;',
'     end if;',
'      if (rec1.diff_type = 3 and instr(rec.emailalert,''3'') > 0) then ',
'     messageText := messageText || rec1.diff;    ',
'     flag := 1;',
'     end if;',
'      if (rec1.diff_type = 4 and instr(rec.emailalert,''4'') > 0) then ',
'     messageText := messageText || rec1.diff;    ',
'     flag := 1;',
'     end if;',
'   end loop; ',
'   begin',
'  ',
'    SELECT nvl(tablespace_name,''XXX'') into tsName from user_tables where table_name = ''RCA13_DOCS'';',
'    trace_log(''tablespace_name''||tsName);',
'    SELECT round(sum(bytes)/1048576) into freeSpace FROM user_free_space  where tablespace_name = tsName;',
'    trace_log(''freeSpace''||freeSpace);',
'    SELECT nvl(tablespacealert,''0'') into talert FROM rca13_user_details  where IS_NOTIFIED = 1 and email_address is not null and user_id=rec.user_id;',
'    trace_log(''tablespacealertflag''||talert);  ',
'    if (freeSpace < 500) then',
'    spaceflag := 1;',
'     messagespacecrunch := '' <html><h4>The ORAchk CM tablespace has  ''||freeSpace||''MB of free space remaining. Each collection processed can consume a minimum 20MB - 100MB . <br> Check your Autoextensible enabled in dba_data_files table. If all free'
||' space is consumed, problems processing collections can occur. </h4></html>''; ',
'    else ',
'     messagespacecrunch := NULL;      ',
'    end if;',
'     exception when others then',
' trace_log(''TablespaceException''||SQLCODE||SQLERRM); ',
'    end;',
'     ',
'   if (flag = 1 and spaceflag = 1 and instr(talert,''1'') > 0) then      ',
'    messageText := messagespacecrunch ||messageHeader || messageText || messageFooter;',
'     rca13_email.send(rec.mId,rec.mId,''From CM Notification System'',''Collection Manager Notifications : Space in DB reached < 500MB Check your Autoextensible Enabled in dba_data_files table'',messageText);',
'   elsif flag = 1 then',
'    trace_log(''sendnotificationsconstructedmail''); ',
'     messageText := messageHeader || messageText || messageFooter;',
'     rca13_email.send(rec.mId,rec.mId,''From CM Notification System'',''Collection Manager Notifications'',messageText);',
'   end if;  ',
'  exception when others then',
' trace_log(''sendnotificationsaccessException''||SQLCODE||SQLERRM); ',
'  end;',
' end loop; ',
'exception when others then',
'trace_log(''sendnotificationsuserdetailsException''||SQLCODE||SQLERRM); ',
'null;',
'end;',
'--------------------------------------------------------------------------------',
'FUNCTION get_restriction_predicate ( userId varchar2 ) RETURN number AS',
'cnt number := 0;',
'hasRole number := 0;',
'hasData number := 0;',
'vpdString varchar2(4000);',
'BEGIN',
'--Is user has atleast one role other than to SAMPLE data',
'select count(1) into hasRole from rca13_user_roles where user_id = userId and lob_id != ''SAMPLE'';',
'--check whther there is non sample data',
'select count(1) into hasData from rca13_collections_md;',
'--If ACL system is not enabled then don''t apply any security/vpd on data',
'select count(1) into cnt from rca13_intrack_preferences where preference_name = ''ACCESS_CONTROL_ENABLED'' and preference_value = ''N'';',
'if cnt > 0 then  ',
'  if hasData > 2 then --display whole data other than sample( 2 rows for sample data )',
'   --return  ''  rca13_lob2sys_mapping.lob_id != ''''SAMPLE'''' '';',
'   return 1;',
'  else  ',
'   --return '' 1 = 1 '';',
'   return 2;',
'  end if;',
'end if;',
'--Check whether user has access to atleast one unit or not other than SAMPLE unit',
'--After first log in to app, user will become dba_manager to SAMPLE unit.',
'--By default we insert some SAMPLE data ( and hence systems which map to SAMPLE unit ) into app',
'if hasRole > 0 and hasData > 2 then --Exclude SAMPLE data',
'  vpdString :=',
'  ''  exists ( select 1 from rca13_user_roles  where user_id = ''''''||userId||'''''' and rca13_lob2sys_mapping.lob_id != ''''SAMPLE'''' ''||',
'  '' and  ( role_id = 1  OR  ''||',
'  ''  ( role_id = 2 and lob_id = rca13_lob2sys_mapping.lob_id  ) OR ''||',
'  ''  ( lob_id = rca13_lob2sys_mapping.lob_id and system_id = rca13_lob2sys_mapping.system_id ) ) ) '';',
'  return 3;',
'else --Which display only sample data',
'  vpdString :=',
'  ''  exists ( select 1 from rca13_user_roles  where user_id = ''''''||userId||''''''  and  ( role_id = 1  OR  ''||',
'  ''  ( role_id = 2 and lob_id = rca13_lob2sys_mapping.lob_id  ) OR ''||',
'  ''  ( lob_id = rca13_lob2sys_mapping.lob_id and system_id = rca13_lob2sys_mapping.system_id ) ) ) '';',
'  return 4;',
'end if;  ',
'--RETURN vpdString;',
'return 1;',
'END;',
'--------------------------------------------------------------------------------',
'procedure jobintervalconfiguration(ivl number,freq varchar2) is',
'interval varchar2(5);',
'l_job_exists number := 0;',
'l_job_running number := 0;',
'frequency varchar2(15);',
'BEGIN',
'select count(1) into l_job_exists from user_scheduler_jobs where job_name = ''RCA13_NOTIFICATIONS_JOB'';',
'  trace_log(''Interval::''||ivl||''frequency::''||freq);  ',
'   select decode(freq,''HOURS'',''hourly'',''DAYS'',''daily'',freq) into frequency from dual;',
'   select count(*) into l_job_running',
'     from user_scheduler_running_jobs',
'    where job_name = ''RCA13_NOTIFICATIONS_JOB'';',
'   if (l_job_running = 1) then   ',
'      begin',
'      dbms_scheduler.stop_job(''RCA13_NOTIFICATIONS_JOB'');',
'      exception when others then ',
'        trace_log(''Stop NotificationJob Exception''||SQLCODE||SQLERRM); ',
'      end;',
'    end if;',
'    if(l_job_exists = 1 ) then',
'      begin',
'      dbms_scheduler.drop_job(''RCA13_NOTIFICATIONS_JOB'');',
'       exception when others then ',
'       trace_log(''Drop NotificationJob Exception''||SQLCODE||SQLERRM); ',
'      end;',
'    end if;',
'     begin',
'    DBMS_SCHEDULER.CREATE_JOB (',
'     job_name           => ''RCA13_NOTIFICATIONS_JOB'',',
'     job_type           => ''PLSQL_BLOCK'',',
'     job_action         => ''BEGIN rca13_manage_notifications.startEmailJob(); END;'',',
'     start_date         =>   systimestamp,',
'     repeat_interval    => ''freq=''||trim(frequency)||''; interval=''||trim(ivl)||''; byminute=0; bysecond=0;'', /*For every 4 hours */',
'     end_date           =>   NULL,',
'     enabled            =>   TRUE,',
'     auto_drop          =>   FALSE,',
'     comments           =>  ''ORAchk App:Email Notification system'');',
'     DBMS_SCHEDULER.enable (''RCA13_NOTIFICATIONS_JOB'');',
'     exception when others then ',
'     trace_log(''Create Job Notification Exception''||SQLCODE||SQLERRM); ',
'      end;',
'trace_log(''Success JobInterval'');',
'exception when others then ',
'trace_log(''JobIntervalException''||SQLCODE||SQLERRM); ',
'END;',
'--------------------------------------------------------------------------------',
'procedure purgejobintervalconfiguration(ivl number,freq varchar2) is',
'interval varchar2(5);',
'l_job_exists number := 0;',
'l_job_running number := 0;',
'interval_value number := 0;',
'frequency varchar2(15);',
'conf_date date;',
'conf number := 0;',
'BEGIN',
'select count(1) into l_job_exists from user_scheduler_jobs where job_name = ''RCA13_PURGE_JOB'';',
'select preference_value into interval_value from rca13_intrack_preferences where preference_name = ''PURGE_JOB_INTERVAL'';',
'  trace_log(''Interval::''||ivl||''frequency::''||freq);  ',
'   select decode(freq,''HOURS'',''hourly'',''DAYS'',''daily'',''WEEKLY'',''weekly'',''MONTHLY'',''monthly'',freq) into frequency from dual;',
'   select decode(freq,''DAYS'',ivl*1,''WEEKLY'',ivl*7,''MONTHLY'',ivl*30,''YEARLY'',ivl*365,freq) into conf from dual;',
'   --select sysdate-conf into conf_date from dual;',
'   update rca13_intrack_preferences set preference_value = ivl,preference_description=freq where preference_name=''PURGE_JOB_INTERVAL'';',
'   select count(*) into l_job_running',
'     from user_scheduler_running_jobs',
'    where job_name = ''RCA13_PURGE_JOB'';',
'   if (l_job_running = 1) then   ',
'      begin',
'      dbms_scheduler.stop_job(''RCA13_PURGE_JOB'');',
'      exception when others then ',
'        trace_log(''Stop PurgeJob Exception''||SQLCODE||SQLERRM); ',
'      end;',
'    end if;',
'    if(l_job_exists = 1 ) then',
'      begin',
'      dbms_scheduler.drop_job(''RCA13_PURGE_JOB'');',
'       exception when others then ',
'       trace_log(''Drop PurgeJob Exception''||SQLCODE||SQLERRM); ',
'      end;',
'    end if;',
'     begin',
'    DBMS_SCHEDULER.CREATE_JOB (',
'     job_name           => ''RCA13_PURGE_JOB'',',
'     job_type           => ''PLSQL_BLOCK'',',
'   --job_action         => ''BEGIN RCA13_MANAGE_COLLECTIONS.purgeData(dat => to_timestamp(''''''||conf_date||'''''',''''DD-MON-RR HH.MI.SS.FF AM'''')); END;'',',
'     job_action         => ''BEGIN RCA13_MANAGE_COLLECTIONS.purgeData(dat => systimestamp - ''||conf||''); END;'', -- clean data on every day basis',
'     start_date         =>  systimestamp,     ',
'     --repeat_interval    => ''freq=''||trim(frequency)||''; interval=''||trim(ivl)||''; byminute=0; bysecond=0;'', /*For every submitted hours (rca13_intrack_preferences) */',
'     repeat_interval    => ''freq=daily; interval=1; byminute=0; bysecond=0;'', /*daily job to preserve only the recent <interval> data in the database */',
'     end_date           =>   NULL,',
'     enabled            =>   TRUE,',
'     auto_drop          =>   FALSE,',
'     comments           =>  ''Purge Data Older than ''||conf_date);',
'     DBMS_SCHEDULER.enable (''RCA13_PURGE_JOB'');',
'     exception when others then ',
'     trace_log(''Create Job Purge Exception''||SQLCODE||SQLERRM); ',
'      end;',
'trace_log(''Success PurgeJobInterval'');',
'exception when others then ',
'trace_log(''PurgeJobIntervalException''||SQLCODE||SQLERRM); ',
'END;',
'--------------------------------------------------------------------------------',
'END RCA13_MANAGE_NOTIFICATIONS;',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312117536204319314)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Inc Integration spec'
,p_sequence=>590
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE RCA13_INCIDENT_INTEGRATION AS ',
'  procedure addInfo2ITC ( acsTicketId varchar2 );',
'  procedure addLink2ITC( acsTicketId varchar2 );',
'  procedure update_collection_score(TicketId varchar2,flag number default 0 );',
'END RCA13_INCIDENT_INTEGRATION;',
'/',
'',
'show error   ',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312117749017322965)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Inc Integration Body'
,p_sequence=>600
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PACKAGE BODY RCA13_INCIDENT_INTEGRATION AS',
'--------------------------------------------------------------------------------',
'--ITC insident tracking system. acs - audit check sytem',
'procedure addInfo2ITC ( acsTicketId varchar2 ) is',
'addType varchar2(40);',
'attr1 varchar2(40);',
'ticketId varchar2(100);',
'text clob;',
'noTicket exception;',
'',
'begin ',
'  ',
'  begin',
'   select ticket_id,type,attr1 into ticketId,addType,attr1 from RCA13_AC_TICKETS ',
'   where acs_ticket_id = acsTicketId;  ',
'   exception when no_data_found then raise noTicket;',
'  end; ',
' ',
' if addType = ''CHECK'' and attr1 is not null  then   ',
'   for rec in ( select * from auditcheck_result where auditcheck_result_id = attr1 ) loop     ',
'     text := ''Cluster Name: ''||rec.CLUSTER_NAME||chr(10);',
'     text := text||''Collection Name: ''||rec.UPLOAD_COLLECTION_NAME||chr(10);',
'     text := text||''Collection Date: ''||rec.COLLECTION_DATE||chr(10);   ',
'     text := text||''Check Name: ''||nvl(rec.CHECK_NAME,rec.PARAM_NAME)||chr(10);',
'     text := text||''Check Status: ''||rec.STATUS||chr(10);',
'     text := text||''Status Message: ''||rec.STATUS_MESSAGE||chr(10);',
'     text := text||''Actuall Message: ''||rec.ACTUAL_VALUE||chr(10);',
'     text := text||''Recommended Value: ''||rec.RECOMMENDED_VALUE||chr(10);',
'     text := text||''Operator: ''||rec.COMPARISON_OPERATOR||chr(10);',
'     text := text||''Host Name: ''||rec.HOSTNAME||chr(10);',
'     text := text||''Instance Name: ''||rec.INSTANCE_NAME||chr(10);',
'     text := text||''Check Type: ''||rec.CHECK_TYPE||chr(10);',
'     text := text||''OS Platform: ''||rec.DB_PLATFORM||chr(10);',
'     text := text||''DB version: ''||rec.DB_VERSION||chr(10);',
'     text := text||''DB Name: ''||rec.DB_NAME||chr(10);',
'     text := text||''DB Role: ''||rec.DATABASE_ROLE||chr(10);',
'     text := text||''CRS Version: ''||rec.CLUSTERWARE_VERSION||chr(10);',
'   end loop;',
' elsif addType = ''COLLECTION'' then ',
'   if attr1 is not null then   ',
'     for rec in ( select * from rca13_collections where collection_id = attr1 ) loop',
'       text := ''Collection Name: ''||rec.COLLECTION_NAME||chr(10);',
'       text := text||''Collection Date: ''||rec.COLLECTION_DATE||chr(10);',
'       text := text||''OS Platform: ''||rec.OS_PLATFORM||chr(10);    ',
'       text := text||''OS Distribution: ''||rec.OS_DIST||chr(10);        ',
'       text := text||''OS Kernel: ''||rec.OS_KERNEL||chr(10);      ',
'       text := text||''OS Version: ''||rec.OS_VERSION||chr(10);     ',
'       text := text||''Collection Type: ''||rec.COLLECTION_TYPE||chr(10);',
'       text := text||''System Name: ''||rec.SYSTEM_NAME||chr(10);    ',
'     end loop;',
'   else ',
'     text := ''Collection zip not found'';',
'   end if;',
' end if;',
' if text is not null then',
'   insert into RCA13_INTRACK_NOTES (INCIDENT_ID, note) values (ticketId, text);',
'   commit;',
' end if; ',
' exception when noTicket then null;',
'end; ',
'--------------------------------------------------------------------------------',
'procedure addLink2ITC( acsTicketId varchar2) is ',
'addType varchar2(40);',
'attr1 varchar2(40);',
'ticketId varchar2(100);',
'text clob;',
'noTicket exception;',
'cDate timestamp;',
'begin',
'  begin',
'   select ticket_id,type,attr1 into ticketId,addType,attr1 from RCA13_AC_TICKETS ',
'   where acs_ticket_id = acsTicketId;',
'  exception when no_data_found then raise noTicket;',
'  end; ',
'  if addType = ''CHECK'' then    ',
'    --Get collection Date .. attr1 is either collectionId or auditcheck result Id',
'    select collection_date into cDate from auditcheck_result where auditcheck_result_id = attr1;',
'  elsif addType = ''COLLECTION'' then  ',
'    select collection_date into cDate from RCA13_AC_TICKETS where acs_ticket_id = acsTicketId;',
'  end if;    ',
'  insert into RCA13_INTRACK_LINKS (INCIDENT_ID, LINK_TEXT, link_target, LINK_COMMENTS) ',
'  values (ticketId,''Link to collection'',''f?p=&APP_ID.:1002:&APP_SESSION.:::1002:P1002_COLLECTION_DATE:''||cDate,''Link to collection'');',
'  exception when noTicket then null;',
'end;',
'--------------------------------------------------------------------------------',
'--When a ticket is closed on collection/check update the score of the collection',
'procedure update_collection_score ( ticketId varchar2,flag number default 0 ) is ',
'newScore number;',
'cName varchar2(40);',
'cDate timestamp;',
'acResultId varchar2(40);',
'tType varchar2(100);',
'attr1 varchar2(40);',
'collectionId varchar2(40);',
'PRAGMA AUTONOMOUS_TRANSACTION;',
'begin',
' for rec in ( select type,attr1,collection_date,collection_name from RCA13_AC_TICKETS where ticket_id = ticketId ) loop',
'   tType := rec.type;',
'   if tType = ''CHECK'' then ',
'     attr1 := rec.attr1;',
'   else ',
'     collectionId := rec.attr1;',
'   end if;',
'   cDate := rec.collection_date;',
'   cName := rec.collection_name;',
'   exit;',
' end loop;',
' if tType = ''CHECK'' then ',
'  select collection_id,upload_collection_name,collection_date into collectionId,cName,cDate ',
'  from auditcheck_result where auditcheck_result_id = attr1; ',
' end if;',
' if cDate is null then',
'   return;',
' end if;',
'   newScore := RCA13_GET_DATA4COLUMNS.getCollectionScore(collectionId,cName,cDate,flag);',
'  update rca13_collection_values set score = newScore where collection_date  = cDate and collection_name = cName;',
' commit;',
' exception when others then null;',
'end;',
'--------------------------------------------------------------------------------',
'END RCA13_INCIDENT_INTEGRATION;',
'/',
'',
''))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(311015243527951281)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Incidents Trigger'
,p_sequence=>610
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace trigger rca13_intrack_incidents_trg',
'before insert or update on rca13_intrack_incidents',
'for each row',
'begin',
'   if :new.tags is not null then',
'      :new.tags := rca13_intrack_fw.tags_cleaner(:new.tags);',
'   end if;',
'   if inserting then',
'      if :NEW.ID is null then',
'         select to_number(sys_guid(),''XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'')',
'           into :NEW.ID',
'           from dual;',
'      end if;',
'      if :new.CREATED is null then',
'           :NEW.CREATED := localtimestamp;',
'      end if;',
'      :NEW.CREATED_BY := nvl(v(''APP_USER''),USER);',
'      :new.row_version_number := 1;',
'   end if;',
'   --',
'   if inserting or updating then',
'      :NEW.UPDATED    := localtimestamp;',
'      :NEW.UPDATED_BY := nvl(v(''APP_USER''),USER);',
'   end if;',
'   if updating then',
'      :new.row_version_number := nvl(:old.row_version_number,1) + 1;',
'   end if;',
'   if :new.incident_number is null then',
'       for c1 in (select rca13_intrack_seq.nextval s from dual) loop',
'           :new.incident_number := rca13_intrack_fw.compress_int(c1.s);',
'       end loop;',
'   end if;',
'   if :new.severity_id is null then',
'      for c1 in (select id from rca13_intrack_severity order by sequence_number desc) loop',
'          :new.severity_id := c1.id;',
'          exit;',
'      end loop;',
'   end if;',
'   if nvl(:new.status_id,0) != nvl(:old.status_id,0) then',
'       for c2 in (select status_code from rca13_intrack_status where id = :new.status_id) loop',
'           :new.status_code := c2.status_code;',
'       end loop;',
'   end if;',
'       --',
'   if updating then',
'         if :new.status_id is not null then',
'          for c3 in (select STATUS_TYPE from RCA13_INTRACK_STATUS where id = :new.status_id ) loop',
'                  if c3.STATUS_TYPE = ''CLOSED'' then',
'                      :new.DATE_CLOSED := localtimestamp;',
'                      RCA13_INCIDENT_INTEGRATION.update_collection_score(:NEW.ID,1);',
'                  elsif c3.STATUS_TYPE = ''OPEN'' then',
'                      :new.DATE_CLOSED := null;',
'                  end if;',
'          end loop;',
'       end if;',
'       ',
'       if :new.DATE_CLOSED is not null and :old.date_closed is null then',
'          insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''CLOSE_DATE_CHANGE'', ''DATE_CLOSED'', null, ''Date closed automatically set'');',
'       end if;',
'       if :new.DATE_CLOSED is  null and :old.date_closed is not null then',
'          insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''CLOSE_DATE_CHANGE'', ''DATE_CLOSED'', ''Date closed automatically unset'', null);',
'       end if;',
'       --',
'       if nvl(:new.status_code,''x'') != nvl(:old.status_code,''x'') then',
'          insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''STATUS_CHANGE'', ''STATUS_CODE'', :old.status_id, :new.status_id);',
'       end if;',
'       if nvl(:new.ASSIGNED_TO_ID,0) != nvl(:old.ASSIGNED_TO_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''ASSIGNEE_CHANGE'', ''ASSIGNED_TO_ID'', :old.ASSIGNED_TO_ID, :new.ASSIGNED_TO_ID);',
'            :new.ASSIGNED_ON := systimestamp; ',
'       end if;',
'       if nvl(:new.URGENCY_ID,0) != nvl(:old.URGENCY_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''URGENCY_CHANGE'', ''URGENCY_ID'', :old.URGENCY_ID, :new.URGENCY_ID);',
'       end if;',
'       if nvl(:new.SEVERITY_ID,0) != nvl(:old.SEVERITY_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''SEVERITY_CHANGE'', ''SEVERITY_ID'', :old.SEVERITY_ID, :new.SEVERITY_ID);',
'       end if;',
'       if nvl(:new.CATEGORY_ID,0) != nvl(:old.CATEGORY_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''CATEGORY_CHANGE'', ''CATEGORY_ID'', :old.CATEGORY_ID, :new.CATEGORY_ID);',
'       end if;',
'       if nvl(:new.TAGS,''0'') != nvl(:old.TAGS,''0'') then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''TAG_CHANGE'', ''TAGS'', :old.TAGS, :new.TAGS);',
'       end if;',
'       if nvl(:new.PRODUCT_ID,0) != nvl(:old.PRODUCT_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''PRODUCT_CHANGE'', ''PRODUCT_ID'', :old.PRODUCT_ID, :new.PRODUCT_ID);',
'       end if;',
'       if nvl(:new.CUSTOMER_ID,0) != nvl(:old.CUSTOMER_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''CUSTOMER_CHANGE'', ''CUSTOMER_ID'', :old.CUSTOMER_ID, :new.CUSTOMER_ID);',
'       end if;',
'       if nvl(:new.PRODUCT_VERSION_ID,0) != nvl(:old.PRODUCT_VERSION_ID,0) then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''PRODUCT_VERSION_CHANGE'', ''PRODUCT_VERSION_ID'', :old.PRODUCT_VERSION_ID, :new.PRODUCT_VERSION_ID);',
'       end if;',
'       if nvl(:new.SUBJECT,''0'') != nvl(:old.SUBJECT,''0'') then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''SUBJECT_CHANGE'', ''SUBJECT'', :old.SUBJECT, :new.SUBJECT);',
'       end if;',
'       if nvl(:new.BUG_NUMBER,''0'') != nvl(:old.BUG_NUMBER,''0'') then',
'            insert into rca13_intrack_inc_followup',
'            (incident_id,follow_up_type,status_column,status_old_val,status_new_val )',
'            values',
'            (:new.id, ''BUG_CHANGE'', ''BUG_NUMBER'', :old.BUG_NUMBER, :new.BUG_NUMBER);',
'       end if;',
'   end if;',
'   --',
'   rca13_intrack_fw.tag_sync(',
'        p_new_tags      => :new.tags,',
'        p_old_tags      => :old.tags,',
'        p_content_type  => ''INCIDENT'',',
'        p_content_id    => :new.id );',
'end;',
'',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(308495658777449597)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Manage ACL specs'
,p_sequence=>640
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace',
'PACKAGE RCA13_MANAGE_ACL AS ',
'',
'function is_superadmin( userId number ) return number;',
'function is_dbamanager( userId number ) return number;',
'function is_appAccessible( userId number ) return number;',
'END RCA13_MANAGE_ACL;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(308495863064460275)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Manage ACL body'
,p_sequence=>650
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace ',
'PACKAGE BODY RCA13_MANAGE_ACL AS',
'--------------------------------------------------------------------------------',
'function is_superadmin( userId number ) return number is',
'cnt number;',
'begin',
'  --if ACCESS_CONTROL_ENABLED    = N, then make every one as super admin',
'  select count(1) into cnt from rca13_intrack_preferences where preference_name = ''ACCESS_CONTROL_ENABLED'' and preference_value = ''N''; ',
'  if cnt > 0 then return 1; end if;',
'  select count(1) into cnt from rca13_user_roles a, rca13_intrack_users b ',
'  where a.user_id = userId and b.id = a.user_id and a.role_id = 1;  ',
'  if cnt > 0  then',
'   return 1;',
'  else ',
'   return 0;',
'  end if; ',
'end;',
'--------------------------------------------------------------------------------',
'function is_dbamanager( userId number ) return number is',
'cnt number;',
'begin',
' --if ACCESS_CONTROL_ENABLED    = N, then make every one as super admin',
'  select count(1) into cnt from rca13_intrack_preferences where preference_name = ''ACCESS_CONTROL_ENABLED'' and preference_value = ''N''; ',
'  if cnt > 0 then return 1; end if;',
'  -- Return 1 if user is dbamanger for atleast one business unit.',
'  select count(1) into cnt from rca13_user_roles a, rca13_intrack_users b ',
'  where a.user_id = userId and b.id = a.user_id and ( a.role_id = 2 or a.role_id = 1 );',
'  if cnt > 0  then',
'   return 1;',
'  else ',
'   return 0;',
'  end if; ',
'end;',
'--------------------------------------------------------------------------------',
'function is_appAccessible( userId number ) return number is',
'cnt number;',
'begin',
'  --if ACCESS_CONTROL_ENABLED    = N, then make every one as super admin',
'  select count(1) into cnt from rca13_intrack_preferences where preference_name = ''ACCESS_CONTROL_ENABLED'' and preference_value = ''N''; ',
'  if cnt > 0 then return 1; end if;',
'  --Check whether user has at least one role or not',
'  select count(1) into cnt from rca13_user_roles where user_id = userId;',
'  if cnt > 0  then',
'   return 1;',
'  else ',
'   return 0;',
'  end if; ',
'end;',
'--------------------------------------------------------------------------------',
'END RCA13_MANAGE_ACL;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312117946031331583)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'get doc procedure'
,p_sequence=>660
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace',
'PROCEDURE "RCA13_GET_DOC" (  p   varchar2 ) is',
'    l_blob              blob;',
'    l_mime              varchar2(48);',
'    l_size              number;',
'    l_filename          varchar2(2000);',
'begin',
'    -- *Uncomment out the following lines and replace 599 with the ID of your application to restrict access to',
'    -- only users with a valid Application Express session.',
'    --apex_application.g_flow_id := 599;',
'    --if not wwv_flow_custom_auth_std.is_session_valid then',
'    --    htp.p(''unauthorized access attempt - file will not be retrieved.'');',
'    --    return;',
'    --end if;',
'  --apex_application.g_flow_id := 1023;',
'    for c1 in (select FILENAME, FILE_MIMETYPE, FILE_BLOB',
'                 from rca13_docs where doc_id = p ) loop',
'        l_filename  := c1.FILENAME;',
'        l_blob      := c1.FILE_BLOB;',
'        l_mime      := c1.FILE_MIMETYPE;',
'        l_size      := dbms_lob.getlength(l_blob);',
'    end loop;',
'  ',
'    owa_util.mime_header( nvl(l_mime,''application/octet''), FALSE );',
'    htp.p(''Content-length: '' || l_size);',
'    htp.p(''Content-Disposition:  attachment; filename="''||replace(replace(l_filename,chr(10),null),chr(13),null)|| ''"'');',
'    owa_util.http_header_close;',
'    wpg_docload.download_file( l_blob );',
'end rca13_get_doc;',
'/',
'',
'show errors    ',
'/',
'grant execute on RCA13_GET_DOC to public;',
'/',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(308607064815506953)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'vpd function'
,p_sequence=>670
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace ',
'FUNCTION "RCA13_SYSTEMS_VPD" (',
'p_schema IN VARCHAR2 DEFAULT NULL,',
'p_object IN VARCHAR2 DEFAULT NULL',
') RETURN VARCHAR2 AS',
'cnt number := 0;',
'hasRole number := 0;',
'hasData number := 0;',
'vpdString varchar2(4000);',
'BEGIN',
'   ',
'if v(''G_USER_ID'') is null then -- If user not accessing from apex',
'  return null;     ',
'end if;',
'--Is user has atleast one role other than to SAMPLE data',
'select count(1) into hasRole from rca13_user_roles where user_id = v(''G_USER_ID'') and lob_id != ''SAMPLE'';',
'--check whther there is non sample data',
'select count(1) into hasData from rca13_collections_md;',
'--If ACL system is not enabled then don''t apply any security/vpd on data',
'select count(1) into cnt from rca13_intrack_preferences where preference_name = ''ACCESS_CONTROL_ENABLED'' and preference_value = ''N''; ',
'if cnt > 0 then  ',
'  if hasData > 2 then --display whole data other than sample( 2 rows for sample data )',
'   return  ''  rca13_lob2sys_mapping.lob_id != ''''SAMPLE'''' '';',
'  else  ',
'   return null; ',
'  end if; ',
'end if;',
'--Check whether user has access to atleast one unit or not other than SAMPLE unit',
'--After first log in to app, user will become dba_manager to SAMPLE unit. ',
'--By default we insert some SAMPLE data ( and hence systems which map to SAMPLE unit ) into app',
'if hasRole > 0 and hasData > 2 then --Exclude SAMPLE data',
'  vpdString := ',
'  ''  exists ( select 1 from rca13_user_roles  where user_id = v(''''G_USER_ID'''') and rca13_lob2sys_mapping.lob_id != ''''SAMPLE'''' ''||',
'  '' and  ( role_id = 1  OR  ''|| ',
'  ''  ( role_id = 2 and lob_id = rca13_lob2sys_mapping.lob_id  ) OR ''||',
'  ''  ( lob_id = rca13_lob2sys_mapping.lob_id and system_id = rca13_lob2sys_mapping.system_id ) ) ) '';',
'else --Which display only sample data',
'  vpdString := ',
'  ''  exists ( select 1 from rca13_user_roles  where user_id = v(''''G_USER_ID'''')  and  ( role_id = 1  OR  ''||',
'  ''  ( role_id = 2 and lob_id = rca13_lob2sys_mapping.lob_id  ) OR ''||',
'  ''  ( lob_id = rca13_lob2sys_mapping.lob_id and system_id = rca13_lob2sys_mapping.system_id ) ) ) '';',
'end if;  ',
'RETURN vpdString;',
'  ',
'END;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(308607242792585778)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'create vpd policy'
,p_sequence=>680
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'    uName varchar2(500);    ',
'BEGIN',
'    select username into uName from user_users;',
'    DBMS_RLS.ADD_POLICY (object_schema=>uName, ',
'                        object_name=>''rca13_lob2sys_mapping'',',
'                        policy_name=>''RCA13_SYSTEMS_VPD_POLICY'', ',
'                        function_schema=>uName,',
'                        policy_function=>''RCA13_SYSTEMS_VPD'',',
'                        policy_type     => dbms_rls.DYNAMIC,',
'                        sec_relevant_cols=>''lob_id,system_id'');',
'END;',
'/    ',
'show errors    ',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(311016654289581611)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Scheduled Jobs'
,p_sequence=>1000
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'begin',
'for rec in ( select build_id bid from rca13_release_info order by build_id asc ) loop',
'  -- Upgrade app version by version',
'  if rec.bid = 20140530000000  then',
'   select count(1) into cnt from user_scheduler_jobs where job_name = ''RCA13_NOTIFICATIONS_JOB'';',
'   if cnt = 0 then',
'    DBMS_SCHEDULER.CREATE_JOB (',
'     job_name           => ''RCA13_NOTIFICATIONS_JOB'',',
'     job_type           => ''PLSQL_BLOCK'',',
'     job_action         => ''BEGIN rca13_manage_notifications.startEmailJob(); END;'',',
'     start_date         =>   systimestamp,',
'     repeat_interval    => ''freq=hourly; interval=4; byminute=0; bysecond=0;'', /*For every 4 hours */',
'     end_date           =>   NULL,',
'     enabled            =>   TRUE,',
'     auto_drop          =>   FALSE,',
'     comments           =>  ''ORAchk App:Email Notification system'');',
'   end if;',
'  end if;       ',
' end loop;',
'end;',
'/',
'',
'execute DBMS_SCHEDULER.enable (''RCA13_PROCESS_DATA'');   ',
'/',
'    ',
'execute DBMS_SCHEDULER.enable (''RCA13_NOTIFICATIONS_JOB'');',
'/',
'',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312107340746822885)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Sample Data'
,p_sequence=>1001
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace procedure rca13_intrack_load_sample',
'as',
'    x varchar2(255) := null;',
'begin',
'--Dlete old data to avoid fail on PK while installing app',
'delete from auditcheck_result where upload_collection_name = ''exachk_cetrain19_sidb_091913_151355'';    ',
'commit;',
'-- Insert sample data into AUDITCHECK_RESULT   ',
'-- Sample Colletion 1',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''db_block_checksum'',''db_block_checksum'',''FAIL'',''Database paramete'
||'r DB_BLOCK_CHECKSUM is NOT set to recommended value on sid11203 instance'',''TYPICAL'',''FULL'',''='',''cetrain19'',''sid11203'',''SQL_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sid11203'',''9AC756552BAE5EA4E040E50A1'
||'EC0475E'','''',''X3-8:SIDBMAA:DBM:MAA:X2-2:X2-8:X3-2:AVM:SUPERCLUSTER:EIGHTH:SUPERCLUSTERX3-2:X4-2:SUPERCLUSTERX4-2'',''PRIMARY'',''121010'',''SID11203'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4E87358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''db_block_checksum'',''db_block_checksum'',''FAIL'',''Database paramete'
||'r DB_BLOCK_CHECKSUM is NOT set to recommended value on sidb instance'',''TYPICAL'',''FULL'',''='',''cetrain19'',''sidb'',''SQL_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sidb'',''9AC756552BAE5EA4E040E50A1EC0475E'','''','
||'''X3-8:SIDBMAA:DBM:MAA:X2-2:X2-8:X3-2:AVM:SUPERCLUSTER:EIGHTH:SUPERCLUSTERX3-2:X4-2:SUPERCLUSTERX4-2'',''PRIMARY'',''121010'',''SIDB'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4E97358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''Flashback database on primary'',''primary_flashback_status'',''FAIL'''
||',''Flashback on PRIMARY is not configured for sid11203'',''NO'',''YES'',''='',''cetrain19'',''NA'',''SQL'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sid11203'',''CCAD8D7C01FE7A26E0431EC0E50A5019'',''RDBMS'',''SIDBMAA'',''PRIMARY'','
||'''121010'',''SID11203'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4EA7358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''Flashback database on primary'',''primary_flashback_status'',''FAIL'''
||',''Flashback on PRIMARY is not configured for sidb'',''NO'',''YES'',''='',''cetrain19'',''NA'',''SQL'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sidb'',''CCAD8D7C01FE7A26E0431EC0E50A5019'',''RDBMS'',''SIDBMAA'',''PRIMARY'',''121010'''
||',''SIDB'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4EB7358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''Primary database protection with Data Guard'',''check_standby_nobr'
||'anch'',''FAIL'',''Primary database is NOT protected with Data Guard (standby database) for real-time data protection and availability for sid11203'',''0'',''0'',''-gt'',''cetrain19'',''NA'',''SQL'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121'
||'010'',''sample'',''sid11203'',''CD4D51B78F692408E0431EC0E50A3077'',''RDBMS'',''SIDBMAA:MAA'',''PRIMARY'',''121010'',''SID11203'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4EC7358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''fast_start_mttr_target'',''fast_start_mttr_target'',''WARNING'',''fast'
||'_start_mttr_target has NOT been changed from default on sid11203 instance'',''0'',''300'',''-eq'',''cetrain19'',''sid11203'',''SQL_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sid11203'',''CCAD93D7379975A0E0431EC0E50AA'
||'4A4'','''',''SIDBMAA'',''PRIMARY'',''121010'',''SID11203'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4ED7358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''fast_start_mttr_target'',''fast_start_mttr_target'',''WARNING'',''fast'
||'_start_mttr_target has NOT been changed from default on sidb instance'',''0'',''300'',''-eq'',''cetrain19'',''sidb'',''SQL_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sidb'',''CCAD93D7379975A0E0431EC0E50AA4A4'','''',''SID'
||'BMAA'',''PRIMARY'',''121010'',''SIDB'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4EE7358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''Archivelog Mode'',''archivelog_mode_status'',''WARNING'',''Database Ar'
||'chivelog Mode should be set to ARCHIVELOG for sid11203'',''NOARCHIVELOG'',''ARCHIVELOG'',''='',''cetrain19'',''NA'',''SQL'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sid11203'',''CCAD9945F7797A3FE0431EC0E50A856B'',''RDBMS'',''H'
||'ACHECK:SIDBMAA:MAA:SIDBHACHECK'',''PRIMARY'',''121010'',''SID11203'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4EF7358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''Archivelog Mode'',''archivelog_mode_status'',''WARNING'',''Database Ar'
||'chivelog Mode should be set to ARCHIVELOG for sidb'',''NOARCHIVELOG'',''ARCHIVELOG'',''='',''cetrain19'',''NA'',''SQL'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sidb'',''CCAD9945F7797A3FE0431EC0E50A856B'',''RDBMS'',''HACHECK:S'
||'IDBMAA:MAA:SIDBHACHECK'',''PRIMARY'',''121010'',''SIDB'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4F07358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''Redo log file write time latency'',''RDBMS'',''WARNING'',''Redo log wr'
||'ite time is more than 500 milliseconds for sid11203'',''29'',''1'',''-lt'',''cetrain19'',''NA'',''OS'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sid11203'',''D35CE19AE68165F3E0431EC0E50A4C09'',''RDBMS'',''SIDB:RDBMS:RACCHECK'','''
||'PRIMARY'',''121010'',''SID11203'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4F17358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''Locally managed tablespaces'',''dictionary_managed_tablespace_coun'
||'t'',''PASS'',''All tablespaces are locally managed tablespace for sid11203'',''0'',''0'',''-eq'',''cetrain19'',''NA'',''SQL'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sid11203'',''CCAECE9BB07579D8E0431EC0E50A9209'',''RDBMS'',''ODA'
||'_VM:ODA:SIDBMAA:DBM:MAA:RDBMS:RACCHECK'',''PRIMARY'',''121010'',''SID11203'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4F27358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''Locally managed tablespaces'',''dictionary_managed_tablespace_coun'
||'t'',''PASS'',''All tablespaces are locally managed tablespace for sidb'',''0'',''0'',''-eq'',''cetrain19'',''NA'',''SQL'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sidb'',''CCAECE9BB07579D8E0431EC0E50A9209'',''RDBMS'',''ODA_VM:ODA:'
||'SIDBMAA:DBM:MAA:RDBMS:RACCHECK'',''PRIMARY'',''121010'',''SIDB'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4F37358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''Redo groups per thread'',''no_of_redo_thread_count'',''PASS'',''Three '
||'or more redo log groups are configured per thread for sid11203'',''3'',''3'',''-ge'',''cetrain19'',''NA'',''SQL'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sid11203'',''CCB2075D6EF92359E0431EC0E50AFC7A'',''RDBMS'',''SIDBMAA'',''P'
||'RIMARY'',''121010'',''SID11203'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4F47358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''Redo groups per thread'',''no_of_redo_thread_count'',''PASS'',''Three '
||'or more redo log groups are configured per thread for sidb'',''3'',''3'',''-ge'',''cetrain19'',''NA'',''SQL'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sidb'',''CCB2075D6EF92359E0431EC0E50AFC7A'',''RDBMS'',''SIDBMAA'',''PRIMARY'','
||'''121010'',''SIDB'',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4F57358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''fs.file-max'',''fs.file-max'',''INFO-PASS'',''Kernel Parameter fs.file'
||'-max is configuration meets or exceeds recommendation'',''6815744'',''6815744'',''-ge'',''cetrain19'',''NA'',''OS_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sidb'',''D0C20F5A5DE970BDE0431EC0E50A7673'','''',''PREUPGR:SIDB'
||':OS:RACCHECK'','''',''121010'','''',''exachk_cetrain19_sidb_091913_151355'',''ED30E16BA4F67358E0432EA6D00AA0FA'');',
'',
'delete from auditcheck_result where upload_collection_name = ''exachk_cetrain19_sidb_092713_163750''; ',
'-- Sample collection 2',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''db_block_checksum'',''db_block_checksum'',''FAIL'',''Database paramete'
||'r DB_BLOCK_CHECKSUM is NOT set to recommended value on sid11203 instance'',''TYPICAL'',''FULL'',''='',''cetrain19'',''sid11203'',''SQL_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sid11203'',''9AC756552BAE5EA4E040E50A1'
||'EC0475E'','''',''X3-8:SIDBMAA:DBM:MAA:X2-2:X2-8:X3-2:AVM:SUPERCLUSTER:EIGHTH:SUPERCLUSTERX3-2:X4-2:SUPERCLUSTERX4-2'',''PRIMARY'',''121010'',''SID11203'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA5057358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''db_block_checksum'',''db_block_checksum'',''FAIL'',''Database paramete'
||'r DB_BLOCK_CHECKSUM is NOT set to recommended value on sidb instance'',''TYPICAL'',''FULL'',''='',''cetrain19'',''sidb'',''SQL_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sidb'',''9AC756552BAE5EA4E040E50A1EC0475E'','''','
||'''X3-8:SIDBMAA:DBM:MAA:X2-2:X2-8:X3-2:AVM:SUPERCLUSTER:EIGHTH:SUPERCLUSTERX3-2:X4-2:SUPERCLUSTERX4-2'',''PRIMARY'',''121010'',''SIDB'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA4F77358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''db_lost_write_protect'',''db_lost_write_protect'',''FAIL'',''Database '
||'parameter DB_LOST_WRITE_PROTECT is NOT set to recommended value on sid11203 instance'',''NONE'',''TYPICAL'',''='',''cetrain19'',''sid11203'',''SQL_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sid11203'',''A97A01C7F1730'
||'7CFE040E50A1EC06C63'','''',''ODA_VM:ODA:X3-8:SIDBMAA:DBM:MAA:X2-2:X2-8:X3-2:AVM:SUPERCLUSTER:EIGHTH:SUPERCLUSTERX3-2:X4-2:SUPERCLUSTERX4-2'',''PRIMARY'',''121010'',''SID11203'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA4F87358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''db_lost_write_protect'',''db_lost_write_protect'',''FAIL'',''Database '
||'parameter DB_LOST_WRITE_PROTECT is NOT set to recommended value on sidb instance'',''NONE'',''TYPICAL'',''='',''cetrain19'',''sidb'',''SQL_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sidb'',''A97A01C7F17307CFE040E50A1'
||'EC06C63'','''',''ODA_VM:ODA:X3-8:SIDBMAA:DBM:MAA:X2-2:X2-8:X3-2:AVM:SUPERCLUSTER:EIGHTH:SUPERCLUSTERX3-2:X4-2:SUPERCLUSTERX4-2'',''PRIMARY'',''121010'',''SIDB'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA4F97358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''Redo Log File Size'',''sidb_undersized_redo_logs'',''WARNING'',''Redo '
||'log file size should be sized to switch every 20 minutes during peak redo generation for sid11203'',''3'',''0'',''-eq'',''cetrain19'',''NA'',''SQL'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sid11203'',''CB02802D637B344DE04'
||'31EC0E50AE8DE'',''RDBMS'',''SIDBMAA'',''PRIMARY'',''121010'',''SID11203'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA4FA7358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''Redo Log File Size'',''sidb_undersized_redo_logs'',''WARNING'',''Redo '
||'log file size should be sized to switch every 20 minutes during peak redo generation for sidb'',''3'',''0'',''-eq'',''cetrain19'',''NA'',''SQL'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sidb'',''CB02802D637B344DE0431EC0E50'
||'AE8DE'',''RDBMS'',''SIDBMAA'',''PRIMARY'',''121010'',''SIDB'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA4FB7358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''cluster_database'',''cluster_database'',''WARNING'',''RAC Application '
||'Cluster is not being used for database high availability on sid11203 instance'',''FALSE'',''TRUE'',''='',''cetrain19'',''sid11203'',''SQL_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sid11203'',''CB05CDFEFD436CDFE0431E'
||'C0E50A29C8'','''',''SIDBMAA'',''PRIMARY'',''121010'',''SID11203'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA4FC7358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''cluster_database'',''cluster_database'',''WARNING'',''RAC Application '
||'Cluster is not being used for database high availability on sidb instance'',''FALSE'',''TRUE'',''='',''cetrain19'',''sidb'',''SQL_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sidb'',''CB05CDFEFD436CDFE0431EC0E50A29C8'','
||''''',''SIDBMAA'',''PRIMARY'',''121010'',''SIDB'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA4FD7358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''compat-libstdc++-33-3.2.3-69.el6-i686'',''compat-libstdc++-33-3.2.'
||'3-69.el6-i686'',''PASS'',''Package compat-libstdc++-33-3.2.3-69.el6-i686 meets or exceeds recommendation'',''compat-libstdc++-33-3.2.3-69.el6-i686'',''compat-libstdc++-33-3.2.3-69.el6-x86_64'',''NA'',''cetrain19'',''NA'',''OS_PACKAGE'','' LINUX X86-64'','' OELRHEL'','' 2.'
||'6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''NA'',''C1D1B240991A25B8E0431EC0E50AFEF5'',''N/A'',''PREUPGR:SIDB:OS:RACCHECK'',''N/A'',''121010'',''N/A'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA4FE7358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''libaio-0.3.107-10.el6-x86_64'',''libaio-0.3.107-10.el6-x86_64'',''PA'
||'SS'',''Package libaio-0.3.107-10.el6-x86_64 meets or exceeds recommendation'',''libaio-0.3.107-10.el6-x86_64'',''compat-libstdc++-33-3.2.3-69.el6-x86_64'',''NA'',''cetrain19'',''NA'',''OS_PACKAGE'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''1'
||'21010'',''sample'',''NA'',''C1D1BA6C1CD013F9E0431EC0E50A8B9C'',''N/A'',''PREUPGR:SIDB:OS:RACCHECK'',''N/A'',''121010'',''N/A'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA4FF7358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''libaio-devel-0.3.107-10.el6-x86_64'',''libaio-devel-0.3.107-10.el6'
||'-x86_64'',''PASS'',''Package libaio-devel-0.3.107-10.el6-x86_64 meets or exceeds recommendation'',''libaio-devel-0.3.107-10.el6-x86_64'',''compat-libstdc++-33-3.2.3-69.el6-x86_64'',''NA'',''cetrain19'',''NA'',''OS_PACKAGE'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.'
||'1.el6uek.x86_64'','' 6'',''121010'',''sample'',''NA'',''C1D1BA6C1CD213F9E0431EC0E50A8B9C'',''N/A'',''PREUPGR:SIDB:OS:RACCHECK'',''N/A'',''121010'',''N/A'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA5007358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''undo_management'',''undo_management'',''INFO-PASS'',''Instance is usin'
||'g Automatic Undo Management on sid11203 instance'',''AUTO'',''AUTO'',''='',''cetrain19'',''sid11203'',''SQL_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sid11203'',''CCAD91212BD475C4E0431EC0E50A3FB5'','''',''SIDBMAA:MAA'','''
||'PRIMARY'',''121010'',''SID11203'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA5017358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''undo_management'',''undo_management'',''INFO-PASS'',''Instance is usin'
||'g Automatic Undo Management on sid11203 instance'',''AUTO'',''AUTO'',''='',''cetrain19'',''sid11203'',''SQL_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sid11203'',''CCAD91212BD475C4E0431EC0E50A3FB5'','''',''SIDBMAA:MAA'','''
||'PRIMARY'',''121010'',''SID11203'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA5027358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''undo_management'',''undo_management'',''INFO-PASS'',''Instance is usin'
||'g Automatic Undo Management on sidb instance'',''AUTO'',''AUTO'',''='',''cetrain19'',''sidb'',''SQL_PARAM'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sidb'',''CCAD91212BD475C4E0431EC0E50A3FB5'','''',''SIDBMAA:MAA'',''PRIMARY'',''12'
||'1010'',''SIDB'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA5037358E0432EA6D00AA0FA'');',
'insert into auditcheck_result(collection_date,check_name,param_name,status,status_message,actual_value,recommended_value,comparison_operator,hostname,instance_name,check_type,db_platform,os_distro,os_kernel,os_version,db_version,cluster_name,db_name,'
||'check_id,needs_running,modules,database_role,clusterware_version,global_name,upload_collection_name,auditcheck_result_id)values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''Database failure prevention best practices'',''UNSPECIFIED'',''INFO'''
||',''Database failure prevention best practices'',''1'',''0'',''-eq'',''cetrain19'',''NA'',''OS'','' LINUX X86-64'','' OELRHEL'','' 2.6.39-400.17.1.el6uek.x86_64'','' 6'',''121010'',''sample'',''sidb'',''CCAD9345F6447E79E0431EC0E50ABC8C'',''UNSPECIFIED'',''SIDBMAA:MAA'',''PRIMARY'',''1210'
||'10'',''SID11203'',''exachk_cetrain19_sidb_092713_163750'',''ED30E16BA5047358E0432EA6D00AA0FA'');',
'    ',
'commit;',
'',
'--Populate rca13_systems table with above default system',
'begin',
' insert into RCA13_SYSTEMS(system_id,system_name,system_type,created_by) values(''SAMPLE_SYSTEM'',''sample'',''Cluster'',''SAMPLE'');',
' commit;',
' exception when dup_val_on_index then null;',
'end;',
'',
'-- Populate rca13_system_hosts ',
'begin',
' insert into RCA13_SYSTEM_HOSTS(SYS_HOST_ID,SYSTEM_ID,HOST_NAME) values(sys_guid(),''SAMPLE_SYSTEM'',''cetrain19'');',
'exception when dup_val_on_index then null;',
'end;',
'',
'--Populate rca13_collections_md table .. let do it by job, so that it populate diff and collection_values table',
'--insert into rca13_collections_md(collection_date,collection_name) values(to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''exachk_cetrain19_sidb_091913_151355'');',
'--insert into rca13_collections_md(collection_date,collection_name) values(to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''exachk_cetrain19_sidb_092713_163750'');',
'--commit;',
'',
'',
'',
'--Populate rca13_lob2sys_mapping',
'begin',
' insert into rca13_lob2sys_mapping(MAP_ID,system_id,lob_id,created) values(sys_guid(),''SAMPLE_SYSTEM'',''SAMPLE'',''SAMPLE'');',
' commit;',
' exception when dup_val_on_index then null;',
'end;',
'',
'--Populate rca13_col2sys_mapping',
'begin',
' insert into rca13_col2sys_mapping(MAP_ID,collection_date,collection_name,system_id)',
' values(sys_guid(),to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''exachk_cetrain19_sidb_091913_151355'',''SAMPLE_SYSTEM'');',
' exception when dup_val_on_index then null;',
'end;',
'begin',
' insert into rca13_col2sys_mapping(MAP_ID,collection_date,collection_name,system_id)',
' values(sys_guid(),to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''exachk_cetrain19_sidb_092713_163750'',''SAMPLE_SYSTEM'');',
' commit;',
'end;',
'',
'   ',
'        x := rca13_intrack_incident.create_ticket (',
'        p_customer_id             => 2,',
'        p_customer_name           => null,',
'        p_customer_web_site       => null,',
'        p_customer_address        => null,',
'        p_customer_city           => null,',
'        p_customer_state          => null,',
'        p_customer_postal_code    => null,',
'        --                      ',
'        p_contact_id              => null,',
'        p_contact_first_name      => ''abc'',',
'        p_contact_last_name       => ''xyz'',',
'        p_contact_email           => ''abc.xyz@123.com'',',
'        p_contact_department      => null,',
'        p_contact_phone           => null,',
'        p_contact_phone_type      => null,',
'        --                      ',
'        p_product_id              => 1,',
'        p_product_version_id      => 1,',
'        p_product_additional_info => null,',
'        --',
'        p_urgency_id              => 3,',
'        p_severity_id             => 3,',
'        p_category_id             => 3,',
'       '))
);
end;
/
begin
wwv_flow_api.append_to_install_script(
 p_id=>wwv_flow_api.id(312107340746822885)
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' p_status_id               => 5,',
'        --',
'        p_subject                 => ''Primary database protection with Data Guard'',',
'        p_incident_description    => ''Check "Primary database protection with Data Guard" failed.'',',
'        p_bug_number              => null,',
'        p_additional_info         => null,',
'        --',
'        p_tags                    => ''SAMPLE_DATA'',',
'        p_create_date_override    => to_date(to_char(localtimestamp,''DD-MON-YYYY''),''DD-MON-YYYY'') - 8)',
'        ;',
'    ',
'    insert into rca13_ac_tickets(ACS_TICKET_ID,TICKET_ID,TYPE,ATTR1,COLLECTION_DATE,COLLECTION_NAME,system_id)',
'    values(sys_guid(),x,''CHECK'',''ED30E16BA5057358E0432EA6D00AA0FA'',to_date(''27-Sep-2013 16:39:19'',''DD-MON-YYYY HH24:MI:SS''),''exachk_cetrain19_sidb_092713_163750'',''SAMPLE_SYSTEM'');',
'     insert into RCA13_INTRACK_LINKS (INCIDENT_ID, LINK_TEXT, link_target, LINK_COMMENTS)',
'values ( x, ''Link to collection'', ''f?p=&APP_ID.:1002:&APP_SESSION.:::1002:P1002_COLLECTION_DATE:19-SEP-13 03.17.11.000000000 PM'',''Link to collection'');',
'',
'    commit;',
'    ',
'    x := rca13_intrack_incident.create_ticket (',
'        p_customer_id             => 1,',
'        p_customer_name           => null,',
'        p_customer_web_site       => null,',
'        p_customer_address        => null,',
'        p_customer_city           => null,',
'        p_customer_state          => null,',
'        p_customer_postal_code    => null,',
'        --                      ',
'        p_contact_id              => null,',
'        p_contact_first_name      => ''abc1'',',
'        p_contact_last_name       => ''xyz1'',',
'        p_contact_email           => ''abc1.xyz1@123.com'',',
'        p_contact_department      => null,',
'        p_contact_phone           => null,',
'        p_contact_phone_type      => null,',
'        --                      ',
'        p_product_id              => 1,',
'        p_product_version_id      => 3,',
'        p_product_additional_info => null,',
'        --',
'        p_urgency_id              => 1,',
'        p_severity_id             => 3,',
'        p_category_id             => 5,',
'        p_status_id               => 1,',
'        --',
'        p_subject                 => ''exachk_cetrain19_sidb_092713_163750'',',
'        p_incident_description    => ''Work on failures in collection exachk_cetrain19_sidb_092713_163750'',',
'        p_bug_number              => null,',
'        p_additional_info         => null,',
'        --',
'        p_tags                    => ''SAMPLE_DATA'',',
'        p_create_date_override    => to_date(to_char(localtimestamp,''DD-MON-YYYY''),''DD-MON-YYYY'') - 8)         ',
'        ;',
'    insert into rca13_ac_tickets(ACS_TICKET_ID,TICKET_ID,TYPE,ATTR1,COLLECTION_DATE,COLLECTION_NAME,system_id)',
'    values(sys_guid(),x,''COLLECTION'',null,TO_timestamp(''27-SEP-13 04.39.19.000000 PM'', ''DD-Mon-yy HH:MI:SS.ff PM''),''exachk_cetrain19_sidb_092713_163750'',''SAMPLE_SYSTEM'');',
'    insert into RCA13_INTRACK_LINKS (INCIDENT_ID, LINK_TEXT, link_target, LINK_COMMENTS)',
'    values ( x, ''Link to collection'', ''f?p=&APP_ID.:1002:&APP_SESSION.:::1002:P1002_COLLECTION_DATE:27-SEP-13 04.39.19.000000000 PM'',''Link to collection'');',
'    commit;',
'    ',
'    x := rca13_intrack_incident.create_ticket (',
'        p_customer_id             => 3,',
'        p_customer_name           => null,',
'        p_customer_web_site       => null,',
'        p_customer_address        => null,',
'        p_customer_city           => null,',
'        p_customer_state          => null,',
'        p_customer_postal_code    => null,',
'        --                      ',
'        p_contact_id              => null,',
'        p_contact_first_name      => ''abc'',',
'        p_contact_last_name       => ''xyz'',',
'        p_contact_email           => ''abc.xyz@123.com'',',
'        p_contact_department      => null,',
'        p_contact_phone           => null,',
'        p_contact_phone_type      => null,',
'        --                      ',
'        p_product_id              => 1,',
'        p_product_version_id      => 2,',
'        p_product_additional_info => null,',
'        --',
'        p_urgency_id              => 2,',
'        p_severity_id             => 4,',
'        p_category_id             => 4,',
'        p_status_id               => 1,',
'        --',
'        p_subject                 => ''Flashback database on primary'',',
'        p_incident_description    => ''The check "Flashback database on primary" failed.'',',
'        p_bug_number              => null,',
'        p_additional_info         => null,',
'        --',
'        p_tags                    => ''SAMPLE_DATA'',',
'        p_create_date_override    => to_date(to_char(localtimestamp,''DD-MON-YYYY''),''DD-MON-YYYY'') - 8)',
'        ;',
'    insert into rca13_ac_tickets(ACS_TICKET_ID,TICKET_ID,TYPE,ATTR1,COLLECTION_DATE,COLLECTION_NAME,system_id)',
'    values(sys_guid(),x,''CHECK'',''ED30E16BA4E97358E0432EA6D00AA0FA'',to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''exachk_cetrain19_sidb_091913_151355'',''SAMPLE_SYSTEM'');',
'    insert into RCA13_INTRACK_LINKS (INCIDENT_ID, LINK_TEXT, link_target, LINK_COMMENTS)',
'    values ( x, ''Link to collection'', ''f?p=&APP_ID.:1002:&APP_SESSION.:::1002:P1002_COLLECTION_DATE:19-SEP-13 03.17.11.000000000 PM'',''Link to collection'');',
'    commit;',
'    ',
'    x := rca13_intrack_incident.create_ticket (',
'        p_customer_id             => 1,',
'        p_customer_name           => null,',
'        p_customer_web_site       => null,',
'        p_customer_address        => null,',
'        p_customer_city           => null,',
'        p_customer_state          => null,',
'        p_customer_postal_code    => null,',
'        --                      ',
'        p_contact_id              => null,',
'        p_contact_first_name      => ''abc'',',
'        p_contact_last_name       => ''xyz'',',
'        p_contact_email           => ''abc.xyz@123.com'',',
'        p_contact_department      => null,',
'        p_contact_phone           => null,',
'        p_contact_phone_type      => null,',
'        --                      ',
'        p_product_id              => 1,',
'        p_product_version_id      => 2,',
'        p_product_additional_info => null,',
'        --',
'        p_urgency_id              => 3,',
'        p_severity_id             => 3,',
'        p_category_id             => 1,',
'        p_status_id               => 1,',
'        --',
'        p_subject                 => ''db_block_checksum'',',
'        p_incident_description    => ''Creating ticket for db_block_checksum'',',
'        p_bug_number              => null,',
'        p_additional_info         => null,',
'        --',
'        p_tags                    => ''SAMPLE_DATA'',',
'        p_create_date_override    => to_date(to_char(localtimestamp,''DD-MON-YYYY''),''DD-MON-YYYY'') - 8)',
'        ;',
'    insert into rca13_ac_tickets(ACS_TICKET_ID,TICKET_ID,TYPE,ATTR1,COLLECTION_DATE,COLLECTION_NAME,system_id)',
'    values(sys_guid(),x,''CHECK'',''ED30E16BA4EA7358E0432EA6D00AA0FA'',to_date(''19-Sep-2013 15:17:11'',''DD-MON-YYYY HH24:MI:SS''),''exachk_cetrain19_sidb_091913_151355'',''SAMPLE_SYSTEM'');',
'    insert into RCA13_INTRACK_LINKS (INCIDENT_ID, LINK_TEXT, link_target, LINK_COMMENTS)',
'    values ( x, ''Link to collection'', ''f?p=&APP_ID.:1002:&APP_SESSION.:::1002:P1002_COLLECTION_DATE:19-SEP-13 03.17.11.000000000 PM'',''Link to collection'');',
'    commit;',
'',
'/*',
'begin',
'    for c1 in (',
'    select id',
'    from rca13_intrack_incidents',
'    where status_id < 5',
'    order by created desc ) loop',
'        update rca13_intrack_incidents set status_id = 5 where id = c1.id;',
'        exit;',
'    end loop;',
'    commit;',
'end;',
'',
'',
'begin',
'for c1 in (',
'select id',
'from rca13_intrack_incidents',
'where status_id < 5',
'order by created desc ) loop',
'update rca13_intrack_incidents set status_id = 6 where id = c1.id;',
'exit;',
'end loop;',
'commit;',
'end;',
'',
'',
'begin',
'for c1 in (',
'select id',
'from rca13_intrack_incidents',
'where status_id < 5',
'order by created desc ) loop',
'update rca13_intrack_incidents set status_id = 7 where id = c1.id;',
'exit;',
'end loop;',
'commit;',
'end;',
'*/',
'    ',
'end;',
'',
'/',
'show errors',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312107549058825322)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'load sample data'
,p_sequence=>1005
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin rca13_intrack_load_sample; end;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(308607446610662521)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Scheduled Jobs'
,p_sequence=>1010
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'BEGIN  ',
'  DBMS_SCHEDULER.CREATE_JOB (',
'   job_name           =>  ''RCA13_PROCESS_DATA'',',
'   job_type           =>  ''PLSQL_BLOCK'',',
'   job_action         =>  ''BEGIN rca13_manage_collections.processAuditData(); END;'',',
'   start_date         =>   systimestamp,',
'   repeat_interval    =>  ''freq=minutely; interval=2; bysecond=0;'', /*For 2 minutes */',
'   end_date           =>   NULL,',
'   enabled            =>   TRUE, ',
'   auto_drop          =>   FALSE,',
'   comments           =>  ''ORAchk App:write metadata to table'');',
'END;',
'/ ',
'    ',
'execute DBMS_SCHEDULER.enable (''RCA13_PROCESS_DATA'');',
'/',
'    ',
'',
'BEGIN  ',
'  DBMS_SCHEDULER.CREATE_JOB (',
'   job_name           =>  ''RCA13_NOTIFICATIONS_JOB'',',
'   job_type           =>  ''PLSQL_BLOCK'',',
'   job_action         =>  ''BEGIN rca13_manage_notifications.startEmailJob(); END;'',',
'   start_date         =>   systimestamp,',
'   repeat_interval    =>  ''freq=hourly; interval=4; byminute=0; bysecond=0;'', /*For every 4 hours */',
'   end_date           =>   NULL,',
'   enabled            =>   FALSE,',
'   auto_drop          =>   FALSE,',
'   comments           =>  ''ORAchk App:Email Notification system'');',
'END;',
'/  ',
'',
' execute DBMS_SCHEDULER.enable (''RCA13_NOTIFICATIONS_JOB'');',
'/',
'    ',
'BEGIN',
'  DBMS_SCHEDULER.CREATE_JOB (',
'   job_name           =>  ''RCA13_PURGE_JOB'',',
'   job_type           =>  ''PLSQL_BLOCK'',',
'    job_action         => ''BEGIN RCA13_MANAGE_COLLECTIONS.purgeData(dat => systimestamp -  90); END;'', -- clean data on every day basis',
'   start_date         =>   systimestamp,',
'   repeat_interval    => ''freq=daily; interval=1; byminute=0; bysecond=0;'', /*daily job to preserve only the recent <interval> data in the database */',
'   end_date           =>   NULL,',
'   enabled            =>   TRUE,',
'   auto_drop          =>   FALSE,',
'   comments           =>  ''ORAchk App: Purge Job '');',
'END;',
'/  ',
'',
' execute DBMS_SCHEDULER.enable (''RCA13_PURGE_JOB'');',
'/',
'    ',
'show errors      ',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312211048524513415)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'rca13_cm_ui.css'
,p_sequence=>2000
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' ',
'begin',
' ',
'wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;',
'wwv_flow_api.g_varchar2_table(1) := ''73656374696F6E2E754E6F48656164696E67206469762E75526567696F6E436F6E74656E74207B0D0A2020202070616464696E673A203070782021696D706F7274616E743B0D0A7D0D0A73656374696F6E2E75526567696F6E203E206469762E75526567'';',
'wwv_flow_api.g_varchar2_table(2) := ''696F6E436F6E74656E74207B0D0A2020202070616464696E673A203170782021696D706F7274616E743B0D0A7D0D0A23754F6E65436F6C2C20237554776F436F6C756D6E73207B2020200D0A202020206D617267696E3A203170782021696D706F727461'';',
'wwv_flow_api.g_varchar2_table(3) := ''6E743B0D0A7D0D0A0D0A7461626C652E666F726D6C61796F7574203E2074626F6479203E207472203E207464207B0D0A2020202070616464696E673A20307078203270783B0D0A7D0D0A0D0A7461626C652E666F726D6C61796F75742074642073656C65'';',
'wwv_flow_api.g_varchar2_table(4) := ''63742E73656C6563746C697374207B0D0A2020206D617267696E3A203270782030203270782021696D706F7274616E743B0D0A7D0D0A0D0A73656374696F6E2E75526567696F6E207B0D0A202020206D617267696E3A20302030203370782021696D706F'';',
'wwv_flow_api.g_varchar2_table(5) := ''7274616E743B200D0A7D0D0A73656374696F6E5B646174612D677269643D22636F6C5F32225D2C202E75477269642E636F6C5F32207B0D0A2020202077696474683A203530253B0D0A7D'';',
' ',
'end;',
'/',
'',
'declare',
'  l_name   varchar2(255);',
'begin',
'  l_name := ''rca13_cm_ui.css'';',
' ',
'  wwv_flow_api.create_or_remove_file(',
'     p_name=> l_name,',
'     p_varchar2_table=> wwv_flow_api.g_varchar2_table,',
'     p_mimetype=> ''text/css'',',
'     p_location=> ''WORKSPACE'',',
'     p_notes=> ''Collection Manager CM'',',
'     p_mode=> ''CREATE_OR_REPLACE'',',
'     p_type=> ''CSS'');',
' ',
'end;',
'/',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(312213739031976752)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'rca13_cm_ui.css'
,p_sequence=>2000
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' ',
'begin',
' ',
'wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;',
'wwv_flow_api.g_varchar2_table(1) := ''73656374696F6E2E754E6F48656164696E67206469762E75526567696F6E436F6E74656E74207B0D0A2020202070616464696E673A203070782021696D706F7274616E743B0D0A7D0D0A73656374696F6E2E75526567696F6E203E206469762E75526567'';',
'wwv_flow_api.g_varchar2_table(2) := ''696F6E436F6E74656E74207B0D0A2020202070616464696E673A203170782021696D706F7274616E743B0D0A7D0D0A23754F6E65436F6C2C20237554776F436F6C756D6E73207B2020200D0A202020206D617267696E3A203170782021696D706F727461'';',
'wwv_flow_api.g_varchar2_table(3) := ''6E743B0D0A7D0D0A0D0A7461626C652E666F726D6C61796F7574203E2074626F6479203E207472203E207464207B0D0A2020202070616464696E673A20307078203270783B0D0A7D0D0A0D0A7461626C652E666F726D6C61796F75742074642073656C65'';',
'wwv_flow_api.g_varchar2_table(4) := ''63742E73656C6563746C697374207B0D0A2020206D617267696E3A203270782030203270782021696D706F7274616E743B0D0A7D0D0A0D0A73656374696F6E2E75526567696F6E207B0D0A202020206D617267696E3A20302030203370782021696D706F'';',
'wwv_flow_api.g_varchar2_table(5) := ''7274616E743B200D0A7D0D0A73656374696F6E5B646174612D677269643D22636F6C5F32225D2C202E75477269642E636F6C5F32207B0D0A2020202077696474683A203530253B0D0A7D'';',
' ',
'end;',
'/',
'',
'declare',
'  l_name   varchar2(255);',
'begin',
'  l_name := ''rca13_cm_ui.css'';',
' ',
'  wwv_flow_api.create_or_remove_file(',
'     p_name=> l_name,',
'     p_varchar2_table=> wwv_flow_api.g_varchar2_table,',
'     p_mimetype=> ''text/css'',',
'     p_location=> ''WORKSPACE'',',
'     p_notes=> ''Collection Manager CM'',',
'     p_mode=> ''CREATE_OR_REPLACE'',',
'     p_type=> ''CSS'');',
' ',
'end;',
'/',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4143920881832942)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Audit Checks'
,p_sequence=>2010
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE TABLE "RCA13_ORACHK_AUDIT_CHECKS" ',
' ("CHECK_ID" VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE, ',
'    "AUDIT_CHECK_NAME" VARCHAR2(100 BYTE),  ',
'    "ACTION_TYPE" VARCHAR2(20),',
'    "ON_HOLD" NUMBER,',
' "PARAM_PATH" VARCHAR2(4000 BYTE), -- parampath<seq> (add change the seq, else hold the same number)',
'  "COMMAND" VARCHAR2(4000 BYTE),',
'  "COMMAND_REPORT" VARCHAR2(4000 BYTE),',
'  "OPERATOR_STRING" VARCHAR2(10 BYTE),',
'  "COMPARE_VALUE" VARCHAR2(4000 BYTE),    ',
'  "COMPONENT_DEPENDENCY" VARCHAR2(4000 BYTE),',
'  "ORACLE_HOME_TYPE" VARCHAR2(20 BYTE),',
'  "ALERT_LEVEL" VARCHAR2(20 BYTE), ',
'  "PASS_MSG" VARCHAR2(4000 BYTE),',
'  "FAIL_MSG" VARCHAR2(4000 BYTE),',
'  "BENEFIT_IMPACT" VARCHAR2(4000 BYTE), ',
'  "RISK" VARCHAR2(4000 BYTE),',
'  "ACTION_REPAIR" VARCHAR2(4000 BYTE),',
'  "CREATE_USER" VARCHAR2(40 BYTE), ',
'  "CREATE_DATE" DATE DEFAULT SYSDATE, ',
'  "MODIFY_USER" VARCHAR2(40 BYTE), ',
'  "MODIFY_DATE" DATE DEFAULT SYSDATE,',
'     "USER_COMMENTS" VARCHAR2(4000),',
' CONSTRAINT "AUDITCHECK_UNQ1" UNIQUE ("CHECK_ID"),',
' CONSTRAINT "AUDITCHECKNAME_UNQ1" UNIQUE ("AUDIT_CHECK_NAME"));',
'   COMMENT ON COLUMN "RCA13_ORACHK_AUDIT_CHECKS"."ACTION_TYPE" IS ''SQL,OS'' ;',
'   COMMENT ON COLUMN "RCA13_ORACHK_AUDIT_CHECKS"."PARAM_PATH" IS ''PARAM_PATH is not required for OS AUDIT CHECKS'';',
'   COMMENT ON COLUMN "RCA13_ORACHK_AUDIT_CHECKS"."OPERATOR_STRING" IS ''-eg,-ne,-gt,-lt,-ge,-le,=,!=,-n,-z'';',
'   COMMENT ON COLUMN "RCA13_ORACHK_AUDIT_CHECKS"."COMPARE_VALUE" IS ''WHATEVER SINGLE RETURN NUMERIC OR STRING VALUE''; ',
'   COMMENT ON COLUMN "RCA13_ORACHK_AUDIT_CHECKS"."COMPONENT_DEPENDENCY" IS ''Valid entries are ASM, CRS, RDBMS'';',
'   COMMENT ON COLUMN "RCA13_ORACHK_AUDIT_CHECKS"."ORACLE_HOME_TYPE" IS ''Valid entries are ASM, CRS, RDBMS'';',
'   COMMENT ON COLUMN "RCA13_ORACHK_AUDIT_CHECKS"."ALERT_LEVEL" IS ''WARN,FAIL,INFO'';',
' ',
' /'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4144127246844231)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Check Type'
,p_sequence=>2020
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For AUDIT_CHECK_NAME LIKE ''OS'', ''SQL''-- Screen Display  ',
'    CREATE TABLE "RCA13_ORACHK_CHK_TYPE" ',
'   ("NAME" VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    "VALUE" VARCHAR2(40 BYTE)',
'   );',
' /  ',
'     ',
'INSERT INTO RCA13_ORACHK_CHK_TYPE VALUES(''OS Check'',''OS'');',
'INSERT INTO RCA13_ORACHK_CHK_TYPE VALUES(''SQL Check'',''SQL'');',
'COMMIT;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4151809490482441)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Check Type'
,p_sequence=>2020
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For AUDIT_CHECK_NAME LIKE ''OS'', ''SQL''-- Screen Display   ',
'',
'DELETE FROM RCA13_ORACHK_CHK_TYPE;',
'COMMIT;',
'/   ',
'INSERT INTO RCA13_ORACHK_CHK_TYPE VALUES(''OS Check'',''OS'');',
'INSERT INTO RCA13_ORACHK_CHK_TYPE VALUES(''SQL Check'',''SQL'');',
'COMMIT;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4144606215894960)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DB Types'
,p_sequence=>2030
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For DB types CDB,PDB,NORMAL -- Screen Display  ',
' CREATE TABLE "RCA13_ORACHK_DB_TYPES_MASTER" ',
'   ("DATABASE_TYPE_ID" VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,  ',
'    "DATABASE_TYPE" VARCHAR2(40 BYTE),',
'   CONSTRAINT "DB_TYPE_PK" PRIMARY KEY ("DATABASE_TYPE_ID"));',
'   COMMENT ON COLUMN "RCA13_ORACHK_DB_TYPES_MASTER"."DATABASE_TYPE" IS ''Valid entries are CDB,PDB,NORMAL'';',
' /  ',
'     ',
'INSERT INTO RCA13_ORACHK_DB_TYPES_MASTER(DATABASE_TYPE) VALUES(''CDB'');',
'INSERT INTO RCA13_ORACHK_DB_TYPES_MASTER(DATABASE_TYPE) VALUES(''PDB'');',
'INSERT INTO RCA13_ORACHK_DB_TYPES_MASTER(DATABASE_TYPE) VALUES(''NORMAL'');',
'COMMIT;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4152016416484410)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DB Types'
,p_sequence=>2030
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For DB types CDB,PDB,NORMAL -- Screen Display ',
'  declare',
'isdbtype number;',
'begin',
'select count(1) into isdbtype from RCA13_ORACHK_CHECKS_DB_TYPES;',
'if isdbtype < 1 then',
'DELETE FROM RCA13_ORACHK_DB_TYPES_MASTER;',
'COMMIT;',
'',
'  ',
'INSERT INTO RCA13_ORACHK_DB_TYPES_MASTER(DATABASE_TYPE) VALUES(''CDB'');',
'INSERT INTO RCA13_ORACHK_DB_TYPES_MASTER(DATABASE_TYPE) VALUES(''PDB'');',
'INSERT INTO RCA13_ORACHK_DB_TYPES_MASTER(DATABASE_TYPE) VALUES(''NORMAL'');',
'COMMIT;',
'end if;',
'end;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4144821798899396)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DB Roles'
,p_sequence=>2040
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For DB Roles PRIMARY,PHYSICAL_STANDBY,LOGICAL_STANDBY --Screen Display  ',
'  CREATE TABLE "RCA13_ORACHK_DB_ROLES_MASTER" ',
'   (    "DATABASE_ROLE_ID" VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,  ',
'    "DATABASE_ROLE" VARCHAR2(40 BYTE),',
'    CONSTRAINT "DB_ROLE_PK" PRIMARY KEY ("DATABASE_ROLE_ID"));',
'    COMMENT ON COLUMN "RCA13_ORACHK_DB_ROLES_MASTER"."DATABASE_ROLE" IS ''Valid entries are PRIMARY,PHYSICAL_STANDBY,LOGICAL_STANDBY'';',
'/',
'    ',
' INSERT INTO RCA13_ORACHK_DB_ROLES_MASTER(DATABASE_ROLE) VALUES(''PRIMARY'');',
'INSERT INTO RCA13_ORACHK_DB_ROLES_MASTER(DATABASE_ROLE) VALUES(''PHYSICAL_STANDBY'');',
'INSERT INTO RCA13_ORACHK_DB_ROLES_MASTER(DATABASE_ROLE) VALUES(''LOGICAL_STANDBY'');',
'COMMIT;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4152225073486890)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DB Roles'
,p_sequence=>2040
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For DB Roles PRIMARY,PHYSICAL_STANDBY,LOGICAL_STANDBY --Screen Display  ',
'  declare',
'isdbrole number;',
'begin',
'select count(1) into isdbrole from RCA13_ORACHK_CHECKS_DB_ROLES;',
'if isdbrole < 1 then',
'DELETE FROM RCA13_ORACHK_DB_ROLES_MASTER;',
'COMMIT;',
'',
'      ',
' INSERT INTO RCA13_ORACHK_DB_ROLES_MASTER(DATABASE_ROLE) VALUES(''PRIMARY'');',
'INSERT INTO RCA13_ORACHK_DB_ROLES_MASTER(DATABASE_ROLE) VALUES(''PHYSICAL_STANDBY'');',
'INSERT INTO RCA13_ORACHK_DB_ROLES_MASTER(DATABASE_ROLE) VALUES(''LOGICAL_STANDBY'');',
'COMMIT;',
'end if;',
'end;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4145025177919289)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DB Modes'
,p_sequence=>2050
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'-- For DB Mode 1 = NOMOUNT, 2 = MOUNT, 3 = OPEN --Screen Display  ',
'  CREATE TABLE "RCA13_ORACHK_DB_MODES_MASTER" ',
'   (    "DATABASE_MODE_ID" VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,  ',
'    "DATABASE_MODE" VARCHAR2(40 BYTE),',
'    CONSTRAINT "DATABASE_MODE_PK" PRIMARY KEY ("DATABASE_MODE_ID"));',
'    COMMENT ON COLUMN "RCA13_ORACHK_DB_MODES_MASTER"."DATABASE_MODE" IS ''1 = NOMOUNT, 2 = MOUNT, 3 = OPEN'';',
'/',
'',
'INSERT INTO RCA13_ORACHK_DB_MODES_MASTER(DATABASE_MODE) VALUES(''NOMOUNT'');',
'INSERT INTO RCA13_ORACHK_DB_MODES_MASTER(DATABASE_MODE) VALUES(''MOUNT'');',
'INSERT INTO RCA13_ORACHK_DB_MODES_MASTER(DATABASE_MODE) VALUES(''OPEN'');',
'COMMIT;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4152405119490646)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DB Modes'
,p_sequence=>2050
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'-- For DB Mode 1 = NOMOUNT, 2 = MOUNT, 3 = OPEN --Screen Display  ',
'declare',
'isdbmode number;',
'begin',
'select count(1) into isdbmode from RCA13_ORACHK_CHECKS_DB_MODES;',
'if isdbmode < 1 then',
'DELETE FROM RCA13_ORACHK_DB_MODES_MASTER;',
'COMMIT;',
'',
'',
'INSERT INTO RCA13_ORACHK_DB_MODES_MASTER(DATABASE_MODE) VALUES(''NOMOUNT'');',
'INSERT INTO RCA13_ORACHK_DB_MODES_MASTER(DATABASE_MODE) VALUES(''MOUNT'');',
'INSERT INTO RCA13_ORACHK_DB_MODES_MASTER(DATABASE_MODE) VALUES(''OPEN'');',
'COMMIT;',
'end if;',
'end;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4145310071924463)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Component Dependency'
,p_sequence=>2060
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'  -- For Component_dependency ASM, CRS, RDBMS-- Screen Display     ',
'  CREATE TABLE "RCA13_ORACHK_COMP_DEP" ',
'   ("COMP_DEP_ID" VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,  ',
'    "COMP_DEP_NAME" VARCHAR2(40 BYTE)',
'   );',
'   COMMENT ON COLUMN "RCA13_ORACHK_COMP_DEP"."COMP_DEP_NAME" IS ''Valid entries are  ASM, CRS, RDBMS'';',
'/   ',
'    ',
'    INSERT INTO RCA13_ORACHK_COMP_DEP(COMP_DEP_NAME) VALUES(''ASM'');',
'INSERT INTO RCA13_ORACHK_COMP_DEP(COMP_DEP_NAME) VALUES(''CRS'');',
'INSERT INTO RCA13_ORACHK_COMP_DEP(COMP_DEP_NAME) VALUES(''RDBMS'');',
'COMMIT;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4152613776493119)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Component Dependency'
,p_sequence=>2060
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'  -- For Component_dependency ASM, CRS, RDBMS-- Screen Display    ',
'',
'DELETE FROM RCA13_ORACHK_COMP_DEP;',
'COMMIT;',
'/',
'  ',
'    INSERT INTO RCA13_ORACHK_COMP_DEP(COMP_DEP_NAME) VALUES(''ASM'');',
'INSERT INTO RCA13_ORACHK_COMP_DEP(COMP_DEP_NAME) VALUES(''CRS'');',
'INSERT INTO RCA13_ORACHK_COMP_DEP(COMP_DEP_NAME) VALUES(''RDBMS'');',
'COMMIT;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4145526693929204)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Oracle Home Path'
,p_sequence=>2070
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For ORACLE_HOME_TYPE ASM, CRS, RDBMS-- Screen Display',
'  CREATE TABLE "RCA13_ORACHK_ORACLE_HOME_TYPE" ',
'   ("ORA_HOME_ID" VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,  ',
'    "ORA_HOME_NAME" VARCHAR2(40 BYTE)',
'   );',
'   COMMENT ON COLUMN "RCA13_ORACHK_ORACLE_HOME_TYPE"."ORA_HOME_NAME" IS ''Valid entries are ASM, CRS, RDBMS'';',
'/   ',
'    ',
'    INSERT INTO RCA13_ORACHK_ORACLE_HOME_TYPE(ORA_HOME_NAME) VALUES(''ASM'');',
'INSERT INTO RCA13_ORACHK_ORACLE_HOME_TYPE(ORA_HOME_NAME) VALUES(''CRS'');',
'INSERT INTO RCA13_ORACHK_ORACLE_HOME_TYPE(ORA_HOME_NAME) VALUES(''RDBMS'');',
'COMMIT;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4152820703495119)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Oracle Home Path'
,p_sequence=>2070
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For ORACLE_HOME_TYPE ASM, CRS, RDBMS-- Screen Display',
'',
' DELETE FROM RCA13_ORACHK_ORACLE_HOME_TYPE;',
'COMMIT;',
'/   ',
'    INSERT INTO RCA13_ORACHK_ORACLE_HOME_TYPE(ORA_HOME_NAME) VALUES(''ASM'');',
'INSERT INTO RCA13_ORACHK_ORACLE_HOME_TYPE(ORA_HOME_NAME) VALUES(''CRS'');',
'INSERT INTO RCA13_ORACHK_ORACLE_HOME_TYPE(ORA_HOME_NAME) VALUES(''RDBMS'');',
'COMMIT;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4145814704935244)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Candidate Systems'
,p_sequence=>2080
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'--For Candidate_Systems RACCHECK, SIDB, * -- Screen Display',
'   CREATE TABLE "RCA13_ORACHK_CAND_SYS"',
'     ("CAND_SYS_ID" VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,  ',
'    "CAND_SYS_NAME" VARCHAR2(40 BYTE),',
'  CONSTRAINT "SF_CANDSYS_PK" PRIMARY KEY ("CAND_SYS_ID"));  ',
'   COMMENT ON COLUMN "RCA13_ORACHK_CAND_SYS"."CAND_SYS_NAME" IS ''Valid entries are RACCHECK, SIDB''; ',
'SIDB -SINGLE INSTANCE',
'RACCHECK - RAC',
' /  ',
'       ',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X2-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X3-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X4-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X5-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X2-8'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X3-8'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X4-8'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X5-8'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''SUPERCLUSTER'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''SUPERCLUSTERX3-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''SUPERCLUSTERX4-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''SUPERCLUSTERX5-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''DBM'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''RACCHECK'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''SIDB'');',
'COMMIT;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4153029706497746)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Candidate Systems'
,p_sequence=>2080
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'--For Candidate_Systems RACCHECK, SIDB, * -- Screen Display',
'declare',
'iscandsys number;',
'begin',
'select count(1) into iscandsys from RCA13_ORACHK_CHECKS_CAND_SYS;',
'if iscandsys < 1 then',
'DELETE FROM RCA13_ORACHK_CAND_SYS;',
'COMMIT;',
'',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X2-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X3-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X4-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X5-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X2-8'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X3-8'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X4-8'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''X5-8'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''SUPERCLUSTER'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''SUPERCLUSTERX3-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''SUPERCLUSTERX4-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''SUPERCLUSTERX5-2'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''DBM'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''RACCHECK'');',
'Insert into RCA13_ORACHK_CAND_SYS (CAND_SYS_NAME) values (''SIDB'');',
'COMMIT;',
'end if;',
'end;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4146215181944852)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Operator String'
,p_sequence=>2090
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'-- For -eg,-ne,-gt,-lt,-ge,-le,=,!=,-n,-z''-- Screen Display  ',
'    CREATE TABLE "RCA13_ORACHK_OP_STRING" ',
'   ("NAME" VARCHAR2(150 BYTE) NOT NULL ENABLE, ',
'    "VALUE" VARCHAR2(40 BYTE)',
'   );',
' / ',
'     ',
'     INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''equal (integer comparison)'',''-eq'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''not equal  (integer comparison)'',''-ne'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''greater than  (integer comparison)'',''-gt'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''less than  (integer comparison)'',''-lt'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''greater than or equal  (integer comparison)'',''-ge'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''less than or equal  (integer comparison)'',''-le'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''equal (string comparison)'',''='');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''not equal  (string comparison)'',''!='');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''empty  (string comparison)'',''-z'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''not empty  (string comparison)'',''-n'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''file exists'',''-f'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''file does not exist'',''!-f'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''directory exists'',''-d'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''directory does not exist'',''!-d'');',
'COMMIT;'))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4153205942500289)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Operator String'
,p_sequence=>2090
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'-- For -eg,-ne,-gt,-lt,-ge,-le,=,!=,-n,-z''-- Screen Display  ',
'',
'DELETE FROM RCA13_ORACHK_OP_STRING;',
'COMMIT;',
'/',
'  ',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''equal (integer comparison)'',''-eq'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''not equal  (integer comparison)'',''-ne'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''greater than  (integer comparison)'',''-gt'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''less than  (integer comparison)'',''-lt'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''greater than or equal  (integer comparison)'',''-ge'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''less than or equal  (integer comparison)'',''-le'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''equal (string comparison)'',''='');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''not equal  (string comparison)'',''!='');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''empty  (string comparison)'',''-z'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''not empty  (string comparison)'',''-n'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''file exists'',''-f'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''file does not exist'',''!-f'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''directory exists'',''-d'');',
'INSERT INTO RCA13_ORACHK_OP_STRING VALUES(''directory does not exist'',''!-d'');',
'COMMIT;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4146407824961656)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Alert Level'
,p_sequence=>2100
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For ''WARN,FAIL,INFO''-- Screen Display   ',
'   CREATE TABLE "RCA13_ORACHK_ALERT_LEVEL" ',
'   ("ALERT_LEVEL" VARCHAR2(150 BYTE), ',
'    "ALERT_TYPE" VARCHAR2(150 BYTE)',
'   );',
' /  ',
' ',
'     ',
'     INSERT INTO RCA13_ORACHK_ALERT_LEVEL VALUES(''WARN'',''WARN'');',
'INSERT INTO RCA13_ORACHK_ALERT_LEVEL VALUES(''FAIL'',''FAIL'');',
'INSERT INTO RCA13_ORACHK_ALERT_LEVEL VALUES(''INFO'',''INFO'');',
'COMMIT;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4153412522502232)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Alert Level'
,p_sequence=>2100
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For ''WARN,FAIL,INFO''-- Screen Display   ',
'DELETE FROM RCA13_ORACHK_ALERT_LEVEL;',
'COMMIT;',
'/',
'',
'INSERT INTO RCA13_ORACHK_ALERT_LEVEL VALUES(''WARN'',''WARN'');',
'INSERT INTO RCA13_ORACHK_ALERT_LEVEL VALUES(''FAIL'',''FAIL'');',
'INSERT INTO RCA13_ORACHK_ALERT_LEVEL VALUES(''INFO'',''INFO'');',
'COMMIT;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4146803987083481)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Versions'
,p_sequence=>2110
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For Version --Screen Display  -- 102040:102050:111070:112010:112020:112030:112040:121010:121020 ',
'   CREATE TABLE "RCA13_VERSION" ',
'   ("VERSION_ID" VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE, ',
'    "VERSION_NAME" VARCHAR2(30 BYTE) NOT NULL ENABLE, ',
'    "IS_PREFERRED" NUMBER(1,0) DEFAULT 0, ',
'    "DATE_ADDED" DATE DEFAULT sysdate NOT NULL ENABLE, ',
'   CONSTRAINT "VERSION_PK" PRIMARY KEY ("VERSION_ID"));',
' /  ',
'     ',
'     ',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''12.2.99.0.0'',0,to_date(''04-SEP-14'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''4.2.0.0.0'',0,to_date(''07-OCT-13'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.6.0.0.0'',0,to_date(''29-NOV-12'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''4.4.0.0.0'',0,to_date(''30-MAR-12'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.3.1.0.0'',0,to_date(''06-FEB-12'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.1.2.3.0'',0,to_date(''12-JAN-12'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''12.1.0.2.0'',1,to_date(''04-JAN-12'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''3.0.1.0.0'',0,to_date(''30-SEP-11'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.4.0.0.0'',0,to_date(''02-AUG-11'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''12.1.0.1.0'',1,to_date(''27-JAN-11'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.1.2.2.0'',0,to_date(''29-JUN-10'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.4.1.0.0'',0,to_date(''15-JUN-10'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''4.1.0.0.0'',0,to_date(''06-MAY-10'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''4.3.0.0.0'',0,to_date(''07-DEC-09'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''12.2.0.1.0'',0,to_date(''25-SEP-09'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.2.0.4.0'',1,to_date(''18-SEP-09'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.3.0.0.0'',0,to_date(''26-FEB-09'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.2.0.0.0'',0,to_date(''26-FEB-09'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''3.1.0.0.0'',0,to_date(''26-JAN-09'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''3.0.0.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''4.0.0.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.2.0.1.0'',1,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.2.1.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.1.0.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.1.0.6.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.2.0.2.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''9.2.0.4.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.2.0.2.0'',1,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.2.0.3.0'',1,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.0.1.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.5.0.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.1.1.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.1.2.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.1.0.7.0'',1,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.2.0.4.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''9.2.0.5.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''9.2.0.8.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.1.0.4.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.1.0.5.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.2.0.1.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''9.2.0.7.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.2.0.3.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''9.2.0.6.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.2.0.5.0'',1,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.1.0.6.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''12.2.0.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'COMMIT;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4153620487504514)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Versions'
,p_sequence=>2110
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For Version --Screen Display  -- 102040:102050:111070:112010:112020:112030:112040:121010:121020 ',
'  ',
'declare',
'isversion number;',
'begin',
'select count(1) into isversion from RCA13_ORACHK_CHECKS_VERSION;',
'if isversion < 1 then    ',
'DELETE from RCA13_VERSION;',
'COMMIT;',
'',
'     ',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''12.2.99.0.0'',0,to_date(''04-SEP-14'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''4.2.0.0.0'',0,to_date(''07-OCT-13'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.6.0.0.0'',0,to_date(''29-NOV-12'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''4.4.0.0.0'',0,to_date(''30-MAR-12'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.3.1.0.0'',0,to_date(''06-FEB-12'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.1.2.3.0'',0,to_date(''12-JAN-12'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''12.1.0.2.0'',1,to_date(''04-JAN-12'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''3.0.1.0.0'',0,to_date(''30-SEP-11'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.4.0.0.0'',0,to_date(''02-AUG-11'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''12.1.0.1.0'',1,to_date(''27-JAN-11'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.1.2.2.0'',0,to_date(''29-JUN-10'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.4.1.0.0'',0,to_date(''15-JUN-10'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''4.1.0.0.0'',0,to_date(''06-MAY-10'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''4.3.0.0.0'',0,to_date(''07-DEC-09'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''12.2.0.1.0'',0,to_date(''25-SEP-09'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.2.0.4.0'',1,to_date(''18-SEP-09'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.3.0.0.0'',0,to_date(''26-FEB-09'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.2.0.0.0'',0,to_date(''26-FEB-09'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''3.1.0.0.0'',0,to_date(''26-JAN-09'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''3.0.0.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''4.0.0.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.2.0.1.0'',1,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.2.1.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.1.0.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.1.0.6.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.2.0.2.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''9.2.0.4.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.2.0.2.0'',1,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.2.0.3.0'',1,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.0.1.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.5.0.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''2.1.1.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.1.2.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.1.0.7.0'',1,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.2.0.4.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''9.2.0.5.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''9.2.0.8.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.1.0.4.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.1.0.5.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.2.0.1.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''9.2.0.7.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.2.0.3.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''9.2.0.6.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''10.2.0.5.0'',1,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''11.1.0.6.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'Insert into RCA13_VERSION (VERSION_NAME,IS_PREFERRED,DATE_ADDED) values (''12.2.0.0.0'',0,to_date(''30-NOV-02'',''DD-MON-RR''));',
'',
'COMMIT;',
'end if;',
'end;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4147017277096777)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Distribution/Flavor'
,p_sequence=>2120
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'-- For DISTRIBUTIONs Screen Display',
'    CREATE TABLE "RCA13_DISTRIBUTION" ',
'   ("DISTRIBUTION_OS_ID" VARCHAR2(40 BYTE) NOT NULL ENABLE, ',
'    "PLATFORM_ID" VARCHAR2(40 BYTE) NOT NULL ENABLE, ',
'    "OSDIST" VARCHAR2(40 BYTE), ',
'    "OSVERSION" VARCHAR2(40 BYTE) NOT NULL ENABLE, ',
'    "OSKERNEL" VARCHAR2(40 BYTE), ',
'    "OSDIST_REP_KERNEL" NUMBER,',
'     CONSTRAINT "DISTRIBUTION_OS_UK" UNIQUE ("PLATFORM_ID", "OSDIST", "OSVERSION", "OSKERNEL"),',
'     CONSTRAINT "DISTRIBUTION_OS_PK" PRIMARY KEY ("DISTRIBUTION_OS_ID")); ',
' / ',
' ',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0D2D2E5A4E309E0401490CACF613A'',''2E4EC61F3D83080BE040578C74063958'',null,''10'',''Generic_118833-36'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0D2D2E5A5E309E0401490CACF613A'',''2E4EC61F3D83080BE040578C74063958'',null,''10'',''Generic_120011-14'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0D2D2E5A6E309E0401490CACF613A'',''2E4EC61F3D83080BE040578C74063958'',null,''10'',''Generic_137111-08'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0CAF1AA78421EE0401490CACF6154'',''2E4EC61F3D79080BE040578C74063958'',null,''5.1'',null,0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0D2D2E5A7E309E0401490CACF613A'',''2E4EC61F3D79080BE040578C74063958'',null,''5.2'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0CAF1AA79421EE0401490CACF6154'',''2E4EC61F3D79080BE040578C74063958'',null,''5.3'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A63FF5117670A52E0401490CACF0B39'',''2E4EC61F3D74080BE040578C74063958'',null,''11.11'',null,0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A63FF5117680A52E0401490CACF0B39'',''2E4EC61F3D76080BE040578C74063958'',null,''11.31'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A6AE6CE146C299CE0401490CACF35CB'',''2E4EC61F3D7B080BE040578C74063958'',''SUSE'',''9'',''2.6.5-7.308'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670BBB66A8C7C8ECE040E50A1EC06289'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U5'',''2.6.9-55.0.0.0.2.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670961A7F80EB397E040E50A1EC01DDC'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U6'',''2.6.9-67.0.0.0.1.ELlargesmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''67100D8F794FAE95E040E50A1EC0194A'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''5'',''2.6.18-8.el5'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670AFCED9C42F728E040E50A1EC02E04'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''5U2'',''2.6.18-92.el5xen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''9C8FA60F85282A7BE040E50A1EC017C9'',''2E4EC61F3D7B080BE040578C74063958'',''OELRHEL'',''5'',''2.6.18-194.3.1.0.3.el5'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''A597CB32DC838C66E040E50A1EC050E8'',''2E4EC61F3D75080BE040578C74063958'',null,''10'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''C04D38618B5F3772E0431EC0E50AE367'',''2E4EC61F3D7B080BE040578C74063958'',''OEL/RHEL'',''6'',''2.6.32-100.28.5.el6'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''AC4A1133EEDA7179E040E50A1EC02CAA'',''2E4EC61F3D7B080BE040578C74063958'',''SUSE'',''11'',''2.6.18-194.3.1.0.4.el5'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''05DAEB97E03462B8E05312C0E50A3875'',''2E4EC61F3D82080BE040578C74063958'',''OEL/RHEL'',''7'',''3.8.13-35.3.1.el7uek.x86_64'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''05E05142E8A923EDE05312C0E50A9DE4'',''2E4EC61F3D82080BE040578C74063958'',''SUSE'',''12'',''3.8.13-35.3.1.el7uek.x86_64'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A69DD9F7B735E13E0401490CACF5C79'',''2E4EC61F3D7B080BE040578C74063958'',''SUSE'',''10'',''2.6.16.21'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670F736C79F73E0EE040E50A1EC07A1D'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U4'',''2.6.9-42.0.0.0.1.ELlargesmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670ACDDD506FA0E8E040E50A1EC077F5'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U4'',''2.6.9-42.0.0.0.1.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''6709F163352A0DD9E040E50A1EC023CA'',''2E4EC61F3D7B080BE040578C74063958'',''OEL/RHEL'',''4'',''2.6.9-67.0.0.0.1.EL'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''B42784FD152A52C1E0431EC0E50A4D89'',''2E4EC61F3D75080BE040578C74063958'',null,''11'',''11.0'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''C0514BA0CFE625CBE0431EC0E50ACAEB'',''2E4EC61F3D79080BE040578C74063958'',null,''7.1'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''FBA91EE4472054F5E04312C0E50A05DC'',''4E6E6FBC6FE7268EE0401490CACF2A02'',null,''2008+'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0C14B60FB97DAE0401490CACF6158'',''2E4EC61F3D83080BE040578C74063958'',null,''9'',''Generic_118558-39'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A5EE61AD1A60544E0401490CACF6310'',''2E4EC61F3D74080BE040578C74063958'',null,''11.23'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A6939D89F38E4CBE0401490CACF66FC'',''2E4EC61F3D74080BE040578C74063958'',null,''11.31'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A6939D89F39E4CBE0401490CACF66FC'',''2E4EC61F3D76080BE040578C74063958'',null,''11.23'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A687722639CE2B4E0401490CACF02E4'',''2E4EC61F3D85080BE040578C74063958'',''SUSE'',''10'',''2.6.16.21 '',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670BE60F8BCD2D72E040E50A1EC06655'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U4'',''2.6.9-42.0.0.0.1.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670A36A7E49675F5E040E50A1EC072B4'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''5'',''2.6.18-8.el5xen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670A36A7E49775F5E040E50A1EC072B4'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''5U1'',''2.6.18-53.el5'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''C858E12A380711E0E0431EC0E50A5A9C'',''2E4EC61F3D83080BE040578C74063958'',null,''11'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52BEAD4D981280D6E0401490CACF4410'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4'',''2.6.9-5.ELhugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52C5AF9C64474603E0401490CACF2453'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u3'',''2.6.9-34.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52C28A537A356B7AE0401490CACF40A4'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u3'',''2.6.9-34.ELhugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52D9E1B656AB2406E0401490CACF4801'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u4'',''2.6.9-42.ELhugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52D5636D4158A305E0401490CACF3FBD'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u4'',''2.6.9-42smp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52D9E1B656AC2406E0401490CACF4801'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u5'',''2.6.9-55.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D14C9D8FAB27CCE0401490CACF6427'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u4'',''2.6.9-42.0.0.0.1.hugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D2915D2D30866CE0401490CACF2F02'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u4'',''2.6.9-42.0.0.0.1.smp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D14C9D8FAC27CCE0401490CACF6427'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u5'',''2.6.9-55.0.0.0.2.hugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52003A5203F32648E0401490CACF18C3'',''2E4EC61F3D7B080BE040578C74063958'',''RHEL'',''4'',''2.6.9-55.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52C0B5AB9C7A606BE0401490CACF0B54'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u2'',''2.6.9-22.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53254C24A5D9EFE9E0401490CACF5017'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5'',''2.6.18-8.ELpae'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''532A4C0589A020B6E0401490CACF5FE5'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5u1'',''2.6.18-53.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53254C24A5DAEFE9E0401490CACF5017'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5u2'',''2.6.18-92.ELxen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53254C24A5DBEFE9E0401490CACF5017'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5u1'',''2.6.9.18-53.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D18E122526AECFE0401490CACF7CD9'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u6'',''2.6.9-67.0.0.0.1.hugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54CD933A29F076EAE0401490CACF1CA8'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u6'',''2.6.9-67.0.0.0.1.smp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52C4EAF0D3B9421CE0401490CACF0F9B'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u2'',''2.6.9-22.ELhugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53287B3EFB325942E0401490CACF29E5'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5'',''2.6.18-8.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53248F75063BE4B8E0401490CACF555D'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5u2'',''2.6.18-92.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53248F75063CE4B8E0401490CACF555D'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5'',''2.6.9.18-8.ELpae'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''532817542CA0A078E0401490CACF2139'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5'',''2.6.9.18-8.ELxen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''532817542CA1A078E0401490CACF2139'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5u1'',''2.6.9.18-53.ELxen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D063B81850A633E0401490CACF4E13'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u5'',''2.6.9-55.0.0.0.2.smp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D0DAFDD08F5463E0401490CACF7495'',''2E4EC61F3D85080BE040578C74063958'',''OEL/RHEL'',''5'',''2.6.18-92.el5'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54CE160B99A8F121E0401490CACF0566'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5u2'',''2.6.18-92.el5xen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D0DAFDD0925463E0401490CACF7495'',''2E4EC61F3D85080BE040578C74063958'',''OEL/RHEL'',''4'',''2.6.9-67.0.0.0.1.EL'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52C4EC9DAA37BE35E0401490CACF0FC2'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4'',''2.6.9-5.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52BE9D3902C91C96E0401490CACF4CD1'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4'',''2.6.9-5.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52BCEABA5CFF9376E0401490CACF214A'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u1'',''2.6.9-11.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52BF43ECBF941FBBE0401490CACF43BB'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u1'',''2.6.9-11.ELhugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52D7EC4A350C9045E0401490CACF15AE'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u5'',''2.6.9-55.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53275B325544EC58E0401490CACF0801'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5u1'',''2.6.18-53.ELpae'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53275B325545EC58E0401490CACF0801'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5u2'',''2.6.18-92.ELpae'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53275B325546EC58E0401490CACF0801'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5'',''2.6.9.18-8.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D00821484C9B1AE0401490CACF39C2'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u5'',''2.6.9-55.0.0.0.2.EL '',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D128DB5143FD8EE0401490CACF5999'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5u2'',''2.6.18-92.EL5PAE'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52BDC9F97F2732A9E0401490CACF3581'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u1'',''2.6.9-11.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52C2B8F5D0BCEAB0E0401490CACF4CCD'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u2'',''2.6.9-22.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52BDC9F97F2A32A9E0401490CACF3581'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u3'',''2.6.9-34.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52D90DBD8F4E2A07E0401490CACF1BEC'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u4'',''2.6.9-42.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52D90DBD8F4F2A07E0401490CACF1BEC'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u5'',''2.6.9-55.ELhugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5328CEED2F1BE4E9E0401490CACF5123'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5'',''2.6.18-8.ELxen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5328CEED2F1CE4E9E0401490CACF5123'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5u1'',''2.6.18-53.ELxen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5324FEDBBD751A1AE0401490CACF5A12'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5u1'',''2.6.9.18-53.ELpae'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54CFCF00759FF396E0401490CACF55F9'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u4'',''2.6.9-42.0.0.0.1.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''554C05A06853B896E0401490CACF16CB'',''2E4EC61F3D83080BE040578C74063958'',null,''10'',''Generic_118833-33'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0C1BD99ECB395E0401490CACF6240'',''2E4EC61F3D83080BE040578C74063958'',null,''9'',''Generic_112233-12'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0C39770D8021DE0401490CACF60F9'',''2E4EC61F3D83080BE040578C74063958'',null,''9'',''Generic_122300-31'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A6A3BFAC16D4FE1E0401490CACF01A4'',''2E4EC61F3D85080BE040578C74063958'',''SUSE'',''9'',''2.6.5-7.308'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A69E64D70E561CDE0401490CACF632C'',''2E4EC61F3D74080BE040578C74063958'',null,''11.1'',null,0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A6A3BFAC1614FE1E0401490CACF01A4'',''2E4EC61F3D74080BE040578C74063958'',null,''11.22'',null,0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670FFD5B39386600E040E50A1EC022E1'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U5'',''2.6.9-55.0.0.0.2.ELlargesmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670FFD5B393C6600E040E50A1EC022E1'',''2E4EC61F3D7B080BE040578C74063958'',''OEl'',''5U1'',''2.6.18-53.el5xen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''057D408246577BA0E05313C0E50AFF10'',''2E4EC61F3D7B080BE040578C74063958'',''OEL/RHEL'',''7'',''3.8.13-35.3.1.el7uek.x86_64'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''05DF98A4D7662F27E05312C0E50A6F50'',''2E4EC61F3D7B080BE040578C74063958'',''SUSE'',''12'',''3.8.13-35.3.1.el7uek.x86_64'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0DC02840BE73DE0401490CACF626A'',''2E4EC61F3D83080BE040578C74063958'',null,''10'',''Generic_127127-11'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B1E569F43AEB57E0401490CACF3073'',''2E4EC61F3D83080BE040578C74063958'',null,''9'',''Generic_117171-17'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0FB2818967B6AE0401490CACF6284'',''2E4EC61F3D79080BE040578C74063958'',null,''6.1'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A69E65BF12E9642E0401490CACF5572'',''2E4EC61F3D74080BE040578C74063958'',null,''11.0'',null,0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A6A273BC1741A8BE0401490CACF2BD6'',''2E4EC61F3D76080BE040578C74063958'',null,''11.22'',null,0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A692D6530C54E7EE0401490CACF640C'',''2E4EC61F3D85080BE040578C74063958'',''SUSE'',''9SP3'',''2.6.5-7.244'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''67093C4C7928050CE040E50A1EC02460'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U5'',''2.6.9-55.0.0.0.2.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''67093C4C7929050CE040E50A1EC02460'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U6'',''2.6.9-67.0.0.0.1.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670E0E1F77EC0BABE040E50A1EC01835'',''2E4EC61F3D7B080BE040578C74063958'',''OEL/RHEL'',''5'',''2.6.18-92.el5'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''AC4B8B0629319AD8E040E50A1EC06F71'',''2E4EC61F3D85080BE040578C74063958'',''SUSE'',''11'',''2.6.18-194.3.1.0.4.el5'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''05A87C9306422E7AE05312C0E50A93C1'',''2E4EC61F3D82080BE040578C74063958'',''OEL/RHEL'',''6'',''2.6.32-431.el6.s390x'',1);',
'COMMIT;'))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4153829491507130)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Distribution/Flavor'
,p_sequence=>2120
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'-- For DISTRIBUTIONs Screen Display',
'  declare',
'isdistribution number;',
'begin',
'select count(1) into isdistribution from RCA13_ORACHK_CHECKS_PLATFORM;',
'if isdistribution < 1 then',
'DELETE from RCA13_DISTRIBUTION;',
'COMMIT;',
'DELETE from RCA13_DISTRIBUTION;',
'COMMIT;',
'',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0D2D2E5A4E309E0401490CACF613A'',''2E4EC61F3D83080BE040578C74063958'',null,''10'',''Generic_118833-36'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0D2D2E5A5E309E0401490CACF613A'',''2E4EC61F3D83080BE040578C74063958'',null,''10'',''Generic_120011-14'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0D2D2E5A6E309E0401490CACF613A'',''2E4EC61F3D83080BE040578C74063958'',null,''10'',''Generic_137111-08'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0CAF1AA78421EE0401490CACF6154'',''2E4EC61F3D79080BE040578C74063958'',null,''5.1'',null,0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0D2D2E5A7E309E0401490CACF613A'',''2E4EC61F3D79080BE040578C74063958'',null,''5.2'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0CAF1AA79421EE0401490CACF6154'',''2E4EC61F3D79080BE040578C74063958'',null,''5.3'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A63FF5117670A52E0401490CACF0B39'',''2E4EC61F3D74080BE040578C74063958'',null,''11.11'',null,0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A63FF5117680A52E0401490CACF0B39'',''2E4EC61F3D76080BE040578C74063958'',null,''11.31'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A6AE6CE146C299CE0401490CACF35CB'',''2E4EC61F3D7B080BE040578C74063958'',''SUSE'',''9'',''2.6.5-7.308'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670BBB66A8C7C8ECE040E50A1EC06289'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U5'',''2.6.9-55.0.0.0.2.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670961A7F80EB397E040E50A1EC01DDC'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U6'',''2.6.9-67.0.0.0.1.ELlargesmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''67100D8F794FAE95E040E50A1EC0194A'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''5'',''2.6.18-8.el5'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670AFCED9C42F728E040E50A1EC02E04'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''5U2'',''2.6.18-92.el5xen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''9C8FA60F85282A7BE040E50A1EC017C9'',''2E4EC61F3D7B080BE040578C74063958'',''OELRHEL'',''5'',''2.6.18-194.3.1.0.3.el5'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''A597CB32DC838C66E040E50A1EC050E8'',''2E4EC61F3D75080BE040578C74063958'',null,''10'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''C04D38618B5F3772E0431EC0E50AE367'',''2E4EC61F3D7B080BE040578C74063958'',''OEL/RHEL'',''6'',''2.6.32-100.28.5.el6'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''AC4A1133EEDA7179E040E50A1EC02CAA'',''2E4EC61F3D7B080BE040578C74063958'',''SUSE'',''11'',''2.6.18-194.3.1.0.4.el5'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''05DAEB97E03462B8E05312C0E50A3875'',''2E4EC61F3D82080BE040578C74063958'',''OEL/RHEL'',''7'',''3.8.13-35.3.1.el7uek.x86_64'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''05E05142E8A923EDE05312C0E50A9DE4'',''2E4EC61F3D82080BE040578C74063958'',''SUSE'',''12'',''3.8.13-35.3.1.el7uek.x86_64'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A69DD9F7B735E13E0401490CACF5C79'',''2E4EC61F3D7B080BE040578C74063958'',''SUSE'',''10'',''2.6.16.21'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670F736C79F73E0EE040E50A1EC07A1D'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U4'',''2.6.9-42.0.0.0.1.ELlargesmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670ACDDD506FA0E8E040E50A1EC077F5'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U4'',''2.6.9-42.0.0.0.1.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''6709F163352A0DD9E040E50A1EC023CA'',''2E4EC61F3D7B080BE040578C74063958'',''OEL/RHEL'',''4'',''2.6.9-67.0.0.0.1.EL'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''B42784FD152A52C1E0431EC0E50A4D89'',''2E4EC61F3D75080BE040578C74063958'',null,''11'',''11.0'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''C0514BA0CFE625CBE0431EC0E50ACAEB'',''2E4EC61F3D79080BE040578C74063958'',null,''7.1'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''FBA91EE4472054F5E04312C0E50A05DC'',''4E6E6FBC6FE7268EE0401490CACF2A02'',null,''2008+'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0C14B60FB97DAE0401490CACF6158'',''2E4EC61F3D83080BE040578C74063958'',null,''9'',''Generic_118558-39'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A5EE61AD1A60544E0401490CACF6310'',''2E4EC61F3D74080BE040578C74063958'',null,''11.23'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A6939D89F38E4CBE0401490CACF66FC'',''2E4EC61F3D74080BE040578C74063958'',null,''11.31'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A6939D89F39E4CBE0401490CACF66FC'',''2E4EC61F3D76080BE040578C74063958'',null,''11.23'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A687722639CE2B4E0401490CACF02E4'',''2E4EC61F3D85080BE040578C74063958'',''SUSE'',''10'',''2.6.16.21 '',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670BE60F8BCD2D72E040E50A1EC06655'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U4'',''2.6.9-42.0.0.0.1.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670A36A7E49675F5E040E50A1EC072B4'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''5'',''2.6.18-8.el5xen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670A36A7E49775F5E040E50A1EC072B4'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''5U1'',''2.6.18-53.el5'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''C858E12A380711E0E0431EC0E50A5A9C'',''2E4EC61F3D83080BE040578C74063958'',null,''11'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52BEAD4D981280D6E0401490CACF4410'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4'',''2.6.9-5.ELhugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52C5AF9C64474603E0401490CACF2453'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u3'',''2.6.9-34.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52C28A537A356B7AE0401490CACF40A4'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u3'',''2.6.9-34.ELhugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52D9E1B656AB2406E0401490CACF4801'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u4'',''2.6.9-42.ELhugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52D5636D4158A305E0401490CACF3FBD'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u4'',''2.6.9-42smp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52D9E1B656AC2406E0401490CACF4801'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u5'',''2.6.9-55.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D14C9D8FAB27CCE0401490CACF6427'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u4'',''2.6.9-42.0.0.0.1.hugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D2915D2D30866CE0401490CACF2F02'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u4'',''2.6.9-42.0.0.0.1.smp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D14C9D8FAC27CCE0401490CACF6427'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u5'',''2.6.9-55.0.0.0.2.hugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52003A5203F32648E0401490CACF18C3'',''2E4EC61F3D7B080BE040578C74063958'',''RHEL'',''4'',''2.6.9-55.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52C0B5AB9C7A606BE0401490CACF0B54'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u2'',''2.6.9-22.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53254C24A5D9EFE9E0401490CACF5017'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5'',''2.6.18-8.ELpae'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''532A4C0589A020B6E0401490CACF5FE5'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5u1'',''2.6.18-53.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53254C24A5DAEFE9E0401490CACF5017'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5u2'',''2.6.18-92.ELxen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53254C24A5DBEFE9E0401490CACF5017'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5u1'',''2.6.9.18-53.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D18E122526AECFE0401490CACF7CD9'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u6'',''2.6.9-67.0.0.0.1.hugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54CD933A29F076EAE0401490CACF1CA8'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u6'',''2.6.9-67.0.0.0.1.smp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52C4EAF0D3B9421CE0401490CACF0F9B'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u2'',''2.6.9-22.ELhugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53287B3EFB325942E0401490CACF29E5'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5'',''2.6.18-8.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53248F75063BE4B8E0401490CACF555D'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5u2'',''2.6.18-92.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53248F75063CE4B8E0401490CACF555D'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5'',''2.6.9.18-8.ELpae'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''532817542CA0A078E0401490CACF2139'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5'',''2.6.9.18-8.ELxen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''532817542CA1A078E0401490CACF2139'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5u1'',''2.6.9.18-53.ELxen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D063B81850A633E0401490CACF4E13'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u5'',''2.6.9-55.0.0.0.2.smp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D0DAFDD08F5463E0401490CACF7495'',''2E4EC61F3D85080BE040578C74063958'',''OEL/RHEL'',''5'',''2.6.18-92.el5'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54CE160B99A8F121E0401490CACF0566'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5u2'',''2.6.18-92.el5xen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D0DAFDD0925463E0401490CACF7495'',''2E4EC61F3D85080BE040578C74063958'',''OEL/RHEL'',''4'',''2.6.9-67.0.0.0.1.EL'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52C4EC9DAA37BE35E0401490CACF0FC2'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4'',''2.6.9-5.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52BE9D3902C91C96E0401490CACF4CD1'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4'',''2.6.9-5.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52BCEABA5CFF9376E0401490CACF214A'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u1'',''2.6.9-11.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52BF43ECBF941FBBE0401490CACF43BB'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u1'',''2.6.9-11.ELhugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52D7EC4A350C9045E0401490CACF15AE'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u5'',''2.6.9-55.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53275B325544EC58E0401490CACF0801'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5u1'',''2.6.18-53.ELpae'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53275B325545EC58E0401490CACF0801'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5u2'',''2.6.18-92.ELpae'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''53275B325546EC58E0401490CACF0801'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5'',''2.6.9.18-8.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D00821484C9B1AE0401490CACF39C2'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u5'',''2.6.9-55.0.0.0.2.EL '',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54D128DB5143FD8EE0401490CACF5999'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5u2'',''2.6.18-92.EL5PAE'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52BDC9F97F2732A9E0401490CACF3581'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u1'',''2.6.9-11.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52C2B8F5D0BCEAB0E0401490CACF4CCD'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u2'',''2.6.9-22.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52BDC9F97F2A32A9E0401490CACF3581'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u3'',''2.6.9-34.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52D90DBD8F4E2A07E0401490CACF1BEC'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u4'',''2.6.9-42.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''52D90DBD8F4F2A07E0401490CACF1BEC'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''4u5'',''2.6.9-55.ELhugemem'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5328CEED2F1BE4E9E0401490CACF5123'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5'',''2.6.18-8.ELxen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5328CEED2F1CE4E9E0401490CACF5123'',''2E4EC61F3D85080BE040578C74063958'',''RHEL'',''5u1'',''2.6.18-53.ELxen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5324FEDBBD751A1AE0401490CACF5A12'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''5u1'',''2.6.9.18-53.ELpae'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''54CFCF00759FF396E0401490CACF55F9'',''2E4EC61F3D85080BE040578C74063958'',''OEL'',''4u4'',''2.6.9-42.0.0.0.1.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''554C05A06853B896E0401490CACF16CB'',''2E4EC61F3D83080BE040578C74063958'',null,''10'',''Generic_118833-33'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0C1BD99ECB395E0401490CACF6240'',''2E4EC61F3D83080BE040578C74063958'',null,''9'',''Generic_112233-12'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0C39770D8021DE0401490CACF60F9'',''2E4EC61F3D83080BE040578C74063958'',null,''9'',''Generic_122300-31'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A6A3BFAC16D4FE1E0401490CACF01A4'',''2E4EC61F3D85080BE040578C74063958'',''SUSE'',''9'',''2.6.5-7.308'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A69E64D70E561CDE0401490CACF632C'',''2E4EC61F3D74080BE040578C74063958'',null,''11.1'',null,0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A6A3BFAC1614FE1E0401490CACF01A4'',''2E4EC61F3D74080BE040578C74063958'',null,''11.22'',null,0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670FFD5B39386600E040E50A1EC022E1'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U5'',''2.6.9-55.0.0.0.2.ELlargesmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670FFD5B393C6600E040E50A1EC022E1'',''2E4EC61F3D7B080BE040578C74063958'',''OEl'',''5U1'',''2.6.18-53.el5xen'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''057D408246577BA0E05313C0E50AFF10'',''2E4EC61F3D7B080BE040578C74063958'',''OEL/RHEL'',''7'',''3.8.13-35.3.1.el7uek.x86_64'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''05DF98A4D7662F27E05312C0E50A6F50'',''2E4EC61F3D7B080BE040578C74063958'',''SUSE'',''12'',''3.8.13-35.3.1.el7uek.x86_64'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0DC02840BE73DE0401490CACF626A'',''2E4EC61F3D83080BE040578C74063958'',null,''10'',''Generic_127127-11'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B1E569F43AEB57E0401490CACF3073'',''2E4EC61F3D83080BE040578C74063958'',null,''9'',''Generic_117171-17'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''59B0FB2818967B6AE0401490CACF6284'',''2E4EC61F3D79080BE040578C74063958'',null,''6.1'',null,1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A69E65BF12E9642E0401490CACF5572'',''2E4EC61F3D74080BE040578C74063958'',null,''11.0'',null,0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A6A273BC1741A8BE0401490CACF2BD6'',''2E4EC61F3D76080BE040578C74063958'',null,''11.22'',null,0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''5A692D6530C54E7EE0401490CACF640C'',''2E4EC61F3D85080BE040578C74063958'',''SUSE'',''9SP3'',''2.6.5-7.244'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''67093C4C7928050CE040E50A1EC02460'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U5'',''2.6.9-55.0.0.0.2.EL'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''67093C4C7929050CE040E50A1EC02460'',''2E4EC61F3D7B080BE040578C74063958'',''OEL'',''4U6'',''2.6.9-67.0.0.0.1.ELsmp'',0);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''670E0E1F77EC0BABE040E50A1EC01835'',''2E4EC61F3D7B080BE040578C74063958'',''OEL/RHEL'',''5'',''2.6.18-92.el5'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''AC4B8B0629319AD8E040E50A1EC06F71'',''2E4EC61F3D85080BE040578C74063958'',''SUSE'',''11'',''2.6.18-194.3.1.0.4.el5'',1);',
'Insert into RCA13_DISTRIBUTION (DISTRIBUTION_OS_ID,PLATFORM_ID,OSDIST,OSVERSION,OSKERNEL,OSDIST_REP_KERNEL) values (''05A87C9306422E7AE05312C0E50A93C1'',''2E4EC61F3D82080BE040578C74063958'',''OEL/RHEL'',''6'',''2.6.32-431.el6.s390x'',1);',
'COMMIT;',
'end if;',
'end;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4147229398100252)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Platform'
,p_sequence=>2130
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For Platforms Screen Display  ',
'    CREATE TABLE "RCA13_PLATFORM" ',
'  ("PLATFORM_ID" VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    "NAME" VARCHAR2(100 BYTE) NOT NULL ENABLE,',
'    "PRODUCT_LINE_ID"          NUMBER,',
'    "IS_PREFERRED" NUMBER(1,0) DEFAULT 0, ',
'    CONSTRAINT "PLATFORM_REF_UNQ_NAME" UNIQUE ("NAME"),',
'    CONSTRAINT "PLATFORM_REF_PK" PRIMARY KEY ("PLATFORM_ID"));',
' / ',
'     ',
'     Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''340421D4149FE138E0401490CACF4CB5'',''APPLE MACINTOSH POWERPC'',425,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''340421D414A3E138E0401490CACF4CB5'',''MICROSOFT WINDOWS VISTA (32-BIT)'',245,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''50E9060C8A567763E0401490CACF11DA'',''AIX6 (64-BIT)'',212,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''6B08DD50CDE0F20CE040E50A1EC02102'',''IBM ISERIES OS/400'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''D01669276C456319E0431EC0E50A3A68'',''AIX7 (64-BIT)'',212,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3401747C5110A363E0401490CACF7963'',''HP 9000 SERIES HP-UX BLS (SECURE)'',257,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3401747C5126A363E0401490CACF7963'',''FUJITSU GP7000 MODEL 800 UNIX (64-BIT)'',45,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''37B7BCC83B4D8E6FE0401490CACF3622'',''HP 3000 SERIES MPE/IX'',70,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3CA4FF041399F62BE0401490CACF0BAA'',''X86 64 BIT'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''7787658B8E2ACFB3E040E50A1EC0097D'',''APPLE MACINTOSH INTEL'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049321C2CCA987AE040238228B43EA7'',''AIX 4.3 BASED SYSTEMS (64-BIT)'',38,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2F0E69542CDCB259E040238228B448EE'',''AIX5L BASED SYSTEMS (32-BIT)'',275,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D79080BE040578C74063958'',''AIX5L BASED SYSTEMS (64-BIT)'',212,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''30491DEF245956F0E040238228B44890'',''APPLE MAC OS'',421,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D81080BE040578C74063958'',''BULL ESCALA RL AIX (64-BIT)'',33,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D78080BE040578C74063958'',''FUJITSU PRIMEPOWER SOLARIS'',109,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D7C080BE040578C74063958'',''GENERIC 32/64'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049321C2D31987AE040238228B43EA7'',''HAANSOFT LINUX X86-64'',247,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049321C2D01987AE040238228B43EA7'',''HP 9000 SERIES HP-UX CMW (SECURE)'',731,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049321C2D14987AE040238228B43EA7'',''HP OPENVMS ALPHA'',89,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3048BF935CFDCCC6E040238228B468E1'',''HP OPENVMS ITANIUM'',243,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D7A080BE040578C74063958'',''HP TRU64 UNIX'',87,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D76080BE040578C74063958'',''HP-UX ITANIUM'',197,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''310D5A1515D3F0A5E040238228B43993'',''HP-UX PA-RISC (32-BIT)'',2,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D74080BE040578C74063958'',''HP-UX PA-RISC (64-BIT)'',59,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3048BF935CC2CCC6E040238228B468E1'',''IBM POWER BASED LINUX'',227,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''30490E8B3B447D8EE040238228B4441B'',''IBM SP AIX'',610,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2F7D9562CCD2C0DCE040238228B41383'',''IBM Z/OS (OS/390)'',30,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D82080BE040578C74063958'',''IBM ZSERIES BASED LINUX'',209,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''302D660F06483978E040238228B44A3D'',''LINUX INTEL (64-BIT)'',110,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D77080BE040578C74063958'',''LINUX ITANIUM'',214,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D85080BE040578C74063958'',''LINUX X86'',46,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D7B080BE040578C74063958'',''LINUX X86-64'',226,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049682B22E4AEABE040238228B448B3'',''MICROSOFT WINDOWS'',176,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D87080BE040578C74063958'',''MICROSOFT WINDOWS (32-BIT)'',912,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2F7D9A38FD1B86C7E040238228B41225'',''MICROSOFT WINDOWS 2000'',100,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049E279AABA3B50E040238228B44D7A'',''MICROSOFT WINDOWS NT TERMINAL SERVER'',175,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D7E080BE040578C74063958'',''MICROSOFT WINDOWS SERVER 2003'',215,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''302D6A1D1790B90DE040238228B44644'',''MICROSOFT WINDOWS SERVER 2003 (64-BIT AMD64 AND INTEL EM64T)'',233,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2EE1611B101D9D5BE040238228B4063E'',''MICROSOFT WINDOWS SERVER 2003 (64-BIT ITANIUM)'',208,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D80080BE040578C74063958'',''MICROSOFT WINDOWS SERVER 2003 R2 (32-BIT)'',269,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3048BF935CD6CCC6E040238228B468E1'',''MICROSOFT WINDOWS SERVER 2003 R2 (64-BIT AMD64 AND INTEL EM64T)'',268,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''302845CF27833147E040238228B40EDE'',''MICROSOFT WINDOWS XP'',207,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3048BF935DF6CCC6E040238228B468E1'',''ORACLE ENTERPRISE LINUX 4.0'',284,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D86080BE040578C74063958'',''RED HAT ADVANCED SERVER'',213,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2EE1490D9CF44834E040238228B4085D'',''RED HAT ENTERPRISE LINUX ADVANCED SERVER ITANIUM'',216,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''302D6A1D1781B90DE040238228B44644'',''RED HAT ENTERPRISE LINUX ADVANCED SERVER X86-64 (AMD OPTERON ARCHITECTURE)'',225,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3048BF935DE4CCC6E040238228B468E1'',''RED HAT ENTERPRISE LINUX WORKSTATION'',229,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049321C2CF0987AE040238228B43EA7'',''REDFLAG X86-64'',241,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D7F080BE040578C74063958'',''SOLARIS OPERATING SYSTEM (SPARC 32-BIT)'',453,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D83080BE040578C74063958'',''SOLARIS OPERATING SYSTEM (SPARC 64-BIT)'',23,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049682B22F8AEABE040238228B448B3'',''SOLARIS OPERATING SYSTEM (X86)'',173,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D75080BE040578C74063958'',''SOLARIS OPERATING SYSTEM (X86-64)'',267,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049682B22D3AEABE040238228B448B3'',''SUN SPARC SUN OS'',451,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D84080BE040578C74063958'',''SUSE \ UNITEDLINUX X86-64'',219,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3048BDD7E5EEEAC3E040238228B4770F'',''UNISYS 1100 SERIES UNIX'',192,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''33FDEA1DC0795D11E0401490CACF2821'',''UNITEDLINUX (32-BIT)'',217,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''34002DD1C0928059E0401490CACF4030'',''MICROSOFT WINDOWS XP (64-BIT ITANIUM)'',206,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''34002DD1C0E48059E0401490CACF4030'',''AIX BASED SYSTEMS (32-BIT)'',319,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''4E6E6FBC6FE7268EE0401490CACF2A02'',''MICROSOFT WINDOWS X64 (64-BIT)'',233,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3400251365DCB4C7E0401490CACF4A74'',''IBM S/390 BASED LINUX'',211,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''34ED717A492CBEB7E0401490CACF0E7E'',''MICROSOFT WINDOWS XP (64-BIT AMD64 AND INTEL EM64T)'',232,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''39451686C459F2AFE0401490CACF1857'',''IBM NUMA-Q DYNIX/PTX'',198,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''39D23C90472C6318E0401490CACF73AE'',''SUN TRUSTED SOLARIS (SECURE)'',258,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''7EC21A4F935D3FF0E040E50A1EC02B6F'',''HP-UX ITANIUM (32-BIT)'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''33FDE84E3026CCB2E0401490CACF2AFA'',''ASIANUX X86'',234,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''33FE81669B29E1D1E0401490CACF3D84'',''MIRACLE LINUX X86'',235,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3CB8C51A72CD6320E0401490CACF04D5'',''FUJITSU SIEMENS BS2000/OSD'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3D7FFAE997433881E0401490CACF2481'',''LINUX ON POWER'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3D7FFAE997443881E0401490CACF2481'',''ORACLE CERTIFICATION ENVIRONMENT'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3E3487B83BB7C523E0401490CACF6971'',''MICROSOFT WINDOWS (64-BIT) ON INTEL ITANIUM'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''4951DC19DAD2842AE0401490CACF5953'',''MICROSOFT WINDOWS SERVER 2008 (32-BIT)'',215,1);',
'COMMIT;',
''))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4154010575511096)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Platform'
,p_sequence=>2130
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For Platforms Screen Display ',
'declare',
'isplatform number;',
'begin',
'select count(1) into isplatform from RCA13_ORACHK_CHECKS_PLATFORM;',
'if isplatform < 1 then',
'DELETE FROM RCA13_PLATFORM;',
'COMMIT;',
'',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''340421D4149FE138E0401490CACF4CB5'',''APPLE MACINTOSH POWERPC'',425,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''340421D414A3E138E0401490CACF4CB5'',''MICROSOFT WINDOWS VISTA (32-BIT)'',245,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''50E9060C8A567763E0401490CACF11DA'',''AIX6 (64-BIT)'',212,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''6B08DD50CDE0F20CE040E50A1EC02102'',''IBM ISERIES OS/400'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''D01669276C456319E0431EC0E50A3A68'',''AIX7 (64-BIT)'',212,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3401747C5110A363E0401490CACF7963'',''HP 9000 SERIES HP-UX BLS (SECURE)'',257,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3401747C5126A363E0401490CACF7963'',''FUJITSU GP7000 MODEL 800 UNIX (64-BIT)'',45,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''37B7BCC83B4D8E6FE0401490CACF3622'',''HP 3000 SERIES MPE/IX'',70,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3CA4FF041399F62BE0401490CACF0BAA'',''X86 64 BIT'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''7787658B8E2ACFB3E040E50A1EC0097D'',''APPLE MACINTOSH INTEL'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049321C2CCA987AE040238228B43EA7'',''AIX 4.3 BASED SYSTEMS (64-BIT)'',38,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2F0E69542CDCB259E040238228B448EE'',''AIX5L BASED SYSTEMS (32-BIT)'',275,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D79080BE040578C74063958'',''AIX5L BASED SYSTEMS (64-BIT)'',212,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''30491DEF245956F0E040238228B44890'',''APPLE MAC OS'',421,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D81080BE040578C74063958'',''BULL ESCALA RL AIX (64-BIT)'',33,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D78080BE040578C74063958'',''FUJITSU PRIMEPOWER SOLARIS'',109,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D7C080BE040578C74063958'',''GENERIC 32/64'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049321C2D31987AE040238228B43EA7'',''HAANSOFT LINUX X86-64'',247,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049321C2D01987AE040238228B43EA7'',''HP 9000 SERIES HP-UX CMW (SECURE)'',731,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049321C2D14987AE040238228B43EA7'',''HP OPENVMS ALPHA'',89,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3048BF935CFDCCC6E040238228B468E1'',''HP OPENVMS ITANIUM'',243,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D7A080BE040578C74063958'',''HP TRU64 UNIX'',87,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D76080BE040578C74063958'',''HP-UX ITANIUM'',197,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''310D5A1515D3F0A5E040238228B43993'',''HP-UX PA-RISC (32-BIT)'',2,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D74080BE040578C74063958'',''HP-UX PA-RISC (64-BIT)'',59,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3048BF935CC2CCC6E040238228B468E1'',''IBM POWER BASED LINUX'',227,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''30490E8B3B447D8EE040238228B4441B'',''IBM SP AIX'',610,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2F7D9562CCD2C0DCE040238228B41383'',''IBM Z/OS (OS/390)'',30,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D82080BE040578C74063958'',''IBM ZSERIES BASED LINUX'',209,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''302D660F06483978E040238228B44A3D'',''LINUX INTEL (64-BIT)'',110,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D77080BE040578C74063958'',''LINUX ITANIUM'',214,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D85080BE040578C74063958'',''LINUX X86'',46,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D7B080BE040578C74063958'',''LINUX X86-64'',226,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049682B22E4AEABE040238228B448B3'',''MICROSOFT WINDOWS'',176,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D87080BE040578C74063958'',''MICROSOFT WINDOWS (32-BIT)'',912,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2F7D9A38FD1B86C7E040238228B41225'',''MICROSOFT WINDOWS 2000'',100,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049E279AABA3B50E040238228B44D7A'',''MICROSOFT WINDOWS NT TERMINAL SERVER'',175,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D7E080BE040578C74063958'',''MICROSOFT WINDOWS SERVER 2003'',215,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''302D6A1D1790B90DE040238228B44644'',''MICROSOFT WINDOWS SERVER 2003 (64-BIT AMD64 AND INTEL EM64T)'',233,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2EE1611B101D9D5BE040238228B4063E'',''MICROSOFT WINDOWS SERVER 2003 (64-BIT ITANIUM)'',208,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D80080BE040578C74063958'',''MICROSOFT WINDOWS SERVER 2003 R2 (32-BIT)'',269,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3048BF935CD6CCC6E040238228B468E1'',''MICROSOFT WINDOWS SERVER 2003 R2 (64-BIT AMD64 AND INTEL EM64T)'',268,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''302845CF27833147E040238228B40EDE'',''MICROSOFT WINDOWS XP'',207,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3048BF935DF6CCC6E040238228B468E1'',''ORACLE ENTERPRISE LINUX 4.0'',284,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D86080BE040578C74063958'',''RED HAT ADVANCED SERVER'',213,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2EE1490D9CF44834E040238228B4085D'',''RED HAT ENTERPRISE LINUX ADVANCED SERVER ITANIUM'',216,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''302D6A1D1781B90DE040238228B44644'',''RED HAT ENTERPRISE LINUX ADVANCED SERVER X86-64 (AMD OPTERON ARCHITECTURE)'',225,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3048BF935DE4CCC6E040238228B468E1'',''RED HAT ENTERPRISE LINUX WORKSTATION'',229,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049321C2CF0987AE040238228B43EA7'',''REDFLAG X86-64'',241,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D7F080BE040578C74063958'',''SOLARIS OPERATING SYSTEM (SPARC 32-BIT)'',453,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D83080BE040578C74063958'',''SOLARIS OPERATING SYSTEM (SPARC 64-BIT)'',23,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049682B22F8AEABE040238228B448B3'',''SOLARIS OPERATING SYSTEM (X86)'',173,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D75080BE040578C74063958'',''SOLARIS OPERATING SYSTEM (X86-64)'',267,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3049682B22D3AEABE040238228B448B3'',''SUN SPARC SUN OS'',451,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''2E4EC61F3D84080BE040578C74063958'',''SUSE \ UNITEDLINUX X86-64'',219,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3048BDD7E5EEEAC3E040238228B4770F'',''UNISYS 1100 SERIES UNIX'',192,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''33FDEA1DC0795D11E0401490CACF2821'',''UNITEDLINUX (32-BIT)'',217,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''34002DD1C0928059E0401490CACF4030'',''MICROSOFT WINDOWS XP (64-BIT ITANIUM)'',206,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''34002DD1C0E48059E0401490CACF4030'',''AIX BASED SYSTEMS (32-BIT)'',319,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''4E6E6FBC6FE7268EE0401490CACF2A02'',''MICROSOFT WINDOWS X64 (64-BIT)'',233,1);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3400251365DCB4C7E0401490CACF4A74'',''IBM S/390 BASED LINUX'',211,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''34ED717A492CBEB7E0401490CACF0E7E'',''MICROSOFT WINDOWS XP (64-BIT AMD64 AND INTEL EM64T)'',232,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''39451686C459F2AFE0401490CACF1857'',''IBM NUMA-Q DYNIX/PTX'',198,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''39D23C90472C6318E0401490CACF73AE'',''SUN TRUSTED SOLARIS (SECURE)'',258,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''7EC21A4F935D3FF0E040E50A1EC02B6F'',''HP-UX ITANIUM (32-BIT)'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''33FDE84E3026CCB2E0401490CACF2AFA'',''ASIANUX X86'',234,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''33FE81669B29E1D1E0401490CACF3D84'',''MIRACLE LINUX X86'',235,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3CB8C51A72CD6320E0401490CACF04D5'',''FUJITSU SIEMENS BS2000/OSD'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3D7FFAE997433881E0401490CACF2481'',''LINUX ON POWER'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3D7FFAE997443881E0401490CACF2481'',''ORACLE CERTIFICATION ENVIRONMENT'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''3E3487B83BB7C523E0401490CACF6971'',''MICROSOFT WINDOWS (64-BIT) ON INTEL ITANIUM'',null,0);',
'Insert into RCA13_PLATFORM (PLATFORM_ID,NAME,PRODUCT_LINE_ID,IS_PREFERRED) values (''4951DC19DAD2842AE0401490CACF5953'',''MICROSOFT WINDOWS SERVER 2008 (32-BIT)'',215,1);',
'COMMIT;',
'end if;',
'end;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4147419140106741)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Link'
,p_sequence=>2140
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' -- For Links -- Screen Display   ',
'   CREATE TABLE "RCA13_ORACHK_LINK" ',
'   ("SF_LINK_ID" VARCHAR2(40 BYTE) DEFAULT SYS_GUID() NOT NULL ENABLE,',
'    "NAME" VARCHAR2(200 BYTE) NOT NULL ENABLE, ',
'    "LINK" VARCHAR2(1000 BYTE),',
'    "TYPE"  NUMBER,',
'   CONSTRAINT "SF_LINK_PK" PRIMARY KEY ("SF_LINK_ID")); ',
' /   ',
'     ',
'     '))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4147613730114662)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Audit Check Detail'
,p_sequence=>2150
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'',
'   -- For detail based on check_id',
'   CREATE TABLE "RCA13_ORACHK_CHECKS_DB_TYPES" ',
'   ("CHECK_ID" VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    "DATABASE_TYPE_ID" VARCHAR2(40 BYTE),   ',
'   CONSTRAINT dbtype_fk FOREIGN KEY (DATABASE_TYPE_ID) REFERENCES RCA13_ORACHK_DB_TYPES_MASTER(DATABASE_TYPE_ID));',
' /  ',
' ',
' ',
'   CREATE TABLE "RCA13_ORACHK_CHECKS_DB_ROLES" ',
'   ("CHECK_ID" VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    "DATABASE_ROLE_ID" VARCHAR2(40 BYTE),  ',
'    CONSTRAINT dbrole_fk FOREIGN KEY (DATABASE_ROLE_ID) REFERENCES RCA13_ORACHK_DB_ROLES_MASTER(DATABASE_ROLE_ID));',
'   ',
' /  ',
' ',
'  CREATE TABLE "RCA13_ORACHK_CHECKS_DB_MODES" ',
'   ("CHECK_ID" VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    "DATABASE_MODE_ID" VARCHAR2(40 BYTE),',
'    CONSTRAINT dbmode_fk FOREIGN KEY (DATABASE_MODE_ID) REFERENCES RCA13_ORACHK_DB_MODES_MASTER(DATABASE_MODE_ID)    ',
'   );',
' /  ',
' ',
'   CREATE TABLE "RCA13_ORACHK_CHECKS_LINK" ',
'   ("CHECK_ID" VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    "SF_LINK_ID" VARCHAR2(40 BYTE),',
'    CONSTRAINT sflink_fk FOREIGN KEY (SF_LINK_ID) REFERENCES RCA13_ORACHK_LINK(SF_LINK_ID)',
'   );',
'/   ',
'   CREATE TABLE "RCA13_ORACHK_CHECKS_PLATFORM" ',
'   ("CHECK_ID" VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    "PLATFORM_ID" VARCHAR2(40 BYTE),',
'    "DISTRIBUTION_OS_ID" VARCHAR2(40 BYTE),',
'    CONSTRAINT platform_fk FOREIGN KEY (PLATFORM_ID) REFERENCES RCA13_PLATFORM(PLATFORM_ID),',
'    CONSTRAINT distribution_fk FOREIGN KEY (DISTRIBUTION_OS_ID) REFERENCES RCA13_DISTRIBUTION(DISTRIBUTION_OS_ID)',
'   );',
' /  ',
'      CREATE TABLE "RCA13_ORACHK_CHECKS_VERSION" ',
'   ("CHECK_ID" VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'    "VERSION_ID" VARCHAR2(40 BYTE),',
'    CONSTRAINT version_fk FOREIGN KEY (VERSION_ID) REFERENCES RCA13_VERSION(VERSION_ID)',
'   );',
'/ ',
'     CREATE TABLE "RCA13_ORACHK_CHECKS_CAND_SYS"',
'("CHECK_ID" VARCHAR2(40 BYTE) NOT NULL ENABLE,  ',
'"CAND_SYS_ID" VARCHAR2(40 BYTE),',
'CONSTRAINT candsys_fk FOREIGN KEY (CAND_SYS_ID) REFERENCES RCA13_ORACHK_CAND_SYS(CAND_SYS_ID)',
');',
'',
'/     ',
'   ',
'  '))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4147826890118516)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Sequence SQL Check'
,p_sequence=>2160
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
' CREATE SEQUENCE PARAMPATHSEQ',
'      INCREMENT BY 1',
'      START WITH 1',
'      MAXVALUE   999999999999999999',
'      NOCACHE',
'      NOCYCLE;',
'/',
'   '))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4148327975147161)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'UTILITY'
,p_sequence=>2161
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE PACKAGE RCA13_UTILITY',
'AS',
'  FUNCTION clob_to_blob(',
'      c IN CLOB )',
'    RETURN BLOB;',
'END RCA13_UTILITY;',
'/',
'',
'CREATE OR REPLACE PACKAGE BODY RCA13_UTILITY',
'AS',
'  FUNCTION clob_to_blob(',
'      c IN CLOB )',
'    RETURN BLOB',
'    -- typecasts CLOB to BLOB (binary conversion)',
'  IS',
'    pos PLS_INTEGER := 1;',
'    buffer RAW( 32767 );',
'    res BLOB;',
'    lob_len PLS_INTEGER := DBMS_LOB.getLength( c );',
'  BEGIN',
'    DBMS_LOB.createTemporary( res, TRUE );',
'    DBMS_LOB.OPEN( res, DBMS_LOB.LOB_ReadWrite );',
'    LOOP',
'      buffer                     := UTL_RAW.cast_to_raw( DBMS_LOB.SUBSTR( c, 8000, pos ) );',
'      IF UTL_RAW.LENGTH( buffer ) > 0 THEN',
'        DBMS_LOB.append( res, buffer );',
'      END IF;',
'      pos := pos + 8000;',
'      EXIT',
'    WHEN pos > lob_len;',
'    END LOOP;',
'    RETURN res; -- res is OPEN here',
'  END;',
'END RCA13_UTILITY;',
'/',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4155020403523446)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'UTILITY'
,p_sequence=>2161
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE PACKAGE RCA13_UTILITY',
'AS',
'  FUNCTION clob_to_blob(',
'      c IN CLOB )',
'    RETURN BLOB;',
'END RCA13_UTILITY;',
'/',
'',
'CREATE OR REPLACE PACKAGE BODY RCA13_UTILITY',
'AS',
'  FUNCTION clob_to_blob(',
'      c IN CLOB )',
'    RETURN BLOB',
'    -- typecasts CLOB to BLOB (binary conversion)',
'  IS',
'    pos PLS_INTEGER := 1;',
'    buffer RAW( 32767 );',
'    res BLOB;',
'    lob_len PLS_INTEGER := DBMS_LOB.getLength( c );',
'  BEGIN',
'    DBMS_LOB.createTemporary( res, TRUE );',
'    DBMS_LOB.OPEN( res, DBMS_LOB.LOB_ReadWrite );',
'    LOOP',
'      buffer                     := UTL_RAW.cast_to_raw( DBMS_LOB.SUBSTR( c, 8000, pos ) );',
'      IF UTL_RAW.LENGTH( buffer ) > 0 THEN',
'        DBMS_LOB.append( res, buffer );',
'      END IF;',
'      pos := pos + 8000;',
'      EXIT',
'    WHEN pos > lob_len;',
'    END LOOP;',
'    RETURN res; -- res is OPEN here',
'  END;',
'END RCA13_UTILITY;',
'/',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4148014123143209)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DOCLIB'
,p_sequence=>2170
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE PACKAGE RCA13_DOCLIB',
'AS',
'  PROCEDURE create_document_from_text(',
'      docId OUT NUMBER,',
'      fileName VARCHAR2,',
'      fileContents CLOB,',
'      idValue  VARCHAR2,',
'      app_user VARCHAR2);',
'  PROCEDURE create_document_from_text(',
'      fileName VARCHAR2,',
'      fileContents CLOB,',
'      idValue  VARCHAR2,',
'      app_user VARCHAR2);',
'END RCA13_DOCLIB;',
'/',
'    ',
'CREATE OR REPLACE PACKAGE BODY RCA13_DOCLIB',
'AS',
'  PROCEDURE create_document_from_text(',
'      docId OUT NUMBER,',
'      fileName VARCHAR2,',
'      fileContents CLOB,',
'      idValue  VARCHAR2,',
'      app_user VARCHAR2)',
'  IS',
'    blobContents BLOB := RCA13_UTILITY.clob_to_blob(fileContents);',
'  BEGIN',
'    INSERT',
'    INTO RCA13_DOCS',
'      (',
'        filename,',
'        file_mimetype,',
'        file_blob,',
'        attr1,',
'        uploaded_by',
'      )',
'      VALUES',
'      (',
'        fileName,',
'        ''application/x-sh'',',
'        RCA13_UTILITY.clob_to_blob(fileContents),',
'        idValue,',
'        app_user',
'      )',
'      RETURN doc_id',
'    INTO docId;',
'  END;',
'  PROCEDURE create_document_from_text',
'    (',
'      fileName VARCHAR2,',
'      fileContents CLOB,',
'      idValue  VARCHAR2,',
'      app_user VARCHAR2',
'    )',
'  IS',
'    blobContents BLOB := RCA13_UTILITY.clob_to_blob(fileContents);',
'    docId NUMBER;',
'  BEGIN',
'    create_document_from_text (docId, fileName, fileContents, idValue,app_user);',
'  END;',
'END RCA13_DOCLIB;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4154811399520775)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DOCLIB'
,p_sequence=>2170
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE PACKAGE RCA13_DOCLIB',
'AS',
'  PROCEDURE create_document_from_text(',
'      docId OUT NUMBER,',
'      fileName VARCHAR2,',
'      fileContents CLOB,',
'      idValue  VARCHAR2,',
'      app_user VARCHAR2);',
'  PROCEDURE create_document_from_text(',
'      fileName VARCHAR2,',
'      fileContents CLOB,',
'      idValue  VARCHAR2,',
'      app_user VARCHAR2);',
'END RCA13_DOCLIB;',
'/',
'    ',
'CREATE OR REPLACE PACKAGE BODY RCA13_DOCLIB',
'AS',
'  PROCEDURE create_document_from_text(',
'      docId OUT NUMBER,',
'      fileName VARCHAR2,',
'      fileContents CLOB,',
'      idValue  VARCHAR2,',
'      app_user VARCHAR2)',
'  IS',
'    blobContents BLOB := RCA13_UTILITY.clob_to_blob(fileContents);',
'  BEGIN',
'    INSERT',
'    INTO RCA13_DOCS',
'      (',
'        filename,',
'        file_mimetype,',
'        file_blob,',
'        attr1,',
'        uploaded_by',
'      )',
'      VALUES',
'      (',
'        fileName,',
'        ''application/x-sh'',',
'        RCA13_UTILITY.clob_to_blob(fileContents),',
'        idValue,',
'        app_user',
'      )',
'      RETURN doc_id',
'    INTO docId;',
'  END;',
'  PROCEDURE create_document_from_text',
'    (',
'      fileName VARCHAR2,',
'      fileContents CLOB,',
'      idValue  VARCHAR2,',
'      app_user VARCHAR2',
'    )',
'  IS',
'    blobContents BLOB := RCA13_UTILITY.clob_to_blob(fileContents);',
'    docId NUMBER;',
'  BEGIN',
'    create_document_from_text (docId, fileName, fileContents, idValue,app_user);',
'  END;',
'END RCA13_DOCLIB;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4148529145156940)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'MANAGE_AUDIT_CHECKS'
,p_sequence=>2190
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE PACKAGE "RCA13_MANAGE_AUDIT_CHECKS"',
'AS',
'  FUNCTION update_audit_check_info(',
'      p_check_id IN VARCHAR2,',
'      p_att1     IN VARCHAR2,',
'      p_type     IN VARCHAR2)',
'    RETURN VARCHAR2;',
'END RCA13_MANAGE_AUDIT_CHECKS;',
'/',
'CREATE OR REPLACE PACKAGE BODY "RCA13_MANAGE_AUDIT_CHECKS"',
'AS',
'  FUNCTION update_audit_check_info(',
'      p_check_id IN VARCHAR2,',
'      p_att1     IN VARCHAR2,',
'      p_type     IN VARCHAR2)',
'    RETURN VARCHAR2',
'  IS',
'    rStatus VARCHAR2(4000) := '''';',
'    tStatus VARCHAR2(4000) := '''';',
'  BEGIN',
'    IF ( p_type = ''DB_ROLE'' ) THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_DB_ROLES',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_DB_ROLES',
'          (',
'            check_id,',
'            DATABASE_ROLE_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'    elsif p_type = ''DB_TYPE'' THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_DB_TYPES',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_DB_TYPES',
'          (',
'            check_id,',
'            DATABASE_TYPE_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'    elsif p_type = ''DB_MODE'' THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_DB_MODES',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_DB_MODES',
'          (',
'            check_id,',
'            DATABASE_MODE_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'    elsif p_type = ''CAND_SYS'' THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_CAND_SYS',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_CAND_SYS',
'          (',
'            check_id,',
'            CAND_SYS_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'    elsif p_type = ''VERSION'' THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_VERSION',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_VERSION',
'          (',
'            check_id,',
'            VERSION_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'    elsif p_type = ''PLATFORM'' THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_PLATFORM',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_PLATFORM',
'          (',
'            check_id,',
'            DISTRIBUTION_OS_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'    elsif p_type = ''LINKS'' THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_LINK',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_LINK',
'          (',
'            check_id,',
'            SF_LINK_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'      RETURN rStatus;',
'    END IF;',
'    COMMIT;',
'    RETURN ''Success'';',
'  END;',
'------------------------------------------------------------------------------------',
'END RCA13_MANAGE_AUDIT_CHECKS;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4155228368525755)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'MANAGE_AUDIT_CHECKS'
,p_sequence=>2190
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE PACKAGE "RCA13_MANAGE_AUDIT_CHECKS"',
'AS',
'  FUNCTION update_audit_check_info(',
'      p_check_id IN VARCHAR2,',
'      p_att1     IN VARCHAR2,',
'      p_type     IN VARCHAR2)',
'    RETURN VARCHAR2;',
'END RCA13_MANAGE_AUDIT_CHECKS;',
'/',
'CREATE OR REPLACE PACKAGE BODY "RCA13_MANAGE_AUDIT_CHECKS"',
'AS',
'  FUNCTION update_audit_check_info(',
'      p_check_id IN VARCHAR2,',
'      p_att1     IN VARCHAR2,',
'      p_type     IN VARCHAR2)',
'    RETURN VARCHAR2',
'  IS',
'    rStatus VARCHAR2(4000) := '''';',
'    tStatus VARCHAR2(4000) := '''';',
'  BEGIN',
'    IF ( p_type = ''DB_ROLE'' ) THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_DB_ROLES',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_DB_ROLES',
'          (',
'            check_id,',
'            DATABASE_ROLE_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'    elsif p_type = ''DB_TYPE'' THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_DB_TYPES',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_DB_TYPES',
'          (',
'            check_id,',
'            DATABASE_TYPE_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'    elsif p_type = ''DB_MODE'' THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_DB_MODES',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_DB_MODES',
'          (',
'            check_id,',
'            DATABASE_MODE_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'    elsif p_type = ''CAND_SYS'' THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_CAND_SYS',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_CAND_SYS',
'          (',
'            check_id,',
'            CAND_SYS_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'    elsif p_type = ''VERSION'' THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_VERSION',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_VERSION',
'          (',
'            check_id,',
'            VERSION_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'    elsif p_type = ''PLATFORM'' THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_PLATFORM',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_PLATFORM',
'          (',
'            check_id,',
'            DISTRIBUTION_OS_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'    elsif p_type = ''LINKS'' THEN',
'      DELETE',
'      FROM RCA13_ORACHK_CHECKS_LINK',
'      WHERE check_id = p_check_id;',
'      FOR rec2 IN',
'      (SELECT regexp_substr(p_att1,''[^:]+'', 1, level) col',
'      FROM dual',
'        CONNECT BY regexp_substr(p_att1, ''[^:]+'', 1, level) IS NOT NULL',
'      )',
'      LOOP',
'        INSERT',
'        INTO RCA13_ORACHK_CHECKS_LINK',
'          (',
'            check_id,',
'            SF_LINK_ID',
'          )',
'          VALUES',
'          (',
'            p_check_id,',
'            rec2.col',
'          );',
'      END LOOP;',
'      RETURN rStatus;',
'    END IF;',
'    COMMIT;',
'    RETURN ''Success'';',
'  END;',
'------------------------------------------------------------------------------------',
'END RCA13_MANAGE_AUDIT_CHECKS;'))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4148723389164821)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'XML Plugin'
,p_sequence=>2200
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE PROCEDURE UserDefPluginXml(',
'    app_user VARCHAR2)',
'IS',
'  checkId VARCHAR2(40);',
'  theFile CLOB;',
'  plname   VARCHAR2(4000);',
'  trimflag BOOLEAN := false;',
'  CURSOR USER_CHECKS',
'  IS',
'    SELECT CHECK_ID,',
'      AUDIT_CHECK_NAME,',
'      ON_HOLD,',
'      ACTION_TYPE,',
'      PARAM_PATH,',
'      COMMAND,',
'      COMMAND_REPORT,',
'      OPERATOR_STRING,',
'      COMPARE_VALUE,',
'      COMPONENT_DEPENDENCY,',
'      ORACLE_HOME_TYPE,',
'      ALERT_LEVEL,',
'      PASS_MSG,',
'      FAIL_MSG,',
'      BENEFIT_IMPACT,',
'      RISK,',
'      ACTION_REPAIR',
'    FROM RCA13_ORACHK_AUDIT_CHECKS',
'    ORDER BY create_date DESC;',
'  CURSOR DB_TYPES(checkId VARCHAR2)',
'  IS',
'    SELECT MST.DATABASE_TYPE',
'    FROM RCA13_ORACHK_AUDIT_CHECKS SF,',
'      RCA13_ORACHK_CHECKS_DB_TYPES DT,',
'      RCA13_ORACHK_DB_TYPES_MASTER MST',
'    WHERE SF.CHECK_ID       =DT.CHECK_ID',
'    AND MST.DATABASE_TYPE_ID=DT.DATABASE_TYPE_ID',
'    AND SF.CHECK_ID         = checkId',
'    ORDER BY MST.DATABASE_TYPE;',
'  CURSOR DB_MODES(checkId VARCHAR2)',
'  IS',
'    SELECT DECODE(DATABASE_MODE,''NOMOUNT'',1,''MOUNT'',2,''OPEN'',3) DATABASE_MODE',
'    FROM RCA13_ORACHK_AUDIT_CHECKS SF,',
'      RCA13_ORACHK_CHECKS_DB_MODES DT,',
'      RCA13_ORACHK_DB_MODES_MASTER MST',
'    WHERE SF.CHECK_ID       =DT.CHECK_ID',
'    AND MST.DATABASE_MODE_ID=DT.DATABASE_MODE_ID',
'    AND SF.CHECK_ID         = checkId',
'    ORDER BY DATABASE_MODE;',
'  CURSOR DB_ROLES(checkId VARCHAR2)',
'  IS',
'    SELECT MST.DATABASE_ROLE',
'    FROM RCA13_ORACHK_AUDIT_CHECKS SF,',
'      RCA13_ORACHK_CHECKS_DB_ROLES DT,',
'      RCA13_ORACHK_DB_ROLES_MASTER MST',
'    WHERE SF.CHECK_ID       =DT.CHECK_ID',
'    AND MST.DATABASE_ROLE_ID=DT.DATABASE_ROLE_ID',
'    AND SF.CHECK_ID         = checkId',
'    ORDER BY MST.DATABASE_ROLE;',
'  CURSOR CAND_SYS(checkId VARCHAR2)',
'  IS',
'    SELECT MST.CAND_SYS_NAME',
'    FROM RCA13_ORACHK_AUDIT_CHECKS SF,',
'      RCA13_ORACHK_CHECKS_CAND_SYS DT,',
'      RCA13_ORACHK_CAND_SYS MST',
'    WHERE SF.CHECK_ID  =DT.CHECK_ID',
'    AND MST.CAND_SYS_ID=DT.CAND_SYS_ID',
'    AND SF.CHECK_ID    = checkId',
'    ORDER BY MST.CAND_SYS_NAME;',
'  CURSOR VERSIONS(checkId VARCHAR2)',
'  IS',
'    SELECT MST.VERSION_NAME',
'    FROM RCA13_ORACHK_AUDIT_CHECKS SF,',
'      RCA13_ORACHK_CHECKS_VERSION VER,',
'      RCA13_VERSION MST',
'    WHERE SF.CHECK_ID =VER.CHECK_ID',
'    AND MST.VERSION_ID=VER.VERSION_ID',
'    AND SF.CHECK_ID   = checkId',
'    ORDER BY MST.VERSION_NAME;',
'  CURSOR PLATFORMS(checkId VARCHAR2)',
'  IS',
'    SELECT DISTINCT RP.NAME,',
'      RP.PRODUCT_LINE_ID',
'    FROM RCA13_ORACHK_CHECKS_PLATFORM RCP,',
'      RCA13_PLATFORM RP,',
'      RCA13_DISTRIBUTION RD',
'    WHERE RP.PLATFORM_ID      =RD.PLATFORM_ID',
'    AND RCP.DISTRIBUTION_OS_ID=RD.DISTRIBUTION_OS_ID',
'    AND check_id              =checkId',
'    ORDER BY RP.NAME;',
'    ',
'  CURSOR FLAVORS(checkId VARCHAR2,PRODUCTLINEID NUMBER)',
'  IS',
'    SELECT RD.OSDIST',
'      ||RD.OSVERSION FLAVOR',
'    FROM RCA13_ORACHK_CHECKS_PLATFORM RCP,',
'      RCA13_PLATFORM RP,',
'      RCA13_DISTRIBUTION RD',
'    WHERE RP.PLATFORM_ID      =RD.PLATFORM_ID',
'    AND RCP.DISTRIBUTION_OS_ID=RD.DISTRIBUTION_OS_ID',
'    AND check_id              =checkId',
'    AND RP.PRODUCT_LINE_ID    =PRODUCTLINEID',
'    ORDER BY FLAVOR;',
'  CURSOR LINKS(checkId VARCHAR2)',
'  IS',
'    SELECT MST.NAME,',
'      MST.LINK',
'    FROM RCA13_ORACHK_AUDIT_CHECKS SF,',
'      RCA13_ORACHK_LINK MST,',
'      RCA13_ORACHK_CHECKS_LINK LK',
'    WHERE SF.CHECK_ID =LK.CHECK_ID',
'    AND MST.SF_LINK_ID=LK.SF_LINK_ID',
'    AND SF.CHECK_ID   = checkId',
'    ORDER BY MST.NAME;',
'BEGIN',
'  theFile := ''<?xml version="1.0" encoding="UTF-8"?> ''||chr(10)||chr(10);',
'  dbms_lob.append(theFile,''<UserDefinedChecks'' || chr(10));',
'  dbms_lob.append(theFile,''xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"''|| CHR(10) ||''xsi:noNamespaceSchemaLocation="user_defined_checks.xsd">'' || chr(10));',
'  dbms_lob.append(theFile,chr(10));',
'  FOR REC IN USER_CHECKS',
'  LOOP',
'    checkId:=REC.check_id;',
'    dbms_lob.append(theFile,''<CHECK AUDIT_CHECK_NAME="'' || rec.AUDIT_CHECK_NAME || ''">''||chr(10));',
'    dbms_lob.append(theFile,''<DISABLED>'' || rec.ON_HOLD || ''</DISABLED>''||chr(10));',
'    dbms_lob.append(theFile,''<ORACLE_VERSION>'');',
'    FOR verrec IN versions(checkId)',
'    LOOP',
'      dbms_lob.append(theFile, regexp_replace(verrec.version_name,''[[:punct:]]'','''') || '':'' );',
'      trimflag := true;',
'    END LOOP;',
'    IF (trimflag) THEN',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-1);',
'      trimflag := false;',
'    ELSE',
'      NULL;',
'    END IF;',
'    dbms_lob.append(theFile, ''</ORACLE_VERSION>''||chr(10));',
'    dbms_lob.append(theFile,''<PLATFORMS>''||chr(10));',
'    FOR PL_NAME IN PLATFORMS(checkId)',
'    LOOP',
'      SELECT DECODE(PL_NAME.product_line_id, 23,''SOLARISSPARC64'', 46,''LINUXX86'', 226,''LINUXX8664'', 59,''HPUX'', 197,''HPUX'', 212,''AIXPPC64'', 267,''SOLARISX8664'', 233,''MSWINDOWS'', 209,''LINUXZX8664'')',
'      INTO plname',
'      FROM dual;',
'      dbms_lob.append(theFile, ''<PLATFORM TYPE="'' || plname || ''">''||chr(10));',
'      plname := NULL;',
'      dbms_lob.append(theFile,''<FLAVOR>'');',
'      FOR FL_VER IN FLAVORS(checkId,PL_NAME.PRODUCT_LINE_ID)',
'      LOOP',
'        IF(PL_NAME.PRODUCT_LINE_ID=59) THEN',
'          dbms_lob.append(theFile, regexp_replace(''PARISC''||FL_VER.FLAVOR,''[[:punct:]]'','''') || '':'');',
'        elsif(PL_NAME.PRODUCT_LINE_ID=197) THEN',
'          dbms_lob.append(theFile, regexp_replace(''ITANIUM''||FL_VER.FLAVOR,''[[:punct:]]'','''') || '':'');',
'        elsif(PL_NAME.PRODUCT_LINE_ID=233) then',
'         dbms_lob.append(theFile, regexp_replace(''64'',''[[:punct:]]'','''') || '':'');',
'        else',
'          dbms_lob.append(theFile, regexp_replace(FL_VER.FLAVOR,''[[:punct:]]'','''') || '':'');',
'        END IF;',
'        trimflag := true;',
'      END LOOP;',
'      IF (trimflag) THEN',
'        dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-1);',
'        trimflag := false;',
'      ELSE',
'        trimflag := false;',
'      END IF;',
'      dbms_lob.append(theFile,''</FLAVOR>''||chr(10));',
'      dbms_lob.append(theFile, ''</PLATFORM>''||chr(10));',
'    END LOOP;',
'    dbms_lob.append(theFile,''</PLATFORMS>''||chr(10));',
'    IF(REC.ACTION_TYPE=''OS'') THEN',
'      dbms_lob.append(theFile,''<OS_COMMAND>'' || chr(10)||''  <![CDATA[   '' || rec.COMMAND || ''   ]]>'' || chr(10)||''  </OS_COMMAND>''||chr(10));',
'      dbms_lob.append(theFile,''<OS_COMMAND_REPORT> '' || chr(10)||''  <![CDATA[   '' || rec.COMMAND_REPORT || ''   ]]>'' || chr(10)||''  </OS_COMMAND_REPORT>''||chr(10));',
'     -- dbms_lob.append(theFile,''<PARAM_PATH>'' || rec.PARAM_PATH || ''</PARAM_PATH>''||chr(10));',
'    ELSIF (REC.ACTION_TYPE=''SQL'') THEN',
'      dbms_lob.append(theFile,''<PARAM_PATH>'' || rec.PARAM_PATH || ''</PARAM_PATH>''||chr(10));',
'      dbms_lob.append(theFile,''<SQL_COMMAND> '' || chr(10)||'' <![CDATA[  '' ||SUBSTR(rec.COMMAND, 1, 7) || ''''''''|| rec.PARAM_PATH ||''=''''||'' || SUBSTR(rec.COMMAND, 8) || ''   ]]>'' || chr(10)||''  </SQL_COMMAND>''||chr(10));',
'      dbms_lob.append(theFile,''<SQL_COMMAND_REPORT> '' || chr(10)||'' <![CDATA[   '' || rec.COMMAND_REPORT || ''   ]]>'' || chr(10)||''  </SQL_COMMAND_REPORT>''||chr(10));',
'    END IF;',
'    IF (rec.OPERATOR_STRING is not NULL) THEN',
'      dbms_lob.append(theFile,''<OPERATOR>'' || rec.OPERATOR_STRING || ''</OPERATOR>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF;',
'    IF (rec.COMPARE_VALUE is not NULL) THEN',
'    dbms_lob.append(theFile,''<COMPARE_VALUE>'' || rec.COMPARE_VALUE || ''</COMPARE_VALUE>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF;',
'    dbms_lob.append(theFile,''<CANDIDATE_SYSTEMS>'');',
'    FOR C_SYS IN CAND_SYS(checkId)',
'    LOOP',
'      dbms_lob.append(theFile, C_SYS.CAND_SYS_NAME || '':'' );',
'      trimflag := true;',
'    END LOOP;',
'    IF (trimflag) THEN',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-1);',
'      dbms_lob.append(theFile,''</CANDIDATE_SYSTEMS>''||chr(10));',
'      trimflag := false;',
'    ELSE',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-19);',
'      trimflag := false;',
'    END IF;    ',
'    IF (rec.COMPONENT_DEPENDENCY IS NOT NULL) THEN',
'      dbms_lob.append(theFile,''<COMPONENT_DEPENDENCY>'' || rec.COMPONENT_DEPENDENCY || ''</COMPONENT_DEPENDENCY>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF;',
'    dbms_lob.append(theFile,''<DATABASE_MODE>'');',
'    FOR DBMODES IN DB_MODES(checkId)',
'    LOOP',
'      dbms_lob.append(theFile, DBMODES.DATABASE_MODE || '':'');',
'      trimflag := true;',
'    END LOOP;',
'    IF (trimflag) THEN',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-1);',
'      dbms_lob.append(theFile,''</DATABASE_MODE>''||chr(10));',
'      trimflag := false;',
'    ELSE',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-15);',
'      trimflag := false;',
'    END IF;   ',
'    IF (rec.ORACLE_HOME_TYPE is not NULL) THEN',
'      dbms_lob.append(theFile,''<ORACLE_HOME_TYPE>'' || rec.ORACLE_HOME_TYPE || ''</ORACLE_HOME_TYPE>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF;',
'    dbms_lob.append(theFile,''<DATABASE_TYPE>'');',
'    FOR DBTYPES IN DB_TYPES(checkId)',
'    LOOP',
'      dbms_lob.append(theFile, DBTYPES.DATABASE_TYPE || '':'' );',
'      trimflag := true;',
'    END LOOP;',
'    IF (trimflag) THEN',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-1);',
'      dbms_lob.append(theFile,''</DATABASE_TYPE>''||chr(10));',
'      trimflag := false;',
'    ELSE',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-15);',
'       trimflag := false;',
'    END IF;    ',
'    dbms_lob.append(theFile,''<DATABASE_ROLE>'');',
'    FOR DBROLES IN DB_ROLES(checkId)',
'    LOOP',
'      dbms_lob.append(theFile, DBROLES.DATABASE_ROLE || '':'');',
'      trimflag := true;',
'    END LOOP;',
'    IF (trimflag) THEN',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-1);',
'      dbms_lob.append(theFile,''</DATABASE_ROLE>''||chr(10));',
'      trimflag := false;',
'    ELSE',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-15);',
'       trimflag := false;',
'    END IF;',
'   ',
'    dbms_lob.append(theFile,''<ALERT_LEVEL>'' || rec.ALERT_LEVEL || ''</ALERT_LEVEL>''||chr(10));',
'    dbms_lob.append(theFile,''<PASS_MSG>  <![CDATA[   '' || rec.PASS_MSG || ''   ]]> </PASS_MSG>''|| chr(10));',
'    dbms_lob.append(theFile,''<FAIL_MSG>  <![CDATA[   '' || rec.FAIL_MSG || ''   ]]> </FAIL_MSG>''|| chr(10));',
'     IF (rec.BENEFIT_IMPACT is not NULL) THEN',
'      dbms_lob.append(theFile,''<BENEFIT_IMPACT>'' ||chr(10) ||'' <![CDATA[   '' || rec.BENEFIT_IMPACT || ''   ]]>'' || chr(10)||'' </BENEFIT_IMPACT>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF;',
'     IF (rec.RISK is not NULL) THEN',
'      dbms_lob.append(theFile,''<RISK>'' || chr(10)||'' <![CDATA[   '' || rec.RISK || ''   ]]>'' || chr(10)||'' </RISK>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF;',
'     IF (rec.ACTION_REPAIR is not NULL) THEN',
'     dbms_lob.append(theFile,''<ACTION_REPAIR>'' || chr(10)||''  <![CDATA[   '' || rec.ACTION_REPAIR || ''   ]]>'' || chr(10)||'' </ACTION_REPAIR>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF; ',
'    dbms_lob.append(theFile,''<LINKS>'' ||chr(10));',
'    FOR LK_NAME IN LINKS(checkId)',
'    LOOP',
'      dbms_lob.append(theFile,''<LINK>  <![CDATA[   '' || LK_NAME.NAME || '' - '' || LK_NAME.LINK|| ''   ]]> </LINK>''||chr(10));',
'      trimflag := true;',
'    END LOOP;',
'    IF (trimflag) THEN',
'      dbms_lob.append(theFile,''</LINKS>''||chr(10));',
'      trimflag := false;',
'    ELSE',
'     dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-8);',
'      trimflag := false;',
'    END IF;',
'    dbms_lob.append(theFile,chr(10));',
'    dbms_lob.append(theFile,''</CHECK>''||chr(10));',
'    dbms_lob.append(theFile,chr(10));',
'  END LOOP;',
'  dbms_lob.append(theFile,''</UserDefinedChecks>''||chr(10));',
'  UPDATE RCA13_DOCS',
'  SET FILENAME=''user_defined_checks''',
'    ||parampathseq.nextval',
'    ||''.xml''',
'  WHERE FILENAME=''user_defined_checks.xml'';',
'  BEGIN',
'    RCA13_DOCLIB.create_document_from_text(''user_defined_checks.xml'',theFile,TO_CHAR(sysdate,''MM/DD/YYYY HH24:MI:SS''),app_user);',
'    COMMIT;',
'  EXCEPTION',
'  WHEN OTHERS THEN',
'    raise_application_error(-20001,DBMS_UTILITY.FORMAT_ERROR_STACK || '' '' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);',
'  END;',
'END UserDefPluginXml;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4155412915530722)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'XML Plugin'
,p_sequence=>2200
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE PROCEDURE UserDefPluginXml(',
'    app_user VARCHAR2)',
'IS',
'  checkId VARCHAR2(40);',
'  theFile CLOB;',
'  plname   VARCHAR2(4000);',
'  trimflag BOOLEAN := false;',
'  CURSOR USER_CHECKS',
'  IS',
'    SELECT CHECK_ID,',
'      AUDIT_CHECK_NAME,',
'      ON_HOLD,',
'      ACTION_TYPE,',
'      PARAM_PATH,',
'      COMMAND,',
'      COMMAND_REPORT,',
'      OPERATOR_STRING,',
'      COMPARE_VALUE,',
'      COMPONENT_DEPENDENCY,',
'      ORACLE_HOME_TYPE,',
'      ALERT_LEVEL,',
'      PASS_MSG,',
'      FAIL_MSG,',
'      BENEFIT_IMPACT,',
'      RISK,',
'      ACTION_REPAIR',
'    FROM RCA13_ORACHK_AUDIT_CHECKS',
'    ORDER BY create_date DESC;',
'  CURSOR DB_TYPES(checkId VARCHAR2)',
'  IS',
'    SELECT MST.DATABASE_TYPE',
'    FROM RCA13_ORACHK_AUDIT_CHECKS SF,',
'      RCA13_ORACHK_CHECKS_DB_TYPES DT,',
'      RCA13_ORACHK_DB_TYPES_MASTER MST',
'    WHERE SF.CHECK_ID       =DT.CHECK_ID',
'    AND MST.DATABASE_TYPE_ID=DT.DATABASE_TYPE_ID',
'    AND SF.CHECK_ID         = checkId',
'    ORDER BY MST.DATABASE_TYPE;',
'  CURSOR DB_MODES(checkId VARCHAR2)',
'  IS',
'    SELECT DECODE(DATABASE_MODE,''NOMOUNT'',1,''MOUNT'',2,''OPEN'',3) DATABASE_MODE',
'    FROM RCA13_ORACHK_AUDIT_CHECKS SF,',
'      RCA13_ORACHK_CHECKS_DB_MODES DT,',
'      RCA13_ORACHK_DB_MODES_MASTER MST',
'    WHERE SF.CHECK_ID       =DT.CHECK_ID',
'    AND MST.DATABASE_MODE_ID=DT.DATABASE_MODE_ID',
'    AND SF.CHECK_ID         = checkId',
'    ORDER BY DATABASE_MODE;',
'  CURSOR DB_ROLES(checkId VARCHAR2)',
'  IS',
'    SELECT MST.DATABASE_ROLE',
'    FROM RCA13_ORACHK_AUDIT_CHECKS SF,',
'      RCA13_ORACHK_CHECKS_DB_ROLES DT,',
'      RCA13_ORACHK_DB_ROLES_MASTER MST',
'    WHERE SF.CHECK_ID       =DT.CHECK_ID',
'    AND MST.DATABASE_ROLE_ID=DT.DATABASE_ROLE_ID',
'    AND SF.CHECK_ID         = checkId',
'    ORDER BY MST.DATABASE_ROLE;',
'  CURSOR CAND_SYS(checkId VARCHAR2)',
'  IS',
'    SELECT MST.CAND_SYS_NAME',
'    FROM RCA13_ORACHK_AUDIT_CHECKS SF,',
'      RCA13_ORACHK_CHECKS_CAND_SYS DT,',
'      RCA13_ORACHK_CAND_SYS MST',
'    WHERE SF.CHECK_ID  =DT.CHECK_ID',
'    AND MST.CAND_SYS_ID=DT.CAND_SYS_ID',
'    AND SF.CHECK_ID    = checkId',
'    ORDER BY MST.CAND_SYS_NAME;',
'  CURSOR VERSIONS(checkId VARCHAR2)',
'  IS',
'    SELECT MST.VERSION_NAME',
'    FROM RCA13_ORACHK_AUDIT_CHECKS SF,',
'      RCA13_ORACHK_CHECKS_VERSION VER,',
'      RCA13_VERSION MST',
'    WHERE SF.CHECK_ID =VER.CHECK_ID',
'    AND MST.VERSION_ID=VER.VERSION_ID',
'    AND SF.CHECK_ID   = checkId',
'    ORDER BY MST.VERSION_NAME;',
'  CURSOR PLATFORMS(checkId VARCHAR2)',
'  IS',
'    SELECT DISTINCT RP.NAME,',
'      RP.PRODUCT_LINE_ID',
'    FROM RCA13_ORACHK_CHECKS_PLATFORM RCP,',
'      RCA13_PLATFORM RP,',
'      RCA13_DISTRIBUTION RD',
'    WHERE RP.PLATFORM_ID      =RD.PLATFORM_ID',
'    AND RCP.DISTRIBUTION_OS_ID=RD.DISTRIBUTION_OS_ID',
'    AND check_id              =checkId',
'    ORDER BY RP.NAME;',
'    ',
'  CURSOR FLAVORS(checkId VARCHAR2,PRODUCTLINEID NUMBER)',
'  IS',
'    SELECT RD.OSDIST',
'      ||RD.OSVERSION FLAVOR',
'    FROM RCA13_ORACHK_CHECKS_PLATFORM RCP,',
'      RCA13_PLATFORM RP,',
'      RCA13_DISTRIBUTION RD',
'    WHERE RP.PLATFORM_ID      =RD.PLATFORM_ID',
'    AND RCP.DISTRIBUTION_OS_ID=RD.DISTRIBUTION_OS_ID',
'    AND check_id              =checkId',
'    AND RP.PRODUCT_LINE_ID    =PRODUCTLINEID',
'    ORDER BY FLAVOR;',
'  CURSOR LINKS(checkId VARCHAR2)',
'  IS',
'    SELECT MST.NAME,',
'      MST.LINK',
'    FROM RCA13_ORACHK_AUDIT_CHECKS SF,',
'      RCA13_ORACHK_LINK MST,',
'      RCA13_ORACHK_CHECKS_LINK LK',
'    WHERE SF.CHECK_ID =LK.CHECK_ID',
'    AND MST.SF_LINK_ID=LK.SF_LINK_ID',
'    AND SF.CHECK_ID   = checkId',
'    ORDER BY MST.NAME;',
'BEGIN',
'  theFile := ''<?xml version="1.0" encoding="UTF-8"?> ''||chr(10)||chr(10);',
'  dbms_lob.append(theFile,''<UserDefinedChecks'' || chr(10));',
'  dbms_lob.append(theFile,''xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"''|| CHR(10) ||''xsi:noNamespaceSchemaLocation="user_defined_checks.xsd">'' || chr(10));',
'  dbms_lob.append(theFile,chr(10));',
'  FOR REC IN USER_CHECKS',
'  LOOP',
'    checkId:=REC.check_id;',
'    dbms_lob.append(theFile,''<CHECK AUDIT_CHECK_NAME="'' || rec.AUDIT_CHECK_NAME || ''">''||chr(10));',
'    dbms_lob.append(theFile,''<DISABLED>'' || rec.ON_HOLD || ''</DISABLED>''||chr(10));',
'    dbms_lob.append(theFile,''<ORACLE_VERSION>'');',
'    FOR verrec IN versions(checkId)',
'    LOOP',
'      dbms_lob.append(theFile, regexp_replace(verrec.version_name,''[[:punct:]]'','''') || '':'' );',
'      trimflag := true;',
'    END LOOP;',
'    IF (trimflag) THEN',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-1);',
'      trimflag := false;',
'    ELSE',
'      NULL;',
'    END IF;',
'    dbms_lob.append(theFile, ''</ORACLE_VERSION>''||chr(10));',
'    dbms_lob.append(theFile,''<PLATFORMS>''||chr(10));',
'    FOR PL_NAME IN PLATFORMS(checkId)',
'    LOOP',
'      SELECT DECODE(PL_NAME.product_line_id, 23,''SOLARISSPARC64'', 46,''LINUXX86'', 226,''LINUXX8664'', 59,''HPUX'', 197,''HPUX'', 212,''AIXPPC64'', 267,''SOLARISX8664'', 233,''MSWINDOWS'', 209,''LINUXZX8664'')',
'      INTO plname',
'      FROM dual;',
'      dbms_lob.append(theFile, ''<PLATFORM TYPE="'' || plname || ''">''||chr(10));',
'      plname := NULL;',
'      dbms_lob.append(theFile,''<FLAVOR>'');',
'      FOR FL_VER IN FLAVORS(checkId,PL_NAME.PRODUCT_LINE_ID)',
'      LOOP',
'        IF(PL_NAME.PRODUCT_LINE_ID=59) THEN',
'          dbms_lob.append(theFile, regexp_replace(''PARISC''||FL_VER.FLAVOR,''[[:punct:]]'','''') || '':'');',
'        elsif(PL_NAME.PRODUCT_LINE_ID=197) THEN',
'          dbms_lob.append(theFile, regexp_replace(''ITANIUM''||FL_VER.FLAVOR,''[[:punct:]]'','''') || '':'');',
'        elsif(PL_NAME.PRODUCT_LINE_ID=233) then',
'         dbms_lob.append(theFile, regexp_replace(''64'',''[[:punct:]]'','''') || '':'');',
'        else',
'          dbms_lob.append(theFile, regexp_replace(FL_VER.FLAVOR,''[[:punct:]]'','''') || '':'');',
'        END IF;',
'        trimflag := true;',
'      END LOOP;',
'      IF (trimflag) THEN',
'        dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-1);',
'        trimflag := false;',
'      ELSE',
'        trimflag := false;',
'      END IF;',
'      dbms_lob.append(theFile,''</FLAVOR>''||chr(10));',
'      dbms_lob.append(theFile, ''</PLATFORM>''||chr(10));',
'    END LOOP;',
'    dbms_lob.append(theFile,''</PLATFORMS>''||chr(10));',
'    IF(REC.ACTION_TYPE=''OS'') THEN',
'      dbms_lob.append(theFile,''<OS_COMMAND>'' || chr(10)||''  <![CDATA[   '' || rec.COMMAND || ''   ]]>'' || chr(10)||''  </OS_COMMAND>''||chr(10));',
'      dbms_lob.append(theFile,''<OS_COMMAND_REPORT> '' || chr(10)||''  <![CDATA[   '' || rec.COMMAND_REPORT || ''   ]]>'' || chr(10)||''  </OS_COMMAND_REPORT>''||chr(10));',
'     -- dbms_lob.append(theFile,''<PARAM_PATH>'' || rec.PARAM_PATH || ''</PARAM_PATH>''||chr(10));',
'    ELSIF (REC.ACTION_TYPE=''SQL'') THEN',
'      dbms_lob.append(theFile,''<PARAM_PATH>'' || rec.PARAM_PATH || ''</PARAM_PATH>''||chr(10));',
'      dbms_lob.append(theFile,''<SQL_COMMAND> '' || chr(10)||'' <![CDATA[  '' ||SUBSTR(rec.COMMAND, 1, 7) || ''''''''|| rec.PARAM_PATH ||''=''''||'' || SUBSTR(rec.COMMAND, 8) || ''   ]]>'' || chr(10)||''  </SQL_COMMAND>''||chr(10));',
'      dbms_lob.append(theFile,''<SQL_COMMAND_REPORT> '' || chr(10)||'' <![CDATA[   '' || rec.COMMAND_REPORT || ''   ]]>'' || chr(10)||''  </SQL_COMMAND_REPORT>''||chr(10));',
'    END IF;',
'    IF (rec.OPERATOR_STRING is not NULL) THEN',
'      dbms_lob.append(theFile,''<OPERATOR>'' || rec.OPERATOR_STRING || ''</OPERATOR>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF;',
'    IF (rec.COMPARE_VALUE is not NULL) THEN',
'    dbms_lob.append(theFile,''<COMPARE_VALUE>'' || rec.COMPARE_VALUE || ''</COMPARE_VALUE>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF;',
'    dbms_lob.append(theFile,''<CANDIDATE_SYSTEMS>'');',
'    FOR C_SYS IN CAND_SYS(checkId)',
'    LOOP',
'      dbms_lob.append(theFile, C_SYS.CAND_SYS_NAME || '':'' );',
'      trimflag := true;',
'    END LOOP;',
'    IF (trimflag) THEN',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-1);',
'      dbms_lob.append(theFile,''</CANDIDATE_SYSTEMS>''||chr(10));',
'      trimflag := false;',
'    ELSE',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-19);',
'      trimflag := false;',
'    END IF;    ',
'    IF (rec.COMPONENT_DEPENDENCY IS NOT NULL) THEN',
'      dbms_lob.append(theFile,''<COMPONENT_DEPENDENCY>'' || rec.COMPONENT_DEPENDENCY || ''</COMPONENT_DEPENDENCY>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF;',
'    dbms_lob.append(theFile,''<DATABASE_MODE>'');',
'    FOR DBMODES IN DB_MODES(checkId)',
'    LOOP',
'      dbms_lob.append(theFile, DBMODES.DATABASE_MODE || '':'');',
'      trimflag := true;',
'    END LOOP;',
'    IF (trimflag) THEN',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-1);',
'      dbms_lob.append(theFile,''</DATABASE_MODE>''||chr(10));',
'      trimflag := false;',
'    ELSE',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-15);',
'      trimflag := false;',
'    END IF;   ',
'    IF (rec.ORACLE_HOME_TYPE is not NULL) THEN',
'      dbms_lob.append(theFile,''<ORACLE_HOME_TYPE>'' || rec.ORACLE_HOME_TYPE || ''</ORACLE_HOME_TYPE>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF;',
'    dbms_lob.append(theFile,''<DATABASE_TYPE>'');',
'    FOR DBTYPES IN DB_TYPES(checkId)',
'    LOOP',
'      dbms_lob.append(theFile, DBTYPES.DATABASE_TYPE || '':'' );',
'      trimflag := true;',
'    END LOOP;',
'    IF (trimflag) THEN',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-1);',
'      dbms_lob.append(theFile,''</DATABASE_TYPE>''||chr(10));',
'      trimflag := false;',
'    ELSE',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-15);',
'       trimflag := false;',
'    END IF;    ',
'    dbms_lob.append(theFile,''<DATABASE_ROLE>'');',
'    FOR DBROLES IN DB_ROLES(checkId)',
'    LOOP',
'      dbms_lob.append(theFile, DBROLES.DATABASE_ROLE || '':'');',
'      trimflag := true;',
'    END LOOP;',
'    IF (trimflag) THEN',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-1);',
'      dbms_lob.append(theFile,''</DATABASE_ROLE>''||chr(10));',
'      trimflag := false;',
'    ELSE',
'      dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-15);',
'       trimflag := false;',
'    END IF;',
'   ',
'    dbms_lob.append(theFile,''<ALERT_LEVEL>'' || rec.ALERT_LEVEL || ''</ALERT_LEVEL>''||chr(10));',
'    dbms_lob.append(theFile,''<PASS_MSG>  <![CDATA[   '' || rec.PASS_MSG || ''   ]]> </PASS_MSG>''|| chr(10));',
'    dbms_lob.append(theFile,''<FAIL_MSG>  <![CDATA[   '' || rec.FAIL_MSG || ''   ]]> </FAIL_MSG>''|| chr(10));',
'     IF (rec.BENEFIT_IMPACT is not NULL) THEN',
'      dbms_lob.append(theFile,''<BENEFIT_IMPACT>'' ||chr(10) ||'' <![CDATA[   '' || rec.BENEFIT_IMPACT || ''   ]]>'' || chr(10)||'' </BENEFIT_IMPACT>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF;',
'     IF (rec.RISK is not NULL) THEN',
'      dbms_lob.append(theFile,''<RISK>'' || chr(10)||'' <![CDATA[   '' || rec.RISK || ''   ]]>'' || chr(10)||'' </RISK>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF;',
'     IF (rec.ACTION_REPAIR is not NULL) THEN',
'     dbms_lob.append(theFile,''<ACTION_REPAIR>'' || chr(10)||''  <![CDATA[   '' || rec.ACTION_REPAIR || ''   ]]>'' || chr(10)||'' </ACTION_REPAIR>''||chr(10));',
'    ELSE',
'      NULL;',
'    END IF; ',
'    dbms_lob.append(theFile,''<LINKS>'' ||chr(10));',
'    FOR LK_NAME IN LINKS(checkId)',
'    LOOP',
'      dbms_lob.append(theFile,''<LINK>  <![CDATA[   '' || LK_NAME.NAME || '' - '' || LK_NAME.LINK|| ''   ]]> </LINK>''||chr(10));',
'      trimflag := true;',
'    END LOOP;',
'    IF (trimflag) THEN',
'      dbms_lob.append(theFile,''</LINKS>''||chr(10));',
'      trimflag := false;',
'    ELSE',
'     dbms_lob.trim(theFile,dbms_lob.getlength(theFile)-8);',
'      trimflag := false;',
'    END IF;',
'    dbms_lob.append(theFile,chr(10));',
'    dbms_lob.append(theFile,''</CHECK>''||chr(10));',
'    dbms_lob.append(theFile,chr(10));',
'  END LOOP;',
'  dbms_lob.append(theFile,''</UserDefinedChecks>''||chr(10));',
'  UPDATE RCA13_DOCS',
'  SET FILENAME=''user_defined_checks''',
'    ||parampathseq.nextval',
'    ||''.xml''',
'  WHERE FILENAME=''user_defined_checks.xml'';',
'  BEGIN',
'    RCA13_DOCLIB.create_document_from_text(''user_defined_checks.xml'',theFile,TO_CHAR(sysdate,''MM/DD/YYYY HH24:MI:SS''),app_user);',
'    COMMIT;',
'  EXCEPTION',
'  WHEN OTHERS THEN',
'    raise_application_error(-20001,DBMS_UTILITY.FORMAT_ERROR_STACK || '' '' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);',
'  END;',
'END UserDefPluginXml;'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4149229061175923)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Platform List'
,p_sequence=>2210
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION rca13_getplatformlist(',
'    chk_id IN VARCHAR2)',
'  RETURN VARCHAR2',
'IS',
'  platform_list VARCHAR2(4000) := NULL;',
'BEGIN',
'  SELECT pname',
'  INTO platform_list',
'  FROM',
'    (SELECT check_id,',
'      listagg(rtrim(pname),'',<br>'') within GROUP (',
'    ORDER BY pname) pname',
'    FROM',
'      (SELECT check_id,',
'        pname',
'      FROM RCA13_ORACHK_CHECKS_PLATFORM acp,',
'        (SELECT DECODE(p.product_line_id, 23,''Solaris Sparc'', 46,''Linuxx86'', 226,''Linuxx8664'', 59,''HP-UXPA-RISC'', 197,''HP-UXItanium'', 212,''AIX'', 267,''Solarisx8664'', 233,''MSWindowsx64(64-bit)'', 209,''ZLinux(64-bit)'')',
'          ||''-''',
'          ||rtrim(osdist)',
'          ||rtrim(osversion) pname,',
'          DISTRIBUTION_OS_ID',
'        FROM RCA13_DISTRIBUTION a,',
'          RCA13_PLATFORM p',
'        WHERE a.platform_id     = p.platform_id',
'        AND a.osdist_rep_kernel = 1',
'        ORDER BY pname',
'        ) t3',
'      WHERE acp.distribution_os_id = t3.distribution_os_id',
'      AND acp.check_id             = chk_id',
'      GROUP BY check_id,',
'        pname',
'      )ab',
'    GROUP BY CHECK_ID',
'    );',
'  dbms_output.put_line(platform_list);',
'  RETURN platform_list;',
'END;',
'/',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4155620880532999)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Platform List'
,p_sequence=>2210
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION rca13_getplatformlist(',
'    chk_id IN VARCHAR2)',
'  RETURN VARCHAR2',
'IS',
'  platform_list VARCHAR2(4000) := NULL;',
'BEGIN',
'  SELECT pname',
'  INTO platform_list',
'  FROM',
'    (SELECT check_id,',
'      listagg(rtrim(pname),'',<br>'') within GROUP (',
'    ORDER BY pname) pname',
'    FROM',
'      (SELECT check_id,',
'        pname',
'      FROM RCA13_ORACHK_CHECKS_PLATFORM acp,',
'        (SELECT DECODE(p.product_line_id, 23,''Solaris Sparc'', 46,''Linuxx86'', 226,''Linuxx8664'', 59,''HP-UXPA-RISC'', 197,''HP-UXItanium'', 212,''AIX'', 267,''Solarisx8664'', 233,''MSWindowsx64(64-bit)'', 209,''ZLinux(64-bit)'')',
'          ||''-''',
'          ||rtrim(osdist)',
'          ||rtrim(osversion) pname,',
'          DISTRIBUTION_OS_ID',
'        FROM RCA13_DISTRIBUTION a,',
'          RCA13_PLATFORM p',
'        WHERE a.platform_id     = p.platform_id',
'        AND a.osdist_rep_kernel = 1',
'        ORDER BY pname',
'        ) t3',
'      WHERE acp.distribution_os_id = t3.distribution_os_id',
'      AND acp.check_id             = chk_id',
'      GROUP BY check_id,',
'        pname',
'      )ab',
'    GROUP BY CHECK_ID',
'    );',
'  dbms_output.put_line(platform_list);',
'  RETURN platform_list;',
'END;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4149727461184896)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Version List'
,p_sequence=>2220
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION rca13_getversionlist(',
'    chk_id IN VARCHAR2)',
'  RETURN VARCHAR2',
'IS',
'  version_list VARCHAR2(4000) := NULL;',
'BEGIN',
'  SELECT vname',
'  INTO version_list',
'  FROM',
'    (SELECT check_id,',
'      listagg(vname,'',<br>'') within GROUP (',
'    ORDER BY vname) vname',
'    FROM',
'      (SELECT cv.check_id,',
'        vname',
'      FROM RCA13_ORACHK_CHECKS_VERSION cv,',
'        ( SELECT VERSION_NAME vname,version_id FROM RCA13_VERSION vv ORDER BY vname',
'        ) a',
'      WHERE cv.version_id = a.version_id',
'      AND check_id        = chk_id',
'      GROUP BY cv.check_id,',
'        vname',
'      ) ab',
'    GROUP BY CHECK_ID',
'    );',
'  RETURN version_list;',
'END;',
'/',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4155829884535633)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Version List'
,p_sequence=>2220
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION rca13_getversionlist(',
'    chk_id IN VARCHAR2)',
'  RETURN VARCHAR2',
'IS',
'  version_list VARCHAR2(4000) := NULL;',
'BEGIN',
'  SELECT vname',
'  INTO version_list',
'  FROM',
'    (SELECT check_id,',
'      listagg(vname,'',<br>'') within GROUP (',
'    ORDER BY vname) vname',
'    FROM',
'      (SELECT cv.check_id,',
'        vname',
'      FROM RCA13_ORACHK_CHECKS_VERSION cv,',
'        ( SELECT VERSION_NAME vname,version_id FROM RCA13_VERSION vv ORDER BY vname',
'        ) a',
'      WHERE cv.version_id = a.version_id',
'      AND check_id        = chk_id',
'      GROUP BY cv.check_id,',
'        vname',
'      ) ab',
'    GROUP BY CHECK_ID',
'    );',
'  RETURN version_list;',
'END;',
'/',
'',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4150015817190999)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Candidate SystemList'
,p_sequence=>2230
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION rca13_getcandsyslist(',
'    chk_id IN VARCHAR2)',
'  RETURN VARCHAR2',
'IS',
'  cand_sys_list VARCHAR2(4000) := NULL;',
'BEGIN',
'  SELECT cname',
'  INTO cand_sys_list',
'  FROM',
'    (SELECT check_id,',
'      listagg(cname,'',<br>'') within GROUP (',
'    ORDER BY cname) cname',
'    FROM',
'      (SELECT ccs.check_id,',
'        cname',
'      FROM RCA13_ORACHK_CHECKS_CAND_SYS ccs,',
'        (SELECT decode(cand_sys_name,''RACCHECK'',''RAC'',',
'''SIDB'',''SINGLE INSTANCE'',',
'''X2-2'',''EXADATA X2-2'',',
'''X3-2'',''EXADATA X3-2'',',
'''X4-2'',''EXADATA X4-2'',',
'''X5-2'',''EXADATA X5-2'',',
'''X2-8'',''EXADATA X2-8'',',
'''X3-8'',''EXADATA X3-8'',',
'''X4-8'',''EXADATA X4-8'',',
'''X5-8'',''EXADATA X5-8'',',
'''DBM'',''EXADATA V2'',cand_sys_name) cname,',
'          cand_sys_id',
'        FROM RCA13_ORACHK_CAND_SYS cs',
'        ORDER BY cname',
'        ) a',
'      WHERE a.CAND_SYS_ID = ccs.CAND_SYS_ID',
'      AND check_id        = chk_id',
'      GROUP BY ccs.check_id,',
'        cname',
'      ) ab',
'    GROUP BY CHECK_ID',
'    );',
'  RETURN cand_sys_list;',
'END;',
'/'))
);
end;
/
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4156004735537805)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Candidate SystemList'
,p_sequence=>2230
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION rca13_getcandsyslist(',
'    chk_id IN VARCHAR2)',
'  RETURN VARCHAR2',
'IS',
'  cand_sys_list VARCHAR2(4000) := NULL;',
'BEGIN',
'  SELECT cname',
'  INTO cand_sys_list',
'  FROM',
'    (SELECT check_id,',
'      listagg(cname,'',<br>'') within GROUP (',
'    ORDER BY cname) cname',
'    FROM',
'      (SELECT ccs.check_id,',
'        cname',
'      FROM RCA13_ORACHK_CHECKS_CAND_SYS ccs,',
'        (SELECT decode(cand_sys_name,''RACCHECK'',''RAC'',',
'''SIDB'',''SINGLE INSTANCE'',',
'''X2-2'',''EXADATA X2-2'',',
'''X3-2'',''EXADATA X3-2'',',
'''X4-2'',''EXADATA X4-2'',',
'''X5-2'',''EXADATA X5-2'',',
'''X2-8'',''EXADATA X2-8'',',
'''X3-8'',''EXADATA X3-8'',',
'''X4-8'',''EXADATA X4-8'',',
'''X5-8'',''EXADATA X5-8'',',
'''DBM'',''EXADATA V2'',cand_sys_name) cname,',
'          cand_sys_id',
'        FROM RCA13_ORACHK_CAND_SYS cs',
'        ORDER BY cname',
'        ) a',
'      WHERE a.CAND_SYS_ID = ccs.CAND_SYS_ID',
'      AND check_id        = chk_id',
'      GROUP BY ccs.check_id,',
'        cname',
'      ) ab',
'    GROUP BY CHECK_ID',
'    );',
'  RETURN cand_sys_list;',
'END;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4150226206193977)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DB Type List'
,p_sequence=>2240
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION rca13_getdbtypelist(',
'    chk_id IN VARCHAR2)',
'  RETURN VARCHAR2',
'IS',
'  dbtype_list VARCHAR2(4000) := NULL;',
'BEGIN',
'  SELECT dbname',
'  INTO dbtype_list',
'  FROM',
'    (SELECT check_id,',
'      listagg(dbname,'', '') within GROUP (',
'    ORDER BY dbname) dbname',
'    FROM',
'      (SELECT cv.check_id,',
'        dbname',
'      FROM RCA13_ORACHK_CHECKS_DB_TYPES cv,',
'        (SELECT decode(database_type,''CDB'',''CONTAINER_DATABASE'',''PDB'',''PLUGGABLE_DATABASE'',database_type) dbname,',
'          DATABASE_TYPE_ID',
'        FROM RCA13_ORACHK_DB_TYPES_MASTER vv',
'        ORDER BY dbname',
'        ) a',
'      WHERE cv.DATABASE_TYPE_ID = a.DATABASE_TYPE_ID',
'      AND check_id              = chk_id',
'      GROUP BY cv.check_id,',
'        dbname',
'      ) ab',
'    GROUP BY CHECK_ID',
'    );',
'  RETURN dbtype_list;',
'END;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4156211661539848)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DB Type List'
,p_sequence=>2240
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION rca13_getdbtypelist(',
'    chk_id IN VARCHAR2)',
'  RETURN VARCHAR2',
'IS',
'  dbtype_list VARCHAR2(4000) := NULL;',
'BEGIN',
'  SELECT dbname',
'  INTO dbtype_list',
'  FROM',
'    (SELECT check_id,',
'      listagg(dbname,'', '') within GROUP (',
'    ORDER BY dbname) dbname',
'    FROM',
'      (SELECT cv.check_id,',
'        dbname',
'      FROM RCA13_ORACHK_CHECKS_DB_TYPES cv,',
'        (SELECT decode(database_type,''CDB'',''CONTAINER_DATABASE'',''PDB'',''PLUGGABLE_DATABASE'',database_type) dbname,',
'          DATABASE_TYPE_ID',
'        FROM RCA13_ORACHK_DB_TYPES_MASTER vv',
'        ORDER BY dbname',
'        ) a',
'      WHERE cv.DATABASE_TYPE_ID = a.DATABASE_TYPE_ID',
'      AND check_id              = chk_id',
'      GROUP BY cv.check_id,',
'        dbname',
'      ) ab',
'    GROUP BY CHECK_ID',
'    );',
'  RETURN dbtype_list;',
'END;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4150402096196458)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DB Role List'
,p_sequence=>2250
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION rca13_getdbrolelist(',
'    chk_id IN VARCHAR2)',
'  RETURN VARCHAR2',
'IS',
'  dbrole_list VARCHAR2(4000) := NULL;',
'BEGIN',
'  SELECT dbrole',
'  INTO dbrole_list',
'  FROM',
'    (SELECT check_id,',
'      listagg(dbrole,'', '') within GROUP (',
'    ORDER BY dbrole) dbrole',
'    FROM',
'      (SELECT cv.check_id,',
'        dbrole',
'      FROM RCA13_ORACHK_CHECKS_DB_ROLES cv,',
'        (SELECT DATABASE_ROLE dbrole,',
'          DATABASE_ROLE_ID',
'        FROM RCA13_ORACHK_DB_ROLES_MASTER vv',
'        ORDER BY dbrole',
'        ) a',
'      WHERE cv.DATABASE_ROLE_ID = a.DATABASE_ROLE_ID',
'      AND check_id              = chk_id',
'      GROUP BY cv.check_id,',
'        dbrole',
'      ) ab',
'    GROUP BY CHECK_ID',
'    );',
'  RETURN dbrole_list;',
'END;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4156419626542075)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DB Role List'
,p_sequence=>2250
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION rca13_getdbrolelist(',
'    chk_id IN VARCHAR2)',
'  RETURN VARCHAR2',
'IS',
'  dbrole_list VARCHAR2(4000) := NULL;',
'BEGIN',
'  SELECT dbrole',
'  INTO dbrole_list',
'  FROM',
'    (SELECT check_id,',
'      listagg(dbrole,'', '') within GROUP (',
'    ORDER BY dbrole) dbrole',
'    FROM',
'      (SELECT cv.check_id,',
'        dbrole',
'      FROM RCA13_ORACHK_CHECKS_DB_ROLES cv,',
'        (SELECT DATABASE_ROLE dbrole,',
'          DATABASE_ROLE_ID',
'        FROM RCA13_ORACHK_DB_ROLES_MASTER vv',
'        ORDER BY dbrole',
'        ) a',
'      WHERE cv.DATABASE_ROLE_ID = a.DATABASE_ROLE_ID',
'      AND check_id              = chk_id',
'      GROUP BY cv.check_id,',
'        dbrole',
'      ) ab',
'    GROUP BY CHECK_ID',
'    );',
'  RETURN dbrole_list;',
'END;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4150713178199625)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DB Mode List'
,p_sequence=>2260
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION rca13_getdbmodelist(',
'    chk_id IN VARCHAR2)',
'  RETURN VARCHAR2',
'IS',
'  dbmode_list VARCHAR2(4000) := NULL;',
'BEGIN',
'  SELECT dbmode',
'  INTO dbmode_list',
'  FROM',
'    (SELECT check_id,',
'      listagg(dbmode,'', '') within GROUP (',
'    ORDER BY dbmode) dbmode',
'    FROM',
'      (SELECT cv.check_id,',
'        dbmode',
'      FROM RCA13_ORACHK_CHECKS_DB_MODES cv,',
'        (SELECT DATABASE_MODE dbmode,',
'          DATABASE_MODE_ID',
'        FROM RCA13_ORACHK_DB_MODES_MASTER vv',
'        ORDER BY dbmode',
'        ) a',
'      WHERE cv.DATABASE_MODE_ID = a.DATABASE_MODE_ID',
'      AND check_id              = chk_id',
'      GROUP BY cv.check_id,',
'        dbmode',
'      ) ab',
'    GROUP BY CHECK_ID',
'    );',
'  RETURN dbmode_list;',
'END;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(4156626899544186)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'DB Mode List'
,p_sequence=>2260
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION rca13_getdbmodelist(',
'    chk_id IN VARCHAR2)',
'  RETURN VARCHAR2',
'IS',
'  dbmode_list VARCHAR2(4000) := NULL;',
'BEGIN',
'  SELECT dbmode',
'  INTO dbmode_list',
'  FROM',
'    (SELECT check_id,',
'      listagg(dbmode,'', '') within GROUP (',
'    ORDER BY dbmode) dbmode',
'    FROM',
'      (SELECT cv.check_id,',
'        dbmode',
'      FROM RCA13_ORACHK_CHECKS_DB_MODES cv,',
'        (SELECT DATABASE_MODE dbmode,',
'          DATABASE_MODE_ID',
'        FROM RCA13_ORACHK_DB_MODES_MASTER vv',
'        ORDER BY dbmode',
'        ) a',
'      WHERE cv.DATABASE_MODE_ID = a.DATABASE_MODE_ID',
'      AND check_id              = chk_id',
'      GROUP BY cv.check_id,',
'        dbmode',
'      ) ab',
'    GROUP BY CHECK_ID',
'    );',
'  RETURN dbmode_list;',
'END;',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(84431513006307993)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'blob_to_xmltype'
,p_sequence=>2270
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION blob_to_xmltype (blob_in IN BLOB)',
'RETURN XMLTYPE',
'AS',
'v_clob CLOB;',
'v_varchar VARCHAR2(32767);',
'v_start PLS_INTEGER := 1;',
'v_buffer PLS_INTEGER := 32767;',
'BEGIN',
'DBMS_LOB.CREATETEMPORARY(v_clob, TRUE);',
'',
'FOR i IN 1..CEIL(DBMS_LOB.GETLENGTH(blob_in) / v_buffer)',
'LOOP',
'v_varchar := UTL_RAW.CAST_TO_VARCHAR2(DBMS_LOB.SUBSTR(blob_in, v_buffer, v_start));',
'DBMS_LOB.WRITEAPPEND(v_clob, LENGTH(v_varchar), v_varchar);',
'v_start := v_start + v_buffer;',
'END LOOP;',
'',
'RETURN XMLTYPE(v_clob);',
'END blob_to_xmltype;',
'',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(84431724088311168)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'blob_to_xmltype'
,p_sequence=>2270
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE FUNCTION blob_to_xmltype (blob_in IN BLOB)',
'RETURN XMLTYPE',
'AS',
'v_clob CLOB;',
'v_varchar VARCHAR2(32767);',
'v_start PLS_INTEGER := 1;',
'v_buffer PLS_INTEGER := 32767;',
'BEGIN',
'DBMS_LOB.CREATETEMPORARY(v_clob, TRUE);',
'',
'FOR i IN 1..CEIL(DBMS_LOB.GETLENGTH(blob_in) / v_buffer)',
'LOOP',
'v_varchar := UTL_RAW.CAST_TO_VARCHAR2(DBMS_LOB.SUBSTR(blob_in, v_buffer, v_start));',
'DBMS_LOB.WRITEAPPEND(v_clob, LENGTH(v_varchar), v_varchar);',
'v_start := v_start + v_buffer;',
'END LOOP;',
'',
'RETURN XMLTYPE(v_clob);',
'END blob_to_xmltype;',
'',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(84432003787314716)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'bulkupload'
,p_sequence=>2280
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PROCEDURE bulkupload',
'IS',
'  x XMLType ;',
'   l_lob    NUMBER := 0;',
'BEGIN',
'  SELECT blob_to_xmltype(file_blob)',
'  INTO x',
'  FROM rca13_docs',
'  WHERE doc_id= (select doc_id from (select doc_id from rca13_docs where attr1=''MAP_FILE'' order by uploaded_on desc) where rownum<2);',
'  -- dbms_output.put_line(x);',
'  FOR r IN',
'  (SELECT ExtractValue(Value(p),''/mapping/systems/text()'') AS system ,',
'    ExtractValue(Value(p),''/mapping/businessunit/text()'')  AS lob',
'  FROM TABLE(XMLSequence(Extract(x,''/cm/mapping''))) p',
'  )',
'  LOOP',
'   SELECT COUNT(1) INTO l_lob FROM rca13_lobs WHERE upper(lob_name)=upper(r.lob);',
'    BEGIN',
'      IF l_lob = 0 THEN',
'        INSERT',
'        INTO rca13_lobs',
'          (',
'            lob_id,',
'            lob_name,',
'            created_by,',
'            created',
'          )',
'          VALUES',
'          (',
'            sys_guid(),',
'            r.lob,',
'            ''MAPPING_USER'',',
'            systimestamp',
'          );',
'        COMMIT;',
'      END IF;',
'    EXCEPTION',
'    WHEN dup_val_on_index THEN',
'       raise_application_error(-20001,DBMS_UTILITY.FORMAT_ERROR_STACK || '' '' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);',
'    END;',
'    UPDATE rca13_lob2sys_mapping',
'    SET lob_id =',
'      (SELECT lob_id FROM rca13_lobs WHERE lob_name=upper(r.lob)',
'      )',
'    WHERE system_id =',
'      (SELECT system_id FROM rca13_systems WHERE system_name=r.system',
'      );',
'    -- dbms_output.put_line(r.system);',
'    -- dbms_output.put_line(r.lob);',
'  END LOOP;',
'END;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(84432223526320422)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'bulkupload'
,p_sequence=>2280
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'create or replace PROCEDURE bulkupload',
'IS',
'  x XMLType ;',
'   l_lob    NUMBER := 0;',
'BEGIN',
'  SELECT blob_to_xmltype(file_blob)',
'  INTO x',
'  FROM rca13_docs',
'  WHERE doc_id= (select doc_id from (select doc_id from rca13_docs where attr1=''MAP_FILE'' order by uploaded_on desc) where rownum<2);',
'  -- dbms_output.put_line(x);',
'  FOR r IN',
'  (SELECT ExtractValue(Value(p),''/mapping/systems/text()'') AS system ,',
'    ExtractValue(Value(p),''/mapping/businessunit/text()'')  AS lob',
'  FROM TABLE(XMLSequence(Extract(x,''/cm/mapping''))) p',
'  )',
'  LOOP',
'   SELECT COUNT(1) INTO l_lob FROM rca13_lobs WHERE upper(lob_name)=upper(r.lob);',
'    BEGIN',
'      IF l_lob = 0 THEN',
'        INSERT',
'        INTO rca13_lobs',
'          (',
'            lob_id,',
'            lob_name,',
'            created_by,',
'            created',
'          )',
'          VALUES',
'          (',
'            sys_guid(),',
'            r.lob,',
'            ''MAPPING_USER'',',
'            systimestamp',
'          );',
'        COMMIT;',
'      END IF;',
'    EXCEPTION',
'    WHEN dup_val_on_index THEN',
'       raise_application_error(-20001,DBMS_UTILITY.FORMAT_ERROR_STACK || '' '' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);',
'    END;',
'    UPDATE rca13_lob2sys_mapping',
'    SET lob_id =',
'      (SELECT lob_id FROM rca13_lobs WHERE lob_name=upper(r.lob)',
'      )',
'    WHERE system_id =',
'      (SELECT system_id FROM rca13_systems WHERE system_name=r.system',
'      );',
'    -- dbms_output.put_line(r.system);',
'    -- dbms_output.put_line(r.lob);',
'  END LOOP;',
'END;',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(87032301624683064)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'generate_currentmapping_xml'
,p_sequence=>2290
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE PROCEDURE generate_currentmapping_xml( app_user VARCHAR2)',
'IS',
'  theFile CLOB;',
'',
'  CURSOR cur_map',
'  IS',
'    SELECT upper(b.lob_name) lob_name,',
'      c.system_name system_name',
'    FROM rca13_lob2sys_mapping a,',
'      rca13_lobs b,',
'      rca13_systems c',
'    WHERE a.lob_id  = b.lob_id',
'    AND a.system_id = c.system_id',
'    ORDER BY LOB_NAME,',
'      system_name;',
'      ',
'      begin',
'',
'   theFile := ''<?xml version="1.0" ?> ''||chr(10);',
'  dbms_lob.append(theFile,''<cm>'' || chr(10));',
'   FOR REC IN cur_map',
'  LOOP',
'   dbms_lob.append(theFile,''<mapping>'' || chr(10));',
'   dbms_lob.append(theFile,''<systems>'' || rec.system_name || ''</systems>''||chr(10));',
'   dbms_lob.append(theFile,''<businessunit>'' || rec.lob_name || ''</businessunit>''||chr(10));',
'   dbms_lob.append(theFile,''</mapping>'' || chr(10));',
'END LOOP;',
'dbms_lob.append(theFile,''</cm>''||chr(10));',
'  UPDATE RCA13_DOCS',
'  SET FILENAME=''mapping''',
'    ||parampathseq.nextval',
'    ||''.xml''',
'  WHERE FILENAME=''mapping.xml'';',
'  BEGIN',
'    RCA13_DOCLIB.create_document_from_text(''mapping.xml'',theFile,TO_CHAR(sysdate,''MM/DD/YYYY HH24:MI:SS''),app_user);',
'    COMMIT;',
'  EXCEPTION',
'  WHEN OTHERS THEN',
'    raise_application_error(-20001,DBMS_UTILITY.FORMAT_ERROR_STACK || '' '' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);',
'  END;',
'END generate_currentmapping_xml;',
'',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(87032510282685629)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'generate_currentmapping_xml'
,p_sequence=>2290
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'CREATE OR REPLACE PROCEDURE generate_currentmapping_xml( app_user VARCHAR2)',
'IS',
'  theFile CLOB;',
'',
'  CURSOR cur_map',
'  IS',
'    SELECT upper(b.lob_name) lob_name,',
'      c.system_name system_name',
'    FROM rca13_lob2sys_mapping a,',
'      rca13_lobs b,',
'      rca13_systems c',
'    WHERE a.lob_id  = b.lob_id',
'    AND a.system_id = c.system_id',
'    ORDER BY LOB_NAME,',
'      system_name;',
'      ',
'      begin',
'',
'   theFile := ''<?xml version="1.0" ?> ''||chr(10);',
'  dbms_lob.append(theFile,''<cm>'' || chr(10));',
'   FOR REC IN cur_map',
'  LOOP',
'   dbms_lob.append(theFile,''<mapping>'' || chr(10));',
'   dbms_lob.append(theFile,''<systems>'' || rec.system_name || ''</systems>''||chr(10));',
'   dbms_lob.append(theFile,''<businessunit>'' || rec.lob_name || ''</businessunit>''||chr(10));',
'   dbms_lob.append(theFile,''</mapping>'' || chr(10));',
'END LOOP;',
'dbms_lob.append(theFile,''</cm>''||chr(10));',
'  UPDATE RCA13_DOCS',
'  SET FILENAME=''mapping''',
'    ||parampathseq.nextval',
'    ||''.xml''',
'  WHERE FILENAME=''mapping.xml'';',
'  BEGIN',
'    RCA13_DOCLIB.create_document_from_text(''mapping.xml'',theFile,TO_CHAR(sysdate,''MM/DD/YYYY HH24:MI:SS''),app_user);',
'    COMMIT;',
'  EXCEPTION',
'  WHEN OTHERS THEN',
'    raise_application_error(-20001,DBMS_UTILITY.FORMAT_ERROR_STACK || '' '' || DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);',
'  END;',
'END generate_currentmapping_xml;',
'',
'/'))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(94419328985008577)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'Purge Job'
,p_sequence=>2300
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'cnt number;',
'l_job_running number;',
'begin',
'for rec in ( select build_id bid from rca13_release_info order by build_id asc ) loop',
'  -- Upgrade app version by version',
'  if rec.bid = 20160516000000 then',
'   select count(1) into cnt from user_scheduler_jobs where job_name = ''RCA13_PURGE_JOB'';',
'   if cnt = 0 then',
'   DBMS_SCHEDULER.CREATE_JOB (',
'   job_name           =>  ''RCA13_PURGE_JOB'',',
'   job_type           =>  ''PLSQL_BLOCK'',',
'   job_action         =>  ''BEGIN RCA13_MANAGE_COLLECTIONS.purgeData(dat => systimestamp); END;'',',
'   start_date         =>   systimestamp,',
'   repeat_interval    =>  ''freq=monthly; interval=3; byminute=0; bysecond=0;'', /*For every 3 months default */',
'   end_date           =>   NULL,',
'   enabled            =>   TRUE,',
'   auto_drop          =>   FALSE,',
'   comments           =>  ''ORAchk App: Purge Job '');',
'   end if;',
'  end if;',
'  if rec.bid = 20160831000000 then',
'   select count(*) into l_job_running',
'     from user_scheduler_running_jobs',
'    where job_name = ''RCA13_PURGE_JOB'';',
'   if (l_job_running = 1) then   ',
'      begin',
'      dbms_scheduler.stop_job(''RCA13_PURGE_JOB'');',
'      exception when others then ',
'        null;',
'      end;',
'    end if;',
'    if(cnt = 1 ) then',
'      begin',
'      dbms_scheduler.drop_job(''RCA13_PURGE_JOB'');',
'       exception when others then ',
'       null;',
'      end;',
'    end if;',
'     begin',
'    DBMS_SCHEDULER.CREATE_JOB (',
'     job_name           => ''RCA13_PURGE_JOB'',',
'     job_type           => ''PLSQL_BLOCK'',',
'      job_action         => ''BEGIN RCA13_MANAGE_COLLECTIONS.purgeData(dat => systimestamp - 90); END;'', -- clean data on every day basis',
'     start_date         =>  systimestamp,     ',
'     repeat_interval    => ''freq=daily; interval=1; byminute=0; bysecond=0;'', /*daily job to preserve only the recent <interval> data in the database */',
'     end_date           =>   NULL,',
'     enabled            =>   TRUE,',
'     auto_drop          =>   FALSE,',
'     comments           =>  ''Purge Data Older than the specified interval'');',
'     DBMS_SCHEDULER.enable (''RCA13_PURGE_JOB'');',
'     exception when others then ',
'     null;',
'          end;',
'      end if;',
' end loop;',
'end;',
'/ ',
'',
'',
'',
' ',
''))
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(6817102111496136)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'CM_Upgrade_Mode_Off'
,p_sequence=>5000
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'-- Always this should get executed at last. ',
'BEGIN',
'  UPDATE RCA13_INTRACK_PREFERENCES SET PREFERENCE_VALUE=''N'' WHERE PREFERENCE_NAME=''CM_UPGRADE_MODE'';',
'  COMMIT;',
'EXCEPTION',
'WHEN OTHERS THEN',
'  NULL;',
'END;'))
);
end;
/
prompt --application/deployment/checks
begin
wwv_flow_api.create_install_check(
 p_id=>wwv_flow_api.id(308623662582918053)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'grant EXECUTE ON DBMS_RLS privilege to Workspace owner'
,p_sequence=>10
,p_check_type=>'EXISTS'
,p_check_condition=>'select 1 from user_tab_privs where table_name=''DBMS_RLS'' and privilege=''EXECUTE'''
,p_failure_message=>'warning : if you want security & access control system , please grant execute permissions on  DBMS_RLS object.  '
);
wwv_flow_api.create_install_check(
 p_id=>wwv_flow_api.id(308623752501962433)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'grant CREATE JOB privilege to Workspace owner'
,p_sequence=>20
,p_check_type=>'EXISTS'
,p_check_condition=>'select 1 from user_sys_privs where privilege=''CREATE JOB'''
,p_failure_message=>'Error:  Please grant create job privilege to user.'
);
wwv_flow_api.create_install_check(
 p_id=>wwv_flow_api.id(310998768459197797)
,p_install_id=>wwv_flow_api.id(312076050320014004)
,p_name=>'grant  EXECUTE ON UTL_SMTP privilege to Workspace owner'
,p_sequence=>30
,p_check_type=>'EXISTS'
,p_check_condition=>wwv_flow_utilities.join(wwv_flow_t_varchar2(
'select 1 from dual',
''))
,p_failure_message=>wwv_flow_utilities.join(wwv_flow_t_varchar2(
'Note: Please grant EXECUTE ON UTL_SMTP privilege to workspace owner to use Email Notification System.',
'Installation will proceed further without UTL_SMTP privilege but in installation summary you may see error (Package EMAIL created with compilation error)',
'',
' ',
'',
''))
);
end;
/
prompt --application/deployment/buildoptions
begin
null;
end;
/
prompt --application/end_environment
begin
wwv_flow_api.import_end(p_auto_install_sup_obj => nvl(wwv_flow_application_install.get_auto_install_sup_obj, false));
commit;
end;
/
set verify on feedback on define on
prompt  ...done
